{"uid":"c958c8b8776e5719","name":"test_scenarios[file:features/2_mindwm_crd_resources.feature-MindWM Custom kubernetes resources-Delete Resources and Verify Cleanup]","fullName":"features.2_mindwm_crd_resources#test_scenarios","historyId":"04a005334a7b280948cc696e0218ddcf","time":{"start":1726855271677,"stop":1726855434478,"duration":162801},"status":"broken","statusMessage":"kubernetes.client.exceptions.ApiException: (404)\nReason: Not Found\nHTTP response headers: HTTPHeaderDict({'Audit-Id': '5893e39b-cfd8-43cd-89e2-231e02a474bd', 'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': '505e8d74-9829-45c8-a0ed-d06538db1c07', 'X-Kubernetes-Pf-Prioritylevel-Uid': '7b29bff8-9bde-4b08-8225-5b561a0d5ba3', 'Date': 'Fri, 20 Sep 2024 18:03:54 GMT', 'Content-Length': '214'})\nHTTP response body: {\"kind\":\"Status\",\"apiVersion\":\"v1\",\"metadata\":{},\"status\":\"Failure\",\"message\":\"contexts.mindwm.io \\\"cyan\\\" not found\",\"reason\":\"NotFound\",\"details\":{\"name\":\"cyan\",\"group\":\"mindwm.io\",\"kind\":\"contexts\"},\"code\":404}","statusTrace":"self = <pytest_bdd.runner.ScenarioRunner object at 0x78f37a384f20>\nitem = <Function test_scenarios[file:features/2_mindwm_crd_resources.feature-MindWM Custom kubernetes resources-Delete Resources and Verify Cleanup]>\n\n    def pytest_runtest_call(self, item: Item):\n        if \"pytest_bdd_scenario\" in list(map(attrgetter(\"name\"), item.iter_markers())):\n            self.request = item._request\n            self.feature = self.request.getfixturevalue(\"feature\")\n            self.scenario = self.request.getfixturevalue(\"scenario\")\n            self.plugin_manager = self.request.config.hook\n            self.plugin_manager.pytest_bdd_before_scenario(\n                request=self.request, feature=self.feature, scenario=self.scenario\n            )\n            try:\n>               self.plugin_manager.pytest_bdd_run_scenario(\n                    request=self.request,\n                    feature=self.feature,\n                    scenario=self.scenario,\n                )\n\n.venv/lib/python3.12/site-packages/pytest_bdd/runner.py:37: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/pytest_bdd/runner.py:59: in pytest_bdd_run_scenario\n    return step_dispatcher(steps)\n.venv/lib/python3.12/site-packages/pytest_bdd/runner.py:69: in dispatcher\n    self.plugin_manager.pytest_bdd_run_step(\n.venv/lib/python3.12/site-packages/pytest_bdd/runner.py:128: in pytest_bdd_run_step\n    step_result = step_caller()\nconftest.py:154: in mindwm_context_deleted\n    context= mindwm_crd.context_get(kube, context_name)\nmindwm_crd.py:52: in context_get\n    resource = api_instance.get_namespaced_custom_object(\n.venv/lib/python3.12/site-packages/kubernetes/client/api/custom_objects_api.py:1627: in get_namespaced_custom_object\n    return self.get_namespaced_custom_object_with_http_info(group, version, namespace, plural, name, **kwargs)  # noqa: E501\n.venv/lib/python3.12/site-packages/kubernetes/client/api/custom_objects_api.py:1734: in get_namespaced_custom_object_with_http_info\n    return self.api_client.call_api(\n.venv/lib/python3.12/site-packages/kubernetes/client/api_client.py:348: in call_api\n    return self.__call_api(resource_path, method,\n.venv/lib/python3.12/site-packages/kubernetes/client/api_client.py:180: in __call_api\n    response_data = self.request(\n.venv/lib/python3.12/site-packages/kubernetes/client/api_client.py:373: in request\n    return self.rest_client.GET(url,\n.venv/lib/python3.12/site-packages/kubernetes/client/rest.py:244: in GET\n    return self.request(\"GET\", url,\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <kubernetes.client.rest.RESTClientObject object at 0x78f3795ccd70>\nmethod = 'GET'\nurl = 'https://127.0.0.1:6443/apis/mindwm.io/v1beta1/namespaces/default/contexts/cyan'\nquery_params = []\nheaders = {'Accept': 'application/json', 'Content-Type': 'application/json', 'User-Agent': 'OpenAPI-Generator/30.1.0/python'}\nbody = None, post_params = {}, _preload_content = True, _request_timeout = None\n\n    def request(self, method, url, query_params=None, headers=None,\n                body=None, post_params=None, _preload_content=True,\n                _request_timeout=None):\n        \"\"\"Perform requests.\n    \n        :param method: http request method\n        :param url: http request url\n        :param query_params: query parameters in the url\n        :param headers: http request headers\n        :param body: request json body, for `application/json`\n        :param post_params: request post parameters,\n                            `application/x-www-form-urlencoded`\n                            and `multipart/form-data`\n        :param _preload_content: if False, the urllib3.HTTPResponse object will\n                                 be returned without reading/decoding response\n                                 data. Default is True.\n        :param _request_timeout: timeout setting for this request. If one\n                                 number provided, it will be total request\n                                 timeout. It can also be a pair (tuple) of\n                                 (connection, read) timeouts.\n        \"\"\"\n        method = method.upper()\n        assert method in ['GET', 'HEAD', 'DELETE', 'POST', 'PUT',\n                          'PATCH', 'OPTIONS']\n    \n        if post_params and body:\n            raise ApiValueError(\n                \"body parameter cannot be used with post_params parameter.\"\n            )\n    \n        post_params = post_params or {}\n        headers = headers or {}\n    \n        timeout = None\n        if _request_timeout:\n            if isinstance(_request_timeout, (int, ) if six.PY3 else (int, long)):  # noqa: E501,F821\n                timeout = urllib3.Timeout(total=_request_timeout)\n            elif (isinstance(_request_timeout, tuple) and\n                  len(_request_timeout) == 2):\n                timeout = urllib3.Timeout(\n                    connect=_request_timeout[0], read=_request_timeout[1])\n    \n        if 'Content-Type' not in headers:\n            headers['Content-Type'] = 'application/json'\n    \n        try:\n            # For `POST`, `PUT`, `PATCH`, `OPTIONS`, `DELETE`\n            if method in ['POST', 'PUT', 'PATCH', 'OPTIONS', 'DELETE']:\n                if query_params:\n                    url += '?' + urlencode(query_params)\n                if (re.search('json', headers['Content-Type'], re.IGNORECASE) or\n                        headers['Content-Type'] == 'application/apply-patch+yaml'):\n                    if headers['Content-Type'] == 'application/json-patch+json':\n                        if not isinstance(body, list):\n                            headers['Content-Type'] = \\\n                                'application/strategic-merge-patch+json'\n                    request_body = None\n                    if body is not None:\n                        request_body = json.dumps(body)\n                    r = self.pool_manager.request(\n                        method, url,\n                        body=request_body,\n                        preload_content=_preload_content,\n                        timeout=timeout,\n                        headers=headers)\n                elif headers['Content-Type'] == 'application/x-www-form-urlencoded':  # noqa: E501\n                    r = self.pool_manager.request(\n                        method, url,\n                        fields=post_params,\n                        encode_multipart=False,\n                        preload_content=_preload_content,\n                        timeout=timeout,\n                        headers=headers)\n                elif headers['Content-Type'] == 'multipart/form-data':\n                    # must del headers['Content-Type'], or the correct\n                    # Content-Type which generated by urllib3 will be\n                    # overwritten.\n                    del headers['Content-Type']\n                    r = self.pool_manager.request(\n                        method, url,\n                        fields=post_params,\n                        encode_multipart=True,\n                        preload_content=_preload_content,\n                        timeout=timeout,\n                        headers=headers)\n                # Pass a `string` parameter directly in the body to support\n                # other content types than Json when `body` argument is\n                # provided in serialized form\n                elif isinstance(body, str) or isinstance(body, bytes):\n                    request_body = body\n                    r = self.pool_manager.request(\n                        method, url,\n                        body=request_body,\n                        preload_content=_preload_content,\n                        timeout=timeout,\n                        headers=headers)\n                else:\n                    # Cannot generate the request from given parameters\n                    msg = \"\"\"Cannot prepare a request message for provided\n                             arguments. Please check that your arguments match\n                             declared content type.\"\"\"\n                    raise ApiException(status=0, reason=msg)\n            # For `GET`, `HEAD`\n            else:\n                r = self.pool_manager.request(method, url,\n                                              fields=query_params,\n                                              preload_content=_preload_content,\n                                              timeout=timeout,\n                                              headers=headers)\n        except urllib3.exceptions.SSLError as e:\n            msg = \"{0}\\n{1}\".format(type(e).__name__, str(e))\n            raise ApiException(status=0, reason=msg)\n    \n        if _preload_content:\n            r = RESTResponse(r)\n    \n            # In the python 3, the response.data is bytes.\n            # we need to decode it to string.\n            if six.PY3:\n                r.data = r.data.decode('utf8')\n    \n            # log response body\n            logger.debug(\"response body: %s\", r.data)\n    \n        if not 200 <= r.status <= 299:\n>           raise ApiException(http_resp=r)\nE           kubernetes.client.exceptions.ApiException: (404)\nE           Reason: Not Found\nE           HTTP response headers: HTTPHeaderDict({'Audit-Id': '5893e39b-cfd8-43cd-89e2-231e02a474bd', 'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': '505e8d74-9829-45c8-a0ed-d06538db1c07', 'X-Kubernetes-Pf-Prioritylevel-Uid': '7b29bff8-9bde-4b08-8225-5b561a0d5ba3', 'Date': 'Fri, 20 Sep 2024 18:03:54 GMT', 'Content-Length': '214'})\nE           HTTP response body: {\"kind\":\"Status\",\"apiVersion\":\"v1\",\"metadata\":{},\"status\":\"Failure\",\"message\":\"contexts.mindwm.io \\\"cyan\\\" not found\",\"reason\":\"NotFound\",\"details\":{\"name\":\"cyan\",\"group\":\"mindwm.io\",\"kind\":\"contexts\"},\"code\":404}\n\n.venv/lib/python3.12/site-packages/kubernetes/client/rest.py:238: ApiException","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"pytestconfig","time":{"start":1726854228909,"stop":1726854228909,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"step_registry","time":{"start":1726855271677,"stop":1726855271677,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"steps_left","time":{"start":1726855271677,"stop":1726855271677,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"step_registry","time":{"start":1726855271677,"stop":1726855271677,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"parameter_type_registry","time":{"start":1726855271677,"stop":1726855271677,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"step_matcher","time":{"start":1726855271677,"stop":1726855271677,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"kube","time":{"start":1726855271679,"stop":1726855271682,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"kubecontext","time":{"start":1726855271679,"stop":1726855271679,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"kubeconfig","time":{"start":1726855271679,"stop":1726855271679,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"testStage":{"status":"broken","statusMessage":"kubernetes.client.exceptions.ApiException: (404)\nReason: Not Found\nHTTP response headers: HTTPHeaderDict({'Audit-Id': '5893e39b-cfd8-43cd-89e2-231e02a474bd', 'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': '505e8d74-9829-45c8-a0ed-d06538db1c07', 'X-Kubernetes-Pf-Prioritylevel-Uid': '7b29bff8-9bde-4b08-8225-5b561a0d5ba3', 'Date': 'Fri, 20 Sep 2024 18:03:54 GMT', 'Content-Length': '214'})\nHTTP response body: {\"kind\":\"Status\",\"apiVersion\":\"v1\",\"metadata\":{},\"status\":\"Failure\",\"message\":\"contexts.mindwm.io \\\"cyan\\\" not found\",\"reason\":\"NotFound\",\"details\":{\"name\":\"cyan\",\"group\":\"mindwm.io\",\"kind\":\"contexts\"},\"code\":404}","statusTrace":"self = <pytest_bdd.runner.ScenarioRunner object at 0x78f37a384f20>\nitem = <Function test_scenarios[file:features/2_mindwm_crd_resources.feature-MindWM Custom kubernetes resources-Delete Resources and Verify Cleanup]>\n\n    def pytest_runtest_call(self, item: Item):\n        if \"pytest_bdd_scenario\" in list(map(attrgetter(\"name\"), item.iter_markers())):\n            self.request = item._request\n            self.feature = self.request.getfixturevalue(\"feature\")\n            self.scenario = self.request.getfixturevalue(\"scenario\")\n            self.plugin_manager = self.request.config.hook\n            self.plugin_manager.pytest_bdd_before_scenario(\n                request=self.request, feature=self.feature, scenario=self.scenario\n            )\n            try:\n>               self.plugin_manager.pytest_bdd_run_scenario(\n                    request=self.request,\n                    feature=self.feature,\n                    scenario=self.scenario,\n                )\n\n.venv/lib/python3.12/site-packages/pytest_bdd/runner.py:37: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/pytest_bdd/runner.py:59: in pytest_bdd_run_scenario\n    return step_dispatcher(steps)\n.venv/lib/python3.12/site-packages/pytest_bdd/runner.py:69: in dispatcher\n    self.plugin_manager.pytest_bdd_run_step(\n.venv/lib/python3.12/site-packages/pytest_bdd/runner.py:128: in pytest_bdd_run_step\n    step_result = step_caller()\nconftest.py:154: in mindwm_context_deleted\n    context= mindwm_crd.context_get(kube, context_name)\nmindwm_crd.py:52: in context_get\n    resource = api_instance.get_namespaced_custom_object(\n.venv/lib/python3.12/site-packages/kubernetes/client/api/custom_objects_api.py:1627: in get_namespaced_custom_object\n    return self.get_namespaced_custom_object_with_http_info(group, version, namespace, plural, name, **kwargs)  # noqa: E501\n.venv/lib/python3.12/site-packages/kubernetes/client/api/custom_objects_api.py:1734: in get_namespaced_custom_object_with_http_info\n    return self.api_client.call_api(\n.venv/lib/python3.12/site-packages/kubernetes/client/api_client.py:348: in call_api\n    return self.__call_api(resource_path, method,\n.venv/lib/python3.12/site-packages/kubernetes/client/api_client.py:180: in __call_api\n    response_data = self.request(\n.venv/lib/python3.12/site-packages/kubernetes/client/api_client.py:373: in request\n    return self.rest_client.GET(url,\n.venv/lib/python3.12/site-packages/kubernetes/client/rest.py:244: in GET\n    return self.request(\"GET\", url,\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <kubernetes.client.rest.RESTClientObject object at 0x78f3795ccd70>\nmethod = 'GET'\nurl = 'https://127.0.0.1:6443/apis/mindwm.io/v1beta1/namespaces/default/contexts/cyan'\nquery_params = []\nheaders = {'Accept': 'application/json', 'Content-Type': 'application/json', 'User-Agent': 'OpenAPI-Generator/30.1.0/python'}\nbody = None, post_params = {}, _preload_content = True, _request_timeout = None\n\n    def request(self, method, url, query_params=None, headers=None,\n                body=None, post_params=None, _preload_content=True,\n                _request_timeout=None):\n        \"\"\"Perform requests.\n    \n        :param method: http request method\n        :param url: http request url\n        :param query_params: query parameters in the url\n        :param headers: http request headers\n        :param body: request json body, for `application/json`\n        :param post_params: request post parameters,\n                            `application/x-www-form-urlencoded`\n                            and `multipart/form-data`\n        :param _preload_content: if False, the urllib3.HTTPResponse object will\n                                 be returned without reading/decoding response\n                                 data. Default is True.\n        :param _request_timeout: timeout setting for this request. If one\n                                 number provided, it will be total request\n                                 timeout. It can also be a pair (tuple) of\n                                 (connection, read) timeouts.\n        \"\"\"\n        method = method.upper()\n        assert method in ['GET', 'HEAD', 'DELETE', 'POST', 'PUT',\n                          'PATCH', 'OPTIONS']\n    \n        if post_params and body:\n            raise ApiValueError(\n                \"body parameter cannot be used with post_params parameter.\"\n            )\n    \n        post_params = post_params or {}\n        headers = headers or {}\n    \n        timeout = None\n        if _request_timeout:\n            if isinstance(_request_timeout, (int, ) if six.PY3 else (int, long)):  # noqa: E501,F821\n                timeout = urllib3.Timeout(total=_request_timeout)\n            elif (isinstance(_request_timeout, tuple) and\n                  len(_request_timeout) == 2):\n                timeout = urllib3.Timeout(\n                    connect=_request_timeout[0], read=_request_timeout[1])\n    \n        if 'Content-Type' not in headers:\n            headers['Content-Type'] = 'application/json'\n    \n        try:\n            # For `POST`, `PUT`, `PATCH`, `OPTIONS`, `DELETE`\n            if method in ['POST', 'PUT', 'PATCH', 'OPTIONS', 'DELETE']:\n                if query_params:\n                    url += '?' + urlencode(query_params)\n                if (re.search('json', headers['Content-Type'], re.IGNORECASE) or\n                        headers['Content-Type'] == 'application/apply-patch+yaml'):\n                    if headers['Content-Type'] == 'application/json-patch+json':\n                        if not isinstance(body, list):\n                            headers['Content-Type'] = \\\n                                'application/strategic-merge-patch+json'\n                    request_body = None\n                    if body is not None:\n                        request_body = json.dumps(body)\n                    r = self.pool_manager.request(\n                        method, url,\n                        body=request_body,\n                        preload_content=_preload_content,\n                        timeout=timeout,\n                        headers=headers)\n                elif headers['Content-Type'] == 'application/x-www-form-urlencoded':  # noqa: E501\n                    r = self.pool_manager.request(\n                        method, url,\n                        fields=post_params,\n                        encode_multipart=False,\n                        preload_content=_preload_content,\n                        timeout=timeout,\n                        headers=headers)\n                elif headers['Content-Type'] == 'multipart/form-data':\n                    # must del headers['Content-Type'], or the correct\n                    # Content-Type which generated by urllib3 will be\n                    # overwritten.\n                    del headers['Content-Type']\n                    r = self.pool_manager.request(\n                        method, url,\n                        fields=post_params,\n                        encode_multipart=True,\n                        preload_content=_preload_content,\n                        timeout=timeout,\n                        headers=headers)\n                # Pass a `string` parameter directly in the body to support\n                # other content types than Json when `body` argument is\n                # provided in serialized form\n                elif isinstance(body, str) or isinstance(body, bytes):\n                    request_body = body\n                    r = self.pool_manager.request(\n                        method, url,\n                        body=request_body,\n                        preload_content=_preload_content,\n                        timeout=timeout,\n                        headers=headers)\n                else:\n                    # Cannot generate the request from given parameters\n                    msg = \"\"\"Cannot prepare a request message for provided\n                             arguments. Please check that your arguments match\n                             declared content type.\"\"\"\n                    raise ApiException(status=0, reason=msg)\n            # For `GET`, `HEAD`\n            else:\n                r = self.pool_manager.request(method, url,\n                                              fields=query_params,\n                                              preload_content=_preload_content,\n                                              timeout=timeout,\n                                              headers=headers)\n        except urllib3.exceptions.SSLError as e:\n            msg = \"{0}\\n{1}\".format(type(e).__name__, str(e))\n            raise ApiException(status=0, reason=msg)\n    \n        if _preload_content:\n            r = RESTResponse(r)\n    \n            # In the python 3, the response.data is bytes.\n            # we need to decode it to string.\n            if six.PY3:\n                r.data = r.data.decode('utf8')\n    \n            # log response body\n            logger.debug(\"response body: %s\", r.data)\n    \n        if not 200 <= r.status <= 299:\n>           raise ApiException(http_resp=r)\nE           kubernetes.client.exceptions.ApiException: (404)\nE           Reason: Not Found\nE           HTTP response headers: HTTPHeaderDict({'Audit-Id': '5893e39b-cfd8-43cd-89e2-231e02a474bd', 'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'X-Kubernetes-Pf-Flowschema-Uid': '505e8d74-9829-45c8-a0ed-d06538db1c07', 'X-Kubernetes-Pf-Prioritylevel-Uid': '7b29bff8-9bde-4b08-8225-5b561a0d5ba3', 'Date': 'Fri, 20 Sep 2024 18:03:54 GMT', 'Content-Length': '214'})\nE           HTTP response body: {\"kind\":\"Status\",\"apiVersion\":\"v1\",\"metadata\":{},\"status\":\"Failure\",\"message\":\"contexts.mindwm.io \\\"cyan\\\" not found\",\"reason\":\"NotFound\",\"details\":{\"name\":\"cyan\",\"group\":\"mindwm.io\",\"kind\":\"contexts\"},\"code\":404}\n\n.venv/lib/python3.12/site-packages/kubernetes/client/rest.py:238: ApiException","steps":[{"name":"Mindwm crd 'xcontexts' is exists","time":{"start":1726855271691,"stop":1726855271691,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Mindwm crd 'xhosts' is exists","time":{"start":1726855271697,"stop":1726855271697,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Mindwm crd 'xusers' is exists","time":{"start":1726855271704,"stop":1726855271704,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Kubernetes node 'localhost' is True","time":{"start":1726855271723,"stop":1726855271724,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Namespace 'user-bob' deleted","time":{"start":1726855434450,"stop":1726855434450,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":5,"attachmentsCount":0,"hasContent":true},"afterStages":[],"labels":[{"name":"tag","value":"scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/2_mindwm_crd_resources.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=None, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())"},{"name":"tag","value":"@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')"},{"name":"tag","value":"pytest_bdd_scenario"},{"name":"tag","value":"crd_resources"},{"name":"tag","value":"namespace(create=False, name='default')"},{"name":"parentSuite","value":"features"},{"name":"suite","value":"2_mindwm_crd_resources"},{"name":"host","value":"localhost"},{"name":"thread","value":"4139-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"features.2_mindwm_crd_resources"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"feature","value":"Feature(gherkin_document=GherkinDocument(uri='file:features/2_mindwm_crd_resources.feature', feature=Feature(location=Location(line=2, column=1), tags=[Tag(location=Location(line=1, column=1), name='@crd_resources', id='146')], language='en', keyword='Feature', name='MindWM Custom kubernetes resources', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='88'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='89')], id='90'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Create Context and check k8s resources', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"cyan\"', doc_string=None, data_table=None, id='91'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='92'), Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-cyan\" should exists', doc_string=None, data_table=None, id='93'), Step(location=Location(line=12, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='helm release \"cyan-neo4j\" is deployed in \"context-cyan\" namespace', doc_string=None, data_table=None, id='94'), Step(location=Location(line=13, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"cyan-neo4j\" in namespace \"context-cyan\" is in ready state', doc_string=None, data_table=None, id='95'), Step(location=Location(line=14, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative service is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=15, column=7), rows=[TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='Knative service name')], id='96'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='dead-letter')], id='97'), TableRow(location=Location(line=17, column=7), cells=[TableCell(location=Location(line=17, column=9), value='iocontext')], id='98'), TableRow(location=Location(line=18, column=7), cells=[TableCell(location=Location(line=18, column=9), value='kafka-cdc')], id='99'), TableRow(location=Location(line=19, column=7), cells=[TableCell(location=Location(line=19, column=9), value='pong')], id='100')]), id='101'), Step(location=Location(line=20, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative triggers is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=21, column=7), rows=[TableRow(location=Location(line=21, column=7), cells=[TableCell(location=Location(line=21, column=9), value='Knative trigger name')], id='102'), TableRow(location=Location(line=22, column=7), cells=[TableCell(location=Location(line=22, column=9), value='iocontext-trigger')], id='103'), TableRow(location=Location(line=23, column=7), cells=[TableCell(location=Location(line=23, column=9), value='kafka-cdc-trigger')], id='104'), TableRow(location=Location(line=24, column=7), cells=[TableCell(location=Location(line=24, column=9), value='pong-trigger')], id='105')]), id='106'), Step(location=Location(line=25, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative brokers is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=26, column=7), rows=[TableRow(location=Location(line=26, column=7), cells=[TableCell(location=Location(line=26, column=9), value='Knative broker name')], id='107'), TableRow(location=Location(line=27, column=7), cells=[TableCell(location=Location(line=27, column=9), value='context-broker')], id='108')]), id='109'), Step(location=Location(line=28, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka topic \"context-cyan-cdc\" is in ready state in \"redpanda\" namespace', doc_string=None, data_table=None, id='110'), Step(location=Location(line=29, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka source \"context-cyan-cdc-kafkasource\" is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=None, id='111')], examples=[], id='112')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=31, column=3), tags=[], keyword='Scenario', name='Create User and check k8s resources', description='', steps=[Step(location=Location(line=32, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"bob\" and connects it to the context \"cyan\"', doc_string=None, data_table=None, id='113'), Step(location=Location(line=33, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='114'), Step(location=Location(line=34, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"user-bob\" should exists', doc_string=None, data_table=None, id='115'), Step(location=Location(line=35, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative brokers is in ready state in \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=36, column=7), rows=[TableRow(location=Location(line=36, column=7), cells=[TableCell(location=Location(line=36, column=9), value='Knative broker name')], id='116'), TableRow(location=Location(line=37, column=7), cells=[TableCell(location=Location(line=37, column=9), value='user-broker')], id='117')]), id='118'), Step(location=Location(line=38, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative triggers is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=39, column=7), rows=[TableRow(location=Location(line=39, column=7), cells=[TableCell(location=Location(line=39, column=9), value='Knative trigger name')], id='119'), TableRow(location=Location(line=40, column=7), cells=[TableCell(location=Location(line=40, column=9), value='context-cyan-to-user-bob')], id='120')]), id='121'), Step(location=Location(line=41, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative triggers is in ready state in \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=42, column=7), rows=[TableRow(location=Location(line=42, column=7), cells=[TableCell(location=Location(line=42, column=9), value='Knative trigger name')], id='122'), TableRow(location=Location(line=43, column=7), cells=[TableCell(location=Location(line=43, column=9), value='user-bob-to-context-cyan')], id='123')]), id='124')], examples=[], id='125')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=45, column=3), tags=[], keyword='Scenario', name='Create Host and check k8s resources', description='', steps=[Step(location=Location(line=46, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"workstation\" and connects it to the user \"bob\"', doc_string=None, data_table=None, id='126'), Step(location=Location(line=47, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='127'), Step(location=Location(line=48, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"workstation-host-broker-kne-trigger\" is ready in \"user-bob\" namespace', doc_string=None, data_table=None, id='128'), Step(location=Location(line=49, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative triggers is in ready state in \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=50, column=7), rows=[TableRow(location=Location(line=50, column=7), cells=[TableCell(location=Location(line=50, column=9), value='Knative trigger name')], id='129'), TableRow(location=Location(line=51, column=7), cells=[TableCell(location=Location(line=51, column=9), value='user-bob-to-context-cyan')], id='130'), TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='user-broker-to-workstation-broker-trigger')], id='131')]), id='132'), Step(location=Location(line=53, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative brokers is in ready state in \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=54, column=7), rows=[TableRow(location=Location(line=54, column=7), cells=[TableCell(location=Location(line=54, column=9), value='Knative broker name')], id='133'), TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='workstation-host-broker')], id='134')]), id='135')], examples=[], id='136')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=59, column=3), tags=[], keyword='Scenario', name='Delete Resources and Verify Cleanup', description='', steps=[Step(location=Location(line=61, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"workstation\"', doc_string=None, data_table=None, id='137'), Step(location=Location(line=62, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"workstation\" should be deleted', doc_string=None, data_table=None, id='138'), Step(location=Location(line=64, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"bob\"', doc_string=None, data_table=None, id='139'), Step(location=Location(line=65, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"bob\" should be deleted', doc_string=None, data_table=None, id='140'), Step(location=Location(line=66, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"user-bob\" should not exists', doc_string=None, data_table=None, id='141'), Step(location=Location(line=68, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"cyan\"', doc_string=None, data_table=None, id='142'), Step(location=Location(line=69, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"cyan\" should be deleted', doc_string=None, data_table=None, id='143'), Step(location=Location(line=70, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-cyan\" should not exists', doc_string=None, data_table=None, id='144')], examples=[], id='145'))]), comments=[]), uri='file:features/2_mindwm_crd_resources.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/2_mindwm_crd_resources.feature', registry={'146': Tag(location=Location(line=1, column=1), name='@crd_resources', id='146'), '90': Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='88'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='89')], id='90'), '88': Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='88'), '89': Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='89'), '112': Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Create Context and check k8s resources', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"cyan\"', doc_string=None, data_table=None, id='91'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='92'), Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-cyan\" should exists', doc_string=None, data_table=None, id='93'), Step(location=Location(line=12, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='helm release \"cyan-neo4j\" is deployed in \"context-cyan\" namespace', doc_string=None, data_table=None, id='94'), Step(location=Location(line=13, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"cyan-neo4j\" in namespace \"context-cyan\" is in ready state', doc_string=None, data_table=None, id='95'), Step(location=Location(line=14, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative service is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=15, column=7), rows=[TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='Knative service name')], id='96'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='dead-letter')], id='97'), TableRow(location=Location(line=17, column=7), cells=[TableCell(location=Location(line=17, column=9), value='iocontext')], id='98'), TableRow(location=Location(line=18, column=7), cells=[TableCell(location=Location(line=18, column=9), value='kafka-cdc')], id='99'), TableRow(location=Location(line=19, column=7), cells=[TableCell(location=Location(line=19, column=9), value='pong')], id='100')]), id='101'), Step(location=Location(line=20, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative triggers is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=21, column=7), rows=[TableRow(location=Location(line=21, column=7), cells=[TableCell(location=Location(line=21, column=9), value='Knative trigger name')], id='102'), TableRow(location=Location(line=22, column=7), cells=[TableCell(location=Location(line=22, column=9), value='iocontext-trigger')], id='103'), TableRow(location=Location(line=23, column=7), cells=[TableCell(location=Location(line=23, column=9), value='kafka-cdc-trigger')], id='104'), TableRow(location=Location(line=24, column=7), cells=[TableCell(location=Location(line=24, column=9), value='pong-trigger')], id='105')]), id='106'), Step(location=Location(line=25, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative brokers is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=26, column=7), rows=[TableRow(location=Location(line=26, column=7), cells=[TableCell(location=Location(line=26, column=9), value='Knative broker name')], id='107'), TableRow(location=Location(line=27, column=7), cells=[TableCell(location=Location(line=27, column=9), value='context-broker')], id='108')]), id='109'), Step(location=Location(line=28, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka topic \"context-cyan-cdc\" is in ready state in \"redpanda\" namespace', doc_string=None, data_table=None, id='110'), Step(location=Location(line=29, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka source \"context-cyan-cdc-kafkasource\" is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=None, id='111')], examples=[], id='112'), '91': Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"cyan\"', doc_string=None, data_table=None, id='91'), '92': Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='92'), '93': Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-cyan\" should exists', doc_string=None, data_table=None, id='93'), '94': Step(location=Location(line=12, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='helm release \"cyan-neo4j\" is deployed in \"context-cyan\" namespace', doc_string=None, data_table=None, id='94'), '95': Step(location=Location(line=13, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"cyan-neo4j\" in namespace \"context-cyan\" is in ready state', doc_string=None, data_table=None, id='95'), '101': Step(location=Location(line=14, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative service is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=15, column=7), rows=[TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='Knative service name')], id='96'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='dead-letter')], id='97'), TableRow(location=Location(line=17, column=7), cells=[TableCell(location=Location(line=17, column=9), value='iocontext')], id='98'), TableRow(location=Location(line=18, column=7), cells=[TableCell(location=Location(line=18, column=9), value='kafka-cdc')], id='99'), TableRow(location=Location(line=19, column=7), cells=[TableCell(location=Location(line=19, column=9), value='pong')], id='100')]), id='101'), '106': Step(location=Location(line=20, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative triggers is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=21, column=7), rows=[TableRow(location=Location(line=21, column=7), cells=[TableCell(location=Location(line=21, column=9), value='Knative trigger name')], id='102'), TableRow(location=Location(line=22, column=7), cells=[TableCell(location=Location(line=22, column=9), value='iocontext-trigger')], id='103'), TableRow(location=Location(line=23, column=7), cells=[TableCell(location=Location(line=23, column=9), value='kafka-cdc-trigger')], id='104'), TableRow(location=Location(line=24, column=7), cells=[TableCell(location=Location(line=24, column=9), value='pong-trigger')], id='105')]), id='106'), '109': Step(location=Location(line=25, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative brokers is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=26, column=7), rows=[TableRow(location=Location(line=26, column=7), cells=[TableCell(location=Location(line=26, column=9), value='Knative broker name')], id='107'), TableRow(location=Location(line=27, column=7), cells=[TableCell(location=Location(line=27, column=9), value='context-broker')], id='108')]), id='109'), '110': Step(location=Location(line=28, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka topic \"context-cyan-cdc\" is in ready state in \"redpanda\" namespace', doc_string=None, data_table=None, id='110'), '111': Step(location=Location(line=29, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka source \"context-cyan-cdc-kafkasource\" is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=None, id='111'), '125': Scenario(location=Location(line=31, column=3), tags=[], keyword='Scenario', name='Create User and check k8s resources', description='', steps=[Step(location=Location(line=32, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"bob\" and connects it to the context \"cyan\"', doc_string=None, data_table=None, id='113'), Step(location=Location(line=33, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='114'), Step(location=Location(line=34, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"user-bob\" should exists', doc_string=None, data_table=None, id='115'), Step(location=Location(line=35, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative brokers is in ready state in \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=36, column=7), rows=[TableRow(location=Location(line=36, column=7), cells=[TableCell(location=Location(line=36, column=9), value='Knative broker name')], id='116'), TableRow(location=Location(line=37, column=7), cells=[TableCell(location=Location(line=37, column=9), value='user-broker')], id='117')]), id='118'), Step(location=Location(line=38, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative triggers is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=39, column=7), rows=[TableRow(location=Location(line=39, column=7), cells=[TableCell(location=Location(line=39, column=9), value='Knative trigger name')], id='119'), TableRow(location=Location(line=40, column=7), cells=[TableCell(location=Location(line=40, column=9), value='context-cyan-to-user-bob')], id='120')]), id='121'), Step(location=Location(line=41, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative triggers is in ready state in \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=42, column=7), rows=[TableRow(location=Location(line=42, column=7), cells=[TableCell(location=Location(line=42, column=9), value='Knative trigger name')], id='122'), TableRow(location=Location(line=43, column=7), cells=[TableCell(location=Location(line=43, column=9), value='user-bob-to-context-cyan')], id='123')]), id='124')], examples=[], id='125'), '113': Step(location=Location(line=32, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"bob\" and connects it to the context \"cyan\"', doc_string=None, data_table=None, id='113'), '114': Step(location=Location(line=33, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='114'), '115': Step(location=Location(line=34, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"user-bob\" should exists', doc_string=None, data_table=None, id='115'), '118': Step(location=Location(line=35, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative brokers is in ready state in \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=36, column=7), rows=[TableRow(location=Location(line=36, column=7), cells=[TableCell(location=Location(line=36, column=9), value='Knative broker name')], id='116'), TableRow(location=Location(line=37, column=7), cells=[TableCell(location=Location(line=37, column=9), value='user-broker')], id='117')]), id='118'), '121': Step(location=Location(line=38, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative triggers is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=39, column=7), rows=[TableRow(location=Location(line=39, column=7), cells=[TableCell(location=Location(line=39, column=9), value='Knative trigger name')], id='119'), TableRow(location=Location(line=40, column=7), cells=[TableCell(location=Location(line=40, column=9), value='context-cyan-to-user-bob')], id='120')]), id='121'), '124': Step(location=Location(line=41, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative triggers is in ready state in \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=42, column=7), rows=[TableRow(location=Location(line=42, column=7), cells=[TableCell(location=Location(line=42, column=9), value='Knative trigger name')], id='122'), TableRow(location=Location(line=43, column=7), cells=[TableCell(location=Location(line=43, column=9), value='user-bob-to-context-cyan')], id='123')]), id='124'), '136': Scenario(location=Location(line=45, column=3), tags=[], keyword='Scenario', name='Create Host and check k8s resources', description='', steps=[Step(location=Location(line=46, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"workstation\" and connects it to the user \"bob\"', doc_string=None, data_table=None, id='126'), Step(location=Location(line=47, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='127'), Step(location=Location(line=48, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"workstation-host-broker-kne-trigger\" is ready in \"user-bob\" namespace', doc_string=None, data_table=None, id='128'), Step(location=Location(line=49, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative triggers is in ready state in \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=50, column=7), rows=[TableRow(location=Location(line=50, column=7), cells=[TableCell(location=Location(line=50, column=9), value='Knative trigger name')], id='129'), TableRow(location=Location(line=51, column=7), cells=[TableCell(location=Location(line=51, column=9), value='user-bob-to-context-cyan')], id='130'), TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='user-broker-to-workstation-broker-trigger')], id='131')]), id='132'), Step(location=Location(line=53, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative brokers is in ready state in \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=54, column=7), rows=[TableRow(location=Location(line=54, column=7), cells=[TableCell(location=Location(line=54, column=9), value='Knative broker name')], id='133'), TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='workstation-host-broker')], id='134')]), id='135')], examples=[], id='136'), '126': Step(location=Location(line=46, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"workstation\" and connects it to the user \"bob\"', doc_string=None, data_table=None, id='126'), '127': Step(location=Location(line=47, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='127'), '128': Step(location=Location(line=48, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"workstation-host-broker-kne-trigger\" is ready in \"user-bob\" namespace', doc_string=None, data_table=None, id='128'), '132': Step(location=Location(line=49, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative triggers is in ready state in \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=50, column=7), rows=[TableRow(location=Location(line=50, column=7), cells=[TableCell(location=Location(line=50, column=9), value='Knative trigger name')], id='129'), TableRow(location=Location(line=51, column=7), cells=[TableCell(location=Location(line=51, column=9), value='user-bob-to-context-cyan')], id='130'), TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='user-broker-to-workstation-broker-trigger')], id='131')]), id='132'), '135': Step(location=Location(line=53, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative brokers is in ready state in \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=54, column=7), rows=[TableRow(location=Location(line=54, column=7), cells=[TableCell(location=Location(line=54, column=9), value='Knative broker name')], id='133'), TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='workstation-host-broker')], id='134')]), id='135'), '145': Scenario(location=Location(line=59, column=3), tags=[], keyword='Scenario', name='Delete Resources and Verify Cleanup', description='', steps=[Step(location=Location(line=61, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"workstation\"', doc_string=None, data_table=None, id='137'), Step(location=Location(line=62, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"workstation\" should be deleted', doc_string=None, data_table=None, id='138'), Step(location=Location(line=64, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"bob\"', doc_string=None, data_table=None, id='139'), Step(location=Location(line=65, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"bob\" should be deleted', doc_string=None, data_table=None, id='140'), Step(location=Location(line=66, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"user-bob\" should not exists', doc_string=None, data_table=None, id='141'), Step(location=Location(line=68, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"cyan\"', doc_string=None, data_table=None, id='142'), Step(location=Location(line=69, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"cyan\" should be deleted', doc_string=None, data_table=None, id='143'), Step(location=Location(line=70, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-cyan\" should not exists', doc_string=None, data_table=None, id='144')], examples=[], id='145'), '137': Step(location=Location(line=61, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"workstation\"', doc_string=None, data_table=None, id='137'), '138': Step(location=Location(line=62, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"workstation\" should be deleted', doc_string=None, data_table=None, id='138'), '139': Step(location=Location(line=64, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"bob\"', doc_string=None, data_table=None, id='139'), '140': Step(location=Location(line=65, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"bob\" should be deleted', doc_string=None, data_table=None, id='140'), '141': Step(location=Location(line=66, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"user-bob\" should not exists', doc_string=None, data_table=None, id='141'), '142': Step(location=Location(line=68, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"cyan\"', doc_string=None, data_table=None, id='142'), '143': Step(location=Location(line=69, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"cyan\" should be deleted', doc_string=None, data_table=None, id='143'), '144': Step(location=Location(line=70, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-cyan\" should not exists', doc_string=None, data_table=None, id='144')}, pickles=[Pickle(id='159', uri='file:features/2_mindwm_crd_resources.feature', name='Create Context and check k8s resources', language='en', steps=[PickleStep(argument=None, ast_node_ids=['88'], id='147', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['89'], id='148', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['91'], id='149', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"cyan\"'), PickleStep(argument=None, ast_node_ids=['92'], id='150', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=None, ast_node_ids=['93'], id='151', type=<Type.outcome: 'Outcome'>, text='namespace \"context-cyan\" should exists'), PickleStep(argument=None, ast_node_ids=['94'], id='152', type=<Type.outcome: 'Outcome'>, text='helm release \"cyan-neo4j\" is deployed in \"context-cyan\" namespace'), PickleStep(argument=None, ast_node_ids=['95'], id='153', type=<Type.outcome: 'Outcome'>, text='statefulset \"cyan-neo4j\" in namespace \"context-cyan\" is in ready state'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='dead-letter')]), PickleTableRow(cells=[PickleTableCell(value='iocontext')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')]), PickleTableRow(cells=[PickleTableCell(value='pong')])])), ast_node_ids=['101'], id='154', type=<Type.outcome: 'Outcome'>, text='following knative service is in ready state in \"context-cyan\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative trigger name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-trigger')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-trigger')]), PickleTableRow(cells=[PickleTableCell(value='pong-trigger')])])), ast_node_ids=['106'], id='155', type=<Type.outcome: 'Outcome'>, text='following knative triggers is in ready state in \"context-cyan\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative broker name')]), PickleTableRow(cells=[PickleTableCell(value='context-broker')])])), ast_node_ids=['109'], id='156', type=<Type.outcome: 'Outcome'>, text='following knative brokers is in ready state in \"context-cyan\" namespace'), PickleStep(argument=None, ast_node_ids=['110'], id='157', type=<Type.outcome: 'Outcome'>, text='kafka topic \"context-cyan-cdc\" is in ready state in \"redpanda\" namespace'), PickleStep(argument=None, ast_node_ids=['111'], id='158', type=<Type.outcome: 'Outcome'>, text='kafka source \"context-cyan-cdc-kafkasource\" is in ready state in \"context-cyan\" namespace')], tags=[PickleTag(name='@crd_resources', ast_node_id='146')], ast_node_ids=['112']), Pickle(id='168', uri='file:features/2_mindwm_crd_resources.feature', name='Create User and check k8s resources', language='en', steps=[PickleStep(argument=None, ast_node_ids=['88'], id='160', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['89'], id='161', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['113'], id='162', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"bob\" and connects it to the context \"cyan\"'), PickleStep(argument=None, ast_node_ids=['114'], id='163', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['115'], id='164', type=<Type.outcome: 'Outcome'>, text='namespace \"user-bob\" should exists'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative broker name')]), PickleTableRow(cells=[PickleTableCell(value='user-broker')])])), ast_node_ids=['118'], id='165', type=<Type.outcome: 'Outcome'>, text='following knative brokers is in ready state in \"user-bob\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative trigger name')]), PickleTableRow(cells=[PickleTableCell(value='context-cyan-to-user-bob')])])), ast_node_ids=['121'], id='166', type=<Type.outcome: 'Outcome'>, text='following knative triggers is in ready state in \"context-cyan\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative trigger name')]), PickleTableRow(cells=[PickleTableCell(value='user-bob-to-context-cyan')])])), ast_node_ids=['124'], id='167', type=<Type.outcome: 'Outcome'>, text='following knative triggers is in ready state in \"user-bob\" namespace')], tags=[PickleTag(name='@crd_resources', ast_node_id='146')], ast_node_ids=['125']), Pickle(id='176', uri='file:features/2_mindwm_crd_resources.feature', name='Create Host and check k8s resources', language='en', steps=[PickleStep(argument=None, ast_node_ids=['88'], id='169', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['89'], id='170', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['126'], id='171', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"workstation\" and connects it to the user \"bob\"'), PickleStep(argument=None, ast_node_ids=['127'], id='172', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['128'], id='173', type=<Type.outcome: 'Outcome'>, text='NatsJetStreamChannel \"workstation-host-broker-kne-trigger\" is ready in \"user-bob\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative trigger name')]), PickleTableRow(cells=[PickleTableCell(value='user-bob-to-context-cyan')]), PickleTableRow(cells=[PickleTableCell(value='user-broker-to-workstation-broker-trigger')])])), ast_node_ids=['132'], id='174', type=<Type.outcome: 'Outcome'>, text='following knative triggers is in ready state in \"user-bob\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative broker name')]), PickleTableRow(cells=[PickleTableCell(value='workstation-host-broker')])])), ast_node_ids=['135'], id='175', type=<Type.outcome: 'Outcome'>, text='following knative brokers is in ready state in \"user-bob\" namespace')], tags=[PickleTag(name='@crd_resources', ast_node_id='146')], ast_node_ids=['136']), Pickle(id='187', uri='file:features/2_mindwm_crd_resources.feature', name='Delete Resources and Verify Cleanup', language='en', steps=[PickleStep(argument=None, ast_node_ids=['88'], id='177', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['89'], id='178', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['137'], id='179', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"workstation\"'), PickleStep(argument=None, ast_node_ids=['138'], id='180', type=<Type.outcome: 'Outcome'>, text='the host \"workstation\" should be deleted'), PickleStep(argument=None, ast_node_ids=['139'], id='181', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"bob\"'), PickleStep(argument=None, ast_node_ids=['140'], id='182', type=<Type.outcome: 'Outcome'>, text='the user \"bob\" should be deleted'), PickleStep(argument=None, ast_node_ids=['141'], id='183', type=<Type.outcome: 'Outcome'>, text='namespace \"user-bob\" should not exists'), PickleStep(argument=None, ast_node_ids=['142'], id='184', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"cyan\"'), PickleStep(argument=None, ast_node_ids=['143'], id='185', type=<Type.outcome: 'Outcome'>, text='the context \"cyan\" should be deleted'), PickleStep(argument=None, ast_node_ids=['144'], id='186', type=<Type.outcome: 'Outcome'>, text='namespace \"context-cyan\" should not exists')], tags=[PickleTag(name='@crd_resources', ast_node_id='146')], ast_node_ids=['145'])])"},{"name":"feature_source","value":"Source(uri='file:features/2_mindwm_crd_resources.feature', data='@crd_resources\\nFeature: MindWM Custom kubernetes resources\\n\\n  Background:\\n    Given a MindWM environment\\n    Then all nodes in Kubernetes are ready\\n    \\n  Scenario: Create Context and check k8s resources\\n    When God creates a MindWM context with the name \"cyan\"\\n    Then the context should be ready and operable\\n    And namespace \"context-cyan\" should exists \\n    And helm release \"cyan-neo4j\" is deployed in \"context-cyan\" namespace\\n    And statefulset \"cyan-neo4j\" in namespace \"context-cyan\" is in ready state\\n    And following knative service is in ready state in \"context-cyan\" namespace\\n      | Knative service name |\\n      | dead-letter          |\\n      | iocontext            |\\n      | kafka-cdc            |\\n      | pong                 |\\n    And following knative triggers is in ready state in \"context-cyan\" namespace\\n      | Knative trigger name |\\n      | iocontext-trigger    |\\n      | kafka-cdc-trigger    |\\n      | pong-trigger         |\\n    And following knative brokers is in ready state in \"context-cyan\" namespace\\n      | Knative broker name |\\n      | context-broker      |\\n    And kafka topic \"context-cyan-cdc\" is in ready state in \"redpanda\" namespace\\n    And kafka source \"context-cyan-cdc-kafkasource\" is in ready state in \"context-cyan\" namespace\\n  \\n  Scenario: Create User and check k8s resources\\n    When God creates a MindWM user resource with the name \"bob\" and connects it to the context \"cyan\"\\n    Then the user resource should be ready and operable\\n    And namespace \"user-bob\" should exists \\n    And following knative brokers is in ready state in \"user-bob\" namespace\\n      | Knative broker name |\\n      | user-broker         |\\n    And following knative triggers is in ready state in \"context-cyan\" namespace\\n      | Knative trigger name          |\\n      | context-cyan-to-user-bob    |\\n    And following knative triggers is in ready state in \"user-bob\" namespace\\n      | Knative trigger name          |\\n      | user-bob-to-context-cyan    |\\n\\n  Scenario: Create Host and check k8s resources\\n    When God creates a MindWM host resource with the name \"workstation\" and connects it to the user \"bob\"\\n    Then the host resource should be ready and operable\\n    And NatsJetStreamChannel \"workstation-host-broker-kne-trigger\" is ready in \"user-bob\" namespace\\n    And following knative triggers is in ready state in \"user-bob\" namespace\\n      | Knative trigger name                    |\\n      | user-bob-to-context-cyan              |\\n      | user-broker-to-workstation-broker-trigger    |\\n    And following knative brokers is in ready state in \"user-bob\" namespace\\n      | Knative broker name  |\\n      | workstation-host-broker   |\\n\\n\\n\\n  Scenario: Delete Resources and Verify Cleanup\\n\\n    When God deletes the MindWM host resource \"workstation\"\\n    Then the host \"workstation\" should be deleted\\n\\n    When God deletes the MindWM user resource \"bob\"\\n    Then the user \"bob\" should be deleted\\n    And namespace \"user-bob\" should not exists\\n\\n    When God deletes the MindWM context resource \"cyan\"\\n    Then the context \"cyan\" should be deleted\\n    And namespace \"context-cyan\" should not exists\\n\\n\\n\\n', media_type='text/x.cucumber.gherkin+plain')"},{"name":"scenario","value":"Pickle(id='187', uri='file:features/2_mindwm_crd_resources.feature', name='Delete Resources and Verify Cleanup', language='en', steps=[PickleStep(argument=None, ast_node_ids=['88'], id='177', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['89'], id='178', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['137'], id='179', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"workstation\"'), PickleStep(argument=None, ast_node_ids=['138'], id='180', type=<Type.outcome: 'Outcome'>, text='the host \"workstation\" should be deleted'), PickleStep(argument=None, ast_node_ids=['139'], id='181', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"bob\"'), PickleStep(argument=None, ast_node_ids=['140'], id='182', type=<Type.outcome: 'Outcome'>, text='the user \"bob\" should be deleted'), PickleStep(argument=None, ast_node_ids=['141'], id='183', type=<Type.outcome: 'Outcome'>, text='namespace \"user-bob\" should not exists'), PickleStep(argument=None, ast_node_ids=['142'], id='184', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"cyan\"'), PickleStep(argument=None, ast_node_ids=['143'], id='185', type=<Type.outcome: 'Outcome'>, text='the context \"cyan\" should be deleted'), PickleStep(argument=None, ast_node_ids=['144'], id='186', type=<Type.outcome: 'Outcome'>, text='namespace \"context-cyan\" should not exists')], tags=[PickleTag(name='@crd_resources', ast_node_id='146')], ast_node_ids=['145'])"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":["crd_resources","scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/2_mindwm_crd_resources.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=None, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())","pytest_bdd_scenario","@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')","namespace(create=False, name='default')"]},"source":"c958c8b8776e5719.json","parameterValues":["Feature(gherkin_document=GherkinDocument(uri='file:features/2_mindwm_crd_resources.feature', feature=Feature(location=Location(line=2, column=1), tags=[Tag(location=Location(line=1, column=1), name='@crd_resources', id='146')], language='en', keyword='Feature', name='MindWM Custom kubernetes resources', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='88'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='89')], id='90'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Create Context and check k8s resources', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"cyan\"', doc_string=None, data_table=None, id='91'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='92'), Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-cyan\" should exists', doc_string=None, data_table=None, id='93'), Step(location=Location(line=12, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='helm release \"cyan-neo4j\" is deployed in \"context-cyan\" namespace', doc_string=None, data_table=None, id='94'), Step(location=Location(line=13, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"cyan-neo4j\" in namespace \"context-cyan\" is in ready state', doc_string=None, data_table=None, id='95'), Step(location=Location(line=14, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative service is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=15, column=7), rows=[TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='Knative service name')], id='96'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='dead-letter')], id='97'), TableRow(location=Location(line=17, column=7), cells=[TableCell(location=Location(line=17, column=9), value='iocontext')], id='98'), TableRow(location=Location(line=18, column=7), cells=[TableCell(location=Location(line=18, column=9), value='kafka-cdc')], id='99'), TableRow(location=Location(line=19, column=7), cells=[TableCell(location=Location(line=19, column=9), value='pong')], id='100')]), id='101'), Step(location=Location(line=20, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative triggers is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=21, column=7), rows=[TableRow(location=Location(line=21, column=7), cells=[TableCell(location=Location(line=21, column=9), value='Knative trigger name')], id='102'), TableRow(location=Location(line=22, column=7), cells=[TableCell(location=Location(line=22, column=9), value='iocontext-trigger')], id='103'), TableRow(location=Location(line=23, column=7), cells=[TableCell(location=Location(line=23, column=9), value='kafka-cdc-trigger')], id='104'), TableRow(location=Location(line=24, column=7), cells=[TableCell(location=Location(line=24, column=9), value='pong-trigger')], id='105')]), id='106'), Step(location=Location(line=25, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative brokers is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=26, column=7), rows=[TableRow(location=Location(line=26, column=7), cells=[TableCell(location=Location(line=26, column=9), value='Knative broker name')], id='107'), TableRow(location=Location(line=27, column=7), cells=[TableCell(location=Location(line=27, column=9), value='context-broker')], id='108')]), id='109'), Step(location=Location(line=28, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka topic \"context-cyan-cdc\" is in ready state in \"redpanda\" namespace', doc_string=None, data_table=None, id='110'), Step(location=Location(line=29, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka source \"context-cyan-cdc-kafkasource\" is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=None, id='111')], examples=[], id='112')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=31, column=3), tags=[], keyword='Scenario', name='Create User and check k8s resources', description='', steps=[Step(location=Location(line=32, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"bob\" and connects it to the context \"cyan\"', doc_string=None, data_table=None, id='113'), Step(location=Location(line=33, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='114'), Step(location=Location(line=34, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"user-bob\" should exists', doc_string=None, data_table=None, id='115'), Step(location=Location(line=35, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative brokers is in ready state in \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=36, column=7), rows=[TableRow(location=Location(line=36, column=7), cells=[TableCell(location=Location(line=36, column=9), value='Knative broker name')], id='116'), TableRow(location=Location(line=37, column=7), cells=[TableCell(location=Location(line=37, column=9), value='user-broker')], id='117')]), id='118'), Step(location=Location(line=38, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative triggers is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=39, column=7), rows=[TableRow(location=Location(line=39, column=7), cells=[TableCell(location=Location(line=39, column=9), value='Knative trigger name')], id='119'), TableRow(location=Location(line=40, column=7), cells=[TableCell(location=Location(line=40, column=9), value='context-cyan-to-user-bob')], id='120')]), id='121'), Step(location=Location(line=41, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative triggers is in ready state in \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=42, column=7), rows=[TableRow(location=Location(line=42, column=7), cells=[TableCell(location=Location(line=42, column=9), value='Knative trigger name')], id='122'), TableRow(location=Location(line=43, column=7), cells=[TableCell(location=Location(line=43, column=9), value='user-bob-to-context-cyan')], id='123')]), id='124')], examples=[], id='125')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=45, column=3), tags=[], keyword='Scenario', name='Create Host and check k8s resources', description='', steps=[Step(location=Location(line=46, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"workstation\" and connects it to the user \"bob\"', doc_string=None, data_table=None, id='126'), Step(location=Location(line=47, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='127'), Step(location=Location(line=48, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"workstation-host-broker-kne-trigger\" is ready in \"user-bob\" namespace', doc_string=None, data_table=None, id='128'), Step(location=Location(line=49, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative triggers is in ready state in \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=50, column=7), rows=[TableRow(location=Location(line=50, column=7), cells=[TableCell(location=Location(line=50, column=9), value='Knative trigger name')], id='129'), TableRow(location=Location(line=51, column=7), cells=[TableCell(location=Location(line=51, column=9), value='user-bob-to-context-cyan')], id='130'), TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='user-broker-to-workstation-broker-trigger')], id='131')]), id='132'), Step(location=Location(line=53, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative brokers is in ready state in \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=54, column=7), rows=[TableRow(location=Location(line=54, column=7), cells=[TableCell(location=Location(line=54, column=9), value='Knative broker name')], id='133'), TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='workstation-host-broker')], id='134')]), id='135')], examples=[], id='136')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=59, column=3), tags=[], keyword='Scenario', name='Delete Resources and Verify Cleanup', description='', steps=[Step(location=Location(line=61, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"workstation\"', doc_string=None, data_table=None, id='137'), Step(location=Location(line=62, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"workstation\" should be deleted', doc_string=None, data_table=None, id='138'), Step(location=Location(line=64, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"bob\"', doc_string=None, data_table=None, id='139'), Step(location=Location(line=65, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"bob\" should be deleted', doc_string=None, data_table=None, id='140'), Step(location=Location(line=66, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"user-bob\" should not exists', doc_string=None, data_table=None, id='141'), Step(location=Location(line=68, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"cyan\"', doc_string=None, data_table=None, id='142'), Step(location=Location(line=69, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"cyan\" should be deleted', doc_string=None, data_table=None, id='143'), Step(location=Location(line=70, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-cyan\" should not exists', doc_string=None, data_table=None, id='144')], examples=[], id='145'))]), comments=[]), uri='file:features/2_mindwm_crd_resources.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/2_mindwm_crd_resources.feature', registry={'146': Tag(location=Location(line=1, column=1), name='@crd_resources', id='146'), '90': Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='88'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='89')], id='90'), '88': Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='88'), '89': Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='89'), '112': Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Create Context and check k8s resources', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"cyan\"', doc_string=None, data_table=None, id='91'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='92'), Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-cyan\" should exists', doc_string=None, data_table=None, id='93'), Step(location=Location(line=12, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='helm release \"cyan-neo4j\" is deployed in \"context-cyan\" namespace', doc_string=None, data_table=None, id='94'), Step(location=Location(line=13, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"cyan-neo4j\" in namespace \"context-cyan\" is in ready state', doc_string=None, data_table=None, id='95'), Step(location=Location(line=14, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative service is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=15, column=7), rows=[TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='Knative service name')], id='96'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='dead-letter')], id='97'), TableRow(location=Location(line=17, column=7), cells=[TableCell(location=Location(line=17, column=9), value='iocontext')], id='98'), TableRow(location=Location(line=18, column=7), cells=[TableCell(location=Location(line=18, column=9), value='kafka-cdc')], id='99'), TableRow(location=Location(line=19, column=7), cells=[TableCell(location=Location(line=19, column=9), value='pong')], id='100')]), id='101'), Step(location=Location(line=20, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative triggers is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=21, column=7), rows=[TableRow(location=Location(line=21, column=7), cells=[TableCell(location=Location(line=21, column=9), value='Knative trigger name')], id='102'), TableRow(location=Location(line=22, column=7), cells=[TableCell(location=Location(line=22, column=9), value='iocontext-trigger')], id='103'), TableRow(location=Location(line=23, column=7), cells=[TableCell(location=Location(line=23, column=9), value='kafka-cdc-trigger')], id='104'), TableRow(location=Location(line=24, column=7), cells=[TableCell(location=Location(line=24, column=9), value='pong-trigger')], id='105')]), id='106'), Step(location=Location(line=25, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative brokers is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=26, column=7), rows=[TableRow(location=Location(line=26, column=7), cells=[TableCell(location=Location(line=26, column=9), value='Knative broker name')], id='107'), TableRow(location=Location(line=27, column=7), cells=[TableCell(location=Location(line=27, column=9), value='context-broker')], id='108')]), id='109'), Step(location=Location(line=28, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka topic \"context-cyan-cdc\" is in ready state in \"redpanda\" namespace', doc_string=None, data_table=None, id='110'), Step(location=Location(line=29, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka source \"context-cyan-cdc-kafkasource\" is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=None, id='111')], examples=[], id='112'), '91': Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"cyan\"', doc_string=None, data_table=None, id='91'), '92': Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='92'), '93': Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-cyan\" should exists', doc_string=None, data_table=None, id='93'), '94': Step(location=Location(line=12, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='helm release \"cyan-neo4j\" is deployed in \"context-cyan\" namespace', doc_string=None, data_table=None, id='94'), '95': Step(location=Location(line=13, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"cyan-neo4j\" in namespace \"context-cyan\" is in ready state', doc_string=None, data_table=None, id='95'), '101': Step(location=Location(line=14, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative service is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=15, column=7), rows=[TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='Knative service name')], id='96'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='dead-letter')], id='97'), TableRow(location=Location(line=17, column=7), cells=[TableCell(location=Location(line=17, column=9), value='iocontext')], id='98'), TableRow(location=Location(line=18, column=7), cells=[TableCell(location=Location(line=18, column=9), value='kafka-cdc')], id='99'), TableRow(location=Location(line=19, column=7), cells=[TableCell(location=Location(line=19, column=9), value='pong')], id='100')]), id='101'), '106': Step(location=Location(line=20, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative triggers is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=21, column=7), rows=[TableRow(location=Location(line=21, column=7), cells=[TableCell(location=Location(line=21, column=9), value='Knative trigger name')], id='102'), TableRow(location=Location(line=22, column=7), cells=[TableCell(location=Location(line=22, column=9), value='iocontext-trigger')], id='103'), TableRow(location=Location(line=23, column=7), cells=[TableCell(location=Location(line=23, column=9), value='kafka-cdc-trigger')], id='104'), TableRow(location=Location(line=24, column=7), cells=[TableCell(location=Location(line=24, column=9), value='pong-trigger')], id='105')]), id='106'), '109': Step(location=Location(line=25, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative brokers is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=26, column=7), rows=[TableRow(location=Location(line=26, column=7), cells=[TableCell(location=Location(line=26, column=9), value='Knative broker name')], id='107'), TableRow(location=Location(line=27, column=7), cells=[TableCell(location=Location(line=27, column=9), value='context-broker')], id='108')]), id='109'), '110': Step(location=Location(line=28, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka topic \"context-cyan-cdc\" is in ready state in \"redpanda\" namespace', doc_string=None, data_table=None, id='110'), '111': Step(location=Location(line=29, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka source \"context-cyan-cdc-kafkasource\" is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=None, id='111'), '125': Scenario(location=Location(line=31, column=3), tags=[], keyword='Scenario', name='Create User and check k8s resources', description='', steps=[Step(location=Location(line=32, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"bob\" and connects it to the context \"cyan\"', doc_string=None, data_table=None, id='113'), Step(location=Location(line=33, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='114'), Step(location=Location(line=34, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"user-bob\" should exists', doc_string=None, data_table=None, id='115'), Step(location=Location(line=35, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative brokers is in ready state in \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=36, column=7), rows=[TableRow(location=Location(line=36, column=7), cells=[TableCell(location=Location(line=36, column=9), value='Knative broker name')], id='116'), TableRow(location=Location(line=37, column=7), cells=[TableCell(location=Location(line=37, column=9), value='user-broker')], id='117')]), id='118'), Step(location=Location(line=38, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative triggers is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=39, column=7), rows=[TableRow(location=Location(line=39, column=7), cells=[TableCell(location=Location(line=39, column=9), value='Knative trigger name')], id='119'), TableRow(location=Location(line=40, column=7), cells=[TableCell(location=Location(line=40, column=9), value='context-cyan-to-user-bob')], id='120')]), id='121'), Step(location=Location(line=41, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative triggers is in ready state in \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=42, column=7), rows=[TableRow(location=Location(line=42, column=7), cells=[TableCell(location=Location(line=42, column=9), value='Knative trigger name')], id='122'), TableRow(location=Location(line=43, column=7), cells=[TableCell(location=Location(line=43, column=9), value='user-bob-to-context-cyan')], id='123')]), id='124')], examples=[], id='125'), '113': Step(location=Location(line=32, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"bob\" and connects it to the context \"cyan\"', doc_string=None, data_table=None, id='113'), '114': Step(location=Location(line=33, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='114'), '115': Step(location=Location(line=34, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"user-bob\" should exists', doc_string=None, data_table=None, id='115'), '118': Step(location=Location(line=35, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative brokers is in ready state in \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=36, column=7), rows=[TableRow(location=Location(line=36, column=7), cells=[TableCell(location=Location(line=36, column=9), value='Knative broker name')], id='116'), TableRow(location=Location(line=37, column=7), cells=[TableCell(location=Location(line=37, column=9), value='user-broker')], id='117')]), id='118'), '121': Step(location=Location(line=38, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative triggers is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=39, column=7), rows=[TableRow(location=Location(line=39, column=7), cells=[TableCell(location=Location(line=39, column=9), value='Knative trigger name')], id='119'), TableRow(location=Location(line=40, column=7), cells=[TableCell(location=Location(line=40, column=9), value='context-cyan-to-user-bob')], id='120')]), id='121'), '124': Step(location=Location(line=41, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative triggers is in ready state in \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=42, column=7), rows=[TableRow(location=Location(line=42, column=7), cells=[TableCell(location=Location(line=42, column=9), value='Knative trigger name')], id='122'), TableRow(location=Location(line=43, column=7), cells=[TableCell(location=Location(line=43, column=9), value='user-bob-to-context-cyan')], id='123')]), id='124'), '136': Scenario(location=Location(line=45, column=3), tags=[], keyword='Scenario', name='Create Host and check k8s resources', description='', steps=[Step(location=Location(line=46, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"workstation\" and connects it to the user \"bob\"', doc_string=None, data_table=None, id='126'), Step(location=Location(line=47, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='127'), Step(location=Location(line=48, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"workstation-host-broker-kne-trigger\" is ready in \"user-bob\" namespace', doc_string=None, data_table=None, id='128'), Step(location=Location(line=49, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative triggers is in ready state in \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=50, column=7), rows=[TableRow(location=Location(line=50, column=7), cells=[TableCell(location=Location(line=50, column=9), value='Knative trigger name')], id='129'), TableRow(location=Location(line=51, column=7), cells=[TableCell(location=Location(line=51, column=9), value='user-bob-to-context-cyan')], id='130'), TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='user-broker-to-workstation-broker-trigger')], id='131')]), id='132'), Step(location=Location(line=53, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative brokers is in ready state in \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=54, column=7), rows=[TableRow(location=Location(line=54, column=7), cells=[TableCell(location=Location(line=54, column=9), value='Knative broker name')], id='133'), TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='workstation-host-broker')], id='134')]), id='135')], examples=[], id='136'), '126': Step(location=Location(line=46, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"workstation\" and connects it to the user \"bob\"', doc_string=None, data_table=None, id='126'), '127': Step(location=Location(line=47, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='127'), '128': Step(location=Location(line=48, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"workstation-host-broker-kne-trigger\" is ready in \"user-bob\" namespace', doc_string=None, data_table=None, id='128'), '132': Step(location=Location(line=49, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative triggers is in ready state in \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=50, column=7), rows=[TableRow(location=Location(line=50, column=7), cells=[TableCell(location=Location(line=50, column=9), value='Knative trigger name')], id='129'), TableRow(location=Location(line=51, column=7), cells=[TableCell(location=Location(line=51, column=9), value='user-bob-to-context-cyan')], id='130'), TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='user-broker-to-workstation-broker-trigger')], id='131')]), id='132'), '135': Step(location=Location(line=53, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative brokers is in ready state in \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=54, column=7), rows=[TableRow(location=Location(line=54, column=7), cells=[TableCell(location=Location(line=54, column=9), value='Knative broker name')], id='133'), TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='workstation-host-broker')], id='134')]), id='135'), '145': Scenario(location=Location(line=59, column=3), tags=[], keyword='Scenario', name='Delete Resources and Verify Cleanup', description='', steps=[Step(location=Location(line=61, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"workstation\"', doc_string=None, data_table=None, id='137'), Step(location=Location(line=62, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"workstation\" should be deleted', doc_string=None, data_table=None, id='138'), Step(location=Location(line=64, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"bob\"', doc_string=None, data_table=None, id='139'), Step(location=Location(line=65, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"bob\" should be deleted', doc_string=None, data_table=None, id='140'), Step(location=Location(line=66, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"user-bob\" should not exists', doc_string=None, data_table=None, id='141'), Step(location=Location(line=68, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"cyan\"', doc_string=None, data_table=None, id='142'), Step(location=Location(line=69, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"cyan\" should be deleted', doc_string=None, data_table=None, id='143'), Step(location=Location(line=70, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-cyan\" should not exists', doc_string=None, data_table=None, id='144')], examples=[], id='145'), '137': Step(location=Location(line=61, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"workstation\"', doc_string=None, data_table=None, id='137'), '138': Step(location=Location(line=62, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"workstation\" should be deleted', doc_string=None, data_table=None, id='138'), '139': Step(location=Location(line=64, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"bob\"', doc_string=None, data_table=None, id='139'), '140': Step(location=Location(line=65, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"bob\" should be deleted', doc_string=None, data_table=None, id='140'), '141': Step(location=Location(line=66, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"user-bob\" should not exists', doc_string=None, data_table=None, id='141'), '142': Step(location=Location(line=68, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"cyan\"', doc_string=None, data_table=None, id='142'), '143': Step(location=Location(line=69, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"cyan\" should be deleted', doc_string=None, data_table=None, id='143'), '144': Step(location=Location(line=70, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-cyan\" should not exists', doc_string=None, data_table=None, id='144')}, pickles=[Pickle(id='159', uri='file:features/2_mindwm_crd_resources.feature', name='Create Context and check k8s resources', language='en', steps=[PickleStep(argument=None, ast_node_ids=['88'], id='147', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['89'], id='148', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['91'], id='149', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"cyan\"'), PickleStep(argument=None, ast_node_ids=['92'], id='150', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=None, ast_node_ids=['93'], id='151', type=<Type.outcome: 'Outcome'>, text='namespace \"context-cyan\" should exists'), PickleStep(argument=None, ast_node_ids=['94'], id='152', type=<Type.outcome: 'Outcome'>, text='helm release \"cyan-neo4j\" is deployed in \"context-cyan\" namespace'), PickleStep(argument=None, ast_node_ids=['95'], id='153', type=<Type.outcome: 'Outcome'>, text='statefulset \"cyan-neo4j\" in namespace \"context-cyan\" is in ready state'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='dead-letter')]), PickleTableRow(cells=[PickleTableCell(value='iocontext')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')]), PickleTableRow(cells=[PickleTableCell(value='pong')])])), ast_node_ids=['101'], id='154', type=<Type.outcome: 'Outcome'>, text='following knative service is in ready state in \"context-cyan\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative trigger name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-trigger')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-trigger')]), PickleTableRow(cells=[PickleTableCell(value='pong-trigger')])])), ast_node_ids=['106'], id='155', type=<Type.outcome: 'Outcome'>, text='following knative triggers is in ready state in \"context-cyan\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative broker name')]), PickleTableRow(cells=[PickleTableCell(value='context-broker')])])), ast_node_ids=['109'], id='156', type=<Type.outcome: 'Outcome'>, text='following knative brokers is in ready state in \"context-cyan\" namespace'), PickleStep(argument=None, ast_node_ids=['110'], id='157', type=<Type.outcome: 'Outcome'>, text='kafka topic \"context-cyan-cdc\" is in ready state in \"redpanda\" namespace'), PickleStep(argument=None, ast_node_ids=['111'], id='158', type=<Type.outcome: 'Outcome'>, text='kafka source \"context-cyan-cdc-kafkasource\" is in ready state in \"context-cyan\" namespace')], tags=[PickleTag(name='@crd_resources', ast_node_id='146')], ast_node_ids=['112']), Pickle(id='168', uri='file:features/2_mindwm_crd_resources.feature', name='Create User and check k8s resources', language='en', steps=[PickleStep(argument=None, ast_node_ids=['88'], id='160', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['89'], id='161', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['113'], id='162', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"bob\" and connects it to the context \"cyan\"'), PickleStep(argument=None, ast_node_ids=['114'], id='163', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['115'], id='164', type=<Type.outcome: 'Outcome'>, text='namespace \"user-bob\" should exists'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative broker name')]), PickleTableRow(cells=[PickleTableCell(value='user-broker')])])), ast_node_ids=['118'], id='165', type=<Type.outcome: 'Outcome'>, text='following knative brokers is in ready state in \"user-bob\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative trigger name')]), PickleTableRow(cells=[PickleTableCell(value='context-cyan-to-user-bob')])])), ast_node_ids=['121'], id='166', type=<Type.outcome: 'Outcome'>, text='following knative triggers is in ready state in \"context-cyan\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative trigger name')]), PickleTableRow(cells=[PickleTableCell(value='user-bob-to-context-cyan')])])), ast_node_ids=['124'], id='167', type=<Type.outcome: 'Outcome'>, text='following knative triggers is in ready state in \"user-bob\" namespace')], tags=[PickleTag(name='@crd_resources', ast_node_id='146')], ast_node_ids=['125']), Pickle(id='176', uri='file:features/2_mindwm_crd_resources.feature', name='Create Host and check k8s resources', language='en', steps=[PickleStep(argument=None, ast_node_ids=['88'], id='169', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['89'], id='170', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['126'], id='171', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"workstation\" and connects it to the user \"bob\"'), PickleStep(argument=None, ast_node_ids=['127'], id='172', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['128'], id='173', type=<Type.outcome: 'Outcome'>, text='NatsJetStreamChannel \"workstation-host-broker-kne-trigger\" is ready in \"user-bob\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative trigger name')]), PickleTableRow(cells=[PickleTableCell(value='user-bob-to-context-cyan')]), PickleTableRow(cells=[PickleTableCell(value='user-broker-to-workstation-broker-trigger')])])), ast_node_ids=['132'], id='174', type=<Type.outcome: 'Outcome'>, text='following knative triggers is in ready state in \"user-bob\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative broker name')]), PickleTableRow(cells=[PickleTableCell(value='workstation-host-broker')])])), ast_node_ids=['135'], id='175', type=<Type.outcome: 'Outcome'>, text='following knative brokers is in ready state in \"user-bob\" namespace')], tags=[PickleTag(name='@crd_resources', ast_node_id='146')], ast_node_ids=['136']), Pickle(id='187', uri='file:features/2_mindwm_crd_resources.feature', name='Delete Resources and Verify Cleanup', language='en', steps=[PickleStep(argument=None, ast_node_ids=['88'], id='177', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['89'], id='178', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['137'], id='179', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"workstation\"'), PickleStep(argument=None, ast_node_ids=['138'], id='180', type=<Type.outcome: 'Outcome'>, text='the host \"workstation\" should be deleted'), PickleStep(argument=None, ast_node_ids=['139'], id='181', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"bob\"'), PickleStep(argument=None, ast_node_ids=['140'], id='182', type=<Type.outcome: 'Outcome'>, text='the user \"bob\" should be deleted'), PickleStep(argument=None, ast_node_ids=['141'], id='183', type=<Type.outcome: 'Outcome'>, text='namespace \"user-bob\" should not exists'), PickleStep(argument=None, ast_node_ids=['142'], id='184', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"cyan\"'), PickleStep(argument=None, ast_node_ids=['143'], id='185', type=<Type.outcome: 'Outcome'>, text='the context \"cyan\" should be deleted'), PickleStep(argument=None, ast_node_ids=['144'], id='186', type=<Type.outcome: 'Outcome'>, text='namespace \"context-cyan\" should not exists')], tags=[PickleTag(name='@crd_resources', ast_node_id='146')], ast_node_ids=['145'])])","Source(uri='file:features/2_mindwm_crd_resources.feature', data='@crd_resources\\nFeature: MindWM Custom kubernetes resources\\n\\n  Background:\\n    Given a MindWM environment\\n    Then all nodes in Kubernetes are ready\\n    \\n  Scenario: Create Context and check k8s resources\\n    When God creates a MindWM context with the name \"cyan\"\\n    Then the context should be ready and operable\\n    And namespace \"context-cyan\" should exists \\n    And helm release \"cyan-neo4j\" is deployed in \"context-cyan\" namespace\\n    And statefulset \"cyan-neo4j\" in namespace \"context-cyan\" is in ready state\\n    And following knative service is in ready state in \"context-cyan\" namespace\\n      | Knative service name |\\n      | dead-letter          |\\n      | iocontext            |\\n      | kafka-cdc            |\\n      | pong                 |\\n    And following knative triggers is in ready state in \"context-cyan\" namespace\\n      | Knative trigger name |\\n      | iocontext-trigger    |\\n      | kafka-cdc-trigger    |\\n      | pong-trigger         |\\n    And following knative brokers is in ready state in \"context-cyan\" namespace\\n      | Knative broker name |\\n      | context-broker      |\\n    And kafka topic \"context-cyan-cdc\" is in ready state in \"redpanda\" namespace\\n    And kafka source \"context-cyan-cdc-kafkasource\" is in ready state in \"context-cyan\" namespace\\n  \\n  Scenario: Create User and check k8s resources\\n    When God creates a MindWM user resource with the name \"bob\" and connects it to the context \"cyan\"\\n    Then the user resource should be ready and operable\\n    And namespace \"user-bob\" should exists \\n    And following knative brokers is in ready state in \"user-bob\" namespace\\n      | Knative broker name |\\n      | user-broker         |\\n    And following knative triggers is in ready state in \"context-cyan\" namespace\\n      | Knative trigger name          |\\n      | context-cyan-to-user-bob    |\\n    And following knative triggers is in ready state in \"user-bob\" namespace\\n      | Knative trigger name          |\\n      | user-bob-to-context-cyan    |\\n\\n  Scenario: Create Host and check k8s resources\\n    When God creates a MindWM host resource with the name \"workstation\" and connects it to the user \"bob\"\\n    Then the host resource should be ready and operable\\n    And NatsJetStreamChannel \"workstation-host-broker-kne-trigger\" is ready in \"user-bob\" namespace\\n    And following knative triggers is in ready state in \"user-bob\" namespace\\n      | Knative trigger name                    |\\n      | user-bob-to-context-cyan              |\\n      | user-broker-to-workstation-broker-trigger    |\\n    And following knative brokers is in ready state in \"user-bob\" namespace\\n      | Knative broker name  |\\n      | workstation-host-broker   |\\n\\n\\n\\n  Scenario: Delete Resources and Verify Cleanup\\n\\n    When God deletes the MindWM host resource \"workstation\"\\n    Then the host \"workstation\" should be deleted\\n\\n    When God deletes the MindWM user resource \"bob\"\\n    Then the user \"bob\" should be deleted\\n    And namespace \"user-bob\" should not exists\\n\\n    When God deletes the MindWM context resource \"cyan\"\\n    Then the context \"cyan\" should be deleted\\n    And namespace \"context-cyan\" should not exists\\n\\n\\n\\n', media_type='text/x.cucumber.gherkin+plain')","Pickle(id='187', uri='file:features/2_mindwm_crd_resources.feature', name='Delete Resources and Verify Cleanup', language='en', steps=[PickleStep(argument=None, ast_node_ids=['88'], id='177', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['89'], id='178', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['137'], id='179', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"workstation\"'), PickleStep(argument=None, ast_node_ids=['138'], id='180', type=<Type.outcome: 'Outcome'>, text='the host \"workstation\" should be deleted'), PickleStep(argument=None, ast_node_ids=['139'], id='181', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"bob\"'), PickleStep(argument=None, ast_node_ids=['140'], id='182', type=<Type.outcome: 'Outcome'>, text='the user \"bob\" should be deleted'), PickleStep(argument=None, ast_node_ids=['141'], id='183', type=<Type.outcome: 'Outcome'>, text='namespace \"user-bob\" should not exists'), PickleStep(argument=None, ast_node_ids=['142'], id='184', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"cyan\"'), PickleStep(argument=None, ast_node_ids=['143'], id='185', type=<Type.outcome: 'Outcome'>, text='the context \"cyan\" should be deleted'), PickleStep(argument=None, ast_node_ids=['144'], id='186', type=<Type.outcome: 'Outcome'>, text='namespace \"context-cyan\" should not exists')], tags=[PickleTag(name='@crd_resources', ast_node_id='146')], ast_node_ids=['145'])"]}