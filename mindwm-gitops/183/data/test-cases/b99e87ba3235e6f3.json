{"uid":"b99e87ba3235e6f3","name":"test_scenarios[file:features/3_mindwm_ping_pong.feature-MindWM Ping-pong EDA test-Prepare environment for ping tests[table_rows:[line: 26]]]","fullName":"features.3_mindwm_ping_pong#test_scenarios","historyId":"89229bb1f70b705dfeef7f59177f4f8e","time":{"start":1728403777151,"stop":1728403806916,"duration":29765},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"pytestconfig","time":{"start":1728402565274,"stop":1728402565274,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"steps_left","time":{"start":1728403777152,"stop":1728403777152,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"step_registry","time":{"start":1728403777152,"stop":1728403777152,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"step_matcher","time":{"start":1728403777152,"stop":1728403777152,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"step_registry","time":{"start":1728403777152,"stop":1728403777152,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"parameter_type_registry","time":{"start":1728403777153,"stop":1728403777153,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"kubecontext","time":{"start":1728403777155,"stop":1728403777155,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"kubeconfig","time":{"start":1728403777155,"stop":1728403777155,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"kube","time":{"start":1728403777156,"stop":1728403777162,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"ctx","time":{"start":1728403777257,"stop":1728403777257,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"testStage":{"status":"passed","steps":[{"name":"Mindwm crd 'xcontexts' is exist","time":{"start":1728403777185,"stop":1728403777185,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Mindwm crd 'xhosts' is exist","time":{"start":1728403777195,"stop":1728403777195,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Mindwm crd 'xusers' is exist","time":{"start":1728403777210,"stop":1728403777210,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Kubernetes node 'localhost' are True","time":{"start":1728403777248,"stop":1728403777248,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Create context 'green4'","time":{"start":1728403777276,"stop":1728403777276,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Knative service 'context-green4'/'pong' ready state is Unknown","time":{"start":1728403783459,"stop":1728403783459,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Create user 'amanda4' with context green4","time":{"start":1728403783545,"stop":1728403783545,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Host 'pi6-host' has created","time":{"start":1728403795516,"stop":1728403795516,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Nats stream '{'apiVersion': 'messaging.knative.dev/v1alpha1', 'kind': 'NatsJetStreamChannel', 'metadata': {'annotations': {'eventing.knative.dev/scope': 'cluster', 'messaging.knative.dev/creator': 'system:serviceaccount:knative-eventing:eventing-controller', 'messaging.knative.dev/lastModifier': 'system:serviceaccount:knative-eventing:eventing-controller', 'messaging.knative.dev/subscribable': 'v1'}, 'creationTimestamp': '2024-10-08T16:09:57Z', 'finalizers': ['natsjetstreamchannels.messaging.knative.dev'], 'generation': 2, 'labels': {'eventing.knative.dev/broker': 'pi6-host-host-broker', 'eventing.knative.dev/brokerEverything': 'true'}, 'managedFields': [{'apiVersion': 'messaging.knative.dev/v1alpha1', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:eventing.knative.dev/scope': {}}, 'f:labels': {'.': {}, 'f:eventing.knative.dev/broker': {}, 'f:eventing.knative.dev/brokerEverything': {}}, 'f:ownerReferences': {'.': {}, 'k:{\"uid\":\"05cfd156-457b-4f23-b575-64aa48a6a6f0\"}': {}}}, 'f:spec': {'.': {}, 'f:delivery': {'.': {}, 'f:backoffDelay': {}, 'f:backoffPolicy': {}, 'f:retry': {}}, 'f:stream': {'.': {}, 'f:config': {'.': {}, 'f:additionalSubjects': {}}}}}, 'manager': 'mtchannel_broker', 'operation': 'Update', 'time': '2024-10-08T16:09:56Z'}, {'apiVersion': 'messaging.knative.dev/v1alpha1', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:finalizers': {'.': {}, 'v:\"natsjetstreamchannels.messaging.knative.dev\"': {}}}, 'f:spec': {'f:subscribers': {}}}, 'manager': 'controller', 'operation': 'Update', 'time': '2024-10-08T16:09:59Z'}, {'apiVersion': 'messaging.knative.dev/v1alpha1', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:status': {'.': {}, 'f:address': {'.': {}, 'f:url': {}}, 'f:conditions': {}, 'f:observedGeneration': {}}}, 'manager': 'controller', 'operation': 'Update', 'subresource': 'status', 'time': '2024-10-08T16:10:00Z'}, {'apiVersion': 'messaging.knative.dev/v1alpha1', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:status': {'f:subscribers': {}}}, 'manager': 'dispatcher', 'operation': 'Update', 'subresource': 'status', 'time': '2024-10-08T16:10:00Z'}], 'name': 'pi6-host-host-broker-kne-trigger', 'namespace': 'user-amanda4', 'ownerReferences': [{'apiVersion': 'eventing.knative.dev/v1', 'blockOwnerDeletion': True, 'controller': True, 'kind': 'Broker', 'name': 'pi6-host-host-broker', 'uid': '05cfd156-457b-4f23-b575-64aa48a6a6f0'}], 'resourceVersion': '28702', 'uid': 'd3232082-9f94-4018-a7d2-82a324c83c24'}, 'spec': {'delivery': {'backoffDelay': 'PT0.2S', 'backoffPolicy': 'exponential', 'retry': 10}, 'stream': {'config': {'additionalSubjects': ['org.mindwm.amanda4.pi6-host.>'], 'duplicateWindow': '0s', 'maxAge': '0s'}}, 'subscribers': [{'delivery': {'deadLetterSink': {'uri': 'http://dead-letter.user-amanda4.svc.cluster.local'}}, 'generation': 1, 'name': 'pi6-host-host-broker-pi6-host-t0cfc86a53f8594712de29524a4311496', 'replyUri': 'http://broker-ingress.knative-eventing.svc.cluster.local/user-amanda4/pi6-host-host-broker', 'subscriberUri': 'http://broker-filter.knative-eventing.svc.cluster.local/triggers/user-amanda4/pi6-host-trigger-to-user-broker-trigger/36749fad-3da8-49cd-984c-909fde708aab', 'uid': '9bf8700b-3c86-4bc3-a5dc-427b2b72f093'}]}, 'status': {'address': {'url': 'http://pi6-host-host-broker-kne-trigger-kn-jsm-channel.user-amanda4.svc.cluster.local'}, 'conditions': [{'lastTransitionTime': '2024-10-08T16:10:00Z', 'status': 'True', 'type': 'Addressable'}, {'lastTransitionTime': '2024-10-08T16:10:00Z', 'status': 'True', 'type': 'ChannelServiceReady'}, {'lastTransitionTime': '2024-10-08T16:10:00Z', 'status': 'True', 'type': 'DispatcherReady'}, {'lastTransitionTime': '2024-10-08T16:10:00Z', 'status': 'True', 'type': 'EndpointsReady'}, {'lastTransitionTime': '2024-10-08T16:10:00Z', 'status': 'True', 'type': 'Ready'}, {'lastTransitionTime': '2024-10-08T16:09:57Z', 'status': 'True', 'type': 'ServiceReady'}, {'lastTransitionTime': '2024-10-08T16:09:59Z', 'status': 'True', 'type': 'StreamReady'}], 'observedGeneration': 2, 'subscribers': [{'observedGeneration': 1, 'ready': 'True', 'uid': '9bf8700b-3c86-4bc3-a5dc-427b2b72f093'}]}}' ready state is True","time":{"start":1728403806873,"stop":1728403806873,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Start nats reader from the topic >","time":{"start":1728403806915,"stop":1728403806915,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":10,"attachmentsCount":0,"hasContent":true},"afterStages":[],"labels":[{"name":"tag","value":"scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/3_mindwm_ping_pong.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=<FeaturePathType.PATH: 'path'>, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())"},{"name":"tag","value":"@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')"},{"name":"tag","value":"pytest_bdd_scenario"},{"name":"tag","value":"mindwm_ping_pong"},{"name":"tag","value":"mindwm_test"},{"name":"tag","value":"namespace(create=False, name='default')"},{"name":"parentSuite","value":"features"},{"name":"suite","value":"3_mindwm_ping_pong"},{"name":"host","value":"localhost"},{"name":"thread","value":"4254-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"features.3_mindwm_ping_pong"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"feature","value":"Feature(gherkin_document=GherkinDocument(uri='file:features/3_mindwm_ping_pong.feature', feature=Feature(location=Location(line=3, column=1), tags=[Tag(location=Location(line=1, column=1), name='@mindwm_ping_pong', id='380'), Tag(location=Location(line=2, column=1), name='@mindwm_test', id='381')], language='en', keyword='Feature', name='MindWM Ping-pong EDA test', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='306'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='307')], id='308'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Prepare environment for ping tests', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='309'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='310'), Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='311'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='pong')], id='312')]), id='313'), Step(location=Location(line=15, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='314'), Step(location=Location(line=16, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='315'), Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='316'), Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='317'), Step(location=Location(line=20, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace', doc_string=None, data_table=None, id='318'), Step(location=Location(line=22, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='319')], examples=[Examples(location=Location(line=24, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=25, column=6), cells=[TableCell(location=Location(line=25, column=8), value='context'), TableCell(location=Location(line=25, column=18), value='username'), TableCell(location=Location(line=25, column=31), value='host')], id='320'), table_body=[TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='green4'), TableCell(location=Location(line=26, column=19), value='amanda4'), TableCell(location=Location(line=26, column=31), value='pi6-host')], id='321')], id='322')], id='323')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=28, column=3), tags=[], keyword='Scenario', name='Send pind to knative ping service', description='', steps=[Step(location=Location(line=29, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='324'), Step(location=Location(line=30, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='325'), Step(location=Location(line=31, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='326'), Step(location=Location(line=32, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"', doc_string=None, data_table=None, id='327'), Step(location=Location(line=33, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to knative service \"pong\" in \"context-<context>\" namespace', doc_string=DocString(location=Location(line=34, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='328'), Step(location=Location(line=42, column=7), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"200\"', doc_string=None, data_table=None, id='329'), Step(location=Location(line=44, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=45, column=7), rows=[TableRow(location=Location(line=45, column=7), cells=[TableCell(location=Location(line=45, column=9), value='Deployment name')], id='330'), TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='pong-00001-deployment')], id='331')]), id='332')], examples=[Examples(location=Location(line=48, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=49, column=6), cells=[TableCell(location=Location(line=49, column=8), value='context'), TableCell(location=Location(line=49, column=18), value='username'), TableCell(location=Location(line=49, column=31), value='host')], id='333'), table_body=[TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='green4'), TableCell(location=Location(line=50, column=19), value='amanda4'), TableCell(location=Location(line=50, column=31), value='pi6-host')], id='334')], id='335')], id='336')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=52, column=3), tags=[], keyword='Scenario', name='Send ping via <endpoint>', description='', steps=[Step(location=Location(line=53, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='337'), Step(location=Location(line=54, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='338'), Step(location=Location(line=55, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='339'), Step(location=Location(line=56, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='340'), Step(location=Location(line=57, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"', doc_string=None, data_table=None, id='341'), Step(location=Location(line=58, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to \"<endpoint>\"', doc_string=DocString(location=Location(line=59, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='342'), Step(location=Location(line=67, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"202\"', doc_string=None, data_table=None, id='343'), Step(location=Location(line=69, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=70, column=7), rows=[TableRow(location=Location(line=70, column=7), cells=[TableCell(location=Location(line=70, column=9), value='Deployment name')], id='344'), TableRow(location=Location(line=71, column=7), cells=[TableCell(location=Location(line=71, column=9), value='pong-00001-deployment')], id='345')]), id='346'), Step(location=Location(line=72, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the trace with \"<traceparent>\" should appear in TraceQL', doc_string=None, data_table=None, id='347'), Step(location=Location(line=73, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the trace should contains', doc_string=None, data_table=DataTable(location=Location(line=74, column=7), rows=[TableRow(location=Location(line=74, column=7), cells=[TableCell(location=Location(line=74, column=9), value='service name')], id='348'), TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='broker-ingress.knative-eventing')], id='349'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='unknown_service')], id='350'), TableRow(location=Location(line=77, column=7), cells=[TableCell(location=Location(line=77, column=9), value='jetstream-ch-dispatcher')], id='351')]), id='352'), Step(location=Location(line=78, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='353')], examples=[Examples(location=Location(line=80, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=81, column=6), cells=[TableCell(location=Location(line=81, column=8), value='context'), TableCell(location=Location(line=81, column=18), value='username'), TableCell(location=Location(line=81, column=31), value='host'), TableCell(location=Location(line=81, column=43), value='endpoint'), TableCell(location=Location(line=81, column=54), value='traceparent')], id='354'), table_body=[TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='green4'), TableCell(location=Location(line=82, column=19), value='amanda4'), TableCell(location=Location(line=82, column=31), value='pi6-host'), TableCell(location=Location(line=82, column=43), value='broker-ingress.knative-eventing/context-green4/context-broker'), TableCell(location=Location(line=82, column=109), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='355'), TableRow(location=Location(line=83, column=6), cells=[TableCell(location=Location(line=83, column=8), value='green4'), TableCell(location=Location(line=83, column=19), value='amanda4'), TableCell(location=Location(line=83, column=31), value='pi6-host'), TableCell(location=Location(line=83, column=43), value='broker-ingress.knative-eventing/user-amanda4/user-broker'), TableCell(location=Location(line=83, column=102), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='356')], id='357')], id='358')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=86, column=3), tags=[], keyword='Scenario', name='Send ping via nats', description='', steps=[Step(location=Location(line=87, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='359'), Step(location=Location(line=88, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='360'), Step(location=Location(line=89, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='361'), Step(location=Location(line=90, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='362'), Step(location=Location(line=91, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=92, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='363'), Step(location=Location(line=101, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=102, column=7), rows=[TableRow(location=Location(line=102, column=7), cells=[TableCell(location=Location(line=102, column=9), value='Deployment name')], id='364'), TableRow(location=Location(line=103, column=7), cells=[TableCell(location=Location(line=103, column=9), value='pong-00001-deployment')], id='365')]), id='366'), Step(location=Location(line=105, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='367')], examples=[Examples(location=Location(line=108, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=109, column=6), cells=[TableCell(location=Location(line=109, column=8), value='context'), TableCell(location=Location(line=109, column=18), value='username'), TableCell(location=Location(line=109, column=31), value='host'), TableCell(location=Location(line=109, column=43), value='tmux_pane'), TableCell(location=Location(line=109, column=55), value='tmux_window'), TableCell(location=Location(line=109, column=69), value='uuid'), TableCell(location=Location(line=109, column=109), value='tmux_socket')], id='368'), table_body=[TableRow(location=Location(line=110, column=6), cells=[TableCell(location=Location(line=110, column=8), value='green4'), TableCell(location=Location(line=110, column=19), value='amanda4'), TableCell(location=Location(line=110, column=31), value='pi6-host'), TableCell(location=Location(line=110, column=43), value='23'), TableCell(location=Location(line=110, column=55), value='36'), TableCell(location=Location(line=110, column=69), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=110, column=108), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='369')], id='370')], id='371')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=113, column=4), tags=[], keyword='Scenario', name='Cleanup <username>@<host> in <context>', description='', steps=[Step(location=Location(line=114, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='372'), Step(location=Location(line=115, column=6), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='373'), Step(location=Location(line=117, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='374'), Step(location=Location(line=119, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='375')], examples=[Examples(location=Location(line=121, column=6), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=122, column=6), cells=[TableCell(location=Location(line=122, column=8), value='context'), TableCell(location=Location(line=122, column=18), value='username'), TableCell(location=Location(line=122, column=29), value='host')], id='376'), table_body=[TableRow(location=Location(line=123, column=6), cells=[TableCell(location=Location(line=123, column=8), value='green4'), TableCell(location=Location(line=123, column=19), value='amanda4'), TableCell(location=Location(line=123, column=31), value='pi6-host')], id='377')], id='378')], id='379'))]), comments=[]), uri='file:features/3_mindwm_ping_pong.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/3_mindwm_ping_pong.feature', registry={'380': Tag(location=Location(line=1, column=1), name='@mindwm_ping_pong', id='380'), '381': Tag(location=Location(line=2, column=1), name='@mindwm_test', id='381'), '308': Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='306'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='307')], id='308'), '306': Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='306'), '307': Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='307'), '323': Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Prepare environment for ping tests', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='309'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='310'), Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='311'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='pong')], id='312')]), id='313'), Step(location=Location(line=15, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='314'), Step(location=Location(line=16, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='315'), Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='316'), Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='317'), Step(location=Location(line=20, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace', doc_string=None, data_table=None, id='318'), Step(location=Location(line=22, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='319')], examples=[Examples(location=Location(line=24, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=25, column=6), cells=[TableCell(location=Location(line=25, column=8), value='context'), TableCell(location=Location(line=25, column=18), value='username'), TableCell(location=Location(line=25, column=31), value='host')], id='320'), table_body=[TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='green4'), TableCell(location=Location(line=26, column=19), value='amanda4'), TableCell(location=Location(line=26, column=31), value='pi6-host')], id='321')], id='322')], id='323'), '309': Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='309'), '310': Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='310'), '313': Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='311'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='pong')], id='312')]), id='313'), '314': Step(location=Location(line=15, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='314'), '315': Step(location=Location(line=16, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='315'), '316': Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='316'), '317': Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='317'), '318': Step(location=Location(line=20, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace', doc_string=None, data_table=None, id='318'), '319': Step(location=Location(line=22, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='319'), '322': Examples(location=Location(line=24, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=25, column=6), cells=[TableCell(location=Location(line=25, column=8), value='context'), TableCell(location=Location(line=25, column=18), value='username'), TableCell(location=Location(line=25, column=31), value='host')], id='320'), table_body=[TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='green4'), TableCell(location=Location(line=26, column=19), value='amanda4'), TableCell(location=Location(line=26, column=31), value='pi6-host')], id='321')], id='322'), '320': TableRow(location=Location(line=25, column=6), cells=[TableCell(location=Location(line=25, column=8), value='context'), TableCell(location=Location(line=25, column=18), value='username'), TableCell(location=Location(line=25, column=31), value='host')], id='320'), '321': TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='green4'), TableCell(location=Location(line=26, column=19), value='amanda4'), TableCell(location=Location(line=26, column=31), value='pi6-host')], id='321'), '336': Scenario(location=Location(line=28, column=3), tags=[], keyword='Scenario', name='Send pind to knative ping service', description='', steps=[Step(location=Location(line=29, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='324'), Step(location=Location(line=30, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='325'), Step(location=Location(line=31, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='326'), Step(location=Location(line=32, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"', doc_string=None, data_table=None, id='327'), Step(location=Location(line=33, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to knative service \"pong\" in \"context-<context>\" namespace', doc_string=DocString(location=Location(line=34, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='328'), Step(location=Location(line=42, column=7), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"200\"', doc_string=None, data_table=None, id='329'), Step(location=Location(line=44, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=45, column=7), rows=[TableRow(location=Location(line=45, column=7), cells=[TableCell(location=Location(line=45, column=9), value='Deployment name')], id='330'), TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='pong-00001-deployment')], id='331')]), id='332')], examples=[Examples(location=Location(line=48, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=49, column=6), cells=[TableCell(location=Location(line=49, column=8), value='context'), TableCell(location=Location(line=49, column=18), value='username'), TableCell(location=Location(line=49, column=31), value='host')], id='333'), table_body=[TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='green4'), TableCell(location=Location(line=50, column=19), value='amanda4'), TableCell(location=Location(line=50, column=31), value='pi6-host')], id='334')], id='335')], id='336'), '324': Step(location=Location(line=29, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='324'), '325': Step(location=Location(line=30, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='325'), '326': Step(location=Location(line=31, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='326'), '327': Step(location=Location(line=32, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"', doc_string=None, data_table=None, id='327'), '328': Step(location=Location(line=33, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to knative service \"pong\" in \"context-<context>\" namespace', doc_string=DocString(location=Location(line=34, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='328'), '329': Step(location=Location(line=42, column=7), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"200\"', doc_string=None, data_table=None, id='329'), '332': Step(location=Location(line=44, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=45, column=7), rows=[TableRow(location=Location(line=45, column=7), cells=[TableCell(location=Location(line=45, column=9), value='Deployment name')], id='330'), TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='pong-00001-deployment')], id='331')]), id='332'), '335': Examples(location=Location(line=48, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=49, column=6), cells=[TableCell(location=Location(line=49, column=8), value='context'), TableCell(location=Location(line=49, column=18), value='username'), TableCell(location=Location(line=49, column=31), value='host')], id='333'), table_body=[TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='green4'), TableCell(location=Location(line=50, column=19), value='amanda4'), TableCell(location=Location(line=50, column=31), value='pi6-host')], id='334')], id='335'), '333': TableRow(location=Location(line=49, column=6), cells=[TableCell(location=Location(line=49, column=8), value='context'), TableCell(location=Location(line=49, column=18), value='username'), TableCell(location=Location(line=49, column=31), value='host')], id='333'), '334': TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='green4'), TableCell(location=Location(line=50, column=19), value='amanda4'), TableCell(location=Location(line=50, column=31), value='pi6-host')], id='334'), '358': Scenario(location=Location(line=52, column=3), tags=[], keyword='Scenario', name='Send ping via <endpoint>', description='', steps=[Step(location=Location(line=53, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='337'), Step(location=Location(line=54, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='338'), Step(location=Location(line=55, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='339'), Step(location=Location(line=56, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='340'), Step(location=Location(line=57, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"', doc_string=None, data_table=None, id='341'), Step(location=Location(line=58, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to \"<endpoint>\"', doc_string=DocString(location=Location(line=59, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='342'), Step(location=Location(line=67, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"202\"', doc_string=None, data_table=None, id='343'), Step(location=Location(line=69, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=70, column=7), rows=[TableRow(location=Location(line=70, column=7), cells=[TableCell(location=Location(line=70, column=9), value='Deployment name')], id='344'), TableRow(location=Location(line=71, column=7), cells=[TableCell(location=Location(line=71, column=9), value='pong-00001-deployment')], id='345')]), id='346'), Step(location=Location(line=72, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the trace with \"<traceparent>\" should appear in TraceQL', doc_string=None, data_table=None, id='347'), Step(location=Location(line=73, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the trace should contains', doc_string=None, data_table=DataTable(location=Location(line=74, column=7), rows=[TableRow(location=Location(line=74, column=7), cells=[TableCell(location=Location(line=74, column=9), value='service name')], id='348'), TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='broker-ingress.knative-eventing')], id='349'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='unknown_service')], id='350'), TableRow(location=Location(line=77, column=7), cells=[TableCell(location=Location(line=77, column=9), value='jetstream-ch-dispatcher')], id='351')]), id='352'), Step(location=Location(line=78, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='353')], examples=[Examples(location=Location(line=80, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=81, column=6), cells=[TableCell(location=Location(line=81, column=8), value='context'), TableCell(location=Location(line=81, column=18), value='username'), TableCell(location=Location(line=81, column=31), value='host'), TableCell(location=Location(line=81, column=43), value='endpoint'), TableCell(location=Location(line=81, column=54), value='traceparent')], id='354'), table_body=[TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='green4'), TableCell(location=Location(line=82, column=19), value='amanda4'), TableCell(location=Location(line=82, column=31), value='pi6-host'), TableCell(location=Location(line=82, column=43), value='broker-ingress.knative-eventing/context-green4/context-broker'), TableCell(location=Location(line=82, column=109), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='355'), TableRow(location=Location(line=83, column=6), cells=[TableCell(location=Location(line=83, column=8), value='green4'), TableCell(location=Location(line=83, column=19), value='amanda4'), TableCell(location=Location(line=83, column=31), value='pi6-host'), TableCell(location=Location(line=83, column=43), value='broker-ingress.knative-eventing/user-amanda4/user-broker'), TableCell(location=Location(line=83, column=102), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='356')], id='357')], id='358'), '337': Step(location=Location(line=53, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='337'), '338': Step(location=Location(line=54, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='338'), '339': Step(location=Location(line=55, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='339'), '340': Step(location=Location(line=56, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='340'), '341': Step(location=Location(line=57, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"', doc_string=None, data_table=None, id='341'), '342': Step(location=Location(line=58, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to \"<endpoint>\"', doc_string=DocString(location=Location(line=59, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='342'), '343': Step(location=Location(line=67, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"202\"', doc_string=None, data_table=None, id='343'), '346': Step(location=Location(line=69, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=70, column=7), rows=[TableRow(location=Location(line=70, column=7), cells=[TableCell(location=Location(line=70, column=9), value='Deployment name')], id='344'), TableRow(location=Location(line=71, column=7), cells=[TableCell(location=Location(line=71, column=9), value='pong-00001-deployment')], id='345')]), id='346'), '347': Step(location=Location(line=72, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the trace with \"<traceparent>\" should appear in TraceQL', doc_string=None, data_table=None, id='347'), '352': Step(location=Location(line=73, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the trace should contains', doc_string=None, data_table=DataTable(location=Location(line=74, column=7), rows=[TableRow(location=Location(line=74, column=7), cells=[TableCell(location=Location(line=74, column=9), value='service name')], id='348'), TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='broker-ingress.knative-eventing')], id='349'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='unknown_service')], id='350'), TableRow(location=Location(line=77, column=7), cells=[TableCell(location=Location(line=77, column=9), value='jetstream-ch-dispatcher')], id='351')]), id='352'), '353': Step(location=Location(line=78, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='353'), '357': Examples(location=Location(line=80, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=81, column=6), cells=[TableCell(location=Location(line=81, column=8), value='context'), TableCell(location=Location(line=81, column=18), value='username'), TableCell(location=Location(line=81, column=31), value='host'), TableCell(location=Location(line=81, column=43), value='endpoint'), TableCell(location=Location(line=81, column=54), value='traceparent')], id='354'), table_body=[TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='green4'), TableCell(location=Location(line=82, column=19), value='amanda4'), TableCell(location=Location(line=82, column=31), value='pi6-host'), TableCell(location=Location(line=82, column=43), value='broker-ingress.knative-eventing/context-green4/context-broker'), TableCell(location=Location(line=82, column=109), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='355'), TableRow(location=Location(line=83, column=6), cells=[TableCell(location=Location(line=83, column=8), value='green4'), TableCell(location=Location(line=83, column=19), value='amanda4'), TableCell(location=Location(line=83, column=31), value='pi6-host'), TableCell(location=Location(line=83, column=43), value='broker-ingress.knative-eventing/user-amanda4/user-broker'), TableCell(location=Location(line=83, column=102), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='356')], id='357'), '354': TableRow(location=Location(line=81, column=6), cells=[TableCell(location=Location(line=81, column=8), value='context'), TableCell(location=Location(line=81, column=18), value='username'), TableCell(location=Location(line=81, column=31), value='host'), TableCell(location=Location(line=81, column=43), value='endpoint'), TableCell(location=Location(line=81, column=54), value='traceparent')], id='354'), '355': TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='green4'), TableCell(location=Location(line=82, column=19), value='amanda4'), TableCell(location=Location(line=82, column=31), value='pi6-host'), TableCell(location=Location(line=82, column=43), value='broker-ingress.knative-eventing/context-green4/context-broker'), TableCell(location=Location(line=82, column=109), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='355'), '356': TableRow(location=Location(line=83, column=6), cells=[TableCell(location=Location(line=83, column=8), value='green4'), TableCell(location=Location(line=83, column=19), value='amanda4'), TableCell(location=Location(line=83, column=31), value='pi6-host'), TableCell(location=Location(line=83, column=43), value='broker-ingress.knative-eventing/user-amanda4/user-broker'), TableCell(location=Location(line=83, column=102), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='356'), '371': Scenario(location=Location(line=86, column=3), tags=[], keyword='Scenario', name='Send ping via nats', description='', steps=[Step(location=Location(line=87, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='359'), Step(location=Location(line=88, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='360'), Step(location=Location(line=89, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='361'), Step(location=Location(line=90, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='362'), Step(location=Location(line=91, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=92, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='363'), Step(location=Location(line=101, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=102, column=7), rows=[TableRow(location=Location(line=102, column=7), cells=[TableCell(location=Location(line=102, column=9), value='Deployment name')], id='364'), TableRow(location=Location(line=103, column=7), cells=[TableCell(location=Location(line=103, column=9), value='pong-00001-deployment')], id='365')]), id='366'), Step(location=Location(line=105, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='367')], examples=[Examples(location=Location(line=108, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=109, column=6), cells=[TableCell(location=Location(line=109, column=8), value='context'), TableCell(location=Location(line=109, column=18), value='username'), TableCell(location=Location(line=109, column=31), value='host'), TableCell(location=Location(line=109, column=43), value='tmux_pane'), TableCell(location=Location(line=109, column=55), value='tmux_window'), TableCell(location=Location(line=109, column=69), value='uuid'), TableCell(location=Location(line=109, column=109), value='tmux_socket')], id='368'), table_body=[TableRow(location=Location(line=110, column=6), cells=[TableCell(location=Location(line=110, column=8), value='green4'), TableCell(location=Location(line=110, column=19), value='amanda4'), TableCell(location=Location(line=110, column=31), value='pi6-host'), TableCell(location=Location(line=110, column=43), value='23'), TableCell(location=Location(line=110, column=55), value='36'), TableCell(location=Location(line=110, column=69), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=110, column=108), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='369')], id='370')], id='371'), '359': Step(location=Location(line=87, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='359'), '360': Step(location=Location(line=88, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='360'), '361': Step(location=Location(line=89, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='361'), '362': Step(location=Location(line=90, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='362'), '363': Step(location=Location(line=91, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=92, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='363'), '366': Step(location=Location(line=101, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=102, column=7), rows=[TableRow(location=Location(line=102, column=7), cells=[TableCell(location=Location(line=102, column=9), value='Deployment name')], id='364'), TableRow(location=Location(line=103, column=7), cells=[TableCell(location=Location(line=103, column=9), value='pong-00001-deployment')], id='365')]), id='366'), '367': Step(location=Location(line=105, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='367'), '370': Examples(location=Location(line=108, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=109, column=6), cells=[TableCell(location=Location(line=109, column=8), value='context'), TableCell(location=Location(line=109, column=18), value='username'), TableCell(location=Location(line=109, column=31), value='host'), TableCell(location=Location(line=109, column=43), value='tmux_pane'), TableCell(location=Location(line=109, column=55), value='tmux_window'), TableCell(location=Location(line=109, column=69), value='uuid'), TableCell(location=Location(line=109, column=109), value='tmux_socket')], id='368'), table_body=[TableRow(location=Location(line=110, column=6), cells=[TableCell(location=Location(line=110, column=8), value='green4'), TableCell(location=Location(line=110, column=19), value='amanda4'), TableCell(location=Location(line=110, column=31), value='pi6-host'), TableCell(location=Location(line=110, column=43), value='23'), TableCell(location=Location(line=110, column=55), value='36'), TableCell(location=Location(line=110, column=69), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=110, column=108), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='369')], id='370'), '368': TableRow(location=Location(line=109, column=6), cells=[TableCell(location=Location(line=109, column=8), value='context'), TableCell(location=Location(line=109, column=18), value='username'), TableCell(location=Location(line=109, column=31), value='host'), TableCell(location=Location(line=109, column=43), value='tmux_pane'), TableCell(location=Location(line=109, column=55), value='tmux_window'), TableCell(location=Location(line=109, column=69), value='uuid'), TableCell(location=Location(line=109, column=109), value='tmux_socket')], id='368'), '369': TableRow(location=Location(line=110, column=6), cells=[TableCell(location=Location(line=110, column=8), value='green4'), TableCell(location=Location(line=110, column=19), value='amanda4'), TableCell(location=Location(line=110, column=31), value='pi6-host'), TableCell(location=Location(line=110, column=43), value='23'), TableCell(location=Location(line=110, column=55), value='36'), TableCell(location=Location(line=110, column=69), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=110, column=108), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='369'), '379': Scenario(location=Location(line=113, column=4), tags=[], keyword='Scenario', name='Cleanup <username>@<host> in <context>', description='', steps=[Step(location=Location(line=114, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='372'), Step(location=Location(line=115, column=6), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='373'), Step(location=Location(line=117, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='374'), Step(location=Location(line=119, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='375')], examples=[Examples(location=Location(line=121, column=6), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=122, column=6), cells=[TableCell(location=Location(line=122, column=8), value='context'), TableCell(location=Location(line=122, column=18), value='username'), TableCell(location=Location(line=122, column=29), value='host')], id='376'), table_body=[TableRow(location=Location(line=123, column=6), cells=[TableCell(location=Location(line=123, column=8), value='green4'), TableCell(location=Location(line=123, column=19), value='amanda4'), TableCell(location=Location(line=123, column=31), value='pi6-host')], id='377')], id='378')], id='379'), '372': Step(location=Location(line=114, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='372'), '373': Step(location=Location(line=115, column=6), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='373'), '374': Step(location=Location(line=117, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='374'), '375': Step(location=Location(line=119, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='375'), '378': Examples(location=Location(line=121, column=6), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=122, column=6), cells=[TableCell(location=Location(line=122, column=8), value='context'), TableCell(location=Location(line=122, column=18), value='username'), TableCell(location=Location(line=122, column=29), value='host')], id='376'), table_body=[TableRow(location=Location(line=123, column=6), cells=[TableCell(location=Location(line=123, column=8), value='green4'), TableCell(location=Location(line=123, column=19), value='amanda4'), TableCell(location=Location(line=123, column=31), value='pi6-host')], id='377')], id='378'), '376': TableRow(location=Location(line=122, column=6), cells=[TableCell(location=Location(line=122, column=8), value='context'), TableCell(location=Location(line=122, column=18), value='username'), TableCell(location=Location(line=122, column=29), value='host')], id='376'), '377': TableRow(location=Location(line=123, column=6), cells=[TableCell(location=Location(line=123, column=8), value='green4'), TableCell(location=Location(line=123, column=19), value='amanda4'), TableCell(location=Location(line=123, column=31), value='pi6-host')], id='377')}, pickles=[Pickle(id='393', uri='file:features/3_mindwm_ping_pong.feature', name='Prepare environment for ping tests', language='en', steps=[PickleStep(argument=None, ast_node_ids=['306'], id='382', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['307'], id='383', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['309', '321'], id='384', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"green4\"'), PickleStep(argument=None, ast_node_ids=['310', '321'], id='385', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='pong')])])), ast_node_ids=['313', '321'], id='386', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-green4\" namespace'), PickleStep(argument=None, ast_node_ids=['314', '321'], id='387', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"amanda4\" and connects it to the context \"green4\"'), PickleStep(argument=None, ast_node_ids=['315', '321'], id='388', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['316', '321'], id='389', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"pi6-host\" and connects it to the user \"amanda4\"'), PickleStep(argument=None, ast_node_ids=['317', '321'], id='390', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['318', '321'], id='391', type=<Type.outcome: 'Outcome'>, text='NatsJetStreamChannel \"pi6-host-host-broker-kne-trigger\" is ready in \"user-amanda4\" namespace'), PickleStep(argument=None, ast_node_ids=['319', '321'], id='392', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"')], tags=[PickleTag(name='@mindwm_ping_pong', ast_node_id='380'), PickleTag(name='@mindwm_test', ast_node_id='381')], ast_node_ids=['323', '321']), Pickle(id='403', uri='file:features/3_mindwm_ping_pong.feature', name='Send pind to knative ping service', language='en', steps=[PickleStep(argument=None, ast_node_ids=['306'], id='394', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['307'], id='395', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['324', '334'], id='396', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['325', '334'], id='397', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['326', '334'], id='398', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['327', '334'], id='399', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.amanda4.pi6-host.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['328', '334'], id='400', type=<Type.action: 'Action'>, text='sends cloudevent to knative service \"pong\" in \"context-green4\" namespace'), PickleStep(argument=None, ast_node_ids=['329', '334'], id='401', type=<Type.outcome: 'Outcome'>, text='the response http code should be \"200\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='pong-00001-deployment')])])), ast_node_ids=['332', '334'], id='402', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-green4\" namespace')], tags=[PickleTag(name='@mindwm_ping_pong', ast_node_id='380'), PickleTag(name='@mindwm_test', ast_node_id='381')], ast_node_ids=['336', '334']), Pickle(id='417', uri='file:features/3_mindwm_ping_pong.feature', name='Send ping via broker-ingress.knative-eventing/context-green4/context-broker', language='en', steps=[PickleStep(argument=None, ast_node_ids=['306'], id='404', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['307'], id='405', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['337', '355'], id='406', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['338', '355'], id='407', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['339', '355'], id='408', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['340', '355'], id='409', type=<Type.action: 'Action'>, text='sets cloudevent header \"traceparent\" to \"00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00\"'), PickleStep(argument=None, ast_node_ids=['341', '355'], id='410', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.amanda4.pi6-host.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['342', '355'], id='411', type=<Type.action: 'Action'>, text='sends cloudevent to \"broker-ingress.knative-eventing/context-green4/context-broker\"'), PickleStep(argument=None, ast_node_ids=['343', '355'], id='412', type=<Type.outcome: 'Outcome'>, text='the response http code should be \"202\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='pong-00001-deployment')])])), ast_node_ids=['346', '355'], id='413', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-green4\" namespace'), PickleStep(argument=None, ast_node_ids=['347', '355'], id='414', type=<Type.outcome: 'Outcome'>, text='the trace with \"00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00\" should appear in TraceQL'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='service name')]), PickleTableRow(cells=[PickleTableCell(value='broker-ingress.knative-eventing')]), PickleTableRow(cells=[PickleTableCell(value='unknown_service')]), PickleTableRow(cells=[PickleTableCell(value='jetstream-ch-dispatcher')])])), ast_node_ids=['352', '355'], id='415', type=<Type.outcome: 'Outcome'>, text='the trace should contains'), PickleStep(argument=None, ast_node_ids=['353', '355'], id='416', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-amanda4.pi6-host-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_ping_pong', ast_node_id='380'), PickleTag(name='@mindwm_test', ast_node_id='381')], ast_node_ids=['358', '355']), Pickle(id='431', uri='file:features/3_mindwm_ping_pong.feature', name='Send ping via broker-ingress.knative-eventing/user-amanda4/user-broker', language='en', steps=[PickleStep(argument=None, ast_node_ids=['306'], id='418', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['307'], id='419', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['337', '356'], id='420', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['338', '356'], id='421', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['339', '356'], id='422', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['340', '356'], id='423', type=<Type.action: 'Action'>, text='sets cloudevent header \"traceparent\" to \"00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00\"'), PickleStep(argument=None, ast_node_ids=['341', '356'], id='424', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.amanda4.pi6-host.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['342', '356'], id='425', type=<Type.action: 'Action'>, text='sends cloudevent to \"broker-ingress.knative-eventing/user-amanda4/user-broker\"'), PickleStep(argument=None, ast_node_ids=['343', '356'], id='426', type=<Type.outcome: 'Outcome'>, text='the response http code should be \"202\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='pong-00001-deployment')])])), ast_node_ids=['346', '356'], id='427', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-green4\" namespace'), PickleStep(argument=None, ast_node_ids=['347', '356'], id='428', type=<Type.outcome: 'Outcome'>, text='the trace with \"00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00\" should appear in TraceQL'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='service name')]), PickleTableRow(cells=[PickleTableCell(value='broker-ingress.knative-eventing')]), PickleTableRow(cells=[PickleTableCell(value='unknown_service')]), PickleTableRow(cells=[PickleTableCell(value='jetstream-ch-dispatcher')])])), ast_node_ids=['352', '356'], id='429', type=<Type.outcome: 'Outcome'>, text='the trace should contains'), PickleStep(argument=None, ast_node_ids=['353', '356'], id='430', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-amanda4.pi6-host-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_ping_pong', ast_node_id='380'), PickleTag(name='@mindwm_test', ast_node_id='381')], ast_node_ids=['358', '356']), Pickle(id='441', uri='file:features/3_mindwm_ping_pong.feature', name='Send ping via nats', language='en', steps=[PickleStep(argument=None, ast_node_ids=['306'], id='432', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['307'], id='433', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['359', '369'], id='434', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['360', '369'], id='435', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['361', '369'], id='436', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['362', '369'], id='437', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.amanda4.pi6-host.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['363', '369'], id='438', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.amanda4.pi6-host.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.3623.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='pong-00001-deployment')])])), ast_node_ids=['366', '369'], id='439', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-green4\" namespace'), PickleStep(argument=None, ast_node_ids=['367', '369'], id='440', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-amanda4.pi6-host-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_ping_pong', ast_node_id='380'), PickleTag(name='@mindwm_test', ast_node_id='381')], ast_node_ids=['371', '369']), Pickle(id='448', uri='file:features/3_mindwm_ping_pong.feature', name='Cleanup amanda4@pi6-host in green4', language='en', steps=[PickleStep(argument=None, ast_node_ids=['306'], id='442', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['307'], id='443', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['372', '377'], id='444', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"pi6-host\"'), PickleStep(argument=None, ast_node_ids=['373', '377'], id='445', type=<Type.outcome: 'Outcome'>, text='the host \"pi6-host\" should be deleted'), PickleStep(argument=None, ast_node_ids=['374', '377'], id='446', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"amanda4\"'), PickleStep(argument=None, ast_node_ids=['375', '377'], id='447', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"green4\"')], tags=[PickleTag(name='@mindwm_ping_pong', ast_node_id='380'), PickleTag(name='@mindwm_test', ast_node_id='381')], ast_node_ids=['379', '377'])])"},{"name":"feature_source","value":"Source(uri='file:features/3_mindwm_ping_pong.feature', data='@mindwm_ping_pong\\n@mindwm_test\\nFeature: MindWM Ping-pong EDA test\\n  Background:\\n    Given A MindWM environment\\n    Then all nodes in Kubernetes are ready\\n\\n  Scenario: Prepare environment for ping tests \\n    When God creates a MindWM context with the name \"<context>\"\\n    Then the context should be ready and operable\\n    And the following knative services are in a ready state in the \"context-<context>\" namespace\\n      | Knative service name |\\n      | pong                 |\\n\\n    When God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"\\n    Then the user resource should be ready and operable\\n\\n    When God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"\\n    Then the host resource should be ready and operable\\n    And NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace\\n\\n    When God starts reading message from NATS topic \">\"\\n\\n    Examples:\\n     | context | username   | host      |\\n     | green4   | amanda4   | pi6-host  | \\n\\n  Scenario: Send pind to knative ping service\\n    When God creates a new cloudevent \\n      And sets cloudevent header \"ce-subject\" to \"#ping\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"\\n      And sends cloudevent to knative service \"pong\" in \"context-<context>\" namespace\\n      \"\"\"\\n      {\\n        \"input\": \"#ping\",\\n        \"output\": \"\",\\n        \"ps1\": \"❯\",\\n        \"type\": \"org.mindwm.v1.iodocument\"\\n      } \\n      \"\"\"\\n      Then the response http code should be \"200\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name       |\\n      | pong-00001-deployment |\\n\\n    Examples:\\n     | context | username   | host      |\\n     | green4   | amanda4   | pi6-host  | \\n\\n  Scenario: Send ping via <endpoint>\\n    When God creates a new cloudevent \\n      And sets cloudevent header \"ce-subject\" to \"#ping\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"\\n      And sets cloudevent header \"traceparent\" to \"<traceparent>\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"\\n      And sends cloudevent to \"<endpoint>\"\\n      \"\"\"\\n      {\\n        \"input\": \"#ping\",\\n        \"output\": \"\",\\n        \"ps1\": \"❯\",\\n        \"type\": \"org.mindwm.v1.iodocument\"\\n      } \\n      \"\"\"\\n    Then the response http code should be \"202\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name            |\\n      | pong-00001-deployment |\\n    Then the trace with \"<traceparent>\" should appear in TraceQL\\n    And the trace should contains \\n      | service name                    | \\n      | broker-ingress.knative-eventing | \\n      | unknown_service                 | \\n      | jetstream-ch-dispatcher         |\\n    And a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"\\n\\n    Examples:\\n     | context | username   | host      | endpoint | traceparent \\t\\t\\t\\t\\t         |\\n     | green4   | amanda4   | pi6-host  | broker-ingress.knative-eventing/context-green4/context-broker   | 00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00 |\\n     | green4   | amanda4   | pi6-host  | broker-ingress.knative-eventing/user-amanda4/user-broker | 00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00 |\\n\\n\\n  Scenario: Send ping via nats\\n    When God creates a new cloudevent \\n      And sets cloudevent header \"ce-subject\" to \"#ping\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"\\n      And sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"\\n      \"\"\"\\n      {\\n        \"input\": \"#ping\",\\n        \"output\": \"\",\\n        \"ps1\": \"❯\",\\n        \"type\": \"org.mindwm.v1.iodocument\"\\n      } \\n      \"\"\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name       |\\n      | pong-00001-deployment |\\n\\n    And a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"\\n\\n\\n    Examples:\\n     | context | username   | host      | tmux_pane | tmux_window | uuid                                  | tmux_socket                     |\\n     | green4   | amanda4   | pi6-host  | 23        | 36          | 09fb195c-c419-6d62-15e0-51b6ee990922  |L3RtcC90bXV4LTEwMDAvZGVmYXVsdA== |\\n\\n\\n   Scenario: Cleanup <username>@<host> in <context>\\n     When God deletes the MindWM host resource \"<host>\"\\n     Then the host \"<host>\" should be deleted\\n\\n     When God deletes the MindWM user resource \"<username>\"\\n\\n     When God deletes the MindWM context resource \"<context>\"\\n\\n     Examples:\\n     | context | username | host        | \\n     | green4   | amanda4   | pi6-host         |\\n\\n', media_type='text/x.cucumber.gherkin+plain')"},{"name":"scenario","value":"Pickle(id='393', uri='file:features/3_mindwm_ping_pong.feature', name='Prepare environment for ping tests', language='en', steps=[PickleStep(argument=None, ast_node_ids=['306'], id='382', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['307'], id='383', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['309', '321'], id='384', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"green4\"'), PickleStep(argument=None, ast_node_ids=['310', '321'], id='385', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='pong')])])), ast_node_ids=['313', '321'], id='386', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-green4\" namespace'), PickleStep(argument=None, ast_node_ids=['314', '321'], id='387', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"amanda4\" and connects it to the context \"green4\"'), PickleStep(argument=None, ast_node_ids=['315', '321'], id='388', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['316', '321'], id='389', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"pi6-host\" and connects it to the user \"amanda4\"'), PickleStep(argument=None, ast_node_ids=['317', '321'], id='390', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['318', '321'], id='391', type=<Type.outcome: 'Outcome'>, text='NatsJetStreamChannel \"pi6-host-host-broker-kne-trigger\" is ready in \"user-amanda4\" namespace'), PickleStep(argument=None, ast_node_ids=['319', '321'], id='392', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"')], tags=[PickleTag(name='@mindwm_ping_pong', ast_node_id='380'), PickleTag(name='@mindwm_test', ast_node_id='381')], ast_node_ids=['323', '321'])"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":0,"passed":10,"unknown":0,"total":10},"items":[{"uid":"19afde5631c9a47f","reportUrl":"https://mindwm.github.io/mindwm-gitops/183//#testresult/19afde5631c9a47f","status":"passed","time":{"start":1728401990547,"stop":1728402015186,"duration":24639}},{"uid":"53ec738f836b08b7","reportUrl":"https://mindwm.github.io/mindwm-gitops/182//#testresult/53ec738f836b08b7","status":"passed","time":{"start":1728386442189,"stop":1728386471224,"duration":29035}},{"uid":"48bd1cd3d3f62a8c","reportUrl":"https://mindwm.github.io/mindwm-gitops/181//#testresult/48bd1cd3d3f62a8c","status":"passed","time":{"start":1728385047758,"stop":1728385077303,"duration":29545}},{"uid":"c04b73109ed9cdf","reportUrl":"https://mindwm.github.io/mindwm-gitops/179//#testresult/c04b73109ed9cdf","status":"passed","time":{"start":1728336506920,"stop":1728336531884,"duration":24964}},{"uid":"8b80ae5a9bc5dd66","reportUrl":"https://mindwm.github.io/mindwm-gitops/179//#testresult/8b80ae5a9bc5dd66","status":"passed","time":{"start":1728332922976,"stop":1728332947677,"duration":24701}},{"uid":"2895fa299fe09d1a","reportUrl":"https://mindwm.github.io/mindwm-gitops/178//#testresult/2895fa299fe09d1a","status":"passed","time":{"start":1728324939855,"stop":1728324968979,"duration":29124}},{"uid":"f28454b3bf64cc56","reportUrl":"https://mindwm.github.io/mindwm-gitops/177//#testresult/f28454b3bf64cc56","status":"passed","time":{"start":1728323171229,"stop":1728323196307,"duration":25078}},{"uid":"5d2914a2be85cce","reportUrl":"https://mindwm.github.io/mindwm-gitops/176//#testresult/5d2914a2be85cce","status":"passed","time":{"start":1728050121703,"stop":1728050150574,"duration":28871}},{"uid":"bbd35ce1d9c9e9f7","reportUrl":"https://mindwm.github.io/mindwm-gitops/175//#testresult/bbd35ce1d9c9e9f7","status":"passed","time":{"start":1728046768286,"stop":1728046797407,"duration":29121}}]},"tags":["pytest_bdd_scenario","scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/3_mindwm_ping_pong.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=<FeaturePathType.PATH: 'path'>, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())","@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')","mindwm_ping_pong","mindwm_test","namespace(create=False, name='default')"]},"source":"b99e87ba3235e6f3.json","parameterValues":["Feature(gherkin_document=GherkinDocument(uri='file:features/3_mindwm_ping_pong.feature', feature=Feature(location=Location(line=3, column=1), tags=[Tag(location=Location(line=1, column=1), name='@mindwm_ping_pong', id='380'), Tag(location=Location(line=2, column=1), name='@mindwm_test', id='381')], language='en', keyword='Feature', name='MindWM Ping-pong EDA test', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='306'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='307')], id='308'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Prepare environment for ping tests', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='309'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='310'), Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='311'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='pong')], id='312')]), id='313'), Step(location=Location(line=15, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='314'), Step(location=Location(line=16, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='315'), Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='316'), Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='317'), Step(location=Location(line=20, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace', doc_string=None, data_table=None, id='318'), Step(location=Location(line=22, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='319')], examples=[Examples(location=Location(line=24, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=25, column=6), cells=[TableCell(location=Location(line=25, column=8), value='context'), TableCell(location=Location(line=25, column=18), value='username'), TableCell(location=Location(line=25, column=31), value='host')], id='320'), table_body=[TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='green4'), TableCell(location=Location(line=26, column=19), value='amanda4'), TableCell(location=Location(line=26, column=31), value='pi6-host')], id='321')], id='322')], id='323')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=28, column=3), tags=[], keyword='Scenario', name='Send pind to knative ping service', description='', steps=[Step(location=Location(line=29, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='324'), Step(location=Location(line=30, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='325'), Step(location=Location(line=31, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='326'), Step(location=Location(line=32, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"', doc_string=None, data_table=None, id='327'), Step(location=Location(line=33, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to knative service \"pong\" in \"context-<context>\" namespace', doc_string=DocString(location=Location(line=34, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='328'), Step(location=Location(line=42, column=7), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"200\"', doc_string=None, data_table=None, id='329'), Step(location=Location(line=44, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=45, column=7), rows=[TableRow(location=Location(line=45, column=7), cells=[TableCell(location=Location(line=45, column=9), value='Deployment name')], id='330'), TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='pong-00001-deployment')], id='331')]), id='332')], examples=[Examples(location=Location(line=48, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=49, column=6), cells=[TableCell(location=Location(line=49, column=8), value='context'), TableCell(location=Location(line=49, column=18), value='username'), TableCell(location=Location(line=49, column=31), value='host')], id='333'), table_body=[TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='green4'), TableCell(location=Location(line=50, column=19), value='amanda4'), TableCell(location=Location(line=50, column=31), value='pi6-host')], id='334')], id='335')], id='336')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=52, column=3), tags=[], keyword='Scenario', name='Send ping via <endpoint>', description='', steps=[Step(location=Location(line=53, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='337'), Step(location=Location(line=54, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='338'), Step(location=Location(line=55, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='339'), Step(location=Location(line=56, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='340'), Step(location=Location(line=57, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"', doc_string=None, data_table=None, id='341'), Step(location=Location(line=58, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to \"<endpoint>\"', doc_string=DocString(location=Location(line=59, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='342'), Step(location=Location(line=67, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"202\"', doc_string=None, data_table=None, id='343'), Step(location=Location(line=69, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=70, column=7), rows=[TableRow(location=Location(line=70, column=7), cells=[TableCell(location=Location(line=70, column=9), value='Deployment name')], id='344'), TableRow(location=Location(line=71, column=7), cells=[TableCell(location=Location(line=71, column=9), value='pong-00001-deployment')], id='345')]), id='346'), Step(location=Location(line=72, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the trace with \"<traceparent>\" should appear in TraceQL', doc_string=None, data_table=None, id='347'), Step(location=Location(line=73, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the trace should contains', doc_string=None, data_table=DataTable(location=Location(line=74, column=7), rows=[TableRow(location=Location(line=74, column=7), cells=[TableCell(location=Location(line=74, column=9), value='service name')], id='348'), TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='broker-ingress.knative-eventing')], id='349'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='unknown_service')], id='350'), TableRow(location=Location(line=77, column=7), cells=[TableCell(location=Location(line=77, column=9), value='jetstream-ch-dispatcher')], id='351')]), id='352'), Step(location=Location(line=78, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='353')], examples=[Examples(location=Location(line=80, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=81, column=6), cells=[TableCell(location=Location(line=81, column=8), value='context'), TableCell(location=Location(line=81, column=18), value='username'), TableCell(location=Location(line=81, column=31), value='host'), TableCell(location=Location(line=81, column=43), value='endpoint'), TableCell(location=Location(line=81, column=54), value='traceparent')], id='354'), table_body=[TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='green4'), TableCell(location=Location(line=82, column=19), value='amanda4'), TableCell(location=Location(line=82, column=31), value='pi6-host'), TableCell(location=Location(line=82, column=43), value='broker-ingress.knative-eventing/context-green4/context-broker'), TableCell(location=Location(line=82, column=109), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='355'), TableRow(location=Location(line=83, column=6), cells=[TableCell(location=Location(line=83, column=8), value='green4'), TableCell(location=Location(line=83, column=19), value='amanda4'), TableCell(location=Location(line=83, column=31), value='pi6-host'), TableCell(location=Location(line=83, column=43), value='broker-ingress.knative-eventing/user-amanda4/user-broker'), TableCell(location=Location(line=83, column=102), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='356')], id='357')], id='358')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=86, column=3), tags=[], keyword='Scenario', name='Send ping via nats', description='', steps=[Step(location=Location(line=87, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='359'), Step(location=Location(line=88, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='360'), Step(location=Location(line=89, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='361'), Step(location=Location(line=90, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='362'), Step(location=Location(line=91, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=92, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='363'), Step(location=Location(line=101, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=102, column=7), rows=[TableRow(location=Location(line=102, column=7), cells=[TableCell(location=Location(line=102, column=9), value='Deployment name')], id='364'), TableRow(location=Location(line=103, column=7), cells=[TableCell(location=Location(line=103, column=9), value='pong-00001-deployment')], id='365')]), id='366'), Step(location=Location(line=105, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='367')], examples=[Examples(location=Location(line=108, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=109, column=6), cells=[TableCell(location=Location(line=109, column=8), value='context'), TableCell(location=Location(line=109, column=18), value='username'), TableCell(location=Location(line=109, column=31), value='host'), TableCell(location=Location(line=109, column=43), value='tmux_pane'), TableCell(location=Location(line=109, column=55), value='tmux_window'), TableCell(location=Location(line=109, column=69), value='uuid'), TableCell(location=Location(line=109, column=109), value='tmux_socket')], id='368'), table_body=[TableRow(location=Location(line=110, column=6), cells=[TableCell(location=Location(line=110, column=8), value='green4'), TableCell(location=Location(line=110, column=19), value='amanda4'), TableCell(location=Location(line=110, column=31), value='pi6-host'), TableCell(location=Location(line=110, column=43), value='23'), TableCell(location=Location(line=110, column=55), value='36'), TableCell(location=Location(line=110, column=69), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=110, column=108), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='369')], id='370')], id='371')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=113, column=4), tags=[], keyword='Scenario', name='Cleanup <username>@<host> in <context>', description='', steps=[Step(location=Location(line=114, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='372'), Step(location=Location(line=115, column=6), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='373'), Step(location=Location(line=117, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='374'), Step(location=Location(line=119, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='375')], examples=[Examples(location=Location(line=121, column=6), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=122, column=6), cells=[TableCell(location=Location(line=122, column=8), value='context'), TableCell(location=Location(line=122, column=18), value='username'), TableCell(location=Location(line=122, column=29), value='host')], id='376'), table_body=[TableRow(location=Location(line=123, column=6), cells=[TableCell(location=Location(line=123, column=8), value='green4'), TableCell(location=Location(line=123, column=19), value='amanda4'), TableCell(location=Location(line=123, column=31), value='pi6-host')], id='377')], id='378')], id='379'))]), comments=[]), uri='file:features/3_mindwm_ping_pong.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/3_mindwm_ping_pong.feature', registry={'380': Tag(location=Location(line=1, column=1), name='@mindwm_ping_pong', id='380'), '381': Tag(location=Location(line=2, column=1), name='@mindwm_test', id='381'), '308': Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='306'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='307')], id='308'), '306': Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='306'), '307': Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='307'), '323': Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Prepare environment for ping tests', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='309'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='310'), Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='311'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='pong')], id='312')]), id='313'), Step(location=Location(line=15, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='314'), Step(location=Location(line=16, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='315'), Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='316'), Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='317'), Step(location=Location(line=20, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace', doc_string=None, data_table=None, id='318'), Step(location=Location(line=22, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='319')], examples=[Examples(location=Location(line=24, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=25, column=6), cells=[TableCell(location=Location(line=25, column=8), value='context'), TableCell(location=Location(line=25, column=18), value='username'), TableCell(location=Location(line=25, column=31), value='host')], id='320'), table_body=[TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='green4'), TableCell(location=Location(line=26, column=19), value='amanda4'), TableCell(location=Location(line=26, column=31), value='pi6-host')], id='321')], id='322')], id='323'), '309': Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='309'), '310': Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='310'), '313': Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='311'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='pong')], id='312')]), id='313'), '314': Step(location=Location(line=15, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='314'), '315': Step(location=Location(line=16, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='315'), '316': Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='316'), '317': Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='317'), '318': Step(location=Location(line=20, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace', doc_string=None, data_table=None, id='318'), '319': Step(location=Location(line=22, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='319'), '322': Examples(location=Location(line=24, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=25, column=6), cells=[TableCell(location=Location(line=25, column=8), value='context'), TableCell(location=Location(line=25, column=18), value='username'), TableCell(location=Location(line=25, column=31), value='host')], id='320'), table_body=[TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='green4'), TableCell(location=Location(line=26, column=19), value='amanda4'), TableCell(location=Location(line=26, column=31), value='pi6-host')], id='321')], id='322'), '320': TableRow(location=Location(line=25, column=6), cells=[TableCell(location=Location(line=25, column=8), value='context'), TableCell(location=Location(line=25, column=18), value='username'), TableCell(location=Location(line=25, column=31), value='host')], id='320'), '321': TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='green4'), TableCell(location=Location(line=26, column=19), value='amanda4'), TableCell(location=Location(line=26, column=31), value='pi6-host')], id='321'), '336': Scenario(location=Location(line=28, column=3), tags=[], keyword='Scenario', name='Send pind to knative ping service', description='', steps=[Step(location=Location(line=29, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='324'), Step(location=Location(line=30, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='325'), Step(location=Location(line=31, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='326'), Step(location=Location(line=32, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"', doc_string=None, data_table=None, id='327'), Step(location=Location(line=33, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to knative service \"pong\" in \"context-<context>\" namespace', doc_string=DocString(location=Location(line=34, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='328'), Step(location=Location(line=42, column=7), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"200\"', doc_string=None, data_table=None, id='329'), Step(location=Location(line=44, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=45, column=7), rows=[TableRow(location=Location(line=45, column=7), cells=[TableCell(location=Location(line=45, column=9), value='Deployment name')], id='330'), TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='pong-00001-deployment')], id='331')]), id='332')], examples=[Examples(location=Location(line=48, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=49, column=6), cells=[TableCell(location=Location(line=49, column=8), value='context'), TableCell(location=Location(line=49, column=18), value='username'), TableCell(location=Location(line=49, column=31), value='host')], id='333'), table_body=[TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='green4'), TableCell(location=Location(line=50, column=19), value='amanda4'), TableCell(location=Location(line=50, column=31), value='pi6-host')], id='334')], id='335')], id='336'), '324': Step(location=Location(line=29, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='324'), '325': Step(location=Location(line=30, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='325'), '326': Step(location=Location(line=31, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='326'), '327': Step(location=Location(line=32, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"', doc_string=None, data_table=None, id='327'), '328': Step(location=Location(line=33, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to knative service \"pong\" in \"context-<context>\" namespace', doc_string=DocString(location=Location(line=34, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='328'), '329': Step(location=Location(line=42, column=7), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"200\"', doc_string=None, data_table=None, id='329'), '332': Step(location=Location(line=44, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=45, column=7), rows=[TableRow(location=Location(line=45, column=7), cells=[TableCell(location=Location(line=45, column=9), value='Deployment name')], id='330'), TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='pong-00001-deployment')], id='331')]), id='332'), '335': Examples(location=Location(line=48, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=49, column=6), cells=[TableCell(location=Location(line=49, column=8), value='context'), TableCell(location=Location(line=49, column=18), value='username'), TableCell(location=Location(line=49, column=31), value='host')], id='333'), table_body=[TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='green4'), TableCell(location=Location(line=50, column=19), value='amanda4'), TableCell(location=Location(line=50, column=31), value='pi6-host')], id='334')], id='335'), '333': TableRow(location=Location(line=49, column=6), cells=[TableCell(location=Location(line=49, column=8), value='context'), TableCell(location=Location(line=49, column=18), value='username'), TableCell(location=Location(line=49, column=31), value='host')], id='333'), '334': TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='green4'), TableCell(location=Location(line=50, column=19), value='amanda4'), TableCell(location=Location(line=50, column=31), value='pi6-host')], id='334'), '358': Scenario(location=Location(line=52, column=3), tags=[], keyword='Scenario', name='Send ping via <endpoint>', description='', steps=[Step(location=Location(line=53, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='337'), Step(location=Location(line=54, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='338'), Step(location=Location(line=55, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='339'), Step(location=Location(line=56, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='340'), Step(location=Location(line=57, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"', doc_string=None, data_table=None, id='341'), Step(location=Location(line=58, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to \"<endpoint>\"', doc_string=DocString(location=Location(line=59, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='342'), Step(location=Location(line=67, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"202\"', doc_string=None, data_table=None, id='343'), Step(location=Location(line=69, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=70, column=7), rows=[TableRow(location=Location(line=70, column=7), cells=[TableCell(location=Location(line=70, column=9), value='Deployment name')], id='344'), TableRow(location=Location(line=71, column=7), cells=[TableCell(location=Location(line=71, column=9), value='pong-00001-deployment')], id='345')]), id='346'), Step(location=Location(line=72, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the trace with \"<traceparent>\" should appear in TraceQL', doc_string=None, data_table=None, id='347'), Step(location=Location(line=73, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the trace should contains', doc_string=None, data_table=DataTable(location=Location(line=74, column=7), rows=[TableRow(location=Location(line=74, column=7), cells=[TableCell(location=Location(line=74, column=9), value='service name')], id='348'), TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='broker-ingress.knative-eventing')], id='349'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='unknown_service')], id='350'), TableRow(location=Location(line=77, column=7), cells=[TableCell(location=Location(line=77, column=9), value='jetstream-ch-dispatcher')], id='351')]), id='352'), Step(location=Location(line=78, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='353')], examples=[Examples(location=Location(line=80, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=81, column=6), cells=[TableCell(location=Location(line=81, column=8), value='context'), TableCell(location=Location(line=81, column=18), value='username'), TableCell(location=Location(line=81, column=31), value='host'), TableCell(location=Location(line=81, column=43), value='endpoint'), TableCell(location=Location(line=81, column=54), value='traceparent')], id='354'), table_body=[TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='green4'), TableCell(location=Location(line=82, column=19), value='amanda4'), TableCell(location=Location(line=82, column=31), value='pi6-host'), TableCell(location=Location(line=82, column=43), value='broker-ingress.knative-eventing/context-green4/context-broker'), TableCell(location=Location(line=82, column=109), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='355'), TableRow(location=Location(line=83, column=6), cells=[TableCell(location=Location(line=83, column=8), value='green4'), TableCell(location=Location(line=83, column=19), value='amanda4'), TableCell(location=Location(line=83, column=31), value='pi6-host'), TableCell(location=Location(line=83, column=43), value='broker-ingress.knative-eventing/user-amanda4/user-broker'), TableCell(location=Location(line=83, column=102), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='356')], id='357')], id='358'), '337': Step(location=Location(line=53, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='337'), '338': Step(location=Location(line=54, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='338'), '339': Step(location=Location(line=55, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='339'), '340': Step(location=Location(line=56, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='340'), '341': Step(location=Location(line=57, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"', doc_string=None, data_table=None, id='341'), '342': Step(location=Location(line=58, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to \"<endpoint>\"', doc_string=DocString(location=Location(line=59, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='342'), '343': Step(location=Location(line=67, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"202\"', doc_string=None, data_table=None, id='343'), '346': Step(location=Location(line=69, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=70, column=7), rows=[TableRow(location=Location(line=70, column=7), cells=[TableCell(location=Location(line=70, column=9), value='Deployment name')], id='344'), TableRow(location=Location(line=71, column=7), cells=[TableCell(location=Location(line=71, column=9), value='pong-00001-deployment')], id='345')]), id='346'), '347': Step(location=Location(line=72, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the trace with \"<traceparent>\" should appear in TraceQL', doc_string=None, data_table=None, id='347'), '352': Step(location=Location(line=73, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the trace should contains', doc_string=None, data_table=DataTable(location=Location(line=74, column=7), rows=[TableRow(location=Location(line=74, column=7), cells=[TableCell(location=Location(line=74, column=9), value='service name')], id='348'), TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='broker-ingress.knative-eventing')], id='349'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='unknown_service')], id='350'), TableRow(location=Location(line=77, column=7), cells=[TableCell(location=Location(line=77, column=9), value='jetstream-ch-dispatcher')], id='351')]), id='352'), '353': Step(location=Location(line=78, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='353'), '357': Examples(location=Location(line=80, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=81, column=6), cells=[TableCell(location=Location(line=81, column=8), value='context'), TableCell(location=Location(line=81, column=18), value='username'), TableCell(location=Location(line=81, column=31), value='host'), TableCell(location=Location(line=81, column=43), value='endpoint'), TableCell(location=Location(line=81, column=54), value='traceparent')], id='354'), table_body=[TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='green4'), TableCell(location=Location(line=82, column=19), value='amanda4'), TableCell(location=Location(line=82, column=31), value='pi6-host'), TableCell(location=Location(line=82, column=43), value='broker-ingress.knative-eventing/context-green4/context-broker'), TableCell(location=Location(line=82, column=109), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='355'), TableRow(location=Location(line=83, column=6), cells=[TableCell(location=Location(line=83, column=8), value='green4'), TableCell(location=Location(line=83, column=19), value='amanda4'), TableCell(location=Location(line=83, column=31), value='pi6-host'), TableCell(location=Location(line=83, column=43), value='broker-ingress.knative-eventing/user-amanda4/user-broker'), TableCell(location=Location(line=83, column=102), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='356')], id='357'), '354': TableRow(location=Location(line=81, column=6), cells=[TableCell(location=Location(line=81, column=8), value='context'), TableCell(location=Location(line=81, column=18), value='username'), TableCell(location=Location(line=81, column=31), value='host'), TableCell(location=Location(line=81, column=43), value='endpoint'), TableCell(location=Location(line=81, column=54), value='traceparent')], id='354'), '355': TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='green4'), TableCell(location=Location(line=82, column=19), value='amanda4'), TableCell(location=Location(line=82, column=31), value='pi6-host'), TableCell(location=Location(line=82, column=43), value='broker-ingress.knative-eventing/context-green4/context-broker'), TableCell(location=Location(line=82, column=109), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='355'), '356': TableRow(location=Location(line=83, column=6), cells=[TableCell(location=Location(line=83, column=8), value='green4'), TableCell(location=Location(line=83, column=19), value='amanda4'), TableCell(location=Location(line=83, column=31), value='pi6-host'), TableCell(location=Location(line=83, column=43), value='broker-ingress.knative-eventing/user-amanda4/user-broker'), TableCell(location=Location(line=83, column=102), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='356'), '371': Scenario(location=Location(line=86, column=3), tags=[], keyword='Scenario', name='Send ping via nats', description='', steps=[Step(location=Location(line=87, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='359'), Step(location=Location(line=88, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='360'), Step(location=Location(line=89, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='361'), Step(location=Location(line=90, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='362'), Step(location=Location(line=91, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=92, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='363'), Step(location=Location(line=101, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=102, column=7), rows=[TableRow(location=Location(line=102, column=7), cells=[TableCell(location=Location(line=102, column=9), value='Deployment name')], id='364'), TableRow(location=Location(line=103, column=7), cells=[TableCell(location=Location(line=103, column=9), value='pong-00001-deployment')], id='365')]), id='366'), Step(location=Location(line=105, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='367')], examples=[Examples(location=Location(line=108, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=109, column=6), cells=[TableCell(location=Location(line=109, column=8), value='context'), TableCell(location=Location(line=109, column=18), value='username'), TableCell(location=Location(line=109, column=31), value='host'), TableCell(location=Location(line=109, column=43), value='tmux_pane'), TableCell(location=Location(line=109, column=55), value='tmux_window'), TableCell(location=Location(line=109, column=69), value='uuid'), TableCell(location=Location(line=109, column=109), value='tmux_socket')], id='368'), table_body=[TableRow(location=Location(line=110, column=6), cells=[TableCell(location=Location(line=110, column=8), value='green4'), TableCell(location=Location(line=110, column=19), value='amanda4'), TableCell(location=Location(line=110, column=31), value='pi6-host'), TableCell(location=Location(line=110, column=43), value='23'), TableCell(location=Location(line=110, column=55), value='36'), TableCell(location=Location(line=110, column=69), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=110, column=108), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='369')], id='370')], id='371'), '359': Step(location=Location(line=87, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='359'), '360': Step(location=Location(line=88, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='360'), '361': Step(location=Location(line=89, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='361'), '362': Step(location=Location(line=90, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='362'), '363': Step(location=Location(line=91, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=92, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='363'), '366': Step(location=Location(line=101, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=102, column=7), rows=[TableRow(location=Location(line=102, column=7), cells=[TableCell(location=Location(line=102, column=9), value='Deployment name')], id='364'), TableRow(location=Location(line=103, column=7), cells=[TableCell(location=Location(line=103, column=9), value='pong-00001-deployment')], id='365')]), id='366'), '367': Step(location=Location(line=105, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='367'), '370': Examples(location=Location(line=108, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=109, column=6), cells=[TableCell(location=Location(line=109, column=8), value='context'), TableCell(location=Location(line=109, column=18), value='username'), TableCell(location=Location(line=109, column=31), value='host'), TableCell(location=Location(line=109, column=43), value='tmux_pane'), TableCell(location=Location(line=109, column=55), value='tmux_window'), TableCell(location=Location(line=109, column=69), value='uuid'), TableCell(location=Location(line=109, column=109), value='tmux_socket')], id='368'), table_body=[TableRow(location=Location(line=110, column=6), cells=[TableCell(location=Location(line=110, column=8), value='green4'), TableCell(location=Location(line=110, column=19), value='amanda4'), TableCell(location=Location(line=110, column=31), value='pi6-host'), TableCell(location=Location(line=110, column=43), value='23'), TableCell(location=Location(line=110, column=55), value='36'), TableCell(location=Location(line=110, column=69), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=110, column=108), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='369')], id='370'), '368': TableRow(location=Location(line=109, column=6), cells=[TableCell(location=Location(line=109, column=8), value='context'), TableCell(location=Location(line=109, column=18), value='username'), TableCell(location=Location(line=109, column=31), value='host'), TableCell(location=Location(line=109, column=43), value='tmux_pane'), TableCell(location=Location(line=109, column=55), value='tmux_window'), TableCell(location=Location(line=109, column=69), value='uuid'), TableCell(location=Location(line=109, column=109), value='tmux_socket')], id='368'), '369': TableRow(location=Location(line=110, column=6), cells=[TableCell(location=Location(line=110, column=8), value='green4'), TableCell(location=Location(line=110, column=19), value='amanda4'), TableCell(location=Location(line=110, column=31), value='pi6-host'), TableCell(location=Location(line=110, column=43), value='23'), TableCell(location=Location(line=110, column=55), value='36'), TableCell(location=Location(line=110, column=69), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=110, column=108), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='369'), '379': Scenario(location=Location(line=113, column=4), tags=[], keyword='Scenario', name='Cleanup <username>@<host> in <context>', description='', steps=[Step(location=Location(line=114, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='372'), Step(location=Location(line=115, column=6), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='373'), Step(location=Location(line=117, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='374'), Step(location=Location(line=119, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='375')], examples=[Examples(location=Location(line=121, column=6), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=122, column=6), cells=[TableCell(location=Location(line=122, column=8), value='context'), TableCell(location=Location(line=122, column=18), value='username'), TableCell(location=Location(line=122, column=29), value='host')], id='376'), table_body=[TableRow(location=Location(line=123, column=6), cells=[TableCell(location=Location(line=123, column=8), value='green4'), TableCell(location=Location(line=123, column=19), value='amanda4'), TableCell(location=Location(line=123, column=31), value='pi6-host')], id='377')], id='378')], id='379'), '372': Step(location=Location(line=114, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='372'), '373': Step(location=Location(line=115, column=6), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='373'), '374': Step(location=Location(line=117, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='374'), '375': Step(location=Location(line=119, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='375'), '378': Examples(location=Location(line=121, column=6), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=122, column=6), cells=[TableCell(location=Location(line=122, column=8), value='context'), TableCell(location=Location(line=122, column=18), value='username'), TableCell(location=Location(line=122, column=29), value='host')], id='376'), table_body=[TableRow(location=Location(line=123, column=6), cells=[TableCell(location=Location(line=123, column=8), value='green4'), TableCell(location=Location(line=123, column=19), value='amanda4'), TableCell(location=Location(line=123, column=31), value='pi6-host')], id='377')], id='378'), '376': TableRow(location=Location(line=122, column=6), cells=[TableCell(location=Location(line=122, column=8), value='context'), TableCell(location=Location(line=122, column=18), value='username'), TableCell(location=Location(line=122, column=29), value='host')], id='376'), '377': TableRow(location=Location(line=123, column=6), cells=[TableCell(location=Location(line=123, column=8), value='green4'), TableCell(location=Location(line=123, column=19), value='amanda4'), TableCell(location=Location(line=123, column=31), value='pi6-host')], id='377')}, pickles=[Pickle(id='393', uri='file:features/3_mindwm_ping_pong.feature', name='Prepare environment for ping tests', language='en', steps=[PickleStep(argument=None, ast_node_ids=['306'], id='382', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['307'], id='383', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['309', '321'], id='384', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"green4\"'), PickleStep(argument=None, ast_node_ids=['310', '321'], id='385', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='pong')])])), ast_node_ids=['313', '321'], id='386', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-green4\" namespace'), PickleStep(argument=None, ast_node_ids=['314', '321'], id='387', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"amanda4\" and connects it to the context \"green4\"'), PickleStep(argument=None, ast_node_ids=['315', '321'], id='388', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['316', '321'], id='389', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"pi6-host\" and connects it to the user \"amanda4\"'), PickleStep(argument=None, ast_node_ids=['317', '321'], id='390', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['318', '321'], id='391', type=<Type.outcome: 'Outcome'>, text='NatsJetStreamChannel \"pi6-host-host-broker-kne-trigger\" is ready in \"user-amanda4\" namespace'), PickleStep(argument=None, ast_node_ids=['319', '321'], id='392', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"')], tags=[PickleTag(name='@mindwm_ping_pong', ast_node_id='380'), PickleTag(name='@mindwm_test', ast_node_id='381')], ast_node_ids=['323', '321']), Pickle(id='403', uri='file:features/3_mindwm_ping_pong.feature', name='Send pind to knative ping service', language='en', steps=[PickleStep(argument=None, ast_node_ids=['306'], id='394', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['307'], id='395', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['324', '334'], id='396', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['325', '334'], id='397', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['326', '334'], id='398', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['327', '334'], id='399', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.amanda4.pi6-host.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['328', '334'], id='400', type=<Type.action: 'Action'>, text='sends cloudevent to knative service \"pong\" in \"context-green4\" namespace'), PickleStep(argument=None, ast_node_ids=['329', '334'], id='401', type=<Type.outcome: 'Outcome'>, text='the response http code should be \"200\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='pong-00001-deployment')])])), ast_node_ids=['332', '334'], id='402', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-green4\" namespace')], tags=[PickleTag(name='@mindwm_ping_pong', ast_node_id='380'), PickleTag(name='@mindwm_test', ast_node_id='381')], ast_node_ids=['336', '334']), Pickle(id='417', uri='file:features/3_mindwm_ping_pong.feature', name='Send ping via broker-ingress.knative-eventing/context-green4/context-broker', language='en', steps=[PickleStep(argument=None, ast_node_ids=['306'], id='404', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['307'], id='405', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['337', '355'], id='406', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['338', '355'], id='407', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['339', '355'], id='408', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['340', '355'], id='409', type=<Type.action: 'Action'>, text='sets cloudevent header \"traceparent\" to \"00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00\"'), PickleStep(argument=None, ast_node_ids=['341', '355'], id='410', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.amanda4.pi6-host.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['342', '355'], id='411', type=<Type.action: 'Action'>, text='sends cloudevent to \"broker-ingress.knative-eventing/context-green4/context-broker\"'), PickleStep(argument=None, ast_node_ids=['343', '355'], id='412', type=<Type.outcome: 'Outcome'>, text='the response http code should be \"202\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='pong-00001-deployment')])])), ast_node_ids=['346', '355'], id='413', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-green4\" namespace'), PickleStep(argument=None, ast_node_ids=['347', '355'], id='414', type=<Type.outcome: 'Outcome'>, text='the trace with \"00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00\" should appear in TraceQL'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='service name')]), PickleTableRow(cells=[PickleTableCell(value='broker-ingress.knative-eventing')]), PickleTableRow(cells=[PickleTableCell(value='unknown_service')]), PickleTableRow(cells=[PickleTableCell(value='jetstream-ch-dispatcher')])])), ast_node_ids=['352', '355'], id='415', type=<Type.outcome: 'Outcome'>, text='the trace should contains'), PickleStep(argument=None, ast_node_ids=['353', '355'], id='416', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-amanda4.pi6-host-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_ping_pong', ast_node_id='380'), PickleTag(name='@mindwm_test', ast_node_id='381')], ast_node_ids=['358', '355']), Pickle(id='431', uri='file:features/3_mindwm_ping_pong.feature', name='Send ping via broker-ingress.knative-eventing/user-amanda4/user-broker', language='en', steps=[PickleStep(argument=None, ast_node_ids=['306'], id='418', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['307'], id='419', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['337', '356'], id='420', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['338', '356'], id='421', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['339', '356'], id='422', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['340', '356'], id='423', type=<Type.action: 'Action'>, text='sets cloudevent header \"traceparent\" to \"00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00\"'), PickleStep(argument=None, ast_node_ids=['341', '356'], id='424', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.amanda4.pi6-host.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['342', '356'], id='425', type=<Type.action: 'Action'>, text='sends cloudevent to \"broker-ingress.knative-eventing/user-amanda4/user-broker\"'), PickleStep(argument=None, ast_node_ids=['343', '356'], id='426', type=<Type.outcome: 'Outcome'>, text='the response http code should be \"202\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='pong-00001-deployment')])])), ast_node_ids=['346', '356'], id='427', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-green4\" namespace'), PickleStep(argument=None, ast_node_ids=['347', '356'], id='428', type=<Type.outcome: 'Outcome'>, text='the trace with \"00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00\" should appear in TraceQL'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='service name')]), PickleTableRow(cells=[PickleTableCell(value='broker-ingress.knative-eventing')]), PickleTableRow(cells=[PickleTableCell(value='unknown_service')]), PickleTableRow(cells=[PickleTableCell(value='jetstream-ch-dispatcher')])])), ast_node_ids=['352', '356'], id='429', type=<Type.outcome: 'Outcome'>, text='the trace should contains'), PickleStep(argument=None, ast_node_ids=['353', '356'], id='430', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-amanda4.pi6-host-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_ping_pong', ast_node_id='380'), PickleTag(name='@mindwm_test', ast_node_id='381')], ast_node_ids=['358', '356']), Pickle(id='441', uri='file:features/3_mindwm_ping_pong.feature', name='Send ping via nats', language='en', steps=[PickleStep(argument=None, ast_node_ids=['306'], id='432', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['307'], id='433', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['359', '369'], id='434', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['360', '369'], id='435', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['361', '369'], id='436', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['362', '369'], id='437', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.amanda4.pi6-host.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['363', '369'], id='438', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.amanda4.pi6-host.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.3623.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='pong-00001-deployment')])])), ast_node_ids=['366', '369'], id='439', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-green4\" namespace'), PickleStep(argument=None, ast_node_ids=['367', '369'], id='440', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-amanda4.pi6-host-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_ping_pong', ast_node_id='380'), PickleTag(name='@mindwm_test', ast_node_id='381')], ast_node_ids=['371', '369']), Pickle(id='448', uri='file:features/3_mindwm_ping_pong.feature', name='Cleanup amanda4@pi6-host in green4', language='en', steps=[PickleStep(argument=None, ast_node_ids=['306'], id='442', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['307'], id='443', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['372', '377'], id='444', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"pi6-host\"'), PickleStep(argument=None, ast_node_ids=['373', '377'], id='445', type=<Type.outcome: 'Outcome'>, text='the host \"pi6-host\" should be deleted'), PickleStep(argument=None, ast_node_ids=['374', '377'], id='446', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"amanda4\"'), PickleStep(argument=None, ast_node_ids=['375', '377'], id='447', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"green4\"')], tags=[PickleTag(name='@mindwm_ping_pong', ast_node_id='380'), PickleTag(name='@mindwm_test', ast_node_id='381')], ast_node_ids=['379', '377'])])","Source(uri='file:features/3_mindwm_ping_pong.feature', data='@mindwm_ping_pong\\n@mindwm_test\\nFeature: MindWM Ping-pong EDA test\\n  Background:\\n    Given A MindWM environment\\n    Then all nodes in Kubernetes are ready\\n\\n  Scenario: Prepare environment for ping tests \\n    When God creates a MindWM context with the name \"<context>\"\\n    Then the context should be ready and operable\\n    And the following knative services are in a ready state in the \"context-<context>\" namespace\\n      | Knative service name |\\n      | pong                 |\\n\\n    When God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"\\n    Then the user resource should be ready and operable\\n\\n    When God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"\\n    Then the host resource should be ready and operable\\n    And NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace\\n\\n    When God starts reading message from NATS topic \">\"\\n\\n    Examples:\\n     | context | username   | host      |\\n     | green4   | amanda4   | pi6-host  | \\n\\n  Scenario: Send pind to knative ping service\\n    When God creates a new cloudevent \\n      And sets cloudevent header \"ce-subject\" to \"#ping\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"\\n      And sends cloudevent to knative service \"pong\" in \"context-<context>\" namespace\\n      \"\"\"\\n      {\\n        \"input\": \"#ping\",\\n        \"output\": \"\",\\n        \"ps1\": \"❯\",\\n        \"type\": \"org.mindwm.v1.iodocument\"\\n      } \\n      \"\"\"\\n      Then the response http code should be \"200\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name       |\\n      | pong-00001-deployment |\\n\\n    Examples:\\n     | context | username   | host      |\\n     | green4   | amanda4   | pi6-host  | \\n\\n  Scenario: Send ping via <endpoint>\\n    When God creates a new cloudevent \\n      And sets cloudevent header \"ce-subject\" to \"#ping\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"\\n      And sets cloudevent header \"traceparent\" to \"<traceparent>\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"\\n      And sends cloudevent to \"<endpoint>\"\\n      \"\"\"\\n      {\\n        \"input\": \"#ping\",\\n        \"output\": \"\",\\n        \"ps1\": \"❯\",\\n        \"type\": \"org.mindwm.v1.iodocument\"\\n      } \\n      \"\"\"\\n    Then the response http code should be \"202\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name            |\\n      | pong-00001-deployment |\\n    Then the trace with \"<traceparent>\" should appear in TraceQL\\n    And the trace should contains \\n      | service name                    | \\n      | broker-ingress.knative-eventing | \\n      | unknown_service                 | \\n      | jetstream-ch-dispatcher         |\\n    And a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"\\n\\n    Examples:\\n     | context | username   | host      | endpoint | traceparent \\t\\t\\t\\t\\t         |\\n     | green4   | amanda4   | pi6-host  | broker-ingress.knative-eventing/context-green4/context-broker   | 00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00 |\\n     | green4   | amanda4   | pi6-host  | broker-ingress.knative-eventing/user-amanda4/user-broker | 00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00 |\\n\\n\\n  Scenario: Send ping via nats\\n    When God creates a new cloudevent \\n      And sets cloudevent header \"ce-subject\" to \"#ping\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"\\n      And sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"\\n      \"\"\"\\n      {\\n        \"input\": \"#ping\",\\n        \"output\": \"\",\\n        \"ps1\": \"❯\",\\n        \"type\": \"org.mindwm.v1.iodocument\"\\n      } \\n      \"\"\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name       |\\n      | pong-00001-deployment |\\n\\n    And a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"\\n\\n\\n    Examples:\\n     | context | username   | host      | tmux_pane | tmux_window | uuid                                  | tmux_socket                     |\\n     | green4   | amanda4   | pi6-host  | 23        | 36          | 09fb195c-c419-6d62-15e0-51b6ee990922  |L3RtcC90bXV4LTEwMDAvZGVmYXVsdA== |\\n\\n\\n   Scenario: Cleanup <username>@<host> in <context>\\n     When God deletes the MindWM host resource \"<host>\"\\n     Then the host \"<host>\" should be deleted\\n\\n     When God deletes the MindWM user resource \"<username>\"\\n\\n     When God deletes the MindWM context resource \"<context>\"\\n\\n     Examples:\\n     | context | username | host        | \\n     | green4   | amanda4   | pi6-host         |\\n\\n', media_type='text/x.cucumber.gherkin+plain')","Pickle(id='393', uri='file:features/3_mindwm_ping_pong.feature', name='Prepare environment for ping tests', language='en', steps=[PickleStep(argument=None, ast_node_ids=['306'], id='382', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['307'], id='383', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['309', '321'], id='384', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"green4\"'), PickleStep(argument=None, ast_node_ids=['310', '321'], id='385', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='pong')])])), ast_node_ids=['313', '321'], id='386', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-green4\" namespace'), PickleStep(argument=None, ast_node_ids=['314', '321'], id='387', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"amanda4\" and connects it to the context \"green4\"'), PickleStep(argument=None, ast_node_ids=['315', '321'], id='388', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['316', '321'], id='389', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"pi6-host\" and connects it to the user \"amanda4\"'), PickleStep(argument=None, ast_node_ids=['317', '321'], id='390', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['318', '321'], id='391', type=<Type.outcome: 'Outcome'>, text='NatsJetStreamChannel \"pi6-host-host-broker-kne-trigger\" is ready in \"user-amanda4\" namespace'), PickleStep(argument=None, ast_node_ids=['319', '321'], id='392', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"')], tags=[PickleTag(name='@mindwm_ping_pong', ast_node_id='380'), PickleTag(name='@mindwm_test', ast_node_id='381')], ast_node_ids=['323', '321'])"]}