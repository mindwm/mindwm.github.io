{"uid":"61dc41fde74b95b1","name":"test_scenarios[file:features/6_mindwm_two_hosts_one_user.feature-MindWM two hosts one user function test-Cleanup hosts travellaptop in user shesha[table_rows:[line: 99]]]","fullName":"features.6_mindwm_two_hosts_one_user#test_scenarios","historyId":"ac35c0a215bf79b8c363e7ea993f5342","time":{"start":1728404381227,"stop":1728404382540,"duration":1313},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"pytestconfig","time":{"start":1728402565274,"stop":1728402565274,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"steps_left","time":{"start":1728404381227,"stop":1728404381227,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"step_matcher","time":{"start":1728404381228,"stop":1728404381228,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"parameter_type_registry","time":{"start":1728404381228,"stop":1728404381228,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"step_registry","time":{"start":1728404381228,"stop":1728404381228,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"step_registry","time":{"start":1728404381228,"stop":1728404381228,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"kube","time":{"start":1728404381231,"stop":1728404381236,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"kubeconfig","time":{"start":1728404381231,"stop":1728404381231,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"kubecontext","time":{"start":1728404381231,"stop":1728404381231,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"testStage":{"status":"passed","steps":[{"name":"Mindwm crd 'xcontexts' is exist","time":{"start":1728404381276,"stop":1728404381276,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Mindwm crd 'xhosts' is exist","time":{"start":1728404381315,"stop":1728404381316,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Mindwm crd 'xusers' is exist","time":{"start":1728404381352,"stop":1728404381352,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Kubernetes node 'localhost' are True","time":{"start":1728404381435,"stop":1728404381435,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Mindwm host travellaptop delete","time":{"start":1728404381468,"stop":1728404381468,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Mindwm host travellaptop has been deleted","time":{"start":1728404382540,"stop":1728404382540,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":6,"attachmentsCount":0,"hasContent":true},"afterStages":[],"labels":[{"name":"tag","value":"scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/6_mindwm_two_hosts_one_user.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=<FeaturePathType.PATH: 'path'>, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())"},{"name":"tag","value":"@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')"},{"name":"tag","value":"pytest_bdd_scenario"},{"name":"tag","value":"mindwm_test"},{"name":"tag","value":"mindwm_two_hosts_one_user"},{"name":"tag","value":"namespace(create=False, name='default')"},{"name":"parentSuite","value":"features"},{"name":"suite","value":"6_mindwm_two_hosts_one_user"},{"name":"host","value":"localhost"},{"name":"thread","value":"4254-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"features.6_mindwm_two_hosts_one_user"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"feature","value":"Feature(gherkin_document=GherkinDocument(uri='file:features/6_mindwm_two_hosts_one_user.feature', feature=Feature(location=Location(line=3, column=1), tags=[Tag(location=Location(line=1, column=1), name='@mindwm_two_hosts_one_user', id='666'), Tag(location=Location(line=2, column=1), name='@mindwm_test', id='667')], language='en', keyword='Feature', name='MindWM two hosts one user function test', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='598'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='599')], id='600'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Create context <context> and user <username>', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='601'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='602'), Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='603'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='iocontext')], id='604'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='pong')], id='605'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='kafka-cdc')], id='606')]), id='607'), Step(location=Location(line=16, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='608'), Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='609'), Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='610')], examples=[Examples(location=Location(line=22, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=23, column=5), cells=[TableCell(location=Location(line=23, column=7), value='context'), TableCell(location=Location(line=23, column=18), value='username')], id='611'), table_body=[TableRow(location=Location(line=24, column=5), cells=[TableCell(location=Location(line=24, column=7), value='varanasi'), TableCell(location=Location(line=24, column=18), value='shesha')], id='612')], id='613')], id='614')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=26, column=3), tags=[], keyword='Scenario', name='Create <host> for user <username>', description='', steps=[Step(location=Location(line=28, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='615'), Step(location=Location(line=29, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='616')], examples=[Examples(location=Location(line=31, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=32, column=5), cells=[TableCell(location=Location(line=32, column=7), value='username'), TableCell(location=Location(line=32, column=18), value='host')], id='617'), table_body=[TableRow(location=Location(line=33, column=5), cells=[TableCell(location=Location(line=33, column=7), value='shesha'), TableCell(location=Location(line=33, column=18), value='workstation01')], id='618'), TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='shesha'), TableCell(location=Location(line=34, column=18), value='travellaptop')], id='619')], id='620')], id='621')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=37, column=3), tags=[], keyword='Scenario', name='Send ping via nats host: <host>, user: <username>', description='', steps=[Step(location=Location(line=38, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='622'), Step(location=Location(line=39, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='623'), Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='624'), Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='625'), Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='626'), Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=44, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='627'), Step(location=Location(line=53, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=54, column=7), rows=[TableRow(location=Location(line=54, column=7), cells=[TableCell(location=Location(line=54, column=9), value='Deployment name')], id='628'), TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='pong-00001-deployment')], id='629')]), id='630'), Step(location=Location(line=57, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='631')], examples=[Examples(location=Location(line=59, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=60, column=6), cells=[TableCell(location=Location(line=60, column=8), value='context'), TableCell(location=Location(line=60, column=18), value='username'), TableCell(location=Location(line=60, column=31), value='host'), TableCell(location=Location(line=60, column=43), value='tmux_pane'), TableCell(location=Location(line=60, column=55), value='tmux_window'), TableCell(location=Location(line=60, column=69), value='uuid'), TableCell(location=Location(line=60, column=109), value='tmux_socket')], id='632'), table_body=[TableRow(location=Location(line=61, column=6), cells=[TableCell(location=Location(line=61, column=8), value='varanasi'), TableCell(location=Location(line=61, column=20), value='shesha'), TableCell(location=Location(line=61, column=31), value='workstation01'), TableCell(location=Location(line=61, column=48), value='23'), TableCell(location=Location(line=61, column=60), value='36'), TableCell(location=Location(line=61, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=61, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='633'), TableRow(location=Location(line=62, column=6), cells=[TableCell(location=Location(line=62, column=8), value='varanasi'), TableCell(location=Location(line=62, column=20), value='shesha'), TableCell(location=Location(line=62, column=31), value='travellaptop'), TableCell(location=Location(line=62, column=47), value='23'), TableCell(location=Location(line=62, column=59), value='36'), TableCell(location=Location(line=62, column=73), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=62, column=112), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='634')], id='635')], id='636')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=64, column=3), tags=[], keyword='Scenario', name='Send iodocument via nats host: <host>, user: <username> and check that second host received graph the update', description='', steps=[Step(location=Location(line=65, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='637'), Step(location=Location(line=66, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='638'), Step(location=Location(line=67, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='639'), Step(location=Location(line=68, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='640'), Step(location=Location(line=69, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=70, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='641'), Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=80, column=7), rows=[TableRow(location=Location(line=80, column=7), cells=[TableCell(location=Location(line=80, column=9), value='Deployment name')], id='642'), TableRow(location=Location(line=81, column=7), cells=[TableCell(location=Location(line=81, column=9), value='iocontext-00001-deployment')], id='643'), TableRow(location=Location(line=82, column=7), cells=[TableCell(location=Location(line=82, column=9), value='kafka-cdc-00001-deployment')], id='644')]), id='645'), Step(location=Location(line=84, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.travellaptop-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='646')], examples=[Examples(location=Location(line=86, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=87, column=6), cells=[TableCell(location=Location(line=87, column=8), value='context'), TableCell(location=Location(line=87, column=18), value='username'), TableCell(location=Location(line=87, column=31), value='host'), TableCell(location=Location(line=87, column=43), value='tmux_pane'), TableCell(location=Location(line=87, column=55), value='tmux_window'), TableCell(location=Location(line=87, column=69), value='uuid'), TableCell(location=Location(line=87, column=109), value='tmux_socket')], id='647'), table_body=[TableRow(location=Location(line=88, column=6), cells=[TableCell(location=Location(line=88, column=8), value='varanasi'), TableCell(location=Location(line=88, column=20), value='shesha'), TableCell(location=Location(line=88, column=31), value='workstation01'), TableCell(location=Location(line=88, column=48), value='23'), TableCell(location=Location(line=88, column=60), value='36'), TableCell(location=Location(line=88, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=88, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='648')], id='649')], id='650')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=92, column=3), tags=[], keyword='Scenario', name='Cleanup hosts <host> in user <username>', description='', steps=[Step(location=Location(line=93, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='651'), Step(location=Location(line=94, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='652')], examples=[Examples(location=Location(line=96, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=97, column=5), cells=[TableCell(location=Location(line=97, column=7), value='username'), TableCell(location=Location(line=97, column=18), value='host')], id='653'), table_body=[TableRow(location=Location(line=98, column=5), cells=[TableCell(location=Location(line=98, column=7), value='shesha'), TableCell(location=Location(line=98, column=18), value='workstation01')], id='654'), TableRow(location=Location(line=99, column=5), cells=[TableCell(location=Location(line=99, column=7), value='shesha'), TableCell(location=Location(line=99, column=18), value='travellaptop')], id='655')], id='656')], id='657')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=101, column=3), tags=[], keyword='Scenario', name='Cleanup user <username> and context <context>', description='', steps=[Step(location=Location(line=102, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='658'), Step(location=Location(line=103, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='659'), Step(location=Location(line=105, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='660'), Step(location=Location(line=106, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='661')], examples=[Examples(location=Location(line=108, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=109, column=5), cells=[TableCell(location=Location(line=109, column=7), value='context'), TableCell(location=Location(line=109, column=18), value='username')], id='662'), table_body=[TableRow(location=Location(line=110, column=5), cells=[TableCell(location=Location(line=110, column=7), value='varanasi'), TableCell(location=Location(line=110, column=18), value='shesha')], id='663')], id='664')], id='665'))]), comments=[Comment(location=Location(line=89, column=1), text='     #| varanasi  | shesha   | travellaptop  | 23        | 36          | 8d839f82-79da-11ef-bc9f-f74fac7543ac  |L3RtcC90bXV4LTEwMDAvZGVmYXVsdA== |')]), uri='file:features/6_mindwm_two_hosts_one_user.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/6_mindwm_two_hosts_one_user.feature', registry={'666': Tag(location=Location(line=1, column=1), name='@mindwm_two_hosts_one_user', id='666'), '667': Tag(location=Location(line=2, column=1), name='@mindwm_test', id='667'), '600': Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='598'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='599')], id='600'), '598': Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='598'), '599': Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='599'), '614': Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Create context <context> and user <username>', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='601'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='602'), Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='603'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='iocontext')], id='604'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='pong')], id='605'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='kafka-cdc')], id='606')]), id='607'), Step(location=Location(line=16, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='608'), Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='609'), Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='610')], examples=[Examples(location=Location(line=22, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=23, column=5), cells=[TableCell(location=Location(line=23, column=7), value='context'), TableCell(location=Location(line=23, column=18), value='username')], id='611'), table_body=[TableRow(location=Location(line=24, column=5), cells=[TableCell(location=Location(line=24, column=7), value='varanasi'), TableCell(location=Location(line=24, column=18), value='shesha')], id='612')], id='613')], id='614'), '601': Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='601'), '602': Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='602'), '607': Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='603'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='iocontext')], id='604'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='pong')], id='605'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='kafka-cdc')], id='606')]), id='607'), '608': Step(location=Location(line=16, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='608'), '609': Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='609'), '610': Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='610'), '613': Examples(location=Location(line=22, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=23, column=5), cells=[TableCell(location=Location(line=23, column=7), value='context'), TableCell(location=Location(line=23, column=18), value='username')], id='611'), table_body=[TableRow(location=Location(line=24, column=5), cells=[TableCell(location=Location(line=24, column=7), value='varanasi'), TableCell(location=Location(line=24, column=18), value='shesha')], id='612')], id='613'), '611': TableRow(location=Location(line=23, column=5), cells=[TableCell(location=Location(line=23, column=7), value='context'), TableCell(location=Location(line=23, column=18), value='username')], id='611'), '612': TableRow(location=Location(line=24, column=5), cells=[TableCell(location=Location(line=24, column=7), value='varanasi'), TableCell(location=Location(line=24, column=18), value='shesha')], id='612'), '621': Scenario(location=Location(line=26, column=3), tags=[], keyword='Scenario', name='Create <host> for user <username>', description='', steps=[Step(location=Location(line=28, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='615'), Step(location=Location(line=29, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='616')], examples=[Examples(location=Location(line=31, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=32, column=5), cells=[TableCell(location=Location(line=32, column=7), value='username'), TableCell(location=Location(line=32, column=18), value='host')], id='617'), table_body=[TableRow(location=Location(line=33, column=5), cells=[TableCell(location=Location(line=33, column=7), value='shesha'), TableCell(location=Location(line=33, column=18), value='workstation01')], id='618'), TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='shesha'), TableCell(location=Location(line=34, column=18), value='travellaptop')], id='619')], id='620')], id='621'), '615': Step(location=Location(line=28, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='615'), '616': Step(location=Location(line=29, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='616'), '620': Examples(location=Location(line=31, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=32, column=5), cells=[TableCell(location=Location(line=32, column=7), value='username'), TableCell(location=Location(line=32, column=18), value='host')], id='617'), table_body=[TableRow(location=Location(line=33, column=5), cells=[TableCell(location=Location(line=33, column=7), value='shesha'), TableCell(location=Location(line=33, column=18), value='workstation01')], id='618'), TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='shesha'), TableCell(location=Location(line=34, column=18), value='travellaptop')], id='619')], id='620'), '617': TableRow(location=Location(line=32, column=5), cells=[TableCell(location=Location(line=32, column=7), value='username'), TableCell(location=Location(line=32, column=18), value='host')], id='617'), '618': TableRow(location=Location(line=33, column=5), cells=[TableCell(location=Location(line=33, column=7), value='shesha'), TableCell(location=Location(line=33, column=18), value='workstation01')], id='618'), '619': TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='shesha'), TableCell(location=Location(line=34, column=18), value='travellaptop')], id='619'), '636': Scenario(location=Location(line=37, column=3), tags=[], keyword='Scenario', name='Send ping via nats host: <host>, user: <username>', description='', steps=[Step(location=Location(line=38, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='622'), Step(location=Location(line=39, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='623'), Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='624'), Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='625'), Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='626'), Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=44, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='627'), Step(location=Location(line=53, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=54, column=7), rows=[TableRow(location=Location(line=54, column=7), cells=[TableCell(location=Location(line=54, column=9), value='Deployment name')], id='628'), TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='pong-00001-deployment')], id='629')]), id='630'), Step(location=Location(line=57, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='631')], examples=[Examples(location=Location(line=59, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=60, column=6), cells=[TableCell(location=Location(line=60, column=8), value='context'), TableCell(location=Location(line=60, column=18), value='username'), TableCell(location=Location(line=60, column=31), value='host'), TableCell(location=Location(line=60, column=43), value='tmux_pane'), TableCell(location=Location(line=60, column=55), value='tmux_window'), TableCell(location=Location(line=60, column=69), value='uuid'), TableCell(location=Location(line=60, column=109), value='tmux_socket')], id='632'), table_body=[TableRow(location=Location(line=61, column=6), cells=[TableCell(location=Location(line=61, column=8), value='varanasi'), TableCell(location=Location(line=61, column=20), value='shesha'), TableCell(location=Location(line=61, column=31), value='workstation01'), TableCell(location=Location(line=61, column=48), value='23'), TableCell(location=Location(line=61, column=60), value='36'), TableCell(location=Location(line=61, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=61, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='633'), TableRow(location=Location(line=62, column=6), cells=[TableCell(location=Location(line=62, column=8), value='varanasi'), TableCell(location=Location(line=62, column=20), value='shesha'), TableCell(location=Location(line=62, column=31), value='travellaptop'), TableCell(location=Location(line=62, column=47), value='23'), TableCell(location=Location(line=62, column=59), value='36'), TableCell(location=Location(line=62, column=73), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=62, column=112), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='634')], id='635')], id='636'), '622': Step(location=Location(line=38, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='622'), '623': Step(location=Location(line=39, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='623'), '624': Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='624'), '625': Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='625'), '626': Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='626'), '627': Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=44, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='627'), '630': Step(location=Location(line=53, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=54, column=7), rows=[TableRow(location=Location(line=54, column=7), cells=[TableCell(location=Location(line=54, column=9), value='Deployment name')], id='628'), TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='pong-00001-deployment')], id='629')]), id='630'), '631': Step(location=Location(line=57, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='631'), '635': Examples(location=Location(line=59, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=60, column=6), cells=[TableCell(location=Location(line=60, column=8), value='context'), TableCell(location=Location(line=60, column=18), value='username'), TableCell(location=Location(line=60, column=31), value='host'), TableCell(location=Location(line=60, column=43), value='tmux_pane'), TableCell(location=Location(line=60, column=55), value='tmux_window'), TableCell(location=Location(line=60, column=69), value='uuid'), TableCell(location=Location(line=60, column=109), value='tmux_socket')], id='632'), table_body=[TableRow(location=Location(line=61, column=6), cells=[TableCell(location=Location(line=61, column=8), value='varanasi'), TableCell(location=Location(line=61, column=20), value='shesha'), TableCell(location=Location(line=61, column=31), value='workstation01'), TableCell(location=Location(line=61, column=48), value='23'), TableCell(location=Location(line=61, column=60), value='36'), TableCell(location=Location(line=61, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=61, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='633'), TableRow(location=Location(line=62, column=6), cells=[TableCell(location=Location(line=62, column=8), value='varanasi'), TableCell(location=Location(line=62, column=20), value='shesha'), TableCell(location=Location(line=62, column=31), value='travellaptop'), TableCell(location=Location(line=62, column=47), value='23'), TableCell(location=Location(line=62, column=59), value='36'), TableCell(location=Location(line=62, column=73), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=62, column=112), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='634')], id='635'), '632': TableRow(location=Location(line=60, column=6), cells=[TableCell(location=Location(line=60, column=8), value='context'), TableCell(location=Location(line=60, column=18), value='username'), TableCell(location=Location(line=60, column=31), value='host'), TableCell(location=Location(line=60, column=43), value='tmux_pane'), TableCell(location=Location(line=60, column=55), value='tmux_window'), TableCell(location=Location(line=60, column=69), value='uuid'), TableCell(location=Location(line=60, column=109), value='tmux_socket')], id='632'), '633': TableRow(location=Location(line=61, column=6), cells=[TableCell(location=Location(line=61, column=8), value='varanasi'), TableCell(location=Location(line=61, column=20), value='shesha'), TableCell(location=Location(line=61, column=31), value='workstation01'), TableCell(location=Location(line=61, column=48), value='23'), TableCell(location=Location(line=61, column=60), value='36'), TableCell(location=Location(line=61, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=61, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='633'), '634': TableRow(location=Location(line=62, column=6), cells=[TableCell(location=Location(line=62, column=8), value='varanasi'), TableCell(location=Location(line=62, column=20), value='shesha'), TableCell(location=Location(line=62, column=31), value='travellaptop'), TableCell(location=Location(line=62, column=47), value='23'), TableCell(location=Location(line=62, column=59), value='36'), TableCell(location=Location(line=62, column=73), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=62, column=112), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='634'), '650': Scenario(location=Location(line=64, column=3), tags=[], keyword='Scenario', name='Send iodocument via nats host: <host>, user: <username> and check that second host received graph the update', description='', steps=[Step(location=Location(line=65, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='637'), Step(location=Location(line=66, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='638'), Step(location=Location(line=67, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='639'), Step(location=Location(line=68, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='640'), Step(location=Location(line=69, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=70, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='641'), Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=80, column=7), rows=[TableRow(location=Location(line=80, column=7), cells=[TableCell(location=Location(line=80, column=9), value='Deployment name')], id='642'), TableRow(location=Location(line=81, column=7), cells=[TableCell(location=Location(line=81, column=9), value='iocontext-00001-deployment')], id='643'), TableRow(location=Location(line=82, column=7), cells=[TableCell(location=Location(line=82, column=9), value='kafka-cdc-00001-deployment')], id='644')]), id='645'), Step(location=Location(line=84, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.travellaptop-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='646')], examples=[Examples(location=Location(line=86, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=87, column=6), cells=[TableCell(location=Location(line=87, column=8), value='context'), TableCell(location=Location(line=87, column=18), value='username'), TableCell(location=Location(line=87, column=31), value='host'), TableCell(location=Location(line=87, column=43), value='tmux_pane'), TableCell(location=Location(line=87, column=55), value='tmux_window'), TableCell(location=Location(line=87, column=69), value='uuid'), TableCell(location=Location(line=87, column=109), value='tmux_socket')], id='647'), table_body=[TableRow(location=Location(line=88, column=6), cells=[TableCell(location=Location(line=88, column=8), value='varanasi'), TableCell(location=Location(line=88, column=20), value='shesha'), TableCell(location=Location(line=88, column=31), value='workstation01'), TableCell(location=Location(line=88, column=48), value='23'), TableCell(location=Location(line=88, column=60), value='36'), TableCell(location=Location(line=88, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=88, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='648')], id='649')], id='650'), '637': Step(location=Location(line=65, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='637'), '638': Step(location=Location(line=66, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='638'), '639': Step(location=Location(line=67, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='639'), '640': Step(location=Location(line=68, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='640'), '641': Step(location=Location(line=69, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=70, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='641'), '645': Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=80, column=7), rows=[TableRow(location=Location(line=80, column=7), cells=[TableCell(location=Location(line=80, column=9), value='Deployment name')], id='642'), TableRow(location=Location(line=81, column=7), cells=[TableCell(location=Location(line=81, column=9), value='iocontext-00001-deployment')], id='643'), TableRow(location=Location(line=82, column=7), cells=[TableCell(location=Location(line=82, column=9), value='kafka-cdc-00001-deployment')], id='644')]), id='645'), '646': Step(location=Location(line=84, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.travellaptop-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='646'), '649': Examples(location=Location(line=86, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=87, column=6), cells=[TableCell(location=Location(line=87, column=8), value='context'), TableCell(location=Location(line=87, column=18), value='username'), TableCell(location=Location(line=87, column=31), value='host'), TableCell(location=Location(line=87, column=43), value='tmux_pane'), TableCell(location=Location(line=87, column=55), value='tmux_window'), TableCell(location=Location(line=87, column=69), value='uuid'), TableCell(location=Location(line=87, column=109), value='tmux_socket')], id='647'), table_body=[TableRow(location=Location(line=88, column=6), cells=[TableCell(location=Location(line=88, column=8), value='varanasi'), TableCell(location=Location(line=88, column=20), value='shesha'), TableCell(location=Location(line=88, column=31), value='workstation01'), TableCell(location=Location(line=88, column=48), value='23'), TableCell(location=Location(line=88, column=60), value='36'), TableCell(location=Location(line=88, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=88, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='648')], id='649'), '647': TableRow(location=Location(line=87, column=6), cells=[TableCell(location=Location(line=87, column=8), value='context'), TableCell(location=Location(line=87, column=18), value='username'), TableCell(location=Location(line=87, column=31), value='host'), TableCell(location=Location(line=87, column=43), value='tmux_pane'), TableCell(location=Location(line=87, column=55), value='tmux_window'), TableCell(location=Location(line=87, column=69), value='uuid'), TableCell(location=Location(line=87, column=109), value='tmux_socket')], id='647'), '648': TableRow(location=Location(line=88, column=6), cells=[TableCell(location=Location(line=88, column=8), value='varanasi'), TableCell(location=Location(line=88, column=20), value='shesha'), TableCell(location=Location(line=88, column=31), value='workstation01'), TableCell(location=Location(line=88, column=48), value='23'), TableCell(location=Location(line=88, column=60), value='36'), TableCell(location=Location(line=88, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=88, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='648'), '657': Scenario(location=Location(line=92, column=3), tags=[], keyword='Scenario', name='Cleanup hosts <host> in user <username>', description='', steps=[Step(location=Location(line=93, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='651'), Step(location=Location(line=94, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='652')], examples=[Examples(location=Location(line=96, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=97, column=5), cells=[TableCell(location=Location(line=97, column=7), value='username'), TableCell(location=Location(line=97, column=18), value='host')], id='653'), table_body=[TableRow(location=Location(line=98, column=5), cells=[TableCell(location=Location(line=98, column=7), value='shesha'), TableCell(location=Location(line=98, column=18), value='workstation01')], id='654'), TableRow(location=Location(line=99, column=5), cells=[TableCell(location=Location(line=99, column=7), value='shesha'), TableCell(location=Location(line=99, column=18), value='travellaptop')], id='655')], id='656')], id='657'), '651': Step(location=Location(line=93, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='651'), '652': Step(location=Location(line=94, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='652'), '656': Examples(location=Location(line=96, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=97, column=5), cells=[TableCell(location=Location(line=97, column=7), value='username'), TableCell(location=Location(line=97, column=18), value='host')], id='653'), table_body=[TableRow(location=Location(line=98, column=5), cells=[TableCell(location=Location(line=98, column=7), value='shesha'), TableCell(location=Location(line=98, column=18), value='workstation01')], id='654'), TableRow(location=Location(line=99, column=5), cells=[TableCell(location=Location(line=99, column=7), value='shesha'), TableCell(location=Location(line=99, column=18), value='travellaptop')], id='655')], id='656'), '653': TableRow(location=Location(line=97, column=5), cells=[TableCell(location=Location(line=97, column=7), value='username'), TableCell(location=Location(line=97, column=18), value='host')], id='653'), '654': TableRow(location=Location(line=98, column=5), cells=[TableCell(location=Location(line=98, column=7), value='shesha'), TableCell(location=Location(line=98, column=18), value='workstation01')], id='654'), '655': TableRow(location=Location(line=99, column=5), cells=[TableCell(location=Location(line=99, column=7), value='shesha'), TableCell(location=Location(line=99, column=18), value='travellaptop')], id='655'), '665': Scenario(location=Location(line=101, column=3), tags=[], keyword='Scenario', name='Cleanup user <username> and context <context>', description='', steps=[Step(location=Location(line=102, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='658'), Step(location=Location(line=103, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='659'), Step(location=Location(line=105, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='660'), Step(location=Location(line=106, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='661')], examples=[Examples(location=Location(line=108, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=109, column=5), cells=[TableCell(location=Location(line=109, column=7), value='context'), TableCell(location=Location(line=109, column=18), value='username')], id='662'), table_body=[TableRow(location=Location(line=110, column=5), cells=[TableCell(location=Location(line=110, column=7), value='varanasi'), TableCell(location=Location(line=110, column=18), value='shesha')], id='663')], id='664')], id='665'), '658': Step(location=Location(line=102, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='658'), '659': Step(location=Location(line=103, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='659'), '660': Step(location=Location(line=105, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='660'), '661': Step(location=Location(line=106, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='661'), '664': Examples(location=Location(line=108, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=109, column=5), cells=[TableCell(location=Location(line=109, column=7), value='context'), TableCell(location=Location(line=109, column=18), value='username')], id='662'), table_body=[TableRow(location=Location(line=110, column=5), cells=[TableCell(location=Location(line=110, column=7), value='varanasi'), TableCell(location=Location(line=110, column=18), value='shesha')], id='663')], id='664'), '662': TableRow(location=Location(line=109, column=5), cells=[TableCell(location=Location(line=109, column=7), value='context'), TableCell(location=Location(line=109, column=18), value='username')], id='662'), '663': TableRow(location=Location(line=110, column=5), cells=[TableCell(location=Location(line=110, column=7), value='varanasi'), TableCell(location=Location(line=110, column=18), value='shesha')], id='663')}, pickles=[Pickle(id='676', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Create context varanasi and user shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='668', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='669', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['601', '612'], id='670', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"varanasi\"'), PickleStep(argument=None, ast_node_ids=['602', '612'], id='671', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext')]), PickleTableRow(cells=[PickleTableCell(value='pong')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')])])), ast_node_ids=['607', '612'], id='672', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-varanasi\" namespace'), PickleStep(argument=None, ast_node_ids=['608', '612'], id='673', type=<Type.outcome: 'Outcome'>, text='statefulset \"varanasi-neo4j\" in namespace \"context-varanasi\" is in ready state'), PickleStep(argument=None, ast_node_ids=['609', '612'], id='674', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"shesha\" and connects it to the context \"varanasi\"'), PickleStep(argument=None, ast_node_ids=['610', '612'], id='675', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['614', '612']), Pickle(id='681', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Create workstation01 for user shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='677', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='678', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['615', '618'], id='679', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"workstation01\" and connects it to the user \"shesha\"'), PickleStep(argument=None, ast_node_ids=['616', '618'], id='680', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['621', '618']), Pickle(id='686', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Create travellaptop for user shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='682', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='683', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['615', '619'], id='684', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"travellaptop\" and connects it to the user \"shesha\"'), PickleStep(argument=None, ast_node_ids=['616', '619'], id='685', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['621', '619']), Pickle(id='697', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Send ping via nats host: workstation01, user: shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='687', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='688', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['622', '633'], id='689', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['623', '633'], id='690', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['624', '633'], id='691', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['625', '633'], id='692', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['626', '633'], id='693', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.shesha.workstation01.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['627', '633'], id='694', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.shesha.workstation01.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='pong-00001-deployment')])])), ast_node_ids=['630', '633'], id='695', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-varanasi\" namespace'), PickleStep(argument=None, ast_node_ids=['631', '633'], id='696', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-shesha.workstation01-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['636', '633']), Pickle(id='708', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Send ping via nats host: travellaptop, user: shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='698', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='699', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['622', '634'], id='700', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['623', '634'], id='701', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['624', '634'], id='702', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['625', '634'], id='703', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['626', '634'], id='704', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.shesha.travellaptop.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['627', '634'], id='705', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.shesha.travellaptop.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='pong-00001-deployment')])])), ast_node_ids=['630', '634'], id='706', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-varanasi\" namespace'), PickleStep(argument=None, ast_node_ids=['631', '634'], id='707', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-shesha.travellaptop-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['636', '634']), Pickle(id='718', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Send iodocument via nats host: workstation01, user: shesha and check that second host received graph the update', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='709', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='710', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['637', '648'], id='711', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['638', '648'], id='712', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"id\"'), PickleStep(argument=None, ast_node_ids=['639', '648'], id='713', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['640', '648'], id='714', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.shesha.workstation01.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['641', '648'], id='715', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.shesha.workstation01.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.3623.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-00001-deployment')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-00001-deployment')])])), ast_node_ids=['645', '648'], id='716', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-varanasi\" namespace'), PickleStep(argument=None, ast_node_ids=['646', '648'], id='717', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-shesha.travellaptop-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['650', '648']), Pickle(id='723', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Cleanup hosts workstation01 in user shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='719', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='720', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['651', '654'], id='721', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"workstation01\"'), PickleStep(argument=None, ast_node_ids=['652', '654'], id='722', type=<Type.outcome: 'Outcome'>, text='the host \"workstation01\" should be deleted')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['657', '654']), Pickle(id='728', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Cleanup hosts travellaptop in user shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='724', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='725', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['651', '655'], id='726', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"travellaptop\"'), PickleStep(argument=None, ast_node_ids=['652', '655'], id='727', type=<Type.outcome: 'Outcome'>, text='the host \"travellaptop\" should be deleted')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['657', '655']), Pickle(id='735', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Cleanup user shesha and context varanasi', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='729', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='730', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['658', '663'], id='731', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"shesha\"'), PickleStep(argument=None, ast_node_ids=['659', '663'], id='732', type=<Type.outcome: 'Outcome'>, text='the user \"shesha\" should be deleted'), PickleStep(argument=None, ast_node_ids=['660', '663'], id='733', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"varanasi\"'), PickleStep(argument=None, ast_node_ids=['661', '663'], id='734', type=<Type.outcome: 'Outcome'>, text='the context \"varanasi\" should be deleted')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['665', '663'])])"},{"name":"feature_source","value":"Source(uri='file:features/6_mindwm_two_hosts_one_user.feature', data='@mindwm_two_hosts_one_user\\n@mindwm_test\\nFeature: MindWM two hosts one user function test\\n  Background:\\n    Given A MindWM environment\\n    Then all nodes in Kubernetes are ready\\n\\n  Scenario: Create context <context> and user <username>\\n    When God creates a MindWM context with the name \"<context>\"\\n    Then the context should be ready and operable\\n    Then the following knative services are in a ready state in the \"context-<context>\" namespace\\n      | Knative service name |\\n      | iocontext            |\\n      | pong                 |\\n      | kafka-cdc            |\\n    And statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state\\n\\n    When God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"\\n    Then the user resource should be ready and operable\\n\\n\\n    Examples:\\n    | context  | username |\\n    | varanasi | shesha   |\\n\\n  Scenario: Create <host> for user <username>\\n\\n    When God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"\\n    Then the host resource should be ready and operable\\n\\n    Examples:\\n    | username | host           |\\n    | shesha   | workstation01  |\\n    | shesha   | travellaptop   |\\n\\n\\n  Scenario: Send ping via nats host: <host>, user: <username>\\n    When God creates a new cloudevent \\n      And God starts reading message from NATS topic \">\"\\n      And sets cloudevent header \"ce-subject\" to \"#ping\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"\\n      And sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"\\n      \"\"\"\\n      {\\n        \"input\": \"#ping\",\\n        \"output\": \"\",\\n        \"ps1\": \"❯\",\\n        \"type\": \"org.mindwm.v1.iodocument\"\\n      } \\n      \"\"\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name       |\\n      | pong-00001-deployment |\\n\\n    And a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"\\n\\n    Examples:\\n     | context | username   | host      | tmux_pane | tmux_window | uuid                                  | tmux_socket                     |\\n     | varanasi  | shesha   | workstation01  | 23        | 36          | 8d839f82-79da-11ef-bc9f-f74fac7543ac  |L3RtcC90bXV4LTEwMDAvZGVmYXVsdA== |\\n     | varanasi  | shesha   | travellaptop  | 23        | 36          | 8d839f82-79da-11ef-bc9f-f74fac7543ac  |L3RtcC90bXV4LTEwMDAvZGVmYXVsdA== |\\n\\n  Scenario: Send iodocument via nats host: <host>, user: <username> and check that second host received graph the update\\n    When God creates a new cloudevent \\n      And sets cloudevent header \"ce-subject\" to \"id\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"\\n      And sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"\\n      \"\"\"\\n      {\\n        \"input\": \"id\",\\n        \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n        \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n        \"type\": \"org.mindwm.v1.iodocument\"\\n      } \\n      \"\"\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name       |\\n      | iocontext-00001-deployment |\\n      | kafka-cdc-00001-deployment |\\n\\n    And a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.travellaptop-host-broker-kne-trigger._knative\"\\n\\n    Examples:\\n     | context | username   | host      | tmux_pane | tmux_window | uuid                                  | tmux_socket                     |\\n     | varanasi  | shesha   | workstation01  | 23        | 36          | 8d839f82-79da-11ef-bc9f-f74fac7543ac  |L3RtcC90bXV4LTEwMDAvZGVmYXVsdA== |\\n     #| varanasi  | shesha   | travellaptop  | 23        | 36          | 8d839f82-79da-11ef-bc9f-f74fac7543ac  |L3RtcC90bXV4LTEwMDAvZGVmYXVsdA== |\\n\\n\\n  Scenario: Cleanup hosts <host> in user <username>\\n    When God deletes the MindWM host resource \"<host>\"\\n    Then the host \"<host>\" should be deleted\\n\\n    Examples:\\n    | username | host           |\\n    | shesha   | workstation01  |\\n    | shesha   | travellaptop   |\\n\\n  Scenario: Cleanup user <username> and context <context>\\n    When God deletes the MindWM user resource \"<username>\"\\n    Then the user \"<username>\" should be deleted\\n\\n    When God deletes the MindWM context resource \"<context>\"\\n    Then the context \"<context>\" should be deleted\\n\\n    Examples:\\n    | context  | username |\\n    | varanasi | shesha   |\\n', media_type='text/x.cucumber.gherkin+plain')"},{"name":"scenario","value":"Pickle(id='728', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Cleanup hosts travellaptop in user shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='724', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='725', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['651', '655'], id='726', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"travellaptop\"'), PickleStep(argument=None, ast_node_ids=['652', '655'], id='727', type=<Type.outcome: 'Outcome'>, text='the host \"travellaptop\" should be deleted')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['657', '655'])"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":0,"passed":6,"unknown":0,"total":6},"items":[{"uid":"46ff50a47452253f","reportUrl":"https://mindwm.github.io/mindwm-gitops/182//#testresult/46ff50a47452253f","status":"passed","time":{"start":1728387010378,"stop":1728387010551,"duration":173}},{"uid":"5aa4bc2e9fa857d1","reportUrl":"https://mindwm.github.io/mindwm-gitops/181//#testresult/5aa4bc2e9fa857d1","status":"passed","time":{"start":1728385631739,"stop":1728385631960,"duration":221}},{"uid":"8c5735a132296d42","reportUrl":"https://mindwm.github.io/mindwm-gitops/179//#testresult/8c5735a132296d42","status":"passed","time":{"start":1728337106249,"stop":1728337107420,"duration":1171}},{"uid":"af6e31ca2052d084","reportUrl":"https://mindwm.github.io/mindwm-gitops/178//#testresult/af6e31ca2052d084","status":"passed","time":{"start":1728325517562,"stop":1728325517672,"duration":110}},{"uid":"b03de6b26d8cdabd","reportUrl":"https://mindwm.github.io/mindwm-gitops/176//#testresult/b03de6b26d8cdabd","status":"passed","time":{"start":1728050702692,"stop":1728050702904,"duration":212}}]},"tags":["scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/6_mindwm_two_hosts_one_user.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=<FeaturePathType.PATH: 'path'>, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())","mindwm_two_hosts_one_user","pytest_bdd_scenario","@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')","mindwm_test","namespace(create=False, name='default')"]},"source":"61dc41fde74b95b1.json","parameterValues":["Feature(gherkin_document=GherkinDocument(uri='file:features/6_mindwm_two_hosts_one_user.feature', feature=Feature(location=Location(line=3, column=1), tags=[Tag(location=Location(line=1, column=1), name='@mindwm_two_hosts_one_user', id='666'), Tag(location=Location(line=2, column=1), name='@mindwm_test', id='667')], language='en', keyword='Feature', name='MindWM two hosts one user function test', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='598'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='599')], id='600'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Create context <context> and user <username>', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='601'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='602'), Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='603'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='iocontext')], id='604'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='pong')], id='605'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='kafka-cdc')], id='606')]), id='607'), Step(location=Location(line=16, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='608'), Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='609'), Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='610')], examples=[Examples(location=Location(line=22, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=23, column=5), cells=[TableCell(location=Location(line=23, column=7), value='context'), TableCell(location=Location(line=23, column=18), value='username')], id='611'), table_body=[TableRow(location=Location(line=24, column=5), cells=[TableCell(location=Location(line=24, column=7), value='varanasi'), TableCell(location=Location(line=24, column=18), value='shesha')], id='612')], id='613')], id='614')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=26, column=3), tags=[], keyword='Scenario', name='Create <host> for user <username>', description='', steps=[Step(location=Location(line=28, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='615'), Step(location=Location(line=29, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='616')], examples=[Examples(location=Location(line=31, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=32, column=5), cells=[TableCell(location=Location(line=32, column=7), value='username'), TableCell(location=Location(line=32, column=18), value='host')], id='617'), table_body=[TableRow(location=Location(line=33, column=5), cells=[TableCell(location=Location(line=33, column=7), value='shesha'), TableCell(location=Location(line=33, column=18), value='workstation01')], id='618'), TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='shesha'), TableCell(location=Location(line=34, column=18), value='travellaptop')], id='619')], id='620')], id='621')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=37, column=3), tags=[], keyword='Scenario', name='Send ping via nats host: <host>, user: <username>', description='', steps=[Step(location=Location(line=38, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='622'), Step(location=Location(line=39, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='623'), Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='624'), Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='625'), Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='626'), Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=44, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='627'), Step(location=Location(line=53, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=54, column=7), rows=[TableRow(location=Location(line=54, column=7), cells=[TableCell(location=Location(line=54, column=9), value='Deployment name')], id='628'), TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='pong-00001-deployment')], id='629')]), id='630'), Step(location=Location(line=57, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='631')], examples=[Examples(location=Location(line=59, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=60, column=6), cells=[TableCell(location=Location(line=60, column=8), value='context'), TableCell(location=Location(line=60, column=18), value='username'), TableCell(location=Location(line=60, column=31), value='host'), TableCell(location=Location(line=60, column=43), value='tmux_pane'), TableCell(location=Location(line=60, column=55), value='tmux_window'), TableCell(location=Location(line=60, column=69), value='uuid'), TableCell(location=Location(line=60, column=109), value='tmux_socket')], id='632'), table_body=[TableRow(location=Location(line=61, column=6), cells=[TableCell(location=Location(line=61, column=8), value='varanasi'), TableCell(location=Location(line=61, column=20), value='shesha'), TableCell(location=Location(line=61, column=31), value='workstation01'), TableCell(location=Location(line=61, column=48), value='23'), TableCell(location=Location(line=61, column=60), value='36'), TableCell(location=Location(line=61, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=61, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='633'), TableRow(location=Location(line=62, column=6), cells=[TableCell(location=Location(line=62, column=8), value='varanasi'), TableCell(location=Location(line=62, column=20), value='shesha'), TableCell(location=Location(line=62, column=31), value='travellaptop'), TableCell(location=Location(line=62, column=47), value='23'), TableCell(location=Location(line=62, column=59), value='36'), TableCell(location=Location(line=62, column=73), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=62, column=112), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='634')], id='635')], id='636')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=64, column=3), tags=[], keyword='Scenario', name='Send iodocument via nats host: <host>, user: <username> and check that second host received graph the update', description='', steps=[Step(location=Location(line=65, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='637'), Step(location=Location(line=66, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='638'), Step(location=Location(line=67, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='639'), Step(location=Location(line=68, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='640'), Step(location=Location(line=69, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=70, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='641'), Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=80, column=7), rows=[TableRow(location=Location(line=80, column=7), cells=[TableCell(location=Location(line=80, column=9), value='Deployment name')], id='642'), TableRow(location=Location(line=81, column=7), cells=[TableCell(location=Location(line=81, column=9), value='iocontext-00001-deployment')], id='643'), TableRow(location=Location(line=82, column=7), cells=[TableCell(location=Location(line=82, column=9), value='kafka-cdc-00001-deployment')], id='644')]), id='645'), Step(location=Location(line=84, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.travellaptop-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='646')], examples=[Examples(location=Location(line=86, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=87, column=6), cells=[TableCell(location=Location(line=87, column=8), value='context'), TableCell(location=Location(line=87, column=18), value='username'), TableCell(location=Location(line=87, column=31), value='host'), TableCell(location=Location(line=87, column=43), value='tmux_pane'), TableCell(location=Location(line=87, column=55), value='tmux_window'), TableCell(location=Location(line=87, column=69), value='uuid'), TableCell(location=Location(line=87, column=109), value='tmux_socket')], id='647'), table_body=[TableRow(location=Location(line=88, column=6), cells=[TableCell(location=Location(line=88, column=8), value='varanasi'), TableCell(location=Location(line=88, column=20), value='shesha'), TableCell(location=Location(line=88, column=31), value='workstation01'), TableCell(location=Location(line=88, column=48), value='23'), TableCell(location=Location(line=88, column=60), value='36'), TableCell(location=Location(line=88, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=88, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='648')], id='649')], id='650')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=92, column=3), tags=[], keyword='Scenario', name='Cleanup hosts <host> in user <username>', description='', steps=[Step(location=Location(line=93, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='651'), Step(location=Location(line=94, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='652')], examples=[Examples(location=Location(line=96, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=97, column=5), cells=[TableCell(location=Location(line=97, column=7), value='username'), TableCell(location=Location(line=97, column=18), value='host')], id='653'), table_body=[TableRow(location=Location(line=98, column=5), cells=[TableCell(location=Location(line=98, column=7), value='shesha'), TableCell(location=Location(line=98, column=18), value='workstation01')], id='654'), TableRow(location=Location(line=99, column=5), cells=[TableCell(location=Location(line=99, column=7), value='shesha'), TableCell(location=Location(line=99, column=18), value='travellaptop')], id='655')], id='656')], id='657')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=101, column=3), tags=[], keyword='Scenario', name='Cleanup user <username> and context <context>', description='', steps=[Step(location=Location(line=102, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='658'), Step(location=Location(line=103, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='659'), Step(location=Location(line=105, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='660'), Step(location=Location(line=106, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='661')], examples=[Examples(location=Location(line=108, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=109, column=5), cells=[TableCell(location=Location(line=109, column=7), value='context'), TableCell(location=Location(line=109, column=18), value='username')], id='662'), table_body=[TableRow(location=Location(line=110, column=5), cells=[TableCell(location=Location(line=110, column=7), value='varanasi'), TableCell(location=Location(line=110, column=18), value='shesha')], id='663')], id='664')], id='665'))]), comments=[Comment(location=Location(line=89, column=1), text='     #| varanasi  | shesha   | travellaptop  | 23        | 36          | 8d839f82-79da-11ef-bc9f-f74fac7543ac  |L3RtcC90bXV4LTEwMDAvZGVmYXVsdA== |')]), uri='file:features/6_mindwm_two_hosts_one_user.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/6_mindwm_two_hosts_one_user.feature', registry={'666': Tag(location=Location(line=1, column=1), name='@mindwm_two_hosts_one_user', id='666'), '667': Tag(location=Location(line=2, column=1), name='@mindwm_test', id='667'), '600': Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='598'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='599')], id='600'), '598': Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='598'), '599': Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='599'), '614': Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Create context <context> and user <username>', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='601'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='602'), Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='603'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='iocontext')], id='604'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='pong')], id='605'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='kafka-cdc')], id='606')]), id='607'), Step(location=Location(line=16, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='608'), Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='609'), Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='610')], examples=[Examples(location=Location(line=22, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=23, column=5), cells=[TableCell(location=Location(line=23, column=7), value='context'), TableCell(location=Location(line=23, column=18), value='username')], id='611'), table_body=[TableRow(location=Location(line=24, column=5), cells=[TableCell(location=Location(line=24, column=7), value='varanasi'), TableCell(location=Location(line=24, column=18), value='shesha')], id='612')], id='613')], id='614'), '601': Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='601'), '602': Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='602'), '607': Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='603'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='iocontext')], id='604'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='pong')], id='605'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='kafka-cdc')], id='606')]), id='607'), '608': Step(location=Location(line=16, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='608'), '609': Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='609'), '610': Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='610'), '613': Examples(location=Location(line=22, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=23, column=5), cells=[TableCell(location=Location(line=23, column=7), value='context'), TableCell(location=Location(line=23, column=18), value='username')], id='611'), table_body=[TableRow(location=Location(line=24, column=5), cells=[TableCell(location=Location(line=24, column=7), value='varanasi'), TableCell(location=Location(line=24, column=18), value='shesha')], id='612')], id='613'), '611': TableRow(location=Location(line=23, column=5), cells=[TableCell(location=Location(line=23, column=7), value='context'), TableCell(location=Location(line=23, column=18), value='username')], id='611'), '612': TableRow(location=Location(line=24, column=5), cells=[TableCell(location=Location(line=24, column=7), value='varanasi'), TableCell(location=Location(line=24, column=18), value='shesha')], id='612'), '621': Scenario(location=Location(line=26, column=3), tags=[], keyword='Scenario', name='Create <host> for user <username>', description='', steps=[Step(location=Location(line=28, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='615'), Step(location=Location(line=29, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='616')], examples=[Examples(location=Location(line=31, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=32, column=5), cells=[TableCell(location=Location(line=32, column=7), value='username'), TableCell(location=Location(line=32, column=18), value='host')], id='617'), table_body=[TableRow(location=Location(line=33, column=5), cells=[TableCell(location=Location(line=33, column=7), value='shesha'), TableCell(location=Location(line=33, column=18), value='workstation01')], id='618'), TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='shesha'), TableCell(location=Location(line=34, column=18), value='travellaptop')], id='619')], id='620')], id='621'), '615': Step(location=Location(line=28, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='615'), '616': Step(location=Location(line=29, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='616'), '620': Examples(location=Location(line=31, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=32, column=5), cells=[TableCell(location=Location(line=32, column=7), value='username'), TableCell(location=Location(line=32, column=18), value='host')], id='617'), table_body=[TableRow(location=Location(line=33, column=5), cells=[TableCell(location=Location(line=33, column=7), value='shesha'), TableCell(location=Location(line=33, column=18), value='workstation01')], id='618'), TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='shesha'), TableCell(location=Location(line=34, column=18), value='travellaptop')], id='619')], id='620'), '617': TableRow(location=Location(line=32, column=5), cells=[TableCell(location=Location(line=32, column=7), value='username'), TableCell(location=Location(line=32, column=18), value='host')], id='617'), '618': TableRow(location=Location(line=33, column=5), cells=[TableCell(location=Location(line=33, column=7), value='shesha'), TableCell(location=Location(line=33, column=18), value='workstation01')], id='618'), '619': TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='shesha'), TableCell(location=Location(line=34, column=18), value='travellaptop')], id='619'), '636': Scenario(location=Location(line=37, column=3), tags=[], keyword='Scenario', name='Send ping via nats host: <host>, user: <username>', description='', steps=[Step(location=Location(line=38, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='622'), Step(location=Location(line=39, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='623'), Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='624'), Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='625'), Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='626'), Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=44, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='627'), Step(location=Location(line=53, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=54, column=7), rows=[TableRow(location=Location(line=54, column=7), cells=[TableCell(location=Location(line=54, column=9), value='Deployment name')], id='628'), TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='pong-00001-deployment')], id='629')]), id='630'), Step(location=Location(line=57, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='631')], examples=[Examples(location=Location(line=59, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=60, column=6), cells=[TableCell(location=Location(line=60, column=8), value='context'), TableCell(location=Location(line=60, column=18), value='username'), TableCell(location=Location(line=60, column=31), value='host'), TableCell(location=Location(line=60, column=43), value='tmux_pane'), TableCell(location=Location(line=60, column=55), value='tmux_window'), TableCell(location=Location(line=60, column=69), value='uuid'), TableCell(location=Location(line=60, column=109), value='tmux_socket')], id='632'), table_body=[TableRow(location=Location(line=61, column=6), cells=[TableCell(location=Location(line=61, column=8), value='varanasi'), TableCell(location=Location(line=61, column=20), value='shesha'), TableCell(location=Location(line=61, column=31), value='workstation01'), TableCell(location=Location(line=61, column=48), value='23'), TableCell(location=Location(line=61, column=60), value='36'), TableCell(location=Location(line=61, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=61, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='633'), TableRow(location=Location(line=62, column=6), cells=[TableCell(location=Location(line=62, column=8), value='varanasi'), TableCell(location=Location(line=62, column=20), value='shesha'), TableCell(location=Location(line=62, column=31), value='travellaptop'), TableCell(location=Location(line=62, column=47), value='23'), TableCell(location=Location(line=62, column=59), value='36'), TableCell(location=Location(line=62, column=73), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=62, column=112), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='634')], id='635')], id='636'), '622': Step(location=Location(line=38, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='622'), '623': Step(location=Location(line=39, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='623'), '624': Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='624'), '625': Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='625'), '626': Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='626'), '627': Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=44, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='627'), '630': Step(location=Location(line=53, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=54, column=7), rows=[TableRow(location=Location(line=54, column=7), cells=[TableCell(location=Location(line=54, column=9), value='Deployment name')], id='628'), TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='pong-00001-deployment')], id='629')]), id='630'), '631': Step(location=Location(line=57, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='631'), '635': Examples(location=Location(line=59, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=60, column=6), cells=[TableCell(location=Location(line=60, column=8), value='context'), TableCell(location=Location(line=60, column=18), value='username'), TableCell(location=Location(line=60, column=31), value='host'), TableCell(location=Location(line=60, column=43), value='tmux_pane'), TableCell(location=Location(line=60, column=55), value='tmux_window'), TableCell(location=Location(line=60, column=69), value='uuid'), TableCell(location=Location(line=60, column=109), value='tmux_socket')], id='632'), table_body=[TableRow(location=Location(line=61, column=6), cells=[TableCell(location=Location(line=61, column=8), value='varanasi'), TableCell(location=Location(line=61, column=20), value='shesha'), TableCell(location=Location(line=61, column=31), value='workstation01'), TableCell(location=Location(line=61, column=48), value='23'), TableCell(location=Location(line=61, column=60), value='36'), TableCell(location=Location(line=61, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=61, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='633'), TableRow(location=Location(line=62, column=6), cells=[TableCell(location=Location(line=62, column=8), value='varanasi'), TableCell(location=Location(line=62, column=20), value='shesha'), TableCell(location=Location(line=62, column=31), value='travellaptop'), TableCell(location=Location(line=62, column=47), value='23'), TableCell(location=Location(line=62, column=59), value='36'), TableCell(location=Location(line=62, column=73), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=62, column=112), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='634')], id='635'), '632': TableRow(location=Location(line=60, column=6), cells=[TableCell(location=Location(line=60, column=8), value='context'), TableCell(location=Location(line=60, column=18), value='username'), TableCell(location=Location(line=60, column=31), value='host'), TableCell(location=Location(line=60, column=43), value='tmux_pane'), TableCell(location=Location(line=60, column=55), value='tmux_window'), TableCell(location=Location(line=60, column=69), value='uuid'), TableCell(location=Location(line=60, column=109), value='tmux_socket')], id='632'), '633': TableRow(location=Location(line=61, column=6), cells=[TableCell(location=Location(line=61, column=8), value='varanasi'), TableCell(location=Location(line=61, column=20), value='shesha'), TableCell(location=Location(line=61, column=31), value='workstation01'), TableCell(location=Location(line=61, column=48), value='23'), TableCell(location=Location(line=61, column=60), value='36'), TableCell(location=Location(line=61, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=61, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='633'), '634': TableRow(location=Location(line=62, column=6), cells=[TableCell(location=Location(line=62, column=8), value='varanasi'), TableCell(location=Location(line=62, column=20), value='shesha'), TableCell(location=Location(line=62, column=31), value='travellaptop'), TableCell(location=Location(line=62, column=47), value='23'), TableCell(location=Location(line=62, column=59), value='36'), TableCell(location=Location(line=62, column=73), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=62, column=112), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='634'), '650': Scenario(location=Location(line=64, column=3), tags=[], keyword='Scenario', name='Send iodocument via nats host: <host>, user: <username> and check that second host received graph the update', description='', steps=[Step(location=Location(line=65, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='637'), Step(location=Location(line=66, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='638'), Step(location=Location(line=67, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='639'), Step(location=Location(line=68, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='640'), Step(location=Location(line=69, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=70, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='641'), Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=80, column=7), rows=[TableRow(location=Location(line=80, column=7), cells=[TableCell(location=Location(line=80, column=9), value='Deployment name')], id='642'), TableRow(location=Location(line=81, column=7), cells=[TableCell(location=Location(line=81, column=9), value='iocontext-00001-deployment')], id='643'), TableRow(location=Location(line=82, column=7), cells=[TableCell(location=Location(line=82, column=9), value='kafka-cdc-00001-deployment')], id='644')]), id='645'), Step(location=Location(line=84, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.travellaptop-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='646')], examples=[Examples(location=Location(line=86, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=87, column=6), cells=[TableCell(location=Location(line=87, column=8), value='context'), TableCell(location=Location(line=87, column=18), value='username'), TableCell(location=Location(line=87, column=31), value='host'), TableCell(location=Location(line=87, column=43), value='tmux_pane'), TableCell(location=Location(line=87, column=55), value='tmux_window'), TableCell(location=Location(line=87, column=69), value='uuid'), TableCell(location=Location(line=87, column=109), value='tmux_socket')], id='647'), table_body=[TableRow(location=Location(line=88, column=6), cells=[TableCell(location=Location(line=88, column=8), value='varanasi'), TableCell(location=Location(line=88, column=20), value='shesha'), TableCell(location=Location(line=88, column=31), value='workstation01'), TableCell(location=Location(line=88, column=48), value='23'), TableCell(location=Location(line=88, column=60), value='36'), TableCell(location=Location(line=88, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=88, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='648')], id='649')], id='650'), '637': Step(location=Location(line=65, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='637'), '638': Step(location=Location(line=66, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='638'), '639': Step(location=Location(line=67, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='639'), '640': Step(location=Location(line=68, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='640'), '641': Step(location=Location(line=69, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=70, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='641'), '645': Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=80, column=7), rows=[TableRow(location=Location(line=80, column=7), cells=[TableCell(location=Location(line=80, column=9), value='Deployment name')], id='642'), TableRow(location=Location(line=81, column=7), cells=[TableCell(location=Location(line=81, column=9), value='iocontext-00001-deployment')], id='643'), TableRow(location=Location(line=82, column=7), cells=[TableCell(location=Location(line=82, column=9), value='kafka-cdc-00001-deployment')], id='644')]), id='645'), '646': Step(location=Location(line=84, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.travellaptop-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='646'), '649': Examples(location=Location(line=86, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=87, column=6), cells=[TableCell(location=Location(line=87, column=8), value='context'), TableCell(location=Location(line=87, column=18), value='username'), TableCell(location=Location(line=87, column=31), value='host'), TableCell(location=Location(line=87, column=43), value='tmux_pane'), TableCell(location=Location(line=87, column=55), value='tmux_window'), TableCell(location=Location(line=87, column=69), value='uuid'), TableCell(location=Location(line=87, column=109), value='tmux_socket')], id='647'), table_body=[TableRow(location=Location(line=88, column=6), cells=[TableCell(location=Location(line=88, column=8), value='varanasi'), TableCell(location=Location(line=88, column=20), value='shesha'), TableCell(location=Location(line=88, column=31), value='workstation01'), TableCell(location=Location(line=88, column=48), value='23'), TableCell(location=Location(line=88, column=60), value='36'), TableCell(location=Location(line=88, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=88, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='648')], id='649'), '647': TableRow(location=Location(line=87, column=6), cells=[TableCell(location=Location(line=87, column=8), value='context'), TableCell(location=Location(line=87, column=18), value='username'), TableCell(location=Location(line=87, column=31), value='host'), TableCell(location=Location(line=87, column=43), value='tmux_pane'), TableCell(location=Location(line=87, column=55), value='tmux_window'), TableCell(location=Location(line=87, column=69), value='uuid'), TableCell(location=Location(line=87, column=109), value='tmux_socket')], id='647'), '648': TableRow(location=Location(line=88, column=6), cells=[TableCell(location=Location(line=88, column=8), value='varanasi'), TableCell(location=Location(line=88, column=20), value='shesha'), TableCell(location=Location(line=88, column=31), value='workstation01'), TableCell(location=Location(line=88, column=48), value='23'), TableCell(location=Location(line=88, column=60), value='36'), TableCell(location=Location(line=88, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=88, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='648'), '657': Scenario(location=Location(line=92, column=3), tags=[], keyword='Scenario', name='Cleanup hosts <host> in user <username>', description='', steps=[Step(location=Location(line=93, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='651'), Step(location=Location(line=94, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='652')], examples=[Examples(location=Location(line=96, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=97, column=5), cells=[TableCell(location=Location(line=97, column=7), value='username'), TableCell(location=Location(line=97, column=18), value='host')], id='653'), table_body=[TableRow(location=Location(line=98, column=5), cells=[TableCell(location=Location(line=98, column=7), value='shesha'), TableCell(location=Location(line=98, column=18), value='workstation01')], id='654'), TableRow(location=Location(line=99, column=5), cells=[TableCell(location=Location(line=99, column=7), value='shesha'), TableCell(location=Location(line=99, column=18), value='travellaptop')], id='655')], id='656')], id='657'), '651': Step(location=Location(line=93, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='651'), '652': Step(location=Location(line=94, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='652'), '656': Examples(location=Location(line=96, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=97, column=5), cells=[TableCell(location=Location(line=97, column=7), value='username'), TableCell(location=Location(line=97, column=18), value='host')], id='653'), table_body=[TableRow(location=Location(line=98, column=5), cells=[TableCell(location=Location(line=98, column=7), value='shesha'), TableCell(location=Location(line=98, column=18), value='workstation01')], id='654'), TableRow(location=Location(line=99, column=5), cells=[TableCell(location=Location(line=99, column=7), value='shesha'), TableCell(location=Location(line=99, column=18), value='travellaptop')], id='655')], id='656'), '653': TableRow(location=Location(line=97, column=5), cells=[TableCell(location=Location(line=97, column=7), value='username'), TableCell(location=Location(line=97, column=18), value='host')], id='653'), '654': TableRow(location=Location(line=98, column=5), cells=[TableCell(location=Location(line=98, column=7), value='shesha'), TableCell(location=Location(line=98, column=18), value='workstation01')], id='654'), '655': TableRow(location=Location(line=99, column=5), cells=[TableCell(location=Location(line=99, column=7), value='shesha'), TableCell(location=Location(line=99, column=18), value='travellaptop')], id='655'), '665': Scenario(location=Location(line=101, column=3), tags=[], keyword='Scenario', name='Cleanup user <username> and context <context>', description='', steps=[Step(location=Location(line=102, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='658'), Step(location=Location(line=103, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='659'), Step(location=Location(line=105, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='660'), Step(location=Location(line=106, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='661')], examples=[Examples(location=Location(line=108, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=109, column=5), cells=[TableCell(location=Location(line=109, column=7), value='context'), TableCell(location=Location(line=109, column=18), value='username')], id='662'), table_body=[TableRow(location=Location(line=110, column=5), cells=[TableCell(location=Location(line=110, column=7), value='varanasi'), TableCell(location=Location(line=110, column=18), value='shesha')], id='663')], id='664')], id='665'), '658': Step(location=Location(line=102, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='658'), '659': Step(location=Location(line=103, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='659'), '660': Step(location=Location(line=105, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='660'), '661': Step(location=Location(line=106, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='661'), '664': Examples(location=Location(line=108, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=109, column=5), cells=[TableCell(location=Location(line=109, column=7), value='context'), TableCell(location=Location(line=109, column=18), value='username')], id='662'), table_body=[TableRow(location=Location(line=110, column=5), cells=[TableCell(location=Location(line=110, column=7), value='varanasi'), TableCell(location=Location(line=110, column=18), value='shesha')], id='663')], id='664'), '662': TableRow(location=Location(line=109, column=5), cells=[TableCell(location=Location(line=109, column=7), value='context'), TableCell(location=Location(line=109, column=18), value='username')], id='662'), '663': TableRow(location=Location(line=110, column=5), cells=[TableCell(location=Location(line=110, column=7), value='varanasi'), TableCell(location=Location(line=110, column=18), value='shesha')], id='663')}, pickles=[Pickle(id='676', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Create context varanasi and user shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='668', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='669', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['601', '612'], id='670', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"varanasi\"'), PickleStep(argument=None, ast_node_ids=['602', '612'], id='671', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext')]), PickleTableRow(cells=[PickleTableCell(value='pong')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')])])), ast_node_ids=['607', '612'], id='672', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-varanasi\" namespace'), PickleStep(argument=None, ast_node_ids=['608', '612'], id='673', type=<Type.outcome: 'Outcome'>, text='statefulset \"varanasi-neo4j\" in namespace \"context-varanasi\" is in ready state'), PickleStep(argument=None, ast_node_ids=['609', '612'], id='674', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"shesha\" and connects it to the context \"varanasi\"'), PickleStep(argument=None, ast_node_ids=['610', '612'], id='675', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['614', '612']), Pickle(id='681', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Create workstation01 for user shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='677', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='678', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['615', '618'], id='679', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"workstation01\" and connects it to the user \"shesha\"'), PickleStep(argument=None, ast_node_ids=['616', '618'], id='680', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['621', '618']), Pickle(id='686', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Create travellaptop for user shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='682', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='683', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['615', '619'], id='684', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"travellaptop\" and connects it to the user \"shesha\"'), PickleStep(argument=None, ast_node_ids=['616', '619'], id='685', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['621', '619']), Pickle(id='697', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Send ping via nats host: workstation01, user: shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='687', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='688', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['622', '633'], id='689', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['623', '633'], id='690', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['624', '633'], id='691', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['625', '633'], id='692', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['626', '633'], id='693', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.shesha.workstation01.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['627', '633'], id='694', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.shesha.workstation01.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='pong-00001-deployment')])])), ast_node_ids=['630', '633'], id='695', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-varanasi\" namespace'), PickleStep(argument=None, ast_node_ids=['631', '633'], id='696', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-shesha.workstation01-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['636', '633']), Pickle(id='708', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Send ping via nats host: travellaptop, user: shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='698', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='699', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['622', '634'], id='700', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['623', '634'], id='701', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['624', '634'], id='702', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['625', '634'], id='703', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['626', '634'], id='704', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.shesha.travellaptop.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['627', '634'], id='705', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.shesha.travellaptop.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='pong-00001-deployment')])])), ast_node_ids=['630', '634'], id='706', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-varanasi\" namespace'), PickleStep(argument=None, ast_node_ids=['631', '634'], id='707', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-shesha.travellaptop-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['636', '634']), Pickle(id='718', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Send iodocument via nats host: workstation01, user: shesha and check that second host received graph the update', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='709', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='710', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['637', '648'], id='711', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['638', '648'], id='712', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"id\"'), PickleStep(argument=None, ast_node_ids=['639', '648'], id='713', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['640', '648'], id='714', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.shesha.workstation01.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['641', '648'], id='715', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.shesha.workstation01.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.3623.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-00001-deployment')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-00001-deployment')])])), ast_node_ids=['645', '648'], id='716', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-varanasi\" namespace'), PickleStep(argument=None, ast_node_ids=['646', '648'], id='717', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-shesha.travellaptop-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['650', '648']), Pickle(id='723', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Cleanup hosts workstation01 in user shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='719', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='720', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['651', '654'], id='721', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"workstation01\"'), PickleStep(argument=None, ast_node_ids=['652', '654'], id='722', type=<Type.outcome: 'Outcome'>, text='the host \"workstation01\" should be deleted')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['657', '654']), Pickle(id='728', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Cleanup hosts travellaptop in user shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='724', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='725', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['651', '655'], id='726', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"travellaptop\"'), PickleStep(argument=None, ast_node_ids=['652', '655'], id='727', type=<Type.outcome: 'Outcome'>, text='the host \"travellaptop\" should be deleted')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['657', '655']), Pickle(id='735', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Cleanup user shesha and context varanasi', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='729', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='730', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['658', '663'], id='731', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"shesha\"'), PickleStep(argument=None, ast_node_ids=['659', '663'], id='732', type=<Type.outcome: 'Outcome'>, text='the user \"shesha\" should be deleted'), PickleStep(argument=None, ast_node_ids=['660', '663'], id='733', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"varanasi\"'), PickleStep(argument=None, ast_node_ids=['661', '663'], id='734', type=<Type.outcome: 'Outcome'>, text='the context \"varanasi\" should be deleted')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['665', '663'])])","Source(uri='file:features/6_mindwm_two_hosts_one_user.feature', data='@mindwm_two_hosts_one_user\\n@mindwm_test\\nFeature: MindWM two hosts one user function test\\n  Background:\\n    Given A MindWM environment\\n    Then all nodes in Kubernetes are ready\\n\\n  Scenario: Create context <context> and user <username>\\n    When God creates a MindWM context with the name \"<context>\"\\n    Then the context should be ready and operable\\n    Then the following knative services are in a ready state in the \"context-<context>\" namespace\\n      | Knative service name |\\n      | iocontext            |\\n      | pong                 |\\n      | kafka-cdc            |\\n    And statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state\\n\\n    When God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"\\n    Then the user resource should be ready and operable\\n\\n\\n    Examples:\\n    | context  | username |\\n    | varanasi | shesha   |\\n\\n  Scenario: Create <host> for user <username>\\n\\n    When God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"\\n    Then the host resource should be ready and operable\\n\\n    Examples:\\n    | username | host           |\\n    | shesha   | workstation01  |\\n    | shesha   | travellaptop   |\\n\\n\\n  Scenario: Send ping via nats host: <host>, user: <username>\\n    When God creates a new cloudevent \\n      And God starts reading message from NATS topic \">\"\\n      And sets cloudevent header \"ce-subject\" to \"#ping\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"\\n      And sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"\\n      \"\"\"\\n      {\\n        \"input\": \"#ping\",\\n        \"output\": \"\",\\n        \"ps1\": \"❯\",\\n        \"type\": \"org.mindwm.v1.iodocument\"\\n      } \\n      \"\"\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name       |\\n      | pong-00001-deployment |\\n\\n    And a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"\\n\\n    Examples:\\n     | context | username   | host      | tmux_pane | tmux_window | uuid                                  | tmux_socket                     |\\n     | varanasi  | shesha   | workstation01  | 23        | 36          | 8d839f82-79da-11ef-bc9f-f74fac7543ac  |L3RtcC90bXV4LTEwMDAvZGVmYXVsdA== |\\n     | varanasi  | shesha   | travellaptop  | 23        | 36          | 8d839f82-79da-11ef-bc9f-f74fac7543ac  |L3RtcC90bXV4LTEwMDAvZGVmYXVsdA== |\\n\\n  Scenario: Send iodocument via nats host: <host>, user: <username> and check that second host received graph the update\\n    When God creates a new cloudevent \\n      And sets cloudevent header \"ce-subject\" to \"id\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"\\n      And sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"\\n      \"\"\"\\n      {\\n        \"input\": \"id\",\\n        \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n        \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n        \"type\": \"org.mindwm.v1.iodocument\"\\n      } \\n      \"\"\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name       |\\n      | iocontext-00001-deployment |\\n      | kafka-cdc-00001-deployment |\\n\\n    And a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.travellaptop-host-broker-kne-trigger._knative\"\\n\\n    Examples:\\n     | context | username   | host      | tmux_pane | tmux_window | uuid                                  | tmux_socket                     |\\n     | varanasi  | shesha   | workstation01  | 23        | 36          | 8d839f82-79da-11ef-bc9f-f74fac7543ac  |L3RtcC90bXV4LTEwMDAvZGVmYXVsdA== |\\n     #| varanasi  | shesha   | travellaptop  | 23        | 36          | 8d839f82-79da-11ef-bc9f-f74fac7543ac  |L3RtcC90bXV4LTEwMDAvZGVmYXVsdA== |\\n\\n\\n  Scenario: Cleanup hosts <host> in user <username>\\n    When God deletes the MindWM host resource \"<host>\"\\n    Then the host \"<host>\" should be deleted\\n\\n    Examples:\\n    | username | host           |\\n    | shesha   | workstation01  |\\n    | shesha   | travellaptop   |\\n\\n  Scenario: Cleanup user <username> and context <context>\\n    When God deletes the MindWM user resource \"<username>\"\\n    Then the user \"<username>\" should be deleted\\n\\n    When God deletes the MindWM context resource \"<context>\"\\n    Then the context \"<context>\" should be deleted\\n\\n    Examples:\\n    | context  | username |\\n    | varanasi | shesha   |\\n', media_type='text/x.cucumber.gherkin+plain')","Pickle(id='728', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Cleanup hosts travellaptop in user shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='724', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='725', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['651', '655'], id='726', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"travellaptop\"'), PickleStep(argument=None, ast_node_ids=['652', '655'], id='727', type=<Type.outcome: 'Outcome'>, text='the host \"travellaptop\" should be deleted')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['657', '655'])"]}