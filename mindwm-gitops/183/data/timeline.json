{"uid":"ab17fc5a4eb3bca4b216b548c7f9fcbc","children":[{"name":"localhost","children":[{"name":"4254-MainThread","children":[{"name":"test_scenarios[file:features/1_mindwm_crd.feature-MindWM Custom Resource Definition-Create Context]","uid":"f208f477071513b8","parentUid":"3961740595044ffd97a03e46799bfc30","status":"passed","time":{"start":1728403419630,"stop":1728403420753,"duration":1123},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["Feature(gherkin_document=GherkinDocument(uri='file:features/1_mindwm_crd.feature', feature=Feature(location=Location(line=3, column=1), tags=[Tag(location=Location(line=1, column=1), name='@mindwm_crd', id='183'), Tag(location=Location(line=2, column=1), name='@mindwm_test', id='184')], language='en', keyword='Feature', name='MindWM Custom Resource Definition', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=5, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=6, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='165')], id='166'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Create Context', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"xxx3\"', doc_string=None, data_table=None, id='167'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='168')], examples=[], id='169')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=12, column=3), tags=[], keyword='Scenario', name='Create User', description='', steps=[Step(location=Location(line=13, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"alice\" and connects it to the context \"xxx3\"', doc_string=None, data_table=None, id='170'), Step(location=Location(line=14, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='171')], examples=[], id='172')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=16, column=3), tags=[], keyword='Scenario', name='Create Host', description='', steps=[Step(location=Location(line=17, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"laptop\" and connects it to the user \"alice\"', doc_string=None, data_table=None, id='173'), Step(location=Location(line=18, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='174')], examples=[], id='175')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=20, column=3), tags=[], keyword='Scenario', name='Delete Resources and Verify Cleanup', description='', steps=[Step(location=Location(line=21, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"laptop\"', doc_string=None, data_table=None, id='176'), Step(location=Location(line=22, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"laptop\" should be deleted', doc_string=None, data_table=None, id='177'), Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"alice\"', doc_string=None, data_table=None, id='178'), Step(location=Location(line=24, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"alice\" should be deleted', doc_string=None, data_table=None, id='179'), Step(location=Location(line=25, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"xxx3\"', doc_string=None, data_table=None, id='180'), Step(location=Location(line=26, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"xxx3\" should be deleted', doc_string=None, data_table=None, id='181')], examples=[], id='182'))]), comments=[]), uri='file:features/1_mindwm_crd.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/1_mindwm_crd.feature', registry={'183': Tag(location=Location(line=1, column=1), name='@mindwm_crd', id='183'), '184': Tag(location=Location(line=2, column=1), name='@mindwm_test', id='184'), '166': Background(location=Location(line=5, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=6, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='165')], id='166'), '165': Step(location=Location(line=6, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='165'), '169': Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Create Context', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"xxx3\"', doc_string=None, data_table=None, id='167'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='168')], examples=[], id='169'), '167': Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"xxx3\"', doc_string=None, data_table=None, id='167'), '168': Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='168'), '172': Scenario(location=Location(line=12, column=3), tags=[], keyword='Scenario', name='Create User', description='', steps=[Step(location=Location(line=13, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"alice\" and connects it to the context \"xxx3\"', doc_string=None, data_table=None, id='170'), Step(location=Location(line=14, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='171')], examples=[], id='172'), '170': Step(location=Location(line=13, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"alice\" and connects it to the context \"xxx3\"', doc_string=None, data_table=None, id='170'), '171': Step(location=Location(line=14, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='171'), '175': Scenario(location=Location(line=16, column=3), tags=[], keyword='Scenario', name='Create Host', description='', steps=[Step(location=Location(line=17, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"laptop\" and connects it to the user \"alice\"', doc_string=None, data_table=None, id='173'), Step(location=Location(line=18, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='174')], examples=[], id='175'), '173': Step(location=Location(line=17, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"laptop\" and connects it to the user \"alice\"', doc_string=None, data_table=None, id='173'), '174': Step(location=Location(line=18, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='174'), '182': Scenario(location=Location(line=20, column=3), tags=[], keyword='Scenario', name='Delete Resources and Verify Cleanup', description='', steps=[Step(location=Location(line=21, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"laptop\"', doc_string=None, data_table=None, id='176'), Step(location=Location(line=22, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"laptop\" should be deleted', doc_string=None, data_table=None, id='177'), Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"alice\"', doc_string=None, data_table=None, id='178'), Step(location=Location(line=24, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"alice\" should be deleted', doc_string=None, data_table=None, id='179'), Step(location=Location(line=25, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"xxx3\"', doc_string=None, data_table=None, id='180'), Step(location=Location(line=26, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"xxx3\" should be deleted', doc_string=None, data_table=None, id='181')], examples=[], id='182'), '176': Step(location=Location(line=21, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"laptop\"', doc_string=None, data_table=None, id='176'), '177': Step(location=Location(line=22, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"laptop\" should be deleted', doc_string=None, data_table=None, id='177'), '178': Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"alice\"', doc_string=None, data_table=None, id='178'), '179': Step(location=Location(line=24, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"alice\" should be deleted', doc_string=None, data_table=None, id='179'), '180': Step(location=Location(line=25, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"xxx3\"', doc_string=None, data_table=None, id='180'), '181': Step(location=Location(line=26, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"xxx3\" should be deleted', doc_string=None, data_table=None, id='181')}, pickles=[Pickle(id='188', uri='file:features/1_mindwm_crd.feature', name='Create Context', language='en', steps=[PickleStep(argument=None, ast_node_ids=['165'], id='185', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['167'], id='186', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"xxx3\"'), PickleStep(argument=None, ast_node_ids=['168'], id='187', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable')], tags=[PickleTag(name='@mindwm_crd', ast_node_id='183'), PickleTag(name='@mindwm_test', ast_node_id='184')], ast_node_ids=['169']), Pickle(id='192', uri='file:features/1_mindwm_crd.feature', name='Create User', language='en', steps=[PickleStep(argument=None, ast_node_ids=['165'], id='189', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['170'], id='190', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"alice\" and connects it to the context \"xxx3\"'), PickleStep(argument=None, ast_node_ids=['171'], id='191', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable')], tags=[PickleTag(name='@mindwm_crd', ast_node_id='183'), PickleTag(name='@mindwm_test', ast_node_id='184')], ast_node_ids=['172']), Pickle(id='196', uri='file:features/1_mindwm_crd.feature', name='Create Host', language='en', steps=[PickleStep(argument=None, ast_node_ids=['165'], id='193', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['173'], id='194', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"laptop\" and connects it to the user \"alice\"'), PickleStep(argument=None, ast_node_ids=['174'], id='195', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable')], tags=[PickleTag(name='@mindwm_crd', ast_node_id='183'), PickleTag(name='@mindwm_test', ast_node_id='184')], ast_node_ids=['175']), Pickle(id='204', uri='file:features/1_mindwm_crd.feature', name='Delete Resources and Verify Cleanup', language='en', steps=[PickleStep(argument=None, ast_node_ids=['165'], id='197', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['176'], id='198', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"laptop\"'), PickleStep(argument=None, ast_node_ids=['177'], id='199', type=<Type.outcome: 'Outcome'>, text='the host \"laptop\" should be deleted'), PickleStep(argument=None, ast_node_ids=['178'], id='200', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"alice\"'), PickleStep(argument=None, ast_node_ids=['179'], id='201', type=<Type.outcome: 'Outcome'>, text='the user \"alice\" should be deleted'), PickleStep(argument=None, ast_node_ids=['180'], id='202', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"xxx3\"'), PickleStep(argument=None, ast_node_ids=['181'], id='203', type=<Type.outcome: 'Outcome'>, text='the context \"xxx3\" should be deleted')], tags=[PickleTag(name='@mindwm_crd', ast_node_id='183'), PickleTag(name='@mindwm_test', ast_node_id='184')], ast_node_ids=['182'])])","Source(uri='file:features/1_mindwm_crd.feature', data='@mindwm_crd\\n@mindwm_test\\nFeature: MindWM Custom Resource Definition\\n\\n  Background:\\n    Given a MindWM environment\\n    \\n  Scenario: Create Context \\n    When God creates a MindWM context with the name \"xxx3\"\\n    Then the context should be ready and operable\\n\\n  Scenario: Create User \\n    When God creates a MindWM user resource with the name \"alice\" and connects it to the context \"xxx3\"\\n    Then the user resource should be ready and operable\\n\\n  Scenario: Create Host\\n    When God creates a MindWM host resource with the name \"laptop\" and connects it to the user \"alice\"\\n    Then the host resource should be ready and operable\\n\\n  Scenario: Delete Resources and Verify Cleanup\\n    When God deletes the MindWM host resource \"laptop\"\\n    Then the host \"laptop\" should be deleted\\n    When God deletes the MindWM user resource \"alice\"\\n    Then the user \"alice\" should be deleted\\n    When God deletes the MindWM context resource \"xxx3\"\\n    Then the context \"xxx3\" should be deleted\\n   \\t \\n', media_type='text/x.cucumber.gherkin+plain')","Pickle(id='188', uri='file:features/1_mindwm_crd.feature', name='Create Context', language='en', steps=[PickleStep(argument=None, ast_node_ids=['165'], id='185', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['167'], id='186', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"xxx3\"'), PickleStep(argument=None, ast_node_ids=['168'], id='187', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable')], tags=[PickleTag(name='@mindwm_crd', ast_node_id='183'), PickleTag(name='@mindwm_test', ast_node_id='184')], ast_node_ids=['169'])"],"tags":["pytest_bdd_scenario","@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')","mindwm_crd","mindwm_test","scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/1_mindwm_crd.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=<FeaturePathType.PATH: 'path'>, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())","namespace(create=False, name='default')"]},{"name":"test_scenarios[file:features/8_mindwm_two_contexts.feature-Context Resource Readiness and Cleanup Verification-Cleanup Contexts and Verify Resources Are Deleted[table_rows:[line: 62]]]","uid":"8bd6a2710c089b3e","parentUid":"3961740595044ffd97a03e46799bfc30","status":"passed","time":{"start":1728404796287,"stop":1728404808701,"duration":12414},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["Feature(gherkin_document=GherkinDocument(uri='file:features/8_mindwm_two_contexts.feature', feature=Feature(location=Location(line=3, column=1), tags=[Tag(location=Location(line=1, column=1), name='@mindwm_two_contexts', id='917'), Tag(location=Location(line=2, column=1), name='@mindwm_test', id='918')], language='en', keyword='Feature', name='Context Resource Readiness and Cleanup Verification', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=5, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=6, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='877'), Step(location=Location(line=7, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='878')], id='879'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=9, column=3), tags=[], keyword='Scenario Outline', name='Create Contexts and Verify All Related Resources Are in Ready State', description='', steps=[Step(location=Location(line=10, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='880'), Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='881'), Step(location=Location(line=14, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-<context>\" should exist', doc_string=None, data_table=None, id='882'), Step(location=Location(line=17, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=18, column=7), rows=[TableRow(location=Location(line=18, column=7), cells=[TableCell(location=Location(line=18, column=9), value='Deployment name')], id='883'), TableRow(location=Location(line=19, column=7), cells=[TableCell(location=Location(line=19, column=9), value='kafka-cdc-00001-deployment')], id='884'), TableRow(location=Location(line=20, column=7), cells=[TableCell(location=Location(line=20, column=9), value='iocontext-00001-deployment')], id='885')]), id='886'), Step(location=Location(line=23, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='887'), Step(location=Location(line=26, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=27, column=7), rows=[TableRow(location=Location(line=27, column=7), cells=[TableCell(location=Location(line=27, column=9), value='Knative service name')], id='888'), TableRow(location=Location(line=28, column=7), cells=[TableCell(location=Location(line=28, column=9), value='iocontext')], id='889'), TableRow(location=Location(line=29, column=7), cells=[TableCell(location=Location(line=29, column=9), value='kafka-cdc')], id='890'), TableRow(location=Location(line=30, column=7), cells=[TableCell(location=Location(line=30, column=9), value='dead-letter')], id='891'), TableRow(location=Location(line=31, column=7), cells=[TableCell(location=Location(line=31, column=9), value='pong')], id='892')]), id='893'), Step(location=Location(line=34, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative triggers are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=35, column=7), rows=[TableRow(location=Location(line=35, column=7), cells=[TableCell(location=Location(line=35, column=9), value='Knative trigger name')], id='894'), TableRow(location=Location(line=36, column=7), cells=[TableCell(location=Location(line=36, column=9), value='iocontext-trigger')], id='895'), TableRow(location=Location(line=37, column=7), cells=[TableCell(location=Location(line=37, column=9), value='kafka-cdc-trigger')], id='896'), TableRow(location=Location(line=38, column=7), cells=[TableCell(location=Location(line=38, column=9), value='pong-trigger')], id='897')]), id='898'), Step(location=Location(line=41, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative brokers are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=42, column=7), rows=[TableRow(location=Location(line=42, column=7), cells=[TableCell(location=Location(line=42, column=9), value='Knative broker name')], id='899'), TableRow(location=Location(line=43, column=7), cells=[TableCell(location=Location(line=43, column=9), value='context-broker')], id='900')]), id='901'), Step(location=Location(line=46, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka topic \"context-<context>-cdc\" is in ready state in \"redpanda\" namespace', doc_string=None, data_table=None, id='902'), Step(location=Location(line=47, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka source \"context-<context>-cdc-kafkasource\" is in ready state in \"context-<context>\" namespace', doc_string=None, data_table=None, id='903')], examples=[Examples(location=Location(line=50, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=51, column=7), cells=[TableCell(location=Location(line=51, column=9), value='context')], id='904'), table_body=[TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='aphrodite')], id='905'), TableRow(location=Location(line=53, column=7), cells=[TableCell(location=Location(line=53, column=9), value='kypros')], id='906')], id='907')], id='908')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=55, column=3), tags=[], keyword='Scenario Outline', name='Cleanup Contexts and Verify Resources Are Deleted', description='', steps=[Step(location=Location(line=56, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='909'), Step(location=Location(line=57, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='910'), Step(location=Location(line=58, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-<context>\" should not exist', doc_string=None, data_table=None, id='911')], examples=[Examples(location=Location(line=60, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=61, column=7), cells=[TableCell(location=Location(line=61, column=9), value='context')], id='912'), table_body=[TableRow(location=Location(line=62, column=7), cells=[TableCell(location=Location(line=62, column=9), value='aphrodite')], id='913'), TableRow(location=Location(line=63, column=7), cells=[TableCell(location=Location(line=63, column=9), value='kypros')], id='914')], id='915')], id='916'))]), comments=[Comment(location=Location(line=13, column=1), text='    # Verify Namespace'), Comment(location=Location(line=16, column=1), text='    # Verify Deployments'), Comment(location=Location(line=22, column=1), text='    # Verify StatefulSets'), Comment(location=Location(line=25, column=1), text='    # Verify Knative Services'), Comment(location=Location(line=33, column=1), text='    # Verify Knative Triggers'), Comment(location=Location(line=40, column=1), text='    # Verify Knative Brokers'), Comment(location=Location(line=45, column=1), text='    # Verify Kafka Topics and Sources')]), uri='file:features/8_mindwm_two_contexts.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/8_mindwm_two_contexts.feature', registry={'917': Tag(location=Location(line=1, column=1), name='@mindwm_two_contexts', id='917'), '918': Tag(location=Location(line=2, column=1), name='@mindwm_test', id='918'), '879': Background(location=Location(line=5, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=6, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='877'), Step(location=Location(line=7, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='878')], id='879'), '877': Step(location=Location(line=6, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='877'), '878': Step(location=Location(line=7, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='878'), '908': Scenario(location=Location(line=9, column=3), tags=[], keyword='Scenario Outline', name='Create Contexts and Verify All Related Resources Are in Ready State', description='', steps=[Step(location=Location(line=10, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='880'), Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='881'), Step(location=Location(line=14, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-<context>\" should exist', doc_string=None, data_table=None, id='882'), Step(location=Location(line=17, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=18, column=7), rows=[TableRow(location=Location(line=18, column=7), cells=[TableCell(location=Location(line=18, column=9), value='Deployment name')], id='883'), TableRow(location=Location(line=19, column=7), cells=[TableCell(location=Location(line=19, column=9), value='kafka-cdc-00001-deployment')], id='884'), TableRow(location=Location(line=20, column=7), cells=[TableCell(location=Location(line=20, column=9), value='iocontext-00001-deployment')], id='885')]), id='886'), Step(location=Location(line=23, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='887'), Step(location=Location(line=26, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=27, column=7), rows=[TableRow(location=Location(line=27, column=7), cells=[TableCell(location=Location(line=27, column=9), value='Knative service name')], id='888'), TableRow(location=Location(line=28, column=7), cells=[TableCell(location=Location(line=28, column=9), value='iocontext')], id='889'), TableRow(location=Location(line=29, column=7), cells=[TableCell(location=Location(line=29, column=9), value='kafka-cdc')], id='890'), TableRow(location=Location(line=30, column=7), cells=[TableCell(location=Location(line=30, column=9), value='dead-letter')], id='891'), TableRow(location=Location(line=31, column=7), cells=[TableCell(location=Location(line=31, column=9), value='pong')], id='892')]), id='893'), Step(location=Location(line=34, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative triggers are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=35, column=7), rows=[TableRow(location=Location(line=35, column=7), cells=[TableCell(location=Location(line=35, column=9), value='Knative trigger name')], id='894'), TableRow(location=Location(line=36, column=7), cells=[TableCell(location=Location(line=36, column=9), value='iocontext-trigger')], id='895'), TableRow(location=Location(line=37, column=7), cells=[TableCell(location=Location(line=37, column=9), value='kafka-cdc-trigger')], id='896'), TableRow(location=Location(line=38, column=7), cells=[TableCell(location=Location(line=38, column=9), value='pong-trigger')], id='897')]), id='898'), Step(location=Location(line=41, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative brokers are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=42, column=7), rows=[TableRow(location=Location(line=42, column=7), cells=[TableCell(location=Location(line=42, column=9), value='Knative broker name')], id='899'), TableRow(location=Location(line=43, column=7), cells=[TableCell(location=Location(line=43, column=9), value='context-broker')], id='900')]), id='901'), Step(location=Location(line=46, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka topic \"context-<context>-cdc\" is in ready state in \"redpanda\" namespace', doc_string=None, data_table=None, id='902'), Step(location=Location(line=47, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka source \"context-<context>-cdc-kafkasource\" is in ready state in \"context-<context>\" namespace', doc_string=None, data_table=None, id='903')], examples=[Examples(location=Location(line=50, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=51, column=7), cells=[TableCell(location=Location(line=51, column=9), value='context')], id='904'), table_body=[TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='aphrodite')], id='905'), TableRow(location=Location(line=53, column=7), cells=[TableCell(location=Location(line=53, column=9), value='kypros')], id='906')], id='907')], id='908'), '880': Step(location=Location(line=10, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='880'), '881': Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='881'), '882': Step(location=Location(line=14, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-<context>\" should exist', doc_string=None, data_table=None, id='882'), '886': Step(location=Location(line=17, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=18, column=7), rows=[TableRow(location=Location(line=18, column=7), cells=[TableCell(location=Location(line=18, column=9), value='Deployment name')], id='883'), TableRow(location=Location(line=19, column=7), cells=[TableCell(location=Location(line=19, column=9), value='kafka-cdc-00001-deployment')], id='884'), TableRow(location=Location(line=20, column=7), cells=[TableCell(location=Location(line=20, column=9), value='iocontext-00001-deployment')], id='885')]), id='886'), '887': Step(location=Location(line=23, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='887'), '893': Step(location=Location(line=26, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=27, column=7), rows=[TableRow(location=Location(line=27, column=7), cells=[TableCell(location=Location(line=27, column=9), value='Knative service name')], id='888'), TableRow(location=Location(line=28, column=7), cells=[TableCell(location=Location(line=28, column=9), value='iocontext')], id='889'), TableRow(location=Location(line=29, column=7), cells=[TableCell(location=Location(line=29, column=9), value='kafka-cdc')], id='890'), TableRow(location=Location(line=30, column=7), cells=[TableCell(location=Location(line=30, column=9), value='dead-letter')], id='891'), TableRow(location=Location(line=31, column=7), cells=[TableCell(location=Location(line=31, column=9), value='pong')], id='892')]), id='893'), '898': Step(location=Location(line=34, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative triggers are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=35, column=7), rows=[TableRow(location=Location(line=35, column=7), cells=[TableCell(location=Location(line=35, column=9), value='Knative trigger name')], id='894'), TableRow(location=Location(line=36, column=7), cells=[TableCell(location=Location(line=36, column=9), value='iocontext-trigger')], id='895'), TableRow(location=Location(line=37, column=7), cells=[TableCell(location=Location(line=37, column=9), value='kafka-cdc-trigger')], id='896'), TableRow(location=Location(line=38, column=7), cells=[TableCell(location=Location(line=38, column=9), value='pong-trigger')], id='897')]), id='898'), '901': Step(location=Location(line=41, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative brokers are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=42, column=7), rows=[TableRow(location=Location(line=42, column=7), cells=[TableCell(location=Location(line=42, column=9), value='Knative broker name')], id='899'), TableRow(location=Location(line=43, column=7), cells=[TableCell(location=Location(line=43, column=9), value='context-broker')], id='900')]), id='901'), '902': Step(location=Location(line=46, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka topic \"context-<context>-cdc\" is in ready state in \"redpanda\" namespace', doc_string=None, data_table=None, id='902'), '903': Step(location=Location(line=47, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka source \"context-<context>-cdc-kafkasource\" is in ready state in \"context-<context>\" namespace', doc_string=None, data_table=None, id='903'), '907': Examples(location=Location(line=50, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=51, column=7), cells=[TableCell(location=Location(line=51, column=9), value='context')], id='904'), table_body=[TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='aphrodite')], id='905'), TableRow(location=Location(line=53, column=7), cells=[TableCell(location=Location(line=53, column=9), value='kypros')], id='906')], id='907'), '904': TableRow(location=Location(line=51, column=7), cells=[TableCell(location=Location(line=51, column=9), value='context')], id='904'), '905': TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='aphrodite')], id='905'), '906': TableRow(location=Location(line=53, column=7), cells=[TableCell(location=Location(line=53, column=9), value='kypros')], id='906'), '916': Scenario(location=Location(line=55, column=3), tags=[], keyword='Scenario Outline', name='Cleanup Contexts and Verify Resources Are Deleted', description='', steps=[Step(location=Location(line=56, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='909'), Step(location=Location(line=57, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='910'), Step(location=Location(line=58, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-<context>\" should not exist', doc_string=None, data_table=None, id='911')], examples=[Examples(location=Location(line=60, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=61, column=7), cells=[TableCell(location=Location(line=61, column=9), value='context')], id='912'), table_body=[TableRow(location=Location(line=62, column=7), cells=[TableCell(location=Location(line=62, column=9), value='aphrodite')], id='913'), TableRow(location=Location(line=63, column=7), cells=[TableCell(location=Location(line=63, column=9), value='kypros')], id='914')], id='915')], id='916'), '909': Step(location=Location(line=56, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='909'), '910': Step(location=Location(line=57, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='910'), '911': Step(location=Location(line=58, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-<context>\" should not exist', doc_string=None, data_table=None, id='911'), '915': Examples(location=Location(line=60, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=61, column=7), cells=[TableCell(location=Location(line=61, column=9), value='context')], id='912'), table_body=[TableRow(location=Location(line=62, column=7), cells=[TableCell(location=Location(line=62, column=9), value='aphrodite')], id='913'), TableRow(location=Location(line=63, column=7), cells=[TableCell(location=Location(line=63, column=9), value='kypros')], id='914')], id='915'), '912': TableRow(location=Location(line=61, column=7), cells=[TableCell(location=Location(line=61, column=9), value='context')], id='912'), '913': TableRow(location=Location(line=62, column=7), cells=[TableCell(location=Location(line=62, column=9), value='aphrodite')], id='913'), '914': TableRow(location=Location(line=63, column=7), cells=[TableCell(location=Location(line=63, column=9), value='kypros')], id='914')}, pickles=[Pickle(id='931', uri='file:features/8_mindwm_two_contexts.feature', name='Create Contexts and Verify All Related Resources Are in Ready State', language='en', steps=[PickleStep(argument=None, ast_node_ids=['877'], id='919', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['878'], id='920', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['880', '905'], id='921', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"aphrodite\"'), PickleStep(argument=None, ast_node_ids=['881', '905'], id='922', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=None, ast_node_ids=['882', '905'], id='923', type=<Type.outcome: 'Outcome'>, text='namespace \"context-aphrodite\" should exist'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-00001-deployment')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-00001-deployment')])])), ast_node_ids=['886', '905'], id='924', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-aphrodite\" namespace'), PickleStep(argument=None, ast_node_ids=['887', '905'], id='925', type=<Type.outcome: 'Outcome'>, text='statefulset \"aphrodite-neo4j\" in namespace \"context-aphrodite\" is in ready state'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')]), PickleTableRow(cells=[PickleTableCell(value='dead-letter')]), PickleTableRow(cells=[PickleTableCell(value='pong')])])), ast_node_ids=['893', '905'], id='926', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-aphrodite\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative trigger name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-trigger')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-trigger')]), PickleTableRow(cells=[PickleTableCell(value='pong-trigger')])])), ast_node_ids=['898', '905'], id='927', type=<Type.outcome: 'Outcome'>, text='the following knative triggers are in a ready state in the \"context-aphrodite\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative broker name')]), PickleTableRow(cells=[PickleTableCell(value='context-broker')])])), ast_node_ids=['901', '905'], id='928', type=<Type.outcome: 'Outcome'>, text='the following knative brokers are in a ready state in the \"context-aphrodite\" namespace'), PickleStep(argument=None, ast_node_ids=['902', '905'], id='929', type=<Type.outcome: 'Outcome'>, text='kafka topic \"context-aphrodite-cdc\" is in ready state in \"redpanda\" namespace'), PickleStep(argument=None, ast_node_ids=['903', '905'], id='930', type=<Type.outcome: 'Outcome'>, text='kafka source \"context-aphrodite-cdc-kafkasource\" is in ready state in \"context-aphrodite\" namespace')], tags=[PickleTag(name='@mindwm_two_contexts', ast_node_id='917'), PickleTag(name='@mindwm_test', ast_node_id='918')], ast_node_ids=['908', '905']), Pickle(id='944', uri='file:features/8_mindwm_two_contexts.feature', name='Create Contexts and Verify All Related Resources Are in Ready State', language='en', steps=[PickleStep(argument=None, ast_node_ids=['877'], id='932', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['878'], id='933', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['880', '906'], id='934', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"kypros\"'), PickleStep(argument=None, ast_node_ids=['881', '906'], id='935', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=None, ast_node_ids=['882', '906'], id='936', type=<Type.outcome: 'Outcome'>, text='namespace \"context-kypros\" should exist'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-00001-deployment')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-00001-deployment')])])), ast_node_ids=['886', '906'], id='937', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-kypros\" namespace'), PickleStep(argument=None, ast_node_ids=['887', '906'], id='938', type=<Type.outcome: 'Outcome'>, text='statefulset \"kypros-neo4j\" in namespace \"context-kypros\" is in ready state'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')]), PickleTableRow(cells=[PickleTableCell(value='dead-letter')]), PickleTableRow(cells=[PickleTableCell(value='pong')])])), ast_node_ids=['893', '906'], id='939', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-kypros\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative trigger name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-trigger')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-trigger')]), PickleTableRow(cells=[PickleTableCell(value='pong-trigger')])])), ast_node_ids=['898', '906'], id='940', type=<Type.outcome: 'Outcome'>, text='the following knative triggers are in a ready state in the \"context-kypros\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative broker name')]), PickleTableRow(cells=[PickleTableCell(value='context-broker')])])), ast_node_ids=['901', '906'], id='941', type=<Type.outcome: 'Outcome'>, text='the following knative brokers are in a ready state in the \"context-kypros\" namespace'), PickleStep(argument=None, ast_node_ids=['902', '906'], id='942', type=<Type.outcome: 'Outcome'>, text='kafka topic \"context-kypros-cdc\" is in ready state in \"redpanda\" namespace'), PickleStep(argument=None, ast_node_ids=['903', '906'], id='943', type=<Type.outcome: 'Outcome'>, text='kafka source \"context-kypros-cdc-kafkasource\" is in ready state in \"context-kypros\" namespace')], tags=[PickleTag(name='@mindwm_two_contexts', ast_node_id='917'), PickleTag(name='@mindwm_test', ast_node_id='918')], ast_node_ids=['908', '906']), Pickle(id='950', uri='file:features/8_mindwm_two_contexts.feature', name='Cleanup Contexts and Verify Resources Are Deleted', language='en', steps=[PickleStep(argument=None, ast_node_ids=['877'], id='945', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['878'], id='946', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['909', '913'], id='947', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"aphrodite\"'), PickleStep(argument=None, ast_node_ids=['910', '913'], id='948', type=<Type.outcome: 'Outcome'>, text='the context \"aphrodite\" should be deleted'), PickleStep(argument=None, ast_node_ids=['911', '913'], id='949', type=<Type.outcome: 'Outcome'>, text='namespace \"context-aphrodite\" should not exist')], tags=[PickleTag(name='@mindwm_two_contexts', ast_node_id='917'), PickleTag(name='@mindwm_test', ast_node_id='918')], ast_node_ids=['916', '913']), Pickle(id='956', uri='file:features/8_mindwm_two_contexts.feature', name='Cleanup Contexts and Verify Resources Are Deleted', language='en', steps=[PickleStep(argument=None, ast_node_ids=['877'], id='951', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['878'], id='952', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['909', '914'], id='953', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"kypros\"'), PickleStep(argument=None, ast_node_ids=['910', '914'], id='954', type=<Type.outcome: 'Outcome'>, text='the context \"kypros\" should be deleted'), PickleStep(argument=None, ast_node_ids=['911', '914'], id='955', type=<Type.outcome: 'Outcome'>, text='namespace \"context-kypros\" should not exist')], tags=[PickleTag(name='@mindwm_two_contexts', ast_node_id='917'), PickleTag(name='@mindwm_test', ast_node_id='918')], ast_node_ids=['916', '914'])])","Source(uri='file:features/8_mindwm_two_contexts.feature', data='@mindwm_two_contexts\\n@mindwm_test\\nFeature: Context Resource Readiness and Cleanup Verification\\n\\n  Background:\\n    Given a MindWM environment\\n    Then all nodes in Kubernetes are ready\\n\\n  Scenario Outline: Create Contexts and Verify All Related Resources Are in Ready State\\n    When God creates a MindWM context with the name \"<context>\"\\n    Then the context should be ready and operable\\n\\n    # Verify Namespace\\n    And namespace \"context-<context>\" should exist\\n\\n    # Verify Deployments\\n    And the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name               |\\n      | kafka-cdc-00001-deployment    |\\n      | iocontext-00001-deployment    |\\n\\n    # Verify StatefulSets\\n    And statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state\\n\\n    # Verify Knative Services\\n    And the following knative services are in a ready state in the \"context-<context>\" namespace\\n      | Knative service name |\\n      | iocontext            |\\n      | kafka-cdc            |\\n      | dead-letter          |\\n      | pong                 |\\n\\n    # Verify Knative Triggers\\n    And the following knative triggers are in a ready state in the \"context-<context>\" namespace\\n      | Knative trigger name          |\\n      | iocontext-trigger             |\\n      | kafka-cdc-trigger             |\\n      | pong-trigger                  |\\n\\n    # Verify Knative Brokers\\n    And the following knative brokers are in a ready state in the \"context-<context>\" namespace\\n      | Knative broker name           |\\n      | context-broker                |\\n\\n    # Verify Kafka Topics and Sources\\n    And kafka topic \"context-<context>-cdc\" is in ready state in \"redpanda\" namespace\\n    And kafka source \"context-<context>-cdc-kafkasource\" is in ready state in \"context-<context>\" namespace\\n\\n\\n    Examples:\\n      | context   |\\n      | aphrodite |\\n      | kypros    |\\n\\n  Scenario Outline: Cleanup Contexts and Verify Resources Are Deleted\\n    When God deletes the MindWM context resource \"<context>\"\\n    Then the context \"<context>\" should be deleted\\n    And namespace \"context-<context>\" should not exist\\n\\n    Examples:\\n      | context   |\\n      | aphrodite |\\n      | kypros    |\\n\\n', media_type='text/x.cucumber.gherkin+plain')","Pickle(id='950', uri='file:features/8_mindwm_two_contexts.feature', name='Cleanup Contexts and Verify Resources Are Deleted', language='en', steps=[PickleStep(argument=None, ast_node_ids=['877'], id='945', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['878'], id='946', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['909', '913'], id='947', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"aphrodite\"'), PickleStep(argument=None, ast_node_ids=['910', '913'], id='948', type=<Type.outcome: 'Outcome'>, text='the context \"aphrodite\" should be deleted'), PickleStep(argument=None, ast_node_ids=['911', '913'], id='949', type=<Type.outcome: 'Outcome'>, text='namespace \"context-aphrodite\" should not exist')], tags=[PickleTag(name='@mindwm_two_contexts', ast_node_id='917'), PickleTag(name='@mindwm_test', ast_node_id='918')], ast_node_ids=['916', '913'])"],"tags":["pytest_bdd_scenario","@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')","mindwm_test","scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/8_mindwm_two_contexts.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=<FeaturePathType.PATH: 'path'>, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())","mindwm_two_contexts","namespace(create=False, name='default')"]},{"name":"test_scenarios[file:features/3_mindwm_ping_pong.feature-MindWM Ping-pong EDA test-Send ping via broker-ingress.knative-eventing/context-green4/context-broker[table_rows:[line: 82]]]","uid":"63a4b5622fb59449","parentUid":"3961740595044ffd97a03e46799bfc30","status":"passed","time":{"start":1728403807454,"stop":1728403829225,"duration":21771},"flaky":false,"newFailed":false,"newPassed":true,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["Feature(gherkin_document=GherkinDocument(uri='file:features/3_mindwm_ping_pong.feature', feature=Feature(location=Location(line=3, column=1), tags=[Tag(location=Location(line=1, column=1), name='@mindwm_ping_pong', id='380'), Tag(location=Location(line=2, column=1), name='@mindwm_test', id='381')], language='en', keyword='Feature', name='MindWM Ping-pong EDA test', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='306'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='307')], id='308'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Prepare environment for ping tests', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='309'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='310'), Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='311'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='pong')], id='312')]), id='313'), Step(location=Location(line=15, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='314'), Step(location=Location(line=16, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='315'), Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='316'), Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='317'), Step(location=Location(line=20, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace', doc_string=None, data_table=None, id='318'), Step(location=Location(line=22, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='319')], examples=[Examples(location=Location(line=24, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=25, column=6), cells=[TableCell(location=Location(line=25, column=8), value='context'), TableCell(location=Location(line=25, column=18), value='username'), TableCell(location=Location(line=25, column=31), value='host')], id='320'), table_body=[TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='green4'), TableCell(location=Location(line=26, column=19), value='amanda4'), TableCell(location=Location(line=26, column=31), value='pi6-host')], id='321')], id='322')], id='323')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=28, column=3), tags=[], keyword='Scenario', name='Send pind to knative ping service', description='', steps=[Step(location=Location(line=29, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='324'), Step(location=Location(line=30, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='325'), Step(location=Location(line=31, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='326'), Step(location=Location(line=32, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"', doc_string=None, data_table=None, id='327'), Step(location=Location(line=33, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to knative service \"pong\" in \"context-<context>\" namespace', doc_string=DocString(location=Location(line=34, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='328'), Step(location=Location(line=42, column=7), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"200\"', doc_string=None, data_table=None, id='329'), Step(location=Location(line=44, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=45, column=7), rows=[TableRow(location=Location(line=45, column=7), cells=[TableCell(location=Location(line=45, column=9), value='Deployment name')], id='330'), TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='pong-00001-deployment')], id='331')]), id='332')], examples=[Examples(location=Location(line=48, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=49, column=6), cells=[TableCell(location=Location(line=49, column=8), value='context'), TableCell(location=Location(line=49, column=18), value='username'), TableCell(location=Location(line=49, column=31), value='host')], id='333'), table_body=[TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='green4'), TableCell(location=Location(line=50, column=19), value='amanda4'), TableCell(location=Location(line=50, column=31), value='pi6-host')], id='334')], id='335')], id='336')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=52, column=3), tags=[], keyword='Scenario', name='Send ping via <endpoint>', description='', steps=[Step(location=Location(line=53, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='337'), Step(location=Location(line=54, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='338'), Step(location=Location(line=55, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='339'), Step(location=Location(line=56, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='340'), Step(location=Location(line=57, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"', doc_string=None, data_table=None, id='341'), Step(location=Location(line=58, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to \"<endpoint>\"', doc_string=DocString(location=Location(line=59, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='342'), Step(location=Location(line=67, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"202\"', doc_string=None, data_table=None, id='343'), Step(location=Location(line=69, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=70, column=7), rows=[TableRow(location=Location(line=70, column=7), cells=[TableCell(location=Location(line=70, column=9), value='Deployment name')], id='344'), TableRow(location=Location(line=71, column=7), cells=[TableCell(location=Location(line=71, column=9), value='pong-00001-deployment')], id='345')]), id='346'), Step(location=Location(line=72, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the trace with \"<traceparent>\" should appear in TraceQL', doc_string=None, data_table=None, id='347'), Step(location=Location(line=73, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the trace should contains', doc_string=None, data_table=DataTable(location=Location(line=74, column=7), rows=[TableRow(location=Location(line=74, column=7), cells=[TableCell(location=Location(line=74, column=9), value='service name')], id='348'), TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='broker-ingress.knative-eventing')], id='349'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='unknown_service')], id='350'), TableRow(location=Location(line=77, column=7), cells=[TableCell(location=Location(line=77, column=9), value='jetstream-ch-dispatcher')], id='351')]), id='352'), Step(location=Location(line=78, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='353')], examples=[Examples(location=Location(line=80, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=81, column=6), cells=[TableCell(location=Location(line=81, column=8), value='context'), TableCell(location=Location(line=81, column=18), value='username'), TableCell(location=Location(line=81, column=31), value='host'), TableCell(location=Location(line=81, column=43), value='endpoint'), TableCell(location=Location(line=81, column=54), value='traceparent')], id='354'), table_body=[TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='green4'), TableCell(location=Location(line=82, column=19), value='amanda4'), TableCell(location=Location(line=82, column=31), value='pi6-host'), TableCell(location=Location(line=82, column=43), value='broker-ingress.knative-eventing/context-green4/context-broker'), TableCell(location=Location(line=82, column=109), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='355'), TableRow(location=Location(line=83, column=6), cells=[TableCell(location=Location(line=83, column=8), value='green4'), TableCell(location=Location(line=83, column=19), value='amanda4'), TableCell(location=Location(line=83, column=31), value='pi6-host'), TableCell(location=Location(line=83, column=43), value='broker-ingress.knative-eventing/user-amanda4/user-broker'), TableCell(location=Location(line=83, column=102), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='356')], id='357')], id='358')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=86, column=3), tags=[], keyword='Scenario', name='Send ping via nats', description='', steps=[Step(location=Location(line=87, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='359'), Step(location=Location(line=88, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='360'), Step(location=Location(line=89, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='361'), Step(location=Location(line=90, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='362'), Step(location=Location(line=91, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=92, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='363'), Step(location=Location(line=101, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=102, column=7), rows=[TableRow(location=Location(line=102, column=7), cells=[TableCell(location=Location(line=102, column=9), value='Deployment name')], id='364'), TableRow(location=Location(line=103, column=7), cells=[TableCell(location=Location(line=103, column=9), value='pong-00001-deployment')], id='365')]), id='366'), Step(location=Location(line=105, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='367')], examples=[Examples(location=Location(line=108, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=109, column=6), cells=[TableCell(location=Location(line=109, column=8), value='context'), TableCell(location=Location(line=109, column=18), value='username'), TableCell(location=Location(line=109, column=31), value='host'), TableCell(location=Location(line=109, column=43), value='tmux_pane'), TableCell(location=Location(line=109, column=55), value='tmux_window'), TableCell(location=Location(line=109, column=69), value='uuid'), TableCell(location=Location(line=109, column=109), value='tmux_socket')], id='368'), table_body=[TableRow(location=Location(line=110, column=6), cells=[TableCell(location=Location(line=110, column=8), value='green4'), TableCell(location=Location(line=110, column=19), value='amanda4'), TableCell(location=Location(line=110, column=31), value='pi6-host'), TableCell(location=Location(line=110, column=43), value='23'), TableCell(location=Location(line=110, column=55), value='36'), TableCell(location=Location(line=110, column=69), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=110, column=108), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='369')], id='370')], id='371')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=113, column=4), tags=[], keyword='Scenario', name='Cleanup <username>@<host> in <context>', description='', steps=[Step(location=Location(line=114, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='372'), Step(location=Location(line=115, column=6), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='373'), Step(location=Location(line=117, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='374'), Step(location=Location(line=119, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='375')], examples=[Examples(location=Location(line=121, column=6), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=122, column=6), cells=[TableCell(location=Location(line=122, column=8), value='context'), TableCell(location=Location(line=122, column=18), value='username'), TableCell(location=Location(line=122, column=29), value='host')], id='376'), table_body=[TableRow(location=Location(line=123, column=6), cells=[TableCell(location=Location(line=123, column=8), value='green4'), TableCell(location=Location(line=123, column=19), value='amanda4'), TableCell(location=Location(line=123, column=31), value='pi6-host')], id='377')], id='378')], id='379'))]), comments=[]), uri='file:features/3_mindwm_ping_pong.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/3_mindwm_ping_pong.feature', registry={'380': Tag(location=Location(line=1, column=1), name='@mindwm_ping_pong', id='380'), '381': Tag(location=Location(line=2, column=1), name='@mindwm_test', id='381'), '308': Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='306'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='307')], id='308'), '306': Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='306'), '307': Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='307'), '323': Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Prepare environment for ping tests', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='309'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='310'), Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='311'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='pong')], id='312')]), id='313'), Step(location=Location(line=15, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='314'), Step(location=Location(line=16, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='315'), Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='316'), Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='317'), Step(location=Location(line=20, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace', doc_string=None, data_table=None, id='318'), Step(location=Location(line=22, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='319')], examples=[Examples(location=Location(line=24, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=25, column=6), cells=[TableCell(location=Location(line=25, column=8), value='context'), TableCell(location=Location(line=25, column=18), value='username'), TableCell(location=Location(line=25, column=31), value='host')], id='320'), table_body=[TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='green4'), TableCell(location=Location(line=26, column=19), value='amanda4'), TableCell(location=Location(line=26, column=31), value='pi6-host')], id='321')], id='322')], id='323'), '309': Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='309'), '310': Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='310'), '313': Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='311'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='pong')], id='312')]), id='313'), '314': Step(location=Location(line=15, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='314'), '315': Step(location=Location(line=16, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='315'), '316': Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='316'), '317': Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='317'), '318': Step(location=Location(line=20, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace', doc_string=None, data_table=None, id='318'), '319': Step(location=Location(line=22, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='319'), '322': Examples(location=Location(line=24, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=25, column=6), cells=[TableCell(location=Location(line=25, column=8), value='context'), TableCell(location=Location(line=25, column=18), value='username'), TableCell(location=Location(line=25, column=31), value='host')], id='320'), table_body=[TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='green4'), TableCell(location=Location(line=26, column=19), value='amanda4'), TableCell(location=Location(line=26, column=31), value='pi6-host')], id='321')], id='322'), '320': TableRow(location=Location(line=25, column=6), cells=[TableCell(location=Location(line=25, column=8), value='context'), TableCell(location=Location(line=25, column=18), value='username'), TableCell(location=Location(line=25, column=31), value='host')], id='320'), '321': TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='green4'), TableCell(location=Location(line=26, column=19), value='amanda4'), TableCell(location=Location(line=26, column=31), value='pi6-host')], id='321'), '336': Scenario(location=Location(line=28, column=3), tags=[], keyword='Scenario', name='Send pind to knative ping service', description='', steps=[Step(location=Location(line=29, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='324'), Step(location=Location(line=30, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='325'), Step(location=Location(line=31, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='326'), Step(location=Location(line=32, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"', doc_string=None, data_table=None, id='327'), Step(location=Location(line=33, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to knative service \"pong\" in \"context-<context>\" namespace', doc_string=DocString(location=Location(line=34, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='328'), Step(location=Location(line=42, column=7), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"200\"', doc_string=None, data_table=None, id='329'), Step(location=Location(line=44, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=45, column=7), rows=[TableRow(location=Location(line=45, column=7), cells=[TableCell(location=Location(line=45, column=9), value='Deployment name')], id='330'), TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='pong-00001-deployment')], id='331')]), id='332')], examples=[Examples(location=Location(line=48, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=49, column=6), cells=[TableCell(location=Location(line=49, column=8), value='context'), TableCell(location=Location(line=49, column=18), value='username'), TableCell(location=Location(line=49, column=31), value='host')], id='333'), table_body=[TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='green4'), TableCell(location=Location(line=50, column=19), value='amanda4'), TableCell(location=Location(line=50, column=31), value='pi6-host')], id='334')], id='335')], id='336'), '324': Step(location=Location(line=29, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='324'), '325': Step(location=Location(line=30, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='325'), '326': Step(location=Location(line=31, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='326'), '327': Step(location=Location(line=32, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"', doc_string=None, data_table=None, id='327'), '328': Step(location=Location(line=33, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to knative service \"pong\" in \"context-<context>\" namespace', doc_string=DocString(location=Location(line=34, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='328'), '329': Step(location=Location(line=42, column=7), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"200\"', doc_string=None, data_table=None, id='329'), '332': Step(location=Location(line=44, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=45, column=7), rows=[TableRow(location=Location(line=45, column=7), cells=[TableCell(location=Location(line=45, column=9), value='Deployment name')], id='330'), TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='pong-00001-deployment')], id='331')]), id='332'), '335': Examples(location=Location(line=48, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=49, column=6), cells=[TableCell(location=Location(line=49, column=8), value='context'), TableCell(location=Location(line=49, column=18), value='username'), TableCell(location=Location(line=49, column=31), value='host')], id='333'), table_body=[TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='green4'), TableCell(location=Location(line=50, column=19), value='amanda4'), TableCell(location=Location(line=50, column=31), value='pi6-host')], id='334')], id='335'), '333': TableRow(location=Location(line=49, column=6), cells=[TableCell(location=Location(line=49, column=8), value='context'), TableCell(location=Location(line=49, column=18), value='username'), TableCell(location=Location(line=49, column=31), value='host')], id='333'), '334': TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='green4'), TableCell(location=Location(line=50, column=19), value='amanda4'), TableCell(location=Location(line=50, column=31), value='pi6-host')], id='334'), '358': Scenario(location=Location(line=52, column=3), tags=[], keyword='Scenario', name='Send ping via <endpoint>', description='', steps=[Step(location=Location(line=53, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='337'), Step(location=Location(line=54, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='338'), Step(location=Location(line=55, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='339'), Step(location=Location(line=56, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='340'), Step(location=Location(line=57, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"', doc_string=None, data_table=None, id='341'), Step(location=Location(line=58, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to \"<endpoint>\"', doc_string=DocString(location=Location(line=59, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='342'), Step(location=Location(line=67, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"202\"', doc_string=None, data_table=None, id='343'), Step(location=Location(line=69, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=70, column=7), rows=[TableRow(location=Location(line=70, column=7), cells=[TableCell(location=Location(line=70, column=9), value='Deployment name')], id='344'), TableRow(location=Location(line=71, column=7), cells=[TableCell(location=Location(line=71, column=9), value='pong-00001-deployment')], id='345')]), id='346'), Step(location=Location(line=72, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the trace with \"<traceparent>\" should appear in TraceQL', doc_string=None, data_table=None, id='347'), Step(location=Location(line=73, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the trace should contains', doc_string=None, data_table=DataTable(location=Location(line=74, column=7), rows=[TableRow(location=Location(line=74, column=7), cells=[TableCell(location=Location(line=74, column=9), value='service name')], id='348'), TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='broker-ingress.knative-eventing')], id='349'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='unknown_service')], id='350'), TableRow(location=Location(line=77, column=7), cells=[TableCell(location=Location(line=77, column=9), value='jetstream-ch-dispatcher')], id='351')]), id='352'), Step(location=Location(line=78, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='353')], examples=[Examples(location=Location(line=80, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=81, column=6), cells=[TableCell(location=Location(line=81, column=8), value='context'), TableCell(location=Location(line=81, column=18), value='username'), TableCell(location=Location(line=81, column=31), value='host'), TableCell(location=Location(line=81, column=43), value='endpoint'), TableCell(location=Location(line=81, column=54), value='traceparent')], id='354'), table_body=[TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='green4'), TableCell(location=Location(line=82, column=19), value='amanda4'), TableCell(location=Location(line=82, column=31), value='pi6-host'), TableCell(location=Location(line=82, column=43), value='broker-ingress.knative-eventing/context-green4/context-broker'), TableCell(location=Location(line=82, column=109), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='355'), TableRow(location=Location(line=83, column=6), cells=[TableCell(location=Location(line=83, column=8), value='green4'), TableCell(location=Location(line=83, column=19), value='amanda4'), TableCell(location=Location(line=83, column=31), value='pi6-host'), TableCell(location=Location(line=83, column=43), value='broker-ingress.knative-eventing/user-amanda4/user-broker'), TableCell(location=Location(line=83, column=102), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='356')], id='357')], id='358'), '337': Step(location=Location(line=53, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='337'), '338': Step(location=Location(line=54, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='338'), '339': Step(location=Location(line=55, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='339'), '340': Step(location=Location(line=56, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='340'), '341': Step(location=Location(line=57, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"', doc_string=None, data_table=None, id='341'), '342': Step(location=Location(line=58, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to \"<endpoint>\"', doc_string=DocString(location=Location(line=59, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='342'), '343': Step(location=Location(line=67, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"202\"', doc_string=None, data_table=None, id='343'), '346': Step(location=Location(line=69, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=70, column=7), rows=[TableRow(location=Location(line=70, column=7), cells=[TableCell(location=Location(line=70, column=9), value='Deployment name')], id='344'), TableRow(location=Location(line=71, column=7), cells=[TableCell(location=Location(line=71, column=9), value='pong-00001-deployment')], id='345')]), id='346'), '347': Step(location=Location(line=72, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the trace with \"<traceparent>\" should appear in TraceQL', doc_string=None, data_table=None, id='347'), '352': Step(location=Location(line=73, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the trace should contains', doc_string=None, data_table=DataTable(location=Location(line=74, column=7), rows=[TableRow(location=Location(line=74, column=7), cells=[TableCell(location=Location(line=74, column=9), value='service name')], id='348'), TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='broker-ingress.knative-eventing')], id='349'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='unknown_service')], id='350'), TableRow(location=Location(line=77, column=7), cells=[TableCell(location=Location(line=77, column=9), value='jetstream-ch-dispatcher')], id='351')]), id='352'), '353': Step(location=Location(line=78, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='353'), '357': Examples(location=Location(line=80, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=81, column=6), cells=[TableCell(location=Location(line=81, column=8), value='context'), TableCell(location=Location(line=81, column=18), value='username'), TableCell(location=Location(line=81, column=31), value='host'), TableCell(location=Location(line=81, column=43), value='endpoint'), TableCell(location=Location(line=81, column=54), value='traceparent')], id='354'), table_body=[TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='green4'), TableCell(location=Location(line=82, column=19), value='amanda4'), TableCell(location=Location(line=82, column=31), value='pi6-host'), TableCell(location=Location(line=82, column=43), value='broker-ingress.knative-eventing/context-green4/context-broker'), TableCell(location=Location(line=82, column=109), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='355'), TableRow(location=Location(line=83, column=6), cells=[TableCell(location=Location(line=83, column=8), value='green4'), TableCell(location=Location(line=83, column=19), value='amanda4'), TableCell(location=Location(line=83, column=31), value='pi6-host'), TableCell(location=Location(line=83, column=43), value='broker-ingress.knative-eventing/user-amanda4/user-broker'), TableCell(location=Location(line=83, column=102), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='356')], id='357'), '354': TableRow(location=Location(line=81, column=6), cells=[TableCell(location=Location(line=81, column=8), value='context'), TableCell(location=Location(line=81, column=18), value='username'), TableCell(location=Location(line=81, column=31), value='host'), TableCell(location=Location(line=81, column=43), value='endpoint'), TableCell(location=Location(line=81, column=54), value='traceparent')], id='354'), '355': TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='green4'), TableCell(location=Location(line=82, column=19), value='amanda4'), TableCell(location=Location(line=82, column=31), value='pi6-host'), TableCell(location=Location(line=82, column=43), value='broker-ingress.knative-eventing/context-green4/context-broker'), TableCell(location=Location(line=82, column=109), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='355'), '356': TableRow(location=Location(line=83, column=6), cells=[TableCell(location=Location(line=83, column=8), value='green4'), TableCell(location=Location(line=83, column=19), value='amanda4'), TableCell(location=Location(line=83, column=31), value='pi6-host'), TableCell(location=Location(line=83, column=43), value='broker-ingress.knative-eventing/user-amanda4/user-broker'), TableCell(location=Location(line=83, column=102), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='356'), '371': Scenario(location=Location(line=86, column=3), tags=[], keyword='Scenario', name='Send ping via nats', description='', steps=[Step(location=Location(line=87, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='359'), Step(location=Location(line=88, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='360'), Step(location=Location(line=89, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='361'), Step(location=Location(line=90, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='362'), Step(location=Location(line=91, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=92, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='363'), Step(location=Location(line=101, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=102, column=7), rows=[TableRow(location=Location(line=102, column=7), cells=[TableCell(location=Location(line=102, column=9), value='Deployment name')], id='364'), TableRow(location=Location(line=103, column=7), cells=[TableCell(location=Location(line=103, column=9), value='pong-00001-deployment')], id='365')]), id='366'), Step(location=Location(line=105, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='367')], examples=[Examples(location=Location(line=108, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=109, column=6), cells=[TableCell(location=Location(line=109, column=8), value='context'), TableCell(location=Location(line=109, column=18), value='username'), TableCell(location=Location(line=109, column=31), value='host'), TableCell(location=Location(line=109, column=43), value='tmux_pane'), TableCell(location=Location(line=109, column=55), value='tmux_window'), TableCell(location=Location(line=109, column=69), value='uuid'), TableCell(location=Location(line=109, column=109), value='tmux_socket')], id='368'), table_body=[TableRow(location=Location(line=110, column=6), cells=[TableCell(location=Location(line=110, column=8), value='green4'), TableCell(location=Location(line=110, column=19), value='amanda4'), TableCell(location=Location(line=110, column=31), value='pi6-host'), TableCell(location=Location(line=110, column=43), value='23'), TableCell(location=Location(line=110, column=55), value='36'), TableCell(location=Location(line=110, column=69), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=110, column=108), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='369')], id='370')], id='371'), '359': Step(location=Location(line=87, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='359'), '360': Step(location=Location(line=88, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='360'), '361': Step(location=Location(line=89, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='361'), '362': Step(location=Location(line=90, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='362'), '363': Step(location=Location(line=91, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=92, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='363'), '366': Step(location=Location(line=101, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=102, column=7), rows=[TableRow(location=Location(line=102, column=7), cells=[TableCell(location=Location(line=102, column=9), value='Deployment name')], id='364'), TableRow(location=Location(line=103, column=7), cells=[TableCell(location=Location(line=103, column=9), value='pong-00001-deployment')], id='365')]), id='366'), '367': Step(location=Location(line=105, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='367'), '370': Examples(location=Location(line=108, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=109, column=6), cells=[TableCell(location=Location(line=109, column=8), value='context'), TableCell(location=Location(line=109, column=18), value='username'), TableCell(location=Location(line=109, column=31), value='host'), TableCell(location=Location(line=109, column=43), value='tmux_pane'), TableCell(location=Location(line=109, column=55), value='tmux_window'), TableCell(location=Location(line=109, column=69), value='uuid'), TableCell(location=Location(line=109, column=109), value='tmux_socket')], id='368'), table_body=[TableRow(location=Location(line=110, column=6), cells=[TableCell(location=Location(line=110, column=8), value='green4'), TableCell(location=Location(line=110, column=19), value='amanda4'), TableCell(location=Location(line=110, column=31), value='pi6-host'), TableCell(location=Location(line=110, column=43), value='23'), TableCell(location=Location(line=110, column=55), value='36'), TableCell(location=Location(line=110, column=69), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=110, column=108), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='369')], id='370'), '368': TableRow(location=Location(line=109, column=6), cells=[TableCell(location=Location(line=109, column=8), value='context'), TableCell(location=Location(line=109, column=18), value='username'), TableCell(location=Location(line=109, column=31), value='host'), TableCell(location=Location(line=109, column=43), value='tmux_pane'), TableCell(location=Location(line=109, column=55), value='tmux_window'), TableCell(location=Location(line=109, column=69), value='uuid'), TableCell(location=Location(line=109, column=109), value='tmux_socket')], id='368'), '369': TableRow(location=Location(line=110, column=6), cells=[TableCell(location=Location(line=110, column=8), value='green4'), TableCell(location=Location(line=110, column=19), value='amanda4'), TableCell(location=Location(line=110, column=31), value='pi6-host'), TableCell(location=Location(line=110, column=43), value='23'), TableCell(location=Location(line=110, column=55), value='36'), TableCell(location=Location(line=110, column=69), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=110, column=108), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='369'), '379': Scenario(location=Location(line=113, column=4), tags=[], keyword='Scenario', name='Cleanup <username>@<host> in <context>', description='', steps=[Step(location=Location(line=114, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='372'), Step(location=Location(line=115, column=6), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='373'), Step(location=Location(line=117, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='374'), Step(location=Location(line=119, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='375')], examples=[Examples(location=Location(line=121, column=6), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=122, column=6), cells=[TableCell(location=Location(line=122, column=8), value='context'), TableCell(location=Location(line=122, column=18), value='username'), TableCell(location=Location(line=122, column=29), value='host')], id='376'), table_body=[TableRow(location=Location(line=123, column=6), cells=[TableCell(location=Location(line=123, column=8), value='green4'), TableCell(location=Location(line=123, column=19), value='amanda4'), TableCell(location=Location(line=123, column=31), value='pi6-host')], id='377')], id='378')], id='379'), '372': Step(location=Location(line=114, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='372'), '373': Step(location=Location(line=115, column=6), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='373'), '374': Step(location=Location(line=117, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='374'), '375': Step(location=Location(line=119, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='375'), '378': Examples(location=Location(line=121, column=6), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=122, column=6), cells=[TableCell(location=Location(line=122, column=8), value='context'), TableCell(location=Location(line=122, column=18), value='username'), TableCell(location=Location(line=122, column=29), value='host')], id='376'), table_body=[TableRow(location=Location(line=123, column=6), cells=[TableCell(location=Location(line=123, column=8), value='green4'), TableCell(location=Location(line=123, column=19), value='amanda4'), TableCell(location=Location(line=123, column=31), value='pi6-host')], id='377')], id='378'), '376': TableRow(location=Location(line=122, column=6), cells=[TableCell(location=Location(line=122, column=8), value='context'), TableCell(location=Location(line=122, column=18), value='username'), TableCell(location=Location(line=122, column=29), value='host')], id='376'), '377': TableRow(location=Location(line=123, column=6), cells=[TableCell(location=Location(line=123, column=8), value='green4'), TableCell(location=Location(line=123, column=19), value='amanda4'), TableCell(location=Location(line=123, column=31), value='pi6-host')], id='377')}, pickles=[Pickle(id='393', uri='file:features/3_mindwm_ping_pong.feature', name='Prepare environment for ping tests', language='en', steps=[PickleStep(argument=None, ast_node_ids=['306'], id='382', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['307'], id='383', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['309', '321'], id='384', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"green4\"'), PickleStep(argument=None, ast_node_ids=['310', '321'], id='385', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='pong')])])), ast_node_ids=['313', '321'], id='386', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-green4\" namespace'), PickleStep(argument=None, ast_node_ids=['314', '321'], id='387', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"amanda4\" and connects it to the context \"green4\"'), PickleStep(argument=None, ast_node_ids=['315', '321'], id='388', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['316', '321'], id='389', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"pi6-host\" and connects it to the user \"amanda4\"'), PickleStep(argument=None, ast_node_ids=['317', '321'], id='390', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['318', '321'], id='391', type=<Type.outcome: 'Outcome'>, text='NatsJetStreamChannel \"pi6-host-host-broker-kne-trigger\" is ready in \"user-amanda4\" namespace'), PickleStep(argument=None, ast_node_ids=['319', '321'], id='392', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"')], tags=[PickleTag(name='@mindwm_ping_pong', ast_node_id='380'), PickleTag(name='@mindwm_test', ast_node_id='381')], ast_node_ids=['323', '321']), Pickle(id='403', uri='file:features/3_mindwm_ping_pong.feature', name='Send pind to knative ping service', language='en', steps=[PickleStep(argument=None, ast_node_ids=['306'], id='394', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['307'], id='395', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['324', '334'], id='396', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['325', '334'], id='397', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['326', '334'], id='398', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['327', '334'], id='399', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.amanda4.pi6-host.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['328', '334'], id='400', type=<Type.action: 'Action'>, text='sends cloudevent to knative service \"pong\" in \"context-green4\" namespace'), PickleStep(argument=None, ast_node_ids=['329', '334'], id='401', type=<Type.outcome: 'Outcome'>, text='the response http code should be \"200\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='pong-00001-deployment')])])), ast_node_ids=['332', '334'], id='402', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-green4\" namespace')], tags=[PickleTag(name='@mindwm_ping_pong', ast_node_id='380'), PickleTag(name='@mindwm_test', ast_node_id='381')], ast_node_ids=['336', '334']), Pickle(id='417', uri='file:features/3_mindwm_ping_pong.feature', name='Send ping via broker-ingress.knative-eventing/context-green4/context-broker', language='en', steps=[PickleStep(argument=None, ast_node_ids=['306'], id='404', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['307'], id='405', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['337', '355'], id='406', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['338', '355'], id='407', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['339', '355'], id='408', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['340', '355'], id='409', type=<Type.action: 'Action'>, text='sets cloudevent header \"traceparent\" to \"00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00\"'), PickleStep(argument=None, ast_node_ids=['341', '355'], id='410', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.amanda4.pi6-host.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['342', '355'], id='411', type=<Type.action: 'Action'>, text='sends cloudevent to \"broker-ingress.knative-eventing/context-green4/context-broker\"'), PickleStep(argument=None, ast_node_ids=['343', '355'], id='412', type=<Type.outcome: 'Outcome'>, text='the response http code should be \"202\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='pong-00001-deployment')])])), ast_node_ids=['346', '355'], id='413', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-green4\" namespace'), PickleStep(argument=None, ast_node_ids=['347', '355'], id='414', type=<Type.outcome: 'Outcome'>, text='the trace with \"00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00\" should appear in TraceQL'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='service name')]), PickleTableRow(cells=[PickleTableCell(value='broker-ingress.knative-eventing')]), PickleTableRow(cells=[PickleTableCell(value='unknown_service')]), PickleTableRow(cells=[PickleTableCell(value='jetstream-ch-dispatcher')])])), ast_node_ids=['352', '355'], id='415', type=<Type.outcome: 'Outcome'>, text='the trace should contains'), PickleStep(argument=None, ast_node_ids=['353', '355'], id='416', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-amanda4.pi6-host-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_ping_pong', ast_node_id='380'), PickleTag(name='@mindwm_test', ast_node_id='381')], ast_node_ids=['358', '355']), Pickle(id='431', uri='file:features/3_mindwm_ping_pong.feature', name='Send ping via broker-ingress.knative-eventing/user-amanda4/user-broker', language='en', steps=[PickleStep(argument=None, ast_node_ids=['306'], id='418', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['307'], id='419', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['337', '356'], id='420', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['338', '356'], id='421', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['339', '356'], id='422', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['340', '356'], id='423', type=<Type.action: 'Action'>, text='sets cloudevent header \"traceparent\" to \"00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00\"'), PickleStep(argument=None, ast_node_ids=['341', '356'], id='424', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.amanda4.pi6-host.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['342', '356'], id='425', type=<Type.action: 'Action'>, text='sends cloudevent to \"broker-ingress.knative-eventing/user-amanda4/user-broker\"'), PickleStep(argument=None, ast_node_ids=['343', '356'], id='426', type=<Type.outcome: 'Outcome'>, text='the response http code should be \"202\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='pong-00001-deployment')])])), ast_node_ids=['346', '356'], id='427', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-green4\" namespace'), PickleStep(argument=None, ast_node_ids=['347', '356'], id='428', type=<Type.outcome: 'Outcome'>, text='the trace with \"00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00\" should appear in TraceQL'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='service name')]), PickleTableRow(cells=[PickleTableCell(value='broker-ingress.knative-eventing')]), PickleTableRow(cells=[PickleTableCell(value='unknown_service')]), PickleTableRow(cells=[PickleTableCell(value='jetstream-ch-dispatcher')])])), ast_node_ids=['352', '356'], id='429', type=<Type.outcome: 'Outcome'>, text='the trace should contains'), PickleStep(argument=None, ast_node_ids=['353', '356'], id='430', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-amanda4.pi6-host-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_ping_pong', ast_node_id='380'), PickleTag(name='@mindwm_test', ast_node_id='381')], ast_node_ids=['358', '356']), Pickle(id='441', uri='file:features/3_mindwm_ping_pong.feature', name='Send ping via nats', language='en', steps=[PickleStep(argument=None, ast_node_ids=['306'], id='432', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['307'], id='433', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['359', '369'], id='434', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['360', '369'], id='435', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['361', '369'], id='436', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['362', '369'], id='437', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.amanda4.pi6-host.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['363', '369'], id='438', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.amanda4.pi6-host.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.3623.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='pong-00001-deployment')])])), ast_node_ids=['366', '369'], id='439', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-green4\" namespace'), PickleStep(argument=None, ast_node_ids=['367', '369'], id='440', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-amanda4.pi6-host-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_ping_pong', ast_node_id='380'), PickleTag(name='@mindwm_test', ast_node_id='381')], ast_node_ids=['371', '369']), Pickle(id='448', uri='file:features/3_mindwm_ping_pong.feature', name='Cleanup amanda4@pi6-host in green4', language='en', steps=[PickleStep(argument=None, ast_node_ids=['306'], id='442', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['307'], id='443', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['372', '377'], id='444', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"pi6-host\"'), PickleStep(argument=None, ast_node_ids=['373', '377'], id='445', type=<Type.outcome: 'Outcome'>, text='the host \"pi6-host\" should be deleted'), PickleStep(argument=None, ast_node_ids=['374', '377'], id='446', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"amanda4\"'), PickleStep(argument=None, ast_node_ids=['375', '377'], id='447', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"green4\"')], tags=[PickleTag(name='@mindwm_ping_pong', ast_node_id='380'), PickleTag(name='@mindwm_test', ast_node_id='381')], ast_node_ids=['379', '377'])])","Source(uri='file:features/3_mindwm_ping_pong.feature', data='@mindwm_ping_pong\\n@mindwm_test\\nFeature: MindWM Ping-pong EDA test\\n  Background:\\n    Given A MindWM environment\\n    Then all nodes in Kubernetes are ready\\n\\n  Scenario: Prepare environment for ping tests \\n    When God creates a MindWM context with the name \"<context>\"\\n    Then the context should be ready and operable\\n    And the following knative services are in a ready state in the \"context-<context>\" namespace\\n      | Knative service name |\\n      | pong                 |\\n\\n    When God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"\\n    Then the user resource should be ready and operable\\n\\n    When God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"\\n    Then the host resource should be ready and operable\\n    And NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace\\n\\n    When God starts reading message from NATS topic \">\"\\n\\n    Examples:\\n     | context | username   | host      |\\n     | green4   | amanda4   | pi6-host  | \\n\\n  Scenario: Send pind to knative ping service\\n    When God creates a new cloudevent \\n      And sets cloudevent header \"ce-subject\" to \"#ping\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"\\n      And sends cloudevent to knative service \"pong\" in \"context-<context>\" namespace\\n      \"\"\"\\n      {\\n        \"input\": \"#ping\",\\n        \"output\": \"\",\\n        \"ps1\": \"❯\",\\n        \"type\": \"org.mindwm.v1.iodocument\"\\n      } \\n      \"\"\"\\n      Then the response http code should be \"200\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name       |\\n      | pong-00001-deployment |\\n\\n    Examples:\\n     | context | username   | host      |\\n     | green4   | amanda4   | pi6-host  | \\n\\n  Scenario: Send ping via <endpoint>\\n    When God creates a new cloudevent \\n      And sets cloudevent header \"ce-subject\" to \"#ping\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"\\n      And sets cloudevent header \"traceparent\" to \"<traceparent>\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"\\n      And sends cloudevent to \"<endpoint>\"\\n      \"\"\"\\n      {\\n        \"input\": \"#ping\",\\n        \"output\": \"\",\\n        \"ps1\": \"❯\",\\n        \"type\": \"org.mindwm.v1.iodocument\"\\n      } \\n      \"\"\"\\n    Then the response http code should be \"202\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name            |\\n      | pong-00001-deployment |\\n    Then the trace with \"<traceparent>\" should appear in TraceQL\\n    And the trace should contains \\n      | service name                    | \\n      | broker-ingress.knative-eventing | \\n      | unknown_service                 | \\n      | jetstream-ch-dispatcher         |\\n    And a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"\\n\\n    Examples:\\n     | context | username   | host      | endpoint | traceparent \\t\\t\\t\\t\\t         |\\n     | green4   | amanda4   | pi6-host  | broker-ingress.knative-eventing/context-green4/context-broker   | 00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00 |\\n     | green4   | amanda4   | pi6-host  | broker-ingress.knative-eventing/user-amanda4/user-broker | 00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00 |\\n\\n\\n  Scenario: Send ping via nats\\n    When God creates a new cloudevent \\n      And sets cloudevent header \"ce-subject\" to \"#ping\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"\\n      And sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"\\n      \"\"\"\\n      {\\n        \"input\": \"#ping\",\\n        \"output\": \"\",\\n        \"ps1\": \"❯\",\\n        \"type\": \"org.mindwm.v1.iodocument\"\\n      } \\n      \"\"\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name       |\\n      | pong-00001-deployment |\\n\\n    And a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"\\n\\n\\n    Examples:\\n     | context | username   | host      | tmux_pane | tmux_window | uuid                                  | tmux_socket                     |\\n     | green4   | amanda4   | pi6-host  | 23        | 36          | 09fb195c-c419-6d62-15e0-51b6ee990922  |L3RtcC90bXV4LTEwMDAvZGVmYXVsdA== |\\n\\n\\n   Scenario: Cleanup <username>@<host> in <context>\\n     When God deletes the MindWM host resource \"<host>\"\\n     Then the host \"<host>\" should be deleted\\n\\n     When God deletes the MindWM user resource \"<username>\"\\n\\n     When God deletes the MindWM context resource \"<context>\"\\n\\n     Examples:\\n     | context | username | host        | \\n     | green4   | amanda4   | pi6-host         |\\n\\n', media_type='text/x.cucumber.gherkin+plain')","Pickle(id='417', uri='file:features/3_mindwm_ping_pong.feature', name='Send ping via broker-ingress.knative-eventing/context-green4/context-broker', language='en', steps=[PickleStep(argument=None, ast_node_ids=['306'], id='404', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['307'], id='405', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['337', '355'], id='406', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['338', '355'], id='407', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['339', '355'], id='408', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['340', '355'], id='409', type=<Type.action: 'Action'>, text='sets cloudevent header \"traceparent\" to \"00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00\"'), PickleStep(argument=None, ast_node_ids=['341', '355'], id='410', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.amanda4.pi6-host.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['342', '355'], id='411', type=<Type.action: 'Action'>, text='sends cloudevent to \"broker-ingress.knative-eventing/context-green4/context-broker\"'), PickleStep(argument=None, ast_node_ids=['343', '355'], id='412', type=<Type.outcome: 'Outcome'>, text='the response http code should be \"202\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='pong-00001-deployment')])])), ast_node_ids=['346', '355'], id='413', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-green4\" namespace'), PickleStep(argument=None, ast_node_ids=['347', '355'], id='414', type=<Type.outcome: 'Outcome'>, text='the trace with \"00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00\" should appear in TraceQL'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='service name')]), PickleTableRow(cells=[PickleTableCell(value='broker-ingress.knative-eventing')]), PickleTableRow(cells=[PickleTableCell(value='unknown_service')]), PickleTableRow(cells=[PickleTableCell(value='jetstream-ch-dispatcher')])])), ast_node_ids=['352', '355'], id='415', type=<Type.outcome: 'Outcome'>, text='the trace should contains'), PickleStep(argument=None, ast_node_ids=['353', '355'], id='416', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-amanda4.pi6-host-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_ping_pong', ast_node_id='380'), PickleTag(name='@mindwm_test', ast_node_id='381')], ast_node_ids=['358', '355'])"],"tags":["pytest_bdd_scenario","scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/3_mindwm_ping_pong.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=<FeaturePathType.PATH: 'path'>, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())","@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')","mindwm_ping_pong","mindwm_test","namespace(create=False, name='default')"]},{"name":"test_scenarios[file:features/8_mindwm_two_contexts.feature-Context Resource Readiness and Cleanup Verification-Cleanup Contexts and Verify Resources Are Deleted[table_rows:[line: 63]]]","uid":"e5389a118fa46078","parentUid":"3961740595044ffd97a03e46799bfc30","status":"passed","time":{"start":1728404808711,"stop":1728404819935,"duration":11224},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["Feature(gherkin_document=GherkinDocument(uri='file:features/8_mindwm_two_contexts.feature', feature=Feature(location=Location(line=3, column=1), tags=[Tag(location=Location(line=1, column=1), name='@mindwm_two_contexts', id='917'), Tag(location=Location(line=2, column=1), name='@mindwm_test', id='918')], language='en', keyword='Feature', name='Context Resource Readiness and Cleanup Verification', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=5, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=6, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='877'), Step(location=Location(line=7, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='878')], id='879'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=9, column=3), tags=[], keyword='Scenario Outline', name='Create Contexts and Verify All Related Resources Are in Ready State', description='', steps=[Step(location=Location(line=10, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='880'), Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='881'), Step(location=Location(line=14, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-<context>\" should exist', doc_string=None, data_table=None, id='882'), Step(location=Location(line=17, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=18, column=7), rows=[TableRow(location=Location(line=18, column=7), cells=[TableCell(location=Location(line=18, column=9), value='Deployment name')], id='883'), TableRow(location=Location(line=19, column=7), cells=[TableCell(location=Location(line=19, column=9), value='kafka-cdc-00001-deployment')], id='884'), TableRow(location=Location(line=20, column=7), cells=[TableCell(location=Location(line=20, column=9), value='iocontext-00001-deployment')], id='885')]), id='886'), Step(location=Location(line=23, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='887'), Step(location=Location(line=26, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=27, column=7), rows=[TableRow(location=Location(line=27, column=7), cells=[TableCell(location=Location(line=27, column=9), value='Knative service name')], id='888'), TableRow(location=Location(line=28, column=7), cells=[TableCell(location=Location(line=28, column=9), value='iocontext')], id='889'), TableRow(location=Location(line=29, column=7), cells=[TableCell(location=Location(line=29, column=9), value='kafka-cdc')], id='890'), TableRow(location=Location(line=30, column=7), cells=[TableCell(location=Location(line=30, column=9), value='dead-letter')], id='891'), TableRow(location=Location(line=31, column=7), cells=[TableCell(location=Location(line=31, column=9), value='pong')], id='892')]), id='893'), Step(location=Location(line=34, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative triggers are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=35, column=7), rows=[TableRow(location=Location(line=35, column=7), cells=[TableCell(location=Location(line=35, column=9), value='Knative trigger name')], id='894'), TableRow(location=Location(line=36, column=7), cells=[TableCell(location=Location(line=36, column=9), value='iocontext-trigger')], id='895'), TableRow(location=Location(line=37, column=7), cells=[TableCell(location=Location(line=37, column=9), value='kafka-cdc-trigger')], id='896'), TableRow(location=Location(line=38, column=7), cells=[TableCell(location=Location(line=38, column=9), value='pong-trigger')], id='897')]), id='898'), Step(location=Location(line=41, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative brokers are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=42, column=7), rows=[TableRow(location=Location(line=42, column=7), cells=[TableCell(location=Location(line=42, column=9), value='Knative broker name')], id='899'), TableRow(location=Location(line=43, column=7), cells=[TableCell(location=Location(line=43, column=9), value='context-broker')], id='900')]), id='901'), Step(location=Location(line=46, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka topic \"context-<context>-cdc\" is in ready state in \"redpanda\" namespace', doc_string=None, data_table=None, id='902'), Step(location=Location(line=47, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka source \"context-<context>-cdc-kafkasource\" is in ready state in \"context-<context>\" namespace', doc_string=None, data_table=None, id='903')], examples=[Examples(location=Location(line=50, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=51, column=7), cells=[TableCell(location=Location(line=51, column=9), value='context')], id='904'), table_body=[TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='aphrodite')], id='905'), TableRow(location=Location(line=53, column=7), cells=[TableCell(location=Location(line=53, column=9), value='kypros')], id='906')], id='907')], id='908')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=55, column=3), tags=[], keyword='Scenario Outline', name='Cleanup Contexts and Verify Resources Are Deleted', description='', steps=[Step(location=Location(line=56, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='909'), Step(location=Location(line=57, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='910'), Step(location=Location(line=58, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-<context>\" should not exist', doc_string=None, data_table=None, id='911')], examples=[Examples(location=Location(line=60, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=61, column=7), cells=[TableCell(location=Location(line=61, column=9), value='context')], id='912'), table_body=[TableRow(location=Location(line=62, column=7), cells=[TableCell(location=Location(line=62, column=9), value='aphrodite')], id='913'), TableRow(location=Location(line=63, column=7), cells=[TableCell(location=Location(line=63, column=9), value='kypros')], id='914')], id='915')], id='916'))]), comments=[Comment(location=Location(line=13, column=1), text='    # Verify Namespace'), Comment(location=Location(line=16, column=1), text='    # Verify Deployments'), Comment(location=Location(line=22, column=1), text='    # Verify StatefulSets'), Comment(location=Location(line=25, column=1), text='    # Verify Knative Services'), Comment(location=Location(line=33, column=1), text='    # Verify Knative Triggers'), Comment(location=Location(line=40, column=1), text='    # Verify Knative Brokers'), Comment(location=Location(line=45, column=1), text='    # Verify Kafka Topics and Sources')]), uri='file:features/8_mindwm_two_contexts.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/8_mindwm_two_contexts.feature', registry={'917': Tag(location=Location(line=1, column=1), name='@mindwm_two_contexts', id='917'), '918': Tag(location=Location(line=2, column=1), name='@mindwm_test', id='918'), '879': Background(location=Location(line=5, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=6, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='877'), Step(location=Location(line=7, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='878')], id='879'), '877': Step(location=Location(line=6, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='877'), '878': Step(location=Location(line=7, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='878'), '908': Scenario(location=Location(line=9, column=3), tags=[], keyword='Scenario Outline', name='Create Contexts and Verify All Related Resources Are in Ready State', description='', steps=[Step(location=Location(line=10, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='880'), Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='881'), Step(location=Location(line=14, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-<context>\" should exist', doc_string=None, data_table=None, id='882'), Step(location=Location(line=17, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=18, column=7), rows=[TableRow(location=Location(line=18, column=7), cells=[TableCell(location=Location(line=18, column=9), value='Deployment name')], id='883'), TableRow(location=Location(line=19, column=7), cells=[TableCell(location=Location(line=19, column=9), value='kafka-cdc-00001-deployment')], id='884'), TableRow(location=Location(line=20, column=7), cells=[TableCell(location=Location(line=20, column=9), value='iocontext-00001-deployment')], id='885')]), id='886'), Step(location=Location(line=23, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='887'), Step(location=Location(line=26, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=27, column=7), rows=[TableRow(location=Location(line=27, column=7), cells=[TableCell(location=Location(line=27, column=9), value='Knative service name')], id='888'), TableRow(location=Location(line=28, column=7), cells=[TableCell(location=Location(line=28, column=9), value='iocontext')], id='889'), TableRow(location=Location(line=29, column=7), cells=[TableCell(location=Location(line=29, column=9), value='kafka-cdc')], id='890'), TableRow(location=Location(line=30, column=7), cells=[TableCell(location=Location(line=30, column=9), value='dead-letter')], id='891'), TableRow(location=Location(line=31, column=7), cells=[TableCell(location=Location(line=31, column=9), value='pong')], id='892')]), id='893'), Step(location=Location(line=34, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative triggers are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=35, column=7), rows=[TableRow(location=Location(line=35, column=7), cells=[TableCell(location=Location(line=35, column=9), value='Knative trigger name')], id='894'), TableRow(location=Location(line=36, column=7), cells=[TableCell(location=Location(line=36, column=9), value='iocontext-trigger')], id='895'), TableRow(location=Location(line=37, column=7), cells=[TableCell(location=Location(line=37, column=9), value='kafka-cdc-trigger')], id='896'), TableRow(location=Location(line=38, column=7), cells=[TableCell(location=Location(line=38, column=9), value='pong-trigger')], id='897')]), id='898'), Step(location=Location(line=41, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative brokers are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=42, column=7), rows=[TableRow(location=Location(line=42, column=7), cells=[TableCell(location=Location(line=42, column=9), value='Knative broker name')], id='899'), TableRow(location=Location(line=43, column=7), cells=[TableCell(location=Location(line=43, column=9), value='context-broker')], id='900')]), id='901'), Step(location=Location(line=46, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka topic \"context-<context>-cdc\" is in ready state in \"redpanda\" namespace', doc_string=None, data_table=None, id='902'), Step(location=Location(line=47, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka source \"context-<context>-cdc-kafkasource\" is in ready state in \"context-<context>\" namespace', doc_string=None, data_table=None, id='903')], examples=[Examples(location=Location(line=50, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=51, column=7), cells=[TableCell(location=Location(line=51, column=9), value='context')], id='904'), table_body=[TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='aphrodite')], id='905'), TableRow(location=Location(line=53, column=7), cells=[TableCell(location=Location(line=53, column=9), value='kypros')], id='906')], id='907')], id='908'), '880': Step(location=Location(line=10, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='880'), '881': Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='881'), '882': Step(location=Location(line=14, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-<context>\" should exist', doc_string=None, data_table=None, id='882'), '886': Step(location=Location(line=17, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=18, column=7), rows=[TableRow(location=Location(line=18, column=7), cells=[TableCell(location=Location(line=18, column=9), value='Deployment name')], id='883'), TableRow(location=Location(line=19, column=7), cells=[TableCell(location=Location(line=19, column=9), value='kafka-cdc-00001-deployment')], id='884'), TableRow(location=Location(line=20, column=7), cells=[TableCell(location=Location(line=20, column=9), value='iocontext-00001-deployment')], id='885')]), id='886'), '887': Step(location=Location(line=23, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='887'), '893': Step(location=Location(line=26, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=27, column=7), rows=[TableRow(location=Location(line=27, column=7), cells=[TableCell(location=Location(line=27, column=9), value='Knative service name')], id='888'), TableRow(location=Location(line=28, column=7), cells=[TableCell(location=Location(line=28, column=9), value='iocontext')], id='889'), TableRow(location=Location(line=29, column=7), cells=[TableCell(location=Location(line=29, column=9), value='kafka-cdc')], id='890'), TableRow(location=Location(line=30, column=7), cells=[TableCell(location=Location(line=30, column=9), value='dead-letter')], id='891'), TableRow(location=Location(line=31, column=7), cells=[TableCell(location=Location(line=31, column=9), value='pong')], id='892')]), id='893'), '898': Step(location=Location(line=34, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative triggers are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=35, column=7), rows=[TableRow(location=Location(line=35, column=7), cells=[TableCell(location=Location(line=35, column=9), value='Knative trigger name')], id='894'), TableRow(location=Location(line=36, column=7), cells=[TableCell(location=Location(line=36, column=9), value='iocontext-trigger')], id='895'), TableRow(location=Location(line=37, column=7), cells=[TableCell(location=Location(line=37, column=9), value='kafka-cdc-trigger')], id='896'), TableRow(location=Location(line=38, column=7), cells=[TableCell(location=Location(line=38, column=9), value='pong-trigger')], id='897')]), id='898'), '901': Step(location=Location(line=41, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative brokers are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=42, column=7), rows=[TableRow(location=Location(line=42, column=7), cells=[TableCell(location=Location(line=42, column=9), value='Knative broker name')], id='899'), TableRow(location=Location(line=43, column=7), cells=[TableCell(location=Location(line=43, column=9), value='context-broker')], id='900')]), id='901'), '902': Step(location=Location(line=46, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka topic \"context-<context>-cdc\" is in ready state in \"redpanda\" namespace', doc_string=None, data_table=None, id='902'), '903': Step(location=Location(line=47, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka source \"context-<context>-cdc-kafkasource\" is in ready state in \"context-<context>\" namespace', doc_string=None, data_table=None, id='903'), '907': Examples(location=Location(line=50, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=51, column=7), cells=[TableCell(location=Location(line=51, column=9), value='context')], id='904'), table_body=[TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='aphrodite')], id='905'), TableRow(location=Location(line=53, column=7), cells=[TableCell(location=Location(line=53, column=9), value='kypros')], id='906')], id='907'), '904': TableRow(location=Location(line=51, column=7), cells=[TableCell(location=Location(line=51, column=9), value='context')], id='904'), '905': TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='aphrodite')], id='905'), '906': TableRow(location=Location(line=53, column=7), cells=[TableCell(location=Location(line=53, column=9), value='kypros')], id='906'), '916': Scenario(location=Location(line=55, column=3), tags=[], keyword='Scenario Outline', name='Cleanup Contexts and Verify Resources Are Deleted', description='', steps=[Step(location=Location(line=56, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='909'), Step(location=Location(line=57, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='910'), Step(location=Location(line=58, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-<context>\" should not exist', doc_string=None, data_table=None, id='911')], examples=[Examples(location=Location(line=60, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=61, column=7), cells=[TableCell(location=Location(line=61, column=9), value='context')], id='912'), table_body=[TableRow(location=Location(line=62, column=7), cells=[TableCell(location=Location(line=62, column=9), value='aphrodite')], id='913'), TableRow(location=Location(line=63, column=7), cells=[TableCell(location=Location(line=63, column=9), value='kypros')], id='914')], id='915')], id='916'), '909': Step(location=Location(line=56, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='909'), '910': Step(location=Location(line=57, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='910'), '911': Step(location=Location(line=58, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-<context>\" should not exist', doc_string=None, data_table=None, id='911'), '915': Examples(location=Location(line=60, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=61, column=7), cells=[TableCell(location=Location(line=61, column=9), value='context')], id='912'), table_body=[TableRow(location=Location(line=62, column=7), cells=[TableCell(location=Location(line=62, column=9), value='aphrodite')], id='913'), TableRow(location=Location(line=63, column=7), cells=[TableCell(location=Location(line=63, column=9), value='kypros')], id='914')], id='915'), '912': TableRow(location=Location(line=61, column=7), cells=[TableCell(location=Location(line=61, column=9), value='context')], id='912'), '913': TableRow(location=Location(line=62, column=7), cells=[TableCell(location=Location(line=62, column=9), value='aphrodite')], id='913'), '914': TableRow(location=Location(line=63, column=7), cells=[TableCell(location=Location(line=63, column=9), value='kypros')], id='914')}, pickles=[Pickle(id='931', uri='file:features/8_mindwm_two_contexts.feature', name='Create Contexts and Verify All Related Resources Are in Ready State', language='en', steps=[PickleStep(argument=None, ast_node_ids=['877'], id='919', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['878'], id='920', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['880', '905'], id='921', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"aphrodite\"'), PickleStep(argument=None, ast_node_ids=['881', '905'], id='922', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=None, ast_node_ids=['882', '905'], id='923', type=<Type.outcome: 'Outcome'>, text='namespace \"context-aphrodite\" should exist'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-00001-deployment')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-00001-deployment')])])), ast_node_ids=['886', '905'], id='924', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-aphrodite\" namespace'), PickleStep(argument=None, ast_node_ids=['887', '905'], id='925', type=<Type.outcome: 'Outcome'>, text='statefulset \"aphrodite-neo4j\" in namespace \"context-aphrodite\" is in ready state'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')]), PickleTableRow(cells=[PickleTableCell(value='dead-letter')]), PickleTableRow(cells=[PickleTableCell(value='pong')])])), ast_node_ids=['893', '905'], id='926', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-aphrodite\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative trigger name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-trigger')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-trigger')]), PickleTableRow(cells=[PickleTableCell(value='pong-trigger')])])), ast_node_ids=['898', '905'], id='927', type=<Type.outcome: 'Outcome'>, text='the following knative triggers are in a ready state in the \"context-aphrodite\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative broker name')]), PickleTableRow(cells=[PickleTableCell(value='context-broker')])])), ast_node_ids=['901', '905'], id='928', type=<Type.outcome: 'Outcome'>, text='the following knative brokers are in a ready state in the \"context-aphrodite\" namespace'), PickleStep(argument=None, ast_node_ids=['902', '905'], id='929', type=<Type.outcome: 'Outcome'>, text='kafka topic \"context-aphrodite-cdc\" is in ready state in \"redpanda\" namespace'), PickleStep(argument=None, ast_node_ids=['903', '905'], id='930', type=<Type.outcome: 'Outcome'>, text='kafka source \"context-aphrodite-cdc-kafkasource\" is in ready state in \"context-aphrodite\" namespace')], tags=[PickleTag(name='@mindwm_two_contexts', ast_node_id='917'), PickleTag(name='@mindwm_test', ast_node_id='918')], ast_node_ids=['908', '905']), Pickle(id='944', uri='file:features/8_mindwm_two_contexts.feature', name='Create Contexts and Verify All Related Resources Are in Ready State', language='en', steps=[PickleStep(argument=None, ast_node_ids=['877'], id='932', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['878'], id='933', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['880', '906'], id='934', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"kypros\"'), PickleStep(argument=None, ast_node_ids=['881', '906'], id='935', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=None, ast_node_ids=['882', '906'], id='936', type=<Type.outcome: 'Outcome'>, text='namespace \"context-kypros\" should exist'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-00001-deployment')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-00001-deployment')])])), ast_node_ids=['886', '906'], id='937', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-kypros\" namespace'), PickleStep(argument=None, ast_node_ids=['887', '906'], id='938', type=<Type.outcome: 'Outcome'>, text='statefulset \"kypros-neo4j\" in namespace \"context-kypros\" is in ready state'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')]), PickleTableRow(cells=[PickleTableCell(value='dead-letter')]), PickleTableRow(cells=[PickleTableCell(value='pong')])])), ast_node_ids=['893', '906'], id='939', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-kypros\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative trigger name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-trigger')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-trigger')]), PickleTableRow(cells=[PickleTableCell(value='pong-trigger')])])), ast_node_ids=['898', '906'], id='940', type=<Type.outcome: 'Outcome'>, text='the following knative triggers are in a ready state in the \"context-kypros\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative broker name')]), PickleTableRow(cells=[PickleTableCell(value='context-broker')])])), ast_node_ids=['901', '906'], id='941', type=<Type.outcome: 'Outcome'>, text='the following knative brokers are in a ready state in the \"context-kypros\" namespace'), PickleStep(argument=None, ast_node_ids=['902', '906'], id='942', type=<Type.outcome: 'Outcome'>, text='kafka topic \"context-kypros-cdc\" is in ready state in \"redpanda\" namespace'), PickleStep(argument=None, ast_node_ids=['903', '906'], id='943', type=<Type.outcome: 'Outcome'>, text='kafka source \"context-kypros-cdc-kafkasource\" is in ready state in \"context-kypros\" namespace')], tags=[PickleTag(name='@mindwm_two_contexts', ast_node_id='917'), PickleTag(name='@mindwm_test', ast_node_id='918')], ast_node_ids=['908', '906']), Pickle(id='950', uri='file:features/8_mindwm_two_contexts.feature', name='Cleanup Contexts and Verify Resources Are Deleted', language='en', steps=[PickleStep(argument=None, ast_node_ids=['877'], id='945', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['878'], id='946', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['909', '913'], id='947', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"aphrodite\"'), PickleStep(argument=None, ast_node_ids=['910', '913'], id='948', type=<Type.outcome: 'Outcome'>, text='the context \"aphrodite\" should be deleted'), PickleStep(argument=None, ast_node_ids=['911', '913'], id='949', type=<Type.outcome: 'Outcome'>, text='namespace \"context-aphrodite\" should not exist')], tags=[PickleTag(name='@mindwm_two_contexts', ast_node_id='917'), PickleTag(name='@mindwm_test', ast_node_id='918')], ast_node_ids=['916', '913']), Pickle(id='956', uri='file:features/8_mindwm_two_contexts.feature', name='Cleanup Contexts and Verify Resources Are Deleted', language='en', steps=[PickleStep(argument=None, ast_node_ids=['877'], id='951', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['878'], id='952', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['909', '914'], id='953', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"kypros\"'), PickleStep(argument=None, ast_node_ids=['910', '914'], id='954', type=<Type.outcome: 'Outcome'>, text='the context \"kypros\" should be deleted'), PickleStep(argument=None, ast_node_ids=['911', '914'], id='955', type=<Type.outcome: 'Outcome'>, text='namespace \"context-kypros\" should not exist')], tags=[PickleTag(name='@mindwm_two_contexts', ast_node_id='917'), PickleTag(name='@mindwm_test', ast_node_id='918')], ast_node_ids=['916', '914'])])","Source(uri='file:features/8_mindwm_two_contexts.feature', data='@mindwm_two_contexts\\n@mindwm_test\\nFeature: Context Resource Readiness and Cleanup Verification\\n\\n  Background:\\n    Given a MindWM environment\\n    Then all nodes in Kubernetes are ready\\n\\n  Scenario Outline: Create Contexts and Verify All Related Resources Are in Ready State\\n    When God creates a MindWM context with the name \"<context>\"\\n    Then the context should be ready and operable\\n\\n    # Verify Namespace\\n    And namespace \"context-<context>\" should exist\\n\\n    # Verify Deployments\\n    And the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name               |\\n      | kafka-cdc-00001-deployment    |\\n      | iocontext-00001-deployment    |\\n\\n    # Verify StatefulSets\\n    And statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state\\n\\n    # Verify Knative Services\\n    And the following knative services are in a ready state in the \"context-<context>\" namespace\\n      | Knative service name |\\n      | iocontext            |\\n      | kafka-cdc            |\\n      | dead-letter          |\\n      | pong                 |\\n\\n    # Verify Knative Triggers\\n    And the following knative triggers are in a ready state in the \"context-<context>\" namespace\\n      | Knative trigger name          |\\n      | iocontext-trigger             |\\n      | kafka-cdc-trigger             |\\n      | pong-trigger                  |\\n\\n    # Verify Knative Brokers\\n    And the following knative brokers are in a ready state in the \"context-<context>\" namespace\\n      | Knative broker name           |\\n      | context-broker                |\\n\\n    # Verify Kafka Topics and Sources\\n    And kafka topic \"context-<context>-cdc\" is in ready state in \"redpanda\" namespace\\n    And kafka source \"context-<context>-cdc-kafkasource\" is in ready state in \"context-<context>\" namespace\\n\\n\\n    Examples:\\n      | context   |\\n      | aphrodite |\\n      | kypros    |\\n\\n  Scenario Outline: Cleanup Contexts and Verify Resources Are Deleted\\n    When God deletes the MindWM context resource \"<context>\"\\n    Then the context \"<context>\" should be deleted\\n    And namespace \"context-<context>\" should not exist\\n\\n    Examples:\\n      | context   |\\n      | aphrodite |\\n      | kypros    |\\n\\n', media_type='text/x.cucumber.gherkin+plain')","Pickle(id='956', uri='file:features/8_mindwm_two_contexts.feature', name='Cleanup Contexts and Verify Resources Are Deleted', language='en', steps=[PickleStep(argument=None, ast_node_ids=['877'], id='951', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['878'], id='952', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['909', '914'], id='953', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"kypros\"'), PickleStep(argument=None, ast_node_ids=['910', '914'], id='954', type=<Type.outcome: 'Outcome'>, text='the context \"kypros\" should be deleted'), PickleStep(argument=None, ast_node_ids=['911', '914'], id='955', type=<Type.outcome: 'Outcome'>, text='namespace \"context-kypros\" should not exist')], tags=[PickleTag(name='@mindwm_two_contexts', ast_node_id='917'), PickleTag(name='@mindwm_test', ast_node_id='918')], ast_node_ids=['916', '914'])"],"tags":["pytest_bdd_scenario","@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')","mindwm_test","scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/8_mindwm_two_contexts.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=<FeaturePathType.PATH: 'path'>, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())","mindwm_two_contexts","namespace(create=False, name='default')"]},{"name":"test_scenarios[file:features/0_1_mindwm_eda.feature-Mindwm event driven architecture-Cert manager]","uid":"1dbfac6bfd5e91c9","parentUid":"3961740595044ffd97a03e46799bfc30","status":"passed","time":{"start":1728403418888,"stop":1728403419053,"duration":165},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["Feature(gherkin_document=GherkinDocument(uri='file:features/0_1_mindwm_eda.feature', feature=Feature(location=Location(line=2, column=1), tags=[Tag(location=Location(line=1, column=1), name='@eda', id='124')], language='en', keyword='Feature', name='Mindwm event driven architecture', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=3, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=4, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='50'), Step(location=Location(line=5, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='51')], id='52'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=7, column=3), tags=[], keyword='Scenario', name='Knative', description='', steps=[Step(location=Location(line=8, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"knative-serving\" should exist', doc_string=None, data_table=None, id='53'), Step(location=Location(line=9, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"knative-eventing\" should exist', doc_string=None, data_table=None, id='54'), Step(location=Location(line=10, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"knative-operator\" should exist', doc_string=None, data_table=None, id='55'), Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"knative-serving\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Deployment name')], id='56'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='activator')], id='57'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='autoscaler')], id='58'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='autoscaler-hpa')], id='59'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='controller')], id='60'), TableRow(location=Location(line=17, column=7), cells=[TableCell(location=Location(line=17, column=9), value='net-istio-controller')], id='61'), TableRow(location=Location(line=18, column=7), cells=[TableCell(location=Location(line=18, column=9), value='net-istio-webhook')], id='62'), TableRow(location=Location(line=19, column=7), cells=[TableCell(location=Location(line=19, column=9), value='webhook')], id='63')]), id='64'), Step(location=Location(line=20, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"knative-eventing\" namespace', doc_string=None, data_table=DataTable(location=Location(line=21, column=7), rows=[TableRow(location=Location(line=21, column=7), cells=[TableCell(location=Location(line=21, column=9), value='Deployment name')], id='65'), TableRow(location=Location(line=22, column=7), cells=[TableCell(location=Location(line=22, column=9), value='eventing-controller')], id='66'), TableRow(location=Location(line=23, column=7), cells=[TableCell(location=Location(line=23, column=9), value='eventing-webhook')], id='67'), TableRow(location=Location(line=24, column=7), cells=[TableCell(location=Location(line=24, column=9), value='imc-dispatcher')], id='68'), TableRow(location=Location(line=25, column=7), cells=[TableCell(location=Location(line=25, column=9), value='imc-controller')], id='69'), TableRow(location=Location(line=26, column=7), cells=[TableCell(location=Location(line=26, column=9), value='jetstream-ch-controller')], id='70'), TableRow(location=Location(line=27, column=7), cells=[TableCell(location=Location(line=27, column=9), value='job-sink')], id='71'), TableRow(location=Location(line=28, column=7), cells=[TableCell(location=Location(line=28, column=9), value='kafka-controller')], id='72'), TableRow(location=Location(line=29, column=7), cells=[TableCell(location=Location(line=29, column=9), value='kafka-webhook-eventing')], id='73'), TableRow(location=Location(line=30, column=7), cells=[TableCell(location=Location(line=30, column=9), value='mt-broker-controller')], id='74'), TableRow(location=Location(line=31, column=7), cells=[TableCell(location=Location(line=31, column=9), value='mt-broker-filter')], id='75'), TableRow(location=Location(line=32, column=7), cells=[TableCell(location=Location(line=32, column=9), value='mt-broker-ingress')], id='76'), TableRow(location=Location(line=33, column=7), cells=[TableCell(location=Location(line=33, column=9), value='nats-webhook')], id='77')]), id='78')], examples=[], id='79')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=36, column=3), tags=[], keyword='Scenario', name='Istio', description='', steps=[Step(location=Location(line=37, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"istio-system\" should exist', doc_string=None, data_table=None, id='80'), Step(location=Location(line=38, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"istio-system\" namespace', doc_string=None, data_table=DataTable(location=Location(line=39, column=7), rows=[TableRow(location=Location(line=39, column=7), cells=[TableCell(location=Location(line=39, column=9), value='Deployment name')], id='81'), TableRow(location=Location(line=40, column=7), cells=[TableCell(location=Location(line=40, column=9), value='istiod')], id='82'), TableRow(location=Location(line=41, column=7), cells=[TableCell(location=Location(line=41, column=9), value='istio-ingressgateway')], id='83')]), id='84')], examples=[], id='85')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=43, column=3), tags=[], keyword='Scenario', name='Redpanda', description='', steps=[Step(location=Location(line=44, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"redpanda\" should exist', doc_string=None, data_table=None, id='86'), Step(location=Location(line=45, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"redpanda\" namespace', doc_string=None, data_table=DataTable(location=Location(line=46, column=7), rows=[TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='Deployment name')], id='87'), TableRow(location=Location(line=47, column=7), cells=[TableCell(location=Location(line=47, column=9), value='redpanda-operator')], id='88')]), id='89'), Step(location=Location(line=48, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='helm release \"neo4j-cdc\" is deployed in \"redpanda\" namespace', doc_string=None, data_table=None, id='90'), Step(location=Location(line=49, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"neo4j-cdc\" in namespace \"redpanda\" is in ready state', doc_string=None, data_table=None, id='91'), Step(location=Location(line=50, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"redpanda\" namespace', doc_string=None, data_table=DataTable(location=Location(line=51, column=7), rows=[TableRow(location=Location(line=51, column=7), cells=[TableCell(location=Location(line=51, column=9), value='Deployment name')], id='92'), TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='neo4j-cdc-console')], id='93')]), id='94')], examples=[], id='95')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=54, column=3), tags=[], keyword='Scenario', name='Cert manager', description='', steps=[Step(location=Location(line=55, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"cert-manager\" should exist', doc_string=None, data_table=None, id='96'), Step(location=Location(line=56, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"cert-manager\" namespace', doc_string=None, data_table=DataTable(location=Location(line=57, column=7), rows=[TableRow(location=Location(line=57, column=7), cells=[TableCell(location=Location(line=57, column=9), value='Deployment name')], id='97'), TableRow(location=Location(line=58, column=7), cells=[TableCell(location=Location(line=58, column=9), value='cert-manager')], id='98'), TableRow(location=Location(line=59, column=7), cells=[TableCell(location=Location(line=59, column=9), value='cert-manager-cainjector')], id='99'), TableRow(location=Location(line=60, column=7), cells=[TableCell(location=Location(line=60, column=9), value='cert-manager-webhook')], id='100')]), id='101')], examples=[], id='102')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=62, column=3), tags=[], keyword='Scenario', name='Nats', description='', steps=[Step(location=Location(line=63, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"nats\" should exist', doc_string=None, data_table=None, id='103'), Step(location=Location(line=64, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"nats\" namespace', doc_string=None, data_table=DataTable(location=Location(line=65, column=7), rows=[TableRow(location=Location(line=65, column=7), cells=[TableCell(location=Location(line=65, column=9), value='Deployment name')], id='104'), TableRow(location=Location(line=66, column=7), cells=[TableCell(location=Location(line=66, column=9), value='nats-box')], id='105')]), id='106'), Step(location=Location(line=67, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"nats\" in namespace \"nats\" is in ready state', doc_string=None, data_table=None, id='107')], examples=[], id='108')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=69, column=3), tags=[], keyword='Scenario', name='Monitoring', description='', steps=[Step(location=Location(line=70, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"monitoring\" should exist', doc_string=None, data_table=None, id='109'), Step(location=Location(line=71, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"monitoring\" namespace', doc_string=None, data_table=DataTable(location=Location(line=72, column=7), rows=[TableRow(location=Location(line=72, column=7), cells=[TableCell(location=Location(line=72, column=9), value='Deployment name')], id='110'), TableRow(location=Location(line=73, column=7), cells=[TableCell(location=Location(line=73, column=9), value='loki-gateway')], id='111'), TableRow(location=Location(line=74, column=7), cells=[TableCell(location=Location(line=74, column=9), value='otel-collector-opentelemetry-collector')], id='112'), TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='vm-aio-grafana')], id='113'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='vm-aio-kube-state-metrics')], id='114'), TableRow(location=Location(line=77, column=7), cells=[TableCell(location=Location(line=77, column=9), value='vm-aio-victoria-metrics-operator')], id='115'), TableRow(location=Location(line=78, column=7), cells=[TableCell(location=Location(line=78, column=9), value='vmagent-vm-aio-victoria-metrics-k8s-stack')], id='116'), TableRow(location=Location(line=79, column=7), cells=[TableCell(location=Location(line=79, column=9), value='vmalert-vm-aio-victoria-metrics-k8s-stack')], id='117'), TableRow(location=Location(line=80, column=7), cells=[TableCell(location=Location(line=80, column=9), value='vmsingle-vm-aio-victoria-metrics-k8s-stack')], id='118')]), id='119'), Step(location=Location(line=81, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"loki\" in namespace \"monitoring\" is in ready state', doc_string=None, data_table=None, id='120'), Step(location=Location(line=82, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"tempo\" in namespace \"monitoring\" is in ready state', doc_string=None, data_table=None, id='121'), Step(location=Location(line=83, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"vmalertmanager-vm-aio-victoria-metrics-k8s-stack\" in namespace \"monitoring\" is in ready state', doc_string=None, data_table=None, id='122')], examples=[], id='123'))]), comments=[]), uri='file:features/0_1_mindwm_eda.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/0_1_mindwm_eda.feature', registry={'124': Tag(location=Location(line=1, column=1), name='@eda', id='124'), '52': Background(location=Location(line=3, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=4, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='50'), Step(location=Location(line=5, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='51')], id='52'), '50': Step(location=Location(line=4, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='50'), '51': Step(location=Location(line=5, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='51'), '79': Scenario(location=Location(line=7, column=3), tags=[], keyword='Scenario', name='Knative', description='', steps=[Step(location=Location(line=8, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"knative-serving\" should exist', doc_string=None, data_table=None, id='53'), Step(location=Location(line=9, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"knative-eventing\" should exist', doc_string=None, data_table=None, id='54'), Step(location=Location(line=10, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"knative-operator\" should exist', doc_string=None, data_table=None, id='55'), Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"knative-serving\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Deployment name')], id='56'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='activator')], id='57'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='autoscaler')], id='58'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='autoscaler-hpa')], id='59'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='controller')], id='60'), TableRow(location=Location(line=17, column=7), cells=[TableCell(location=Location(line=17, column=9), value='net-istio-controller')], id='61'), TableRow(location=Location(line=18, column=7), cells=[TableCell(location=Location(line=18, column=9), value='net-istio-webhook')], id='62'), TableRow(location=Location(line=19, column=7), cells=[TableCell(location=Location(line=19, column=9), value='webhook')], id='63')]), id='64'), Step(location=Location(line=20, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"knative-eventing\" namespace', doc_string=None, data_table=DataTable(location=Location(line=21, column=7), rows=[TableRow(location=Location(line=21, column=7), cells=[TableCell(location=Location(line=21, column=9), value='Deployment name')], id='65'), TableRow(location=Location(line=22, column=7), cells=[TableCell(location=Location(line=22, column=9), value='eventing-controller')], id='66'), TableRow(location=Location(line=23, column=7), cells=[TableCell(location=Location(line=23, column=9), value='eventing-webhook')], id='67'), TableRow(location=Location(line=24, column=7), cells=[TableCell(location=Location(line=24, column=9), value='imc-dispatcher')], id='68'), TableRow(location=Location(line=25, column=7), cells=[TableCell(location=Location(line=25, column=9), value='imc-controller')], id='69'), TableRow(location=Location(line=26, column=7), cells=[TableCell(location=Location(line=26, column=9), value='jetstream-ch-controller')], id='70'), TableRow(location=Location(line=27, column=7), cells=[TableCell(location=Location(line=27, column=9), value='job-sink')], id='71'), TableRow(location=Location(line=28, column=7), cells=[TableCell(location=Location(line=28, column=9), value='kafka-controller')], id='72'), TableRow(location=Location(line=29, column=7), cells=[TableCell(location=Location(line=29, column=9), value='kafka-webhook-eventing')], id='73'), TableRow(location=Location(line=30, column=7), cells=[TableCell(location=Location(line=30, column=9), value='mt-broker-controller')], id='74'), TableRow(location=Location(line=31, column=7), cells=[TableCell(location=Location(line=31, column=9), value='mt-broker-filter')], id='75'), TableRow(location=Location(line=32, column=7), cells=[TableCell(location=Location(line=32, column=9), value='mt-broker-ingress')], id='76'), TableRow(location=Location(line=33, column=7), cells=[TableCell(location=Location(line=33, column=9), value='nats-webhook')], id='77')]), id='78')], examples=[], id='79'), '53': Step(location=Location(line=8, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"knative-serving\" should exist', doc_string=None, data_table=None, id='53'), '54': Step(location=Location(line=9, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"knative-eventing\" should exist', doc_string=None, data_table=None, id='54'), '55': Step(location=Location(line=10, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"knative-operator\" should exist', doc_string=None, data_table=None, id='55'), '64': Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"knative-serving\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Deployment name')], id='56'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='activator')], id='57'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='autoscaler')], id='58'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='autoscaler-hpa')], id='59'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='controller')], id='60'), TableRow(location=Location(line=17, column=7), cells=[TableCell(location=Location(line=17, column=9), value='net-istio-controller')], id='61'), TableRow(location=Location(line=18, column=7), cells=[TableCell(location=Location(line=18, column=9), value='net-istio-webhook')], id='62'), TableRow(location=Location(line=19, column=7), cells=[TableCell(location=Location(line=19, column=9), value='webhook')], id='63')]), id='64'), '78': Step(location=Location(line=20, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"knative-eventing\" namespace', doc_string=None, data_table=DataTable(location=Location(line=21, column=7), rows=[TableRow(location=Location(line=21, column=7), cells=[TableCell(location=Location(line=21, column=9), value='Deployment name')], id='65'), TableRow(location=Location(line=22, column=7), cells=[TableCell(location=Location(line=22, column=9), value='eventing-controller')], id='66'), TableRow(location=Location(line=23, column=7), cells=[TableCell(location=Location(line=23, column=9), value='eventing-webhook')], id='67'), TableRow(location=Location(line=24, column=7), cells=[TableCell(location=Location(line=24, column=9), value='imc-dispatcher')], id='68'), TableRow(location=Location(line=25, column=7), cells=[TableCell(location=Location(line=25, column=9), value='imc-controller')], id='69'), TableRow(location=Location(line=26, column=7), cells=[TableCell(location=Location(line=26, column=9), value='jetstream-ch-controller')], id='70'), TableRow(location=Location(line=27, column=7), cells=[TableCell(location=Location(line=27, column=9), value='job-sink')], id='71'), TableRow(location=Location(line=28, column=7), cells=[TableCell(location=Location(line=28, column=9), value='kafka-controller')], id='72'), TableRow(location=Location(line=29, column=7), cells=[TableCell(location=Location(line=29, column=9), value='kafka-webhook-eventing')], id='73'), TableRow(location=Location(line=30, column=7), cells=[TableCell(location=Location(line=30, column=9), value='mt-broker-controller')], id='74'), TableRow(location=Location(line=31, column=7), cells=[TableCell(location=Location(line=31, column=9), value='mt-broker-filter')], id='75'), TableRow(location=Location(line=32, column=7), cells=[TableCell(location=Location(line=32, column=9), value='mt-broker-ingress')], id='76'), TableRow(location=Location(line=33, column=7), cells=[TableCell(location=Location(line=33, column=9), value='nats-webhook')], id='77')]), id='78'), '85': Scenario(location=Location(line=36, column=3), tags=[], keyword='Scenario', name='Istio', description='', steps=[Step(location=Location(line=37, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"istio-system\" should exist', doc_string=None, data_table=None, id='80'), Step(location=Location(line=38, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"istio-system\" namespace', doc_string=None, data_table=DataTable(location=Location(line=39, column=7), rows=[TableRow(location=Location(line=39, column=7), cells=[TableCell(location=Location(line=39, column=9), value='Deployment name')], id='81'), TableRow(location=Location(line=40, column=7), cells=[TableCell(location=Location(line=40, column=9), value='istiod')], id='82'), TableRow(location=Location(line=41, column=7), cells=[TableCell(location=Location(line=41, column=9), value='istio-ingressgateway')], id='83')]), id='84')], examples=[], id='85'), '80': Step(location=Location(line=37, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"istio-system\" should exist', doc_string=None, data_table=None, id='80'), '84': Step(location=Location(line=38, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"istio-system\" namespace', doc_string=None, data_table=DataTable(location=Location(line=39, column=7), rows=[TableRow(location=Location(line=39, column=7), cells=[TableCell(location=Location(line=39, column=9), value='Deployment name')], id='81'), TableRow(location=Location(line=40, column=7), cells=[TableCell(location=Location(line=40, column=9), value='istiod')], id='82'), TableRow(location=Location(line=41, column=7), cells=[TableCell(location=Location(line=41, column=9), value='istio-ingressgateway')], id='83')]), id='84'), '95': Scenario(location=Location(line=43, column=3), tags=[], keyword='Scenario', name='Redpanda', description='', steps=[Step(location=Location(line=44, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"redpanda\" should exist', doc_string=None, data_table=None, id='86'), Step(location=Location(line=45, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"redpanda\" namespace', doc_string=None, data_table=DataTable(location=Location(line=46, column=7), rows=[TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='Deployment name')], id='87'), TableRow(location=Location(line=47, column=7), cells=[TableCell(location=Location(line=47, column=9), value='redpanda-operator')], id='88')]), id='89'), Step(location=Location(line=48, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='helm release \"neo4j-cdc\" is deployed in \"redpanda\" namespace', doc_string=None, data_table=None, id='90'), Step(location=Location(line=49, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"neo4j-cdc\" in namespace \"redpanda\" is in ready state', doc_string=None, data_table=None, id='91'), Step(location=Location(line=50, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"redpanda\" namespace', doc_string=None, data_table=DataTable(location=Location(line=51, column=7), rows=[TableRow(location=Location(line=51, column=7), cells=[TableCell(location=Location(line=51, column=9), value='Deployment name')], id='92'), TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='neo4j-cdc-console')], id='93')]), id='94')], examples=[], id='95'), '86': Step(location=Location(line=44, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"redpanda\" should exist', doc_string=None, data_table=None, id='86'), '89': Step(location=Location(line=45, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"redpanda\" namespace', doc_string=None, data_table=DataTable(location=Location(line=46, column=7), rows=[TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='Deployment name')], id='87'), TableRow(location=Location(line=47, column=7), cells=[TableCell(location=Location(line=47, column=9), value='redpanda-operator')], id='88')]), id='89'), '90': Step(location=Location(line=48, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='helm release \"neo4j-cdc\" is deployed in \"redpanda\" namespace', doc_string=None, data_table=None, id='90'), '91': Step(location=Location(line=49, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"neo4j-cdc\" in namespace \"redpanda\" is in ready state', doc_string=None, data_table=None, id='91'), '94': Step(location=Location(line=50, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"redpanda\" namespace', doc_string=None, data_table=DataTable(location=Location(line=51, column=7), rows=[TableRow(location=Location(line=51, column=7), cells=[TableCell(location=Location(line=51, column=9), value='Deployment name')], id='92'), TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='neo4j-cdc-console')], id='93')]), id='94'), '102': Scenario(location=Location(line=54, column=3), tags=[], keyword='Scenario', name='Cert manager', description='', steps=[Step(location=Location(line=55, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"cert-manager\" should exist', doc_string=None, data_table=None, id='96'), Step(location=Location(line=56, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"cert-manager\" namespace', doc_string=None, data_table=DataTable(location=Location(line=57, column=7), rows=[TableRow(location=Location(line=57, column=7), cells=[TableCell(location=Location(line=57, column=9), value='Deployment name')], id='97'), TableRow(location=Location(line=58, column=7), cells=[TableCell(location=Location(line=58, column=9), value='cert-manager')], id='98'), TableRow(location=Location(line=59, column=7), cells=[TableCell(location=Location(line=59, column=9), value='cert-manager-cainjector')], id='99'), TableRow(location=Location(line=60, column=7), cells=[TableCell(location=Location(line=60, column=9), value='cert-manager-webhook')], id='100')]), id='101')], examples=[], id='102'), '96': Step(location=Location(line=55, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"cert-manager\" should exist', doc_string=None, data_table=None, id='96'), '101': Step(location=Location(line=56, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"cert-manager\" namespace', doc_string=None, data_table=DataTable(location=Location(line=57, column=7), rows=[TableRow(location=Location(line=57, column=7), cells=[TableCell(location=Location(line=57, column=9), value='Deployment name')], id='97'), TableRow(location=Location(line=58, column=7), cells=[TableCell(location=Location(line=58, column=9), value='cert-manager')], id='98'), TableRow(location=Location(line=59, column=7), cells=[TableCell(location=Location(line=59, column=9), value='cert-manager-cainjector')], id='99'), TableRow(location=Location(line=60, column=7), cells=[TableCell(location=Location(line=60, column=9), value='cert-manager-webhook')], id='100')]), id='101'), '108': Scenario(location=Location(line=62, column=3), tags=[], keyword='Scenario', name='Nats', description='', steps=[Step(location=Location(line=63, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"nats\" should exist', doc_string=None, data_table=None, id='103'), Step(location=Location(line=64, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"nats\" namespace', doc_string=None, data_table=DataTable(location=Location(line=65, column=7), rows=[TableRow(location=Location(line=65, column=7), cells=[TableCell(location=Location(line=65, column=9), value='Deployment name')], id='104'), TableRow(location=Location(line=66, column=7), cells=[TableCell(location=Location(line=66, column=9), value='nats-box')], id='105')]), id='106'), Step(location=Location(line=67, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"nats\" in namespace \"nats\" is in ready state', doc_string=None, data_table=None, id='107')], examples=[], id='108'), '103': Step(location=Location(line=63, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"nats\" should exist', doc_string=None, data_table=None, id='103'), '106': Step(location=Location(line=64, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"nats\" namespace', doc_string=None, data_table=DataTable(location=Location(line=65, column=7), rows=[TableRow(location=Location(line=65, column=7), cells=[TableCell(location=Location(line=65, column=9), value='Deployment name')], id='104'), TableRow(location=Location(line=66, column=7), cells=[TableCell(location=Location(line=66, column=9), value='nats-box')], id='105')]), id='106'), '107': Step(location=Location(line=67, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"nats\" in namespace \"nats\" is in ready state', doc_string=None, data_table=None, id='107'), '123': Scenario(location=Location(line=69, column=3), tags=[], keyword='Scenario', name='Monitoring', description='', steps=[Step(location=Location(line=70, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"monitoring\" should exist', doc_string=None, data_table=None, id='109'), Step(location=Location(line=71, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"monitoring\" namespace', doc_string=None, data_table=DataTable(location=Location(line=72, column=7), rows=[TableRow(location=Location(line=72, column=7), cells=[TableCell(location=Location(line=72, column=9), value='Deployment name')], id='110'), TableRow(location=Location(line=73, column=7), cells=[TableCell(location=Location(line=73, column=9), value='loki-gateway')], id='111'), TableRow(location=Location(line=74, column=7), cells=[TableCell(location=Location(line=74, column=9), value='otel-collector-opentelemetry-collector')], id='112'), TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='vm-aio-grafana')], id='113'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='vm-aio-kube-state-metrics')], id='114'), TableRow(location=Location(line=77, column=7), cells=[TableCell(location=Location(line=77, column=9), value='vm-aio-victoria-metrics-operator')], id='115'), TableRow(location=Location(line=78, column=7), cells=[TableCell(location=Location(line=78, column=9), value='vmagent-vm-aio-victoria-metrics-k8s-stack')], id='116'), TableRow(location=Location(line=79, column=7), cells=[TableCell(location=Location(line=79, column=9), value='vmalert-vm-aio-victoria-metrics-k8s-stack')], id='117'), TableRow(location=Location(line=80, column=7), cells=[TableCell(location=Location(line=80, column=9), value='vmsingle-vm-aio-victoria-metrics-k8s-stack')], id='118')]), id='119'), Step(location=Location(line=81, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"loki\" in namespace \"monitoring\" is in ready state', doc_string=None, data_table=None, id='120'), Step(location=Location(line=82, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"tempo\" in namespace \"monitoring\" is in ready state', doc_string=None, data_table=None, id='121'), Step(location=Location(line=83, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"vmalertmanager-vm-aio-victoria-metrics-k8s-stack\" in namespace \"monitoring\" is in ready state', doc_string=None, data_table=None, id='122')], examples=[], id='123'), '109': Step(location=Location(line=70, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"monitoring\" should exist', doc_string=None, data_table=None, id='109'), '119': Step(location=Location(line=71, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"monitoring\" namespace', doc_string=None, data_table=DataTable(location=Location(line=72, column=7), rows=[TableRow(location=Location(line=72, column=7), cells=[TableCell(location=Location(line=72, column=9), value='Deployment name')], id='110'), TableRow(location=Location(line=73, column=7), cells=[TableCell(location=Location(line=73, column=9), value='loki-gateway')], id='111'), TableRow(location=Location(line=74, column=7), cells=[TableCell(location=Location(line=74, column=9), value='otel-collector-opentelemetry-collector')], id='112'), TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='vm-aio-grafana')], id='113'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='vm-aio-kube-state-metrics')], id='114'), TableRow(location=Location(line=77, column=7), cells=[TableCell(location=Location(line=77, column=9), value='vm-aio-victoria-metrics-operator')], id='115'), TableRow(location=Location(line=78, column=7), cells=[TableCell(location=Location(line=78, column=9), value='vmagent-vm-aio-victoria-metrics-k8s-stack')], id='116'), TableRow(location=Location(line=79, column=7), cells=[TableCell(location=Location(line=79, column=9), value='vmalert-vm-aio-victoria-metrics-k8s-stack')], id='117'), TableRow(location=Location(line=80, column=7), cells=[TableCell(location=Location(line=80, column=9), value='vmsingle-vm-aio-victoria-metrics-k8s-stack')], id='118')]), id='119'), '120': Step(location=Location(line=81, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"loki\" in namespace \"monitoring\" is in ready state', doc_string=None, data_table=None, id='120'), '121': Step(location=Location(line=82, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"tempo\" in namespace \"monitoring\" is in ready state', doc_string=None, data_table=None, id='121'), '122': Step(location=Location(line=83, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"vmalertmanager-vm-aio-victoria-metrics-k8s-stack\" in namespace \"monitoring\" is in ready state', doc_string=None, data_table=None, id='122')}, pickles=[Pickle(id='132', uri='file:features/0_1_mindwm_eda.feature', name='Knative', language='en', steps=[PickleStep(argument=None, ast_node_ids=['50'], id='125', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['51'], id='126', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['53'], id='127', type=<Type.outcome: 'Outcome'>, text='namespace \"knative-serving\" should exist'), PickleStep(argument=None, ast_node_ids=['54'], id='128', type=<Type.outcome: 'Outcome'>, text='namespace \"knative-eventing\" should exist'), PickleStep(argument=None, ast_node_ids=['55'], id='129', type=<Type.outcome: 'Outcome'>, text='namespace \"knative-operator\" should exist'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='activator')]), PickleTableRow(cells=[PickleTableCell(value='autoscaler')]), PickleTableRow(cells=[PickleTableCell(value='autoscaler-hpa')]), PickleTableRow(cells=[PickleTableCell(value='controller')]), PickleTableRow(cells=[PickleTableCell(value='net-istio-controller')]), PickleTableRow(cells=[PickleTableCell(value='net-istio-webhook')]), PickleTableRow(cells=[PickleTableCell(value='webhook')])])), ast_node_ids=['64'], id='130', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"knative-serving\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='eventing-controller')]), PickleTableRow(cells=[PickleTableCell(value='eventing-webhook')]), PickleTableRow(cells=[PickleTableCell(value='imc-dispatcher')]), PickleTableRow(cells=[PickleTableCell(value='imc-controller')]), PickleTableRow(cells=[PickleTableCell(value='jetstream-ch-controller')]), PickleTableRow(cells=[PickleTableCell(value='job-sink')]), PickleTableRow(cells=[PickleTableCell(value='kafka-controller')]), PickleTableRow(cells=[PickleTableCell(value='kafka-webhook-eventing')]), PickleTableRow(cells=[PickleTableCell(value='mt-broker-controller')]), PickleTableRow(cells=[PickleTableCell(value='mt-broker-filter')]), PickleTableRow(cells=[PickleTableCell(value='mt-broker-ingress')]), PickleTableRow(cells=[PickleTableCell(value='nats-webhook')])])), ast_node_ids=['78'], id='131', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"knative-eventing\" namespace')], tags=[PickleTag(name='@eda', ast_node_id='124')], ast_node_ids=['79']), Pickle(id='137', uri='file:features/0_1_mindwm_eda.feature', name='Istio', language='en', steps=[PickleStep(argument=None, ast_node_ids=['50'], id='133', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['51'], id='134', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['80'], id='135', type=<Type.outcome: 'Outcome'>, text='namespace \"istio-system\" should exist'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='istiod')]), PickleTableRow(cells=[PickleTableCell(value='istio-ingressgateway')])])), ast_node_ids=['84'], id='136', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"istio-system\" namespace')], tags=[PickleTag(name='@eda', ast_node_id='124')], ast_node_ids=['85']), Pickle(id='145', uri='file:features/0_1_mindwm_eda.feature', name='Redpanda', language='en', steps=[PickleStep(argument=None, ast_node_ids=['50'], id='138', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['51'], id='139', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['86'], id='140', type=<Type.outcome: 'Outcome'>, text='namespace \"redpanda\" should exist'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='redpanda-operator')])])), ast_node_ids=['89'], id='141', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"redpanda\" namespace'), PickleStep(argument=None, ast_node_ids=['90'], id='142', type=<Type.outcome: 'Outcome'>, text='helm release \"neo4j-cdc\" is deployed in \"redpanda\" namespace'), PickleStep(argument=None, ast_node_ids=['91'], id='143', type=<Type.outcome: 'Outcome'>, text='statefulset \"neo4j-cdc\" in namespace \"redpanda\" is in ready state'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='neo4j-cdc-console')])])), ast_node_ids=['94'], id='144', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"redpanda\" namespace')], tags=[PickleTag(name='@eda', ast_node_id='124')], ast_node_ids=['95']), Pickle(id='150', uri='file:features/0_1_mindwm_eda.feature', name='Cert manager', language='en', steps=[PickleStep(argument=None, ast_node_ids=['50'], id='146', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['51'], id='147', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['96'], id='148', type=<Type.outcome: 'Outcome'>, text='namespace \"cert-manager\" should exist'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='cert-manager')]), PickleTableRow(cells=[PickleTableCell(value='cert-manager-cainjector')]), PickleTableRow(cells=[PickleTableCell(value='cert-manager-webhook')])])), ast_node_ids=['101'], id='149', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"cert-manager\" namespace')], tags=[PickleTag(name='@eda', ast_node_id='124')], ast_node_ids=['102']), Pickle(id='156', uri='file:features/0_1_mindwm_eda.feature', name='Nats', language='en', steps=[PickleStep(argument=None, ast_node_ids=['50'], id='151', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['51'], id='152', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['103'], id='153', type=<Type.outcome: 'Outcome'>, text='namespace \"nats\" should exist'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='nats-box')])])), ast_node_ids=['106'], id='154', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"nats\" namespace'), PickleStep(argument=None, ast_node_ids=['107'], id='155', type=<Type.outcome: 'Outcome'>, text='statefulset \"nats\" in namespace \"nats\" is in ready state')], tags=[PickleTag(name='@eda', ast_node_id='124')], ast_node_ids=['108']), Pickle(id='164', uri='file:features/0_1_mindwm_eda.feature', name='Monitoring', language='en', steps=[PickleStep(argument=None, ast_node_ids=['50'], id='157', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['51'], id='158', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['109'], id='159', type=<Type.outcome: 'Outcome'>, text='namespace \"monitoring\" should exist'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='loki-gateway')]), PickleTableRow(cells=[PickleTableCell(value='otel-collector-opentelemetry-collector')]), PickleTableRow(cells=[PickleTableCell(value='vm-aio-grafana')]), PickleTableRow(cells=[PickleTableCell(value='vm-aio-kube-state-metrics')]), PickleTableRow(cells=[PickleTableCell(value='vm-aio-victoria-metrics-operator')]), PickleTableRow(cells=[PickleTableCell(value='vmagent-vm-aio-victoria-metrics-k8s-stack')]), PickleTableRow(cells=[PickleTableCell(value='vmalert-vm-aio-victoria-metrics-k8s-stack')]), PickleTableRow(cells=[PickleTableCell(value='vmsingle-vm-aio-victoria-metrics-k8s-stack')])])), ast_node_ids=['119'], id='160', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"monitoring\" namespace'), PickleStep(argument=None, ast_node_ids=['120'], id='161', type=<Type.outcome: 'Outcome'>, text='statefulset \"loki\" in namespace \"monitoring\" is in ready state'), PickleStep(argument=None, ast_node_ids=['121'], id='162', type=<Type.outcome: 'Outcome'>, text='statefulset \"tempo\" in namespace \"monitoring\" is in ready state'), PickleStep(argument=None, ast_node_ids=['122'], id='163', type=<Type.outcome: 'Outcome'>, text='statefulset \"vmalertmanager-vm-aio-victoria-metrics-k8s-stack\" in namespace \"monitoring\" is in ready state')], tags=[PickleTag(name='@eda', ast_node_id='124')], ast_node_ids=['123'])])","Source(uri='file:features/0_1_mindwm_eda.feature', data='@eda\\nFeature: Mindwm event driven architecture\\n  Background:\\n    Given a MindWM environment\\n    Then all nodes in Kubernetes are ready\\n\\n  Scenario: Knative\\n    And namespace \"knative-serving\" should exist\\n    And namespace \"knative-eventing\" should exist\\n    And namespace \"knative-operator\" should exist\\n    And the following deployments are in a ready state in the \"knative-serving\" namespace\\n      | Deployment name      | \\n      | activator            |\\n      | autoscaler           |\\n      | autoscaler-hpa       | \\n      | controller           |\\n      | net-istio-controller |\\n      | net-istio-webhook    |\\n      | webhook              |\\n    And the following deployments are in a ready state in the \"knative-eventing\" namespace\\n      | Deployment name         | \\n      | eventing-controller     |\\n      | eventing-webhook        |\\n      | imc-dispatcher          |\\n      | imc-controller          |\\n      | jetstream-ch-controller |\\n      | job-sink \\t\\t|\\n      | kafka-controller        |\\n      | kafka-webhook-eventing  |\\n      | mt-broker-controller    |\\n      | mt-broker-filter        |\\n      | mt-broker-ingress       |\\n      | nats-webhook            |\\n   \\n\\n  Scenario: Istio\\n    And namespace \"istio-system\" should exist\\n    And the following deployments are in a ready state in the \"istio-system\" namespace\\n      | Deployment name         | \\n      | istiod                  |\\n      | istio-ingressgateway    |\\n\\n  Scenario: Redpanda\\n    And namespace \"redpanda\" should exist\\n    And the following deployments are in a ready state in the \"redpanda\" namespace\\n      | Deployment name         | \\n      | redpanda-operator       |\\n    And helm release \"neo4j-cdc\" is deployed in \"redpanda\" namespace\\n    And statefulset \"neo4j-cdc\" in namespace \"redpanda\" is in ready state\\n    And the following deployments are in a ready state in the \"redpanda\" namespace\\n      | Deployment name         | \\n      | neo4j-cdc-console       |\\n\\n  Scenario: Cert manager\\n    And namespace \"cert-manager\" should exist\\n    And the following deployments are in a ready state in the \"cert-manager\" namespace\\n      | Deployment name          | \\n      | cert-manager             |\\n      | cert-manager-cainjector |\\n      | cert-manager-webhook     |\\n\\n  Scenario: Nats\\n    And namespace \"nats\" should exist\\n    And the following deployments are in a ready state in the \"nats\" namespace\\n      | Deployment name         | \\n      | nats-box                |\\n    And statefulset \"nats\" in namespace \"nats\" is in ready state\\n\\n  Scenario: Monitoring\\n    And namespace \"monitoring\" should exist\\n    And the following deployments are in a ready state in the \"monitoring\" namespace\\n      | Deployment name         | \\n      | loki-gateway | \\n      | otel-collector-opentelemetry-collector | \\n      | vm-aio-grafana | \\n      | vm-aio-kube-state-metrics | \\n      | vm-aio-victoria-metrics-operator | \\n      | vmagent-vm-aio-victoria-metrics-k8s-stack | \\n      | vmalert-vm-aio-victoria-metrics-k8s-stack | \\n      | vmsingle-vm-aio-victoria-metrics-k8s-stack | \\n    And statefulset \"loki\" in namespace \"monitoring\" is in ready state\\n    And statefulset \"tempo\" in namespace \"monitoring\" is in ready state\\n    And statefulset \"vmalertmanager-vm-aio-victoria-metrics-k8s-stack\" in namespace \"monitoring\" is in ready state\\n', media_type='text/x.cucumber.gherkin+plain')","Pickle(id='150', uri='file:features/0_1_mindwm_eda.feature', name='Cert manager', language='en', steps=[PickleStep(argument=None, ast_node_ids=['50'], id='146', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['51'], id='147', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['96'], id='148', type=<Type.outcome: 'Outcome'>, text='namespace \"cert-manager\" should exist'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='cert-manager')]), PickleTableRow(cells=[PickleTableCell(value='cert-manager-cainjector')]), PickleTableRow(cells=[PickleTableCell(value='cert-manager-webhook')])])), ast_node_ids=['101'], id='149', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"cert-manager\" namespace')], tags=[PickleTag(name='@eda', ast_node_id='124')], ast_node_ids=['102'])"],"tags":["eda","pytest_bdd_scenario","@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')","scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/0_1_mindwm_eda.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=<FeaturePathType.PATH: 'path'>, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())","namespace(create=False, name='default')"]},{"name":"test_scenarios[file:features/5_mindwm_kafka_cdc.feature-MindWM kafka_cdc function test-Cleanup garmr@helheim in blue[table_rows:[line: 82]]]","uid":"f1660ec4940ad6e8","parentUid":"3961740595044ffd97a03e46799bfc30","status":"passed","time":{"start":1728404183854,"stop":1728404184052,"duration":198},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["Feature(gherkin_document=GherkinDocument(uri='file:features/5_mindwm_kafka_cdc.feature', feature=Feature(location=Location(line=3, column=1), tags=[Tag(location=Location(line=1, column=1), name='@mindwm_kafka_cdc', id='568'), Tag(location=Location(line=2, column=1), name='@mindwm_test', id='569')], language='en', keyword='Feature', name='MindWM kafka_cdc function test', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='527'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='528')], id='529'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='io context <context>', description='', steps=[Step(location=Location(line=10, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='530'), Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='531'), Step(location=Location(line=12, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=13, column=7), rows=[TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='Knative service name')], id='532'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='kafka-cdc')], id='533')]), id='534'), Step(location=Location(line=15, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='535'), Step(location=Location(line=17, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='536'), Step(location=Location(line=18, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='537'), Step(location=Location(line=20, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='538'), Step(location=Location(line=21, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='539'), Step(location=Location(line=28, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='540'), Step(location=Location(line=29, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God makes graph query in context \"<context>\"', doc_string=DocString(location=Location(line=30, column=7), media_type=None, content=\"CREATE (n:User {\\n  atime: 0,\\n  traceparent: '00-7df92f3577b34da6a3ce930d0e0e4734-96815d9e32cd6279-01',\\n  type: 'org.mindwm.v1.graph.node.user',\\n  username: '<user>'\\n})\\nRETURN n;\", delimiter='\"\"\"'), data_table=None, id='541'), Step(location=Location(line=40, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=41, column=7), rows=[TableRow(location=Location(line=41, column=7), cells=[TableCell(location=Location(line=41, column=9), value='Knative service name')], id='542'), TableRow(location=Location(line=42, column=7), cells=[TableCell(location=Location(line=42, column=9), value='kafka-cdc')], id='543')]), id='544'), Step(location=Location(line=43, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='545'), Step(location=Location(line=45, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God makes graph query in context \"<context>\"', doc_string=DocString(location=Location(line=46, column=7), media_type=None, content=\"MATCH (n:User)\\nSET n.username = 'xxx'\\nRETURN n;\", delimiter='\"\"\"'), data_table=None, id='546'), Step(location=Location(line=51, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=52, column=7), rows=[TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='Knative service name')], id='547'), TableRow(location=Location(line=53, column=7), cells=[TableCell(location=Location(line=53, column=9), value='kafka-cdc')], id='548')]), id='549'), Step(location=Location(line=54, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.updated\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='550'), Step(location=Location(line=57, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God makes graph query in context \"<context>\"', doc_string=DocString(location=Location(line=58, column=7), media_type=None, content='MATCH (n:User)\\nDELETE n;', delimiter='\"\"\"'), data_table=None, id='551'), Step(location=Location(line=62, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=63, column=7), rows=[TableRow(location=Location(line=63, column=7), cells=[TableCell(location=Location(line=63, column=9), value='Knative service name')], id='552'), TableRow(location=Location(line=64, column=7), cells=[TableCell(location=Location(line=64, column=9), value='kafka-cdc')], id='553')]), id='554'), Step(location=Location(line=65, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.deleted\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='555')], examples=[Examples(location=Location(line=67, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=68, column=6), cells=[TableCell(location=Location(line=68, column=8), value='context'), TableCell(location=Location(line=68, column=19), value='username'), TableCell(location=Location(line=68, column=32), value='host')], id='556'), table_body=[TableRow(location=Location(line=69, column=6), cells=[TableCell(location=Location(line=69, column=8), value='blue'), TableCell(location=Location(line=69, column=19), value='garmr'), TableCell(location=Location(line=69, column=32), value='helheim')], id='557')], id='558')], id='559')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=72, column=3), tags=[], keyword='Scenario', name='Cleanup <username>@<host> in <context>', description='', steps=[Step(location=Location(line=73, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='560'), Step(location=Location(line=74, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='561'), Step(location=Location(line=76, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='562'), Step(location=Location(line=78, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='563')], examples=[Examples(location=Location(line=80, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=81, column=5), cells=[TableCell(location=Location(line=81, column=7), value='context'), TableCell(location=Location(line=81, column=17), value='username'), TableCell(location=Location(line=81, column=28), value='host')], id='564'), table_body=[TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='blue'), TableCell(location=Location(line=82, column=17), value='garmr'), TableCell(location=Location(line=82, column=28), value='helheim')], id='565')], id='566')], id='567'))]), comments=[Comment(location=Location(line=23, column=1), text='    # When God makes graph query in context \"<context>\"'), Comment(location=Location(line=24, column=1), text='    #   \"\"\"'), Comment(location=Location(line=25, column=1), text='    #   MATCH (N) DETACH DELETE N;'), Comment(location=Location(line=26, column=1), text='    #   \"\"\"')]), uri='file:features/5_mindwm_kafka_cdc.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/5_mindwm_kafka_cdc.feature', registry={'568': Tag(location=Location(line=1, column=1), name='@mindwm_kafka_cdc', id='568'), '569': Tag(location=Location(line=2, column=1), name='@mindwm_test', id='569'), '529': Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='527'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='528')], id='529'), '527': Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='527'), '528': Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='528'), '559': Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='io context <context>', description='', steps=[Step(location=Location(line=10, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='530'), Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='531'), Step(location=Location(line=12, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=13, column=7), rows=[TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='Knative service name')], id='532'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='kafka-cdc')], id='533')]), id='534'), Step(location=Location(line=15, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='535'), Step(location=Location(line=17, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='536'), Step(location=Location(line=18, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='537'), Step(location=Location(line=20, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='538'), Step(location=Location(line=21, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='539'), Step(location=Location(line=28, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='540'), Step(location=Location(line=29, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God makes graph query in context \"<context>\"', doc_string=DocString(location=Location(line=30, column=7), media_type=None, content=\"CREATE (n:User {\\n  atime: 0,\\n  traceparent: '00-7df92f3577b34da6a3ce930d0e0e4734-96815d9e32cd6279-01',\\n  type: 'org.mindwm.v1.graph.node.user',\\n  username: '<user>'\\n})\\nRETURN n;\", delimiter='\"\"\"'), data_table=None, id='541'), Step(location=Location(line=40, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=41, column=7), rows=[TableRow(location=Location(line=41, column=7), cells=[TableCell(location=Location(line=41, column=9), value='Knative service name')], id='542'), TableRow(location=Location(line=42, column=7), cells=[TableCell(location=Location(line=42, column=9), value='kafka-cdc')], id='543')]), id='544'), Step(location=Location(line=43, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='545'), Step(location=Location(line=45, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God makes graph query in context \"<context>\"', doc_string=DocString(location=Location(line=46, column=7), media_type=None, content=\"MATCH (n:User)\\nSET n.username = 'xxx'\\nRETURN n;\", delimiter='\"\"\"'), data_table=None, id='546'), Step(location=Location(line=51, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=52, column=7), rows=[TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='Knative service name')], id='547'), TableRow(location=Location(line=53, column=7), cells=[TableCell(location=Location(line=53, column=9), value='kafka-cdc')], id='548')]), id='549'), Step(location=Location(line=54, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.updated\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='550'), Step(location=Location(line=57, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God makes graph query in context \"<context>\"', doc_string=DocString(location=Location(line=58, column=7), media_type=None, content='MATCH (n:User)\\nDELETE n;', delimiter='\"\"\"'), data_table=None, id='551'), Step(location=Location(line=62, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=63, column=7), rows=[TableRow(location=Location(line=63, column=7), cells=[TableCell(location=Location(line=63, column=9), value='Knative service name')], id='552'), TableRow(location=Location(line=64, column=7), cells=[TableCell(location=Location(line=64, column=9), value='kafka-cdc')], id='553')]), id='554'), Step(location=Location(line=65, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.deleted\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='555')], examples=[Examples(location=Location(line=67, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=68, column=6), cells=[TableCell(location=Location(line=68, column=8), value='context'), TableCell(location=Location(line=68, column=19), value='username'), TableCell(location=Location(line=68, column=32), value='host')], id='556'), table_body=[TableRow(location=Location(line=69, column=6), cells=[TableCell(location=Location(line=69, column=8), value='blue'), TableCell(location=Location(line=69, column=19), value='garmr'), TableCell(location=Location(line=69, column=32), value='helheim')], id='557')], id='558')], id='559'), '530': Step(location=Location(line=10, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='530'), '531': Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='531'), '534': Step(location=Location(line=12, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=13, column=7), rows=[TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='Knative service name')], id='532'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='kafka-cdc')], id='533')]), id='534'), '535': Step(location=Location(line=15, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='535'), '536': Step(location=Location(line=17, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='536'), '537': Step(location=Location(line=18, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='537'), '538': Step(location=Location(line=20, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='538'), '539': Step(location=Location(line=21, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='539'), '540': Step(location=Location(line=28, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='540'), '541': Step(location=Location(line=29, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God makes graph query in context \"<context>\"', doc_string=DocString(location=Location(line=30, column=7), media_type=None, content=\"CREATE (n:User {\\n  atime: 0,\\n  traceparent: '00-7df92f3577b34da6a3ce930d0e0e4734-96815d9e32cd6279-01',\\n  type: 'org.mindwm.v1.graph.node.user',\\n  username: '<user>'\\n})\\nRETURN n;\", delimiter='\"\"\"'), data_table=None, id='541'), '544': Step(location=Location(line=40, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=41, column=7), rows=[TableRow(location=Location(line=41, column=7), cells=[TableCell(location=Location(line=41, column=9), value='Knative service name')], id='542'), TableRow(location=Location(line=42, column=7), cells=[TableCell(location=Location(line=42, column=9), value='kafka-cdc')], id='543')]), id='544'), '545': Step(location=Location(line=43, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='545'), '546': Step(location=Location(line=45, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God makes graph query in context \"<context>\"', doc_string=DocString(location=Location(line=46, column=7), media_type=None, content=\"MATCH (n:User)\\nSET n.username = 'xxx'\\nRETURN n;\", delimiter='\"\"\"'), data_table=None, id='546'), '549': Step(location=Location(line=51, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=52, column=7), rows=[TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='Knative service name')], id='547'), TableRow(location=Location(line=53, column=7), cells=[TableCell(location=Location(line=53, column=9), value='kafka-cdc')], id='548')]), id='549'), '550': Step(location=Location(line=54, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.updated\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='550'), '551': Step(location=Location(line=57, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God makes graph query in context \"<context>\"', doc_string=DocString(location=Location(line=58, column=7), media_type=None, content='MATCH (n:User)\\nDELETE n;', delimiter='\"\"\"'), data_table=None, id='551'), '554': Step(location=Location(line=62, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=63, column=7), rows=[TableRow(location=Location(line=63, column=7), cells=[TableCell(location=Location(line=63, column=9), value='Knative service name')], id='552'), TableRow(location=Location(line=64, column=7), cells=[TableCell(location=Location(line=64, column=9), value='kafka-cdc')], id='553')]), id='554'), '555': Step(location=Location(line=65, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.deleted\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='555'), '558': Examples(location=Location(line=67, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=68, column=6), cells=[TableCell(location=Location(line=68, column=8), value='context'), TableCell(location=Location(line=68, column=19), value='username'), TableCell(location=Location(line=68, column=32), value='host')], id='556'), table_body=[TableRow(location=Location(line=69, column=6), cells=[TableCell(location=Location(line=69, column=8), value='blue'), TableCell(location=Location(line=69, column=19), value='garmr'), TableCell(location=Location(line=69, column=32), value='helheim')], id='557')], id='558'), '556': TableRow(location=Location(line=68, column=6), cells=[TableCell(location=Location(line=68, column=8), value='context'), TableCell(location=Location(line=68, column=19), value='username'), TableCell(location=Location(line=68, column=32), value='host')], id='556'), '557': TableRow(location=Location(line=69, column=6), cells=[TableCell(location=Location(line=69, column=8), value='blue'), TableCell(location=Location(line=69, column=19), value='garmr'), TableCell(location=Location(line=69, column=32), value='helheim')], id='557'), '567': Scenario(location=Location(line=72, column=3), tags=[], keyword='Scenario', name='Cleanup <username>@<host> in <context>', description='', steps=[Step(location=Location(line=73, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='560'), Step(location=Location(line=74, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='561'), Step(location=Location(line=76, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='562'), Step(location=Location(line=78, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='563')], examples=[Examples(location=Location(line=80, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=81, column=5), cells=[TableCell(location=Location(line=81, column=7), value='context'), TableCell(location=Location(line=81, column=17), value='username'), TableCell(location=Location(line=81, column=28), value='host')], id='564'), table_body=[TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='blue'), TableCell(location=Location(line=82, column=17), value='garmr'), TableCell(location=Location(line=82, column=28), value='helheim')], id='565')], id='566')], id='567'), '560': Step(location=Location(line=73, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='560'), '561': Step(location=Location(line=74, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='561'), '562': Step(location=Location(line=76, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='562'), '563': Step(location=Location(line=78, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='563'), '566': Examples(location=Location(line=80, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=81, column=5), cells=[TableCell(location=Location(line=81, column=7), value='context'), TableCell(location=Location(line=81, column=17), value='username'), TableCell(location=Location(line=81, column=28), value='host')], id='564'), table_body=[TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='blue'), TableCell(location=Location(line=82, column=17), value='garmr'), TableCell(location=Location(line=82, column=28), value='helheim')], id='565')], id='566'), '564': TableRow(location=Location(line=81, column=5), cells=[TableCell(location=Location(line=81, column=7), value='context'), TableCell(location=Location(line=81, column=17), value='username'), TableCell(location=Location(line=81, column=28), value='host')], id='564'), '565': TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='blue'), TableCell(location=Location(line=82, column=17), value='garmr'), TableCell(location=Location(line=82, column=28), value='helheim')], id='565')}, pickles=[Pickle(id='590', uri='file:features/5_mindwm_kafka_cdc.feature', name='io context blue', language='en', steps=[PickleStep(argument=None, ast_node_ids=['527'], id='570', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['528'], id='571', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['530', '557'], id='572', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"blue\"'), PickleStep(argument=None, ast_node_ids=['531', '557'], id='573', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')])])), ast_node_ids=['534', '557'], id='574', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-blue\" namespace'), PickleStep(argument=None, ast_node_ids=['535', '557'], id='575', type=<Type.outcome: 'Outcome'>, text='statefulset \"blue-neo4j\" in namespace \"context-blue\" is in ready state'), PickleStep(argument=None, ast_node_ids=['536', '557'], id='576', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"garmr\" and connects it to the context \"blue\"'), PickleStep(argument=None, ast_node_ids=['537', '557'], id='577', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['538', '557'], id='578', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"helheim\" and connects it to the user \"garmr\"'), PickleStep(argument=None, ast_node_ids=['539', '557'], id='579', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['540', '557'], id='580', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content=\"CREATE (n:User {\\n  atime: 0,\\n  traceparent: '00-7df92f3577b34da6a3ce930d0e0e4734-96815d9e32cd6279-01',\\n  type: 'org.mindwm.v1.graph.node.user',\\n  username: '<user>'\\n})\\nRETURN n;\"), data_table=None), ast_node_ids=['541', '557'], id='581', type=<Type.action: 'Action'>, text='God makes graph query in context \"blue\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')])])), ast_node_ids=['544', '557'], id='582', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-blue\" namespace'), PickleStep(argument=None, ast_node_ids=['545', '557'], id='583', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-garmr.helheim-host-broker-kne-trigger._knative\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content=\"MATCH (n:User)\\nSET n.username = 'xxx'\\nRETURN n;\"), data_table=None), ast_node_ids=['546', '557'], id='584', type=<Type.action: 'Action'>, text='God makes graph query in context \"blue\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')])])), ast_node_ids=['549', '557'], id='585', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-blue\" namespace'), PickleStep(argument=None, ast_node_ids=['550', '557'], id='586', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.updated\" should have been received from the NATS topic \"user-garmr.helheim-host-broker-kne-trigger._knative\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='MATCH (n:User)\\nDELETE n;'), data_table=None), ast_node_ids=['551', '557'], id='587', type=<Type.action: 'Action'>, text='God makes graph query in context \"blue\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')])])), ast_node_ids=['554', '557'], id='588', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-blue\" namespace'), PickleStep(argument=None, ast_node_ids=['555', '557'], id='589', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.deleted\" should have been received from the NATS topic \"user-garmr.helheim-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_kafka_cdc', ast_node_id='568'), PickleTag(name='@mindwm_test', ast_node_id='569')], ast_node_ids=['559', '557']), Pickle(id='597', uri='file:features/5_mindwm_kafka_cdc.feature', name='Cleanup garmr@helheim in blue', language='en', steps=[PickleStep(argument=None, ast_node_ids=['527'], id='591', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['528'], id='592', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['560', '565'], id='593', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"helheim\"'), PickleStep(argument=None, ast_node_ids=['561', '565'], id='594', type=<Type.outcome: 'Outcome'>, text='the host \"helheim\" should be deleted'), PickleStep(argument=None, ast_node_ids=['562', '565'], id='595', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"garmr\"'), PickleStep(argument=None, ast_node_ids=['563', '565'], id='596', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"blue\"')], tags=[PickleTag(name='@mindwm_kafka_cdc', ast_node_id='568'), PickleTag(name='@mindwm_test', ast_node_id='569')], ast_node_ids=['567', '565'])])","Source(uri='file:features/5_mindwm_kafka_cdc.feature', data='@mindwm_kafka_cdc\\n@mindwm_test\\nFeature: MindWM kafka_cdc function test\\n  Background:\\n    Given A MindWM environment\\n    Then all nodes in Kubernetes are ready\\n\\n  Scenario: io context <context>\\n\\n    When God creates a MindWM context with the name \"<context>\"\\n    Then the context should be ready and operable\\n    Then the following knative services are in a ready state in the \"context-<context>\" namespace\\n      | Knative service name |\\n      | kafka-cdc            |\\n    And statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state\\n\\n    When God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"\\n    Then the user resource should be ready and operable\\n\\n    When God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"\\n    Then the host resource should be ready and operable\\n\\n    # When God makes graph query in context \"<context>\"\\n    #   \"\"\"\\n    #   MATCH (N) DETACH DELETE N;\\n    #   \"\"\"\\n\\n    When God starts reading message from NATS topic \">\"\\n    And God makes graph query in context \"<context>\"\\n      \"\"\"\\n      CREATE (n:User {\\n        atime: 0,\\n        traceparent: \\'00-7df92f3577b34da6a3ce930d0e0e4734-96815d9e32cd6279-01\\',\\n        type: \\'org.mindwm.v1.graph.node.user\\',\\n        username: \\'<user>\\'\\n      })\\n      RETURN n;\\n      \"\"\"\\n\\n    Then the following knative services are in a ready state in the \"context-<context>\" namespace\\n      | Knative service name |\\n      | kafka-cdc            |\\n    And a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"\\n\\n    When God makes graph query in context \"<context>\"\\n      \"\"\"\\n      MATCH (n:User)\\n      SET n.username = \\'xxx\\'\\n      RETURN n;\\n      \"\"\"\\n    Then the following knative services are in a ready state in the \"context-<context>\" namespace\\n      | Knative service name |\\n      | kafka-cdc            |\\n    And a cloudevent with type == \"org.mindwm.v1.graph.updated\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"\\n\\n\\n    When God makes graph query in context \"<context>\"\\n      \"\"\"\\n      MATCH (n:User)\\n      DELETE n;\\n      \"\"\"\\n    Then the following knative services are in a ready state in the \"context-<context>\" namespace\\n      | Knative service name |\\n      | kafka-cdc            |\\n    And a cloudevent with type == \"org.mindwm.v1.graph.deleted\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"\\n\\n    Examples:\\n     | context  | username   | host      | \\n     | blue     | garmr      | helheim   | \\n\\n\\n  Scenario: Cleanup <username>@<host> in <context>\\n    When God deletes the MindWM host resource \"<host>\"\\n    Then the host \"<host>\" should be deleted\\n\\n    When God deletes the MindWM user resource \"<username>\"\\n\\n    When God deletes the MindWM context resource \"<context>\"\\n\\n    Examples:\\n    | context | username | host      | \\n    | blue    | garmr    | helheim   | \\n\\n', media_type='text/x.cucumber.gherkin+plain')","Pickle(id='597', uri='file:features/5_mindwm_kafka_cdc.feature', name='Cleanup garmr@helheim in blue', language='en', steps=[PickleStep(argument=None, ast_node_ids=['527'], id='591', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['528'], id='592', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['560', '565'], id='593', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"helheim\"'), PickleStep(argument=None, ast_node_ids=['561', '565'], id='594', type=<Type.outcome: 'Outcome'>, text='the host \"helheim\" should be deleted'), PickleStep(argument=None, ast_node_ids=['562', '565'], id='595', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"garmr\"'), PickleStep(argument=None, ast_node_ids=['563', '565'], id='596', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"blue\"')], tags=[PickleTag(name='@mindwm_kafka_cdc', ast_node_id='568'), PickleTag(name='@mindwm_test', ast_node_id='569')], ast_node_ids=['567', '565'])"],"tags":["pytest_bdd_scenario","@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')","mindwm_test","scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/5_mindwm_kafka_cdc.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=<FeaturePathType.PATH: 'path'>, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())","mindwm_kafka_cdc","namespace(create=False, name='default')"]},{"name":"test_scenarios[file:features/4_mindwm_io_context.feature-MindWM io context function test-Cleanup kitty@tablet in red[table_rows:[line: 70]]]","uid":"814fa63bf58144ad","parentUid":"3961740595044ffd97a03e46799bfc30","status":"passed","time":{"start":1728404019546,"stop":1728404019740,"duration":194},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["Feature(gherkin_document=GherkinDocument(uri='file:features/4_mindwm_io_context.feature', feature=Feature(location=Location(line=3, column=1), tags=[Tag(location=Location(line=1, column=1), name='@mindwm_io_context', id='493'), Tag(location=Location(line=2, column=1), name='@mindwm_test', id='494')], language='en', keyword='Feature', name='MindWM io context function test', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='449'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='450')], id='451'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='io context <context>', description='', steps=[Step(location=Location(line=10, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='452'), Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='453'), Step(location=Location(line=12, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=13, column=7), rows=[TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='Knative service name')], id='454'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='iocontext')], id='455')]), id='456'), Step(location=Location(line=15, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='457'), Step(location=Location(line=17, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='458'), Step(location=Location(line=18, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='459'), Step(location=Location(line=20, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='460'), Step(location=Location(line=21, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='461'), Step(location=Location(line=27, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='462'), Step(location=Location(line=28, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-id\" to \"<cloudevent_id>\"', doc_string=None, data_table=None, id='463'), Step(location=Location(line=29, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='464'), Step(location=Location(line=30, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='465'), Step(location=Location(line=31, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"', doc_string=None, data_table=None, id='466'), Step(location=Location(line=32, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='467'), Step(location=Location(line=33, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to \"broker-ingress.knative-eventing/context-<context>/context-broker\"', doc_string=DocString(location=Location(line=34, column=9), media_type=None, content='{\\t\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n}', delimiter='\"\"\"'), data_table=None, id='468'), Step(location=Location(line=42, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"202\"', doc_string=None, data_table=None, id='469'), Step(location=Location(line=43, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=44, column=7), rows=[TableRow(location=Location(line=44, column=7), cells=[TableCell(location=Location(line=44, column=9), value='Deployment name')], id='470'), TableRow(location=Location(line=45, column=7), cells=[TableCell(location=Location(line=45, column=9), value='iocontext-00001-deployment')], id='471')]), id='472'), Step(location=Location(line=46, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the trace with \"<traceparent>\" should appear in TraceQL', doc_string=None, data_table=None, id='473'), Step(location=Location(line=47, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the trace should contains', doc_string=None, data_table=DataTable(location=Location(line=48, column=7), rows=[TableRow(location=Location(line=48, column=7), cells=[TableCell(location=Location(line=48, column=9), value='service name')], id='474'), TableRow(location=Location(line=49, column=7), cells=[TableCell(location=Location(line=49, column=9), value='broker-ingress.knative-eventing')], id='475'), TableRow(location=Location(line=50, column=7), cells=[TableCell(location=Location(line=50, column=9), value='unknown_service')], id='476')]), id='477'), Step(location=Location(line=51, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='graph have node \"User\" with property \"username\" = \"<username>\" in context \"<context>\"', doc_string=None, data_table=None, id='478'), Step(location=Location(line=52, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='graph have node \"Host\" with property \"hostname\" = \"<host>\" in context \"<context>\"', doc_string=None, data_table=None, id='479'), Step(location=Location(line=53, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='graph have node \"IoDocument\" with property \"input\" = \"id\" in context \"<context>\"', doc_string=None, data_table=None, id='480')], examples=[Examples(location=Location(line=55, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=56, column=6), cells=[TableCell(location=Location(line=56, column=8), value='context'), TableCell(location=Location(line=56, column=18), value='username'), TableCell(location=Location(line=56, column=31), value='host'), TableCell(location=Location(line=56, column=43), value='cloudevent_id'), TableCell(location=Location(line=56, column=82), value='traceparent')], id='481'), table_body=[TableRow(location=Location(line=57, column=6), cells=[TableCell(location=Location(line=57, column=8), value='red'), TableCell(location=Location(line=57, column=18), value='kitty'), TableCell(location=Location(line=57, column=31), value='tablet'), TableCell(location=Location(line=57, column=43), value='442af213-c860-4535-b639-355f13b2d883'), TableCell(location=Location(line=57, column=82), value='00-7df92f3577b34da6a3ce930d0e0e4734-00f064aa0ba902b8-00')], id='482')], id='483')], id='484')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=60, column=3), tags=[], keyword='Scenario', name='Cleanup <username>@<host> in <context>', description='', steps=[Step(location=Location(line=61, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='485'), Step(location=Location(line=62, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='486'), Step(location=Location(line=64, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='487'), Step(location=Location(line=66, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='488')], examples=[Examples(location=Location(line=68, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=69, column=5), cells=[TableCell(location=Location(line=69, column=7), value='context'), TableCell(location=Location(line=69, column=17), value='username'), TableCell(location=Location(line=69, column=28), value='host')], id='489'), table_body=[TableRow(location=Location(line=70, column=5), cells=[TableCell(location=Location(line=70, column=7), value='red'), TableCell(location=Location(line=70, column=17), value='kitty'), TableCell(location=Location(line=70, column=28), value='tablet')], id='490')], id='491')], id='492'))]), comments=[Comment(location=Location(line=22, column=1), text='    # When God makes graph query in context \"<context>\"'), Comment(location=Location(line=23, column=1), text='    #   \"\"\"'), Comment(location=Location(line=24, column=1), text='    #   MATCH (N) DETACH DELETE N;'), Comment(location=Location(line=25, column=1), text='    #   \"\"\"')]), uri='file:features/4_mindwm_io_context.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/4_mindwm_io_context.feature', registry={'493': Tag(location=Location(line=1, column=1), name='@mindwm_io_context', id='493'), '494': Tag(location=Location(line=2, column=1), name='@mindwm_test', id='494'), '451': Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='449'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='450')], id='451'), '449': Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='449'), '450': Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='450'), '484': Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='io context <context>', description='', steps=[Step(location=Location(line=10, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='452'), Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='453'), Step(location=Location(line=12, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=13, column=7), rows=[TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='Knative service name')], id='454'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='iocontext')], id='455')]), id='456'), Step(location=Location(line=15, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='457'), Step(location=Location(line=17, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='458'), Step(location=Location(line=18, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='459'), Step(location=Location(line=20, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='460'), Step(location=Location(line=21, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='461'), Step(location=Location(line=27, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='462'), Step(location=Location(line=28, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-id\" to \"<cloudevent_id>\"', doc_string=None, data_table=None, id='463'), Step(location=Location(line=29, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='464'), Step(location=Location(line=30, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='465'), Step(location=Location(line=31, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"', doc_string=None, data_table=None, id='466'), Step(location=Location(line=32, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='467'), Step(location=Location(line=33, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to \"broker-ingress.knative-eventing/context-<context>/context-broker\"', doc_string=DocString(location=Location(line=34, column=9), media_type=None, content='{\\t\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n}', delimiter='\"\"\"'), data_table=None, id='468'), Step(location=Location(line=42, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"202\"', doc_string=None, data_table=None, id='469'), Step(location=Location(line=43, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=44, column=7), rows=[TableRow(location=Location(line=44, column=7), cells=[TableCell(location=Location(line=44, column=9), value='Deployment name')], id='470'), TableRow(location=Location(line=45, column=7), cells=[TableCell(location=Location(line=45, column=9), value='iocontext-00001-deployment')], id='471')]), id='472'), Step(location=Location(line=46, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the trace with \"<traceparent>\" should appear in TraceQL', doc_string=None, data_table=None, id='473'), Step(location=Location(line=47, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the trace should contains', doc_string=None, data_table=DataTable(location=Location(line=48, column=7), rows=[TableRow(location=Location(line=48, column=7), cells=[TableCell(location=Location(line=48, column=9), value='service name')], id='474'), TableRow(location=Location(line=49, column=7), cells=[TableCell(location=Location(line=49, column=9), value='broker-ingress.knative-eventing')], id='475'), TableRow(location=Location(line=50, column=7), cells=[TableCell(location=Location(line=50, column=9), value='unknown_service')], id='476')]), id='477'), Step(location=Location(line=51, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='graph have node \"User\" with property \"username\" = \"<username>\" in context \"<context>\"', doc_string=None, data_table=None, id='478'), Step(location=Location(line=52, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='graph have node \"Host\" with property \"hostname\" = \"<host>\" in context \"<context>\"', doc_string=None, data_table=None, id='479'), Step(location=Location(line=53, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='graph have node \"IoDocument\" with property \"input\" = \"id\" in context \"<context>\"', doc_string=None, data_table=None, id='480')], examples=[Examples(location=Location(line=55, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=56, column=6), cells=[TableCell(location=Location(line=56, column=8), value='context'), TableCell(location=Location(line=56, column=18), value='username'), TableCell(location=Location(line=56, column=31), value='host'), TableCell(location=Location(line=56, column=43), value='cloudevent_id'), TableCell(location=Location(line=56, column=82), value='traceparent')], id='481'), table_body=[TableRow(location=Location(line=57, column=6), cells=[TableCell(location=Location(line=57, column=8), value='red'), TableCell(location=Location(line=57, column=18), value='kitty'), TableCell(location=Location(line=57, column=31), value='tablet'), TableCell(location=Location(line=57, column=43), value='442af213-c860-4535-b639-355f13b2d883'), TableCell(location=Location(line=57, column=82), value='00-7df92f3577b34da6a3ce930d0e0e4734-00f064aa0ba902b8-00')], id='482')], id='483')], id='484'), '452': Step(location=Location(line=10, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='452'), '453': Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='453'), '456': Step(location=Location(line=12, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=13, column=7), rows=[TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='Knative service name')], id='454'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='iocontext')], id='455')]), id='456'), '457': Step(location=Location(line=15, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='457'), '458': Step(location=Location(line=17, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='458'), '459': Step(location=Location(line=18, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='459'), '460': Step(location=Location(line=20, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='460'), '461': Step(location=Location(line=21, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='461'), '462': Step(location=Location(line=27, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='462'), '463': Step(location=Location(line=28, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-id\" to \"<cloudevent_id>\"', doc_string=None, data_table=None, id='463'), '464': Step(location=Location(line=29, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='464'), '465': Step(location=Location(line=30, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='465'), '466': Step(location=Location(line=31, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"', doc_string=None, data_table=None, id='466'), '467': Step(location=Location(line=32, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='467'), '468': Step(location=Location(line=33, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to \"broker-ingress.knative-eventing/context-<context>/context-broker\"', doc_string=DocString(location=Location(line=34, column=9), media_type=None, content='{\\t\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n}', delimiter='\"\"\"'), data_table=None, id='468'), '469': Step(location=Location(line=42, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"202\"', doc_string=None, data_table=None, id='469'), '472': Step(location=Location(line=43, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=44, column=7), rows=[TableRow(location=Location(line=44, column=7), cells=[TableCell(location=Location(line=44, column=9), value='Deployment name')], id='470'), TableRow(location=Location(line=45, column=7), cells=[TableCell(location=Location(line=45, column=9), value='iocontext-00001-deployment')], id='471')]), id='472'), '473': Step(location=Location(line=46, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the trace with \"<traceparent>\" should appear in TraceQL', doc_string=None, data_table=None, id='473'), '477': Step(location=Location(line=47, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the trace should contains', doc_string=None, data_table=DataTable(location=Location(line=48, column=7), rows=[TableRow(location=Location(line=48, column=7), cells=[TableCell(location=Location(line=48, column=9), value='service name')], id='474'), TableRow(location=Location(line=49, column=7), cells=[TableCell(location=Location(line=49, column=9), value='broker-ingress.knative-eventing')], id='475'), TableRow(location=Location(line=50, column=7), cells=[TableCell(location=Location(line=50, column=9), value='unknown_service')], id='476')]), id='477'), '478': Step(location=Location(line=51, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='graph have node \"User\" with property \"username\" = \"<username>\" in context \"<context>\"', doc_string=None, data_table=None, id='478'), '479': Step(location=Location(line=52, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='graph have node \"Host\" with property \"hostname\" = \"<host>\" in context \"<context>\"', doc_string=None, data_table=None, id='479'), '480': Step(location=Location(line=53, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='graph have node \"IoDocument\" with property \"input\" = \"id\" in context \"<context>\"', doc_string=None, data_table=None, id='480'), '483': Examples(location=Location(line=55, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=56, column=6), cells=[TableCell(location=Location(line=56, column=8), value='context'), TableCell(location=Location(line=56, column=18), value='username'), TableCell(location=Location(line=56, column=31), value='host'), TableCell(location=Location(line=56, column=43), value='cloudevent_id'), TableCell(location=Location(line=56, column=82), value='traceparent')], id='481'), table_body=[TableRow(location=Location(line=57, column=6), cells=[TableCell(location=Location(line=57, column=8), value='red'), TableCell(location=Location(line=57, column=18), value='kitty'), TableCell(location=Location(line=57, column=31), value='tablet'), TableCell(location=Location(line=57, column=43), value='442af213-c860-4535-b639-355f13b2d883'), TableCell(location=Location(line=57, column=82), value='00-7df92f3577b34da6a3ce930d0e0e4734-00f064aa0ba902b8-00')], id='482')], id='483'), '481': TableRow(location=Location(line=56, column=6), cells=[TableCell(location=Location(line=56, column=8), value='context'), TableCell(location=Location(line=56, column=18), value='username'), TableCell(location=Location(line=56, column=31), value='host'), TableCell(location=Location(line=56, column=43), value='cloudevent_id'), TableCell(location=Location(line=56, column=82), value='traceparent')], id='481'), '482': TableRow(location=Location(line=57, column=6), cells=[TableCell(location=Location(line=57, column=8), value='red'), TableCell(location=Location(line=57, column=18), value='kitty'), TableCell(location=Location(line=57, column=31), value='tablet'), TableCell(location=Location(line=57, column=43), value='442af213-c860-4535-b639-355f13b2d883'), TableCell(location=Location(line=57, column=82), value='00-7df92f3577b34da6a3ce930d0e0e4734-00f064aa0ba902b8-00')], id='482'), '492': Scenario(location=Location(line=60, column=3), tags=[], keyword='Scenario', name='Cleanup <username>@<host> in <context>', description='', steps=[Step(location=Location(line=61, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='485'), Step(location=Location(line=62, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='486'), Step(location=Location(line=64, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='487'), Step(location=Location(line=66, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='488')], examples=[Examples(location=Location(line=68, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=69, column=5), cells=[TableCell(location=Location(line=69, column=7), value='context'), TableCell(location=Location(line=69, column=17), value='username'), TableCell(location=Location(line=69, column=28), value='host')], id='489'), table_body=[TableRow(location=Location(line=70, column=5), cells=[TableCell(location=Location(line=70, column=7), value='red'), TableCell(location=Location(line=70, column=17), value='kitty'), TableCell(location=Location(line=70, column=28), value='tablet')], id='490')], id='491')], id='492'), '485': Step(location=Location(line=61, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='485'), '486': Step(location=Location(line=62, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='486'), '487': Step(location=Location(line=64, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='487'), '488': Step(location=Location(line=66, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='488'), '491': Examples(location=Location(line=68, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=69, column=5), cells=[TableCell(location=Location(line=69, column=7), value='context'), TableCell(location=Location(line=69, column=17), value='username'), TableCell(location=Location(line=69, column=28), value='host')], id='489'), table_body=[TableRow(location=Location(line=70, column=5), cells=[TableCell(location=Location(line=70, column=7), value='red'), TableCell(location=Location(line=70, column=17), value='kitty'), TableCell(location=Location(line=70, column=28), value='tablet')], id='490')], id='491'), '489': TableRow(location=Location(line=69, column=5), cells=[TableCell(location=Location(line=69, column=7), value='context'), TableCell(location=Location(line=69, column=17), value='username'), TableCell(location=Location(line=69, column=28), value='host')], id='489'), '490': TableRow(location=Location(line=70, column=5), cells=[TableCell(location=Location(line=70, column=7), value='red'), TableCell(location=Location(line=70, column=17), value='kitty'), TableCell(location=Location(line=70, column=28), value='tablet')], id='490')}, pickles=[Pickle(id='519', uri='file:features/4_mindwm_io_context.feature', name='io context red', language='en', steps=[PickleStep(argument=None, ast_node_ids=['449'], id='495', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['450'], id='496', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['452', '482'], id='497', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"red\"'), PickleStep(argument=None, ast_node_ids=['453', '482'], id='498', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext')])])), ast_node_ids=['456', '482'], id='499', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-red\" namespace'), PickleStep(argument=None, ast_node_ids=['457', '482'], id='500', type=<Type.outcome: 'Outcome'>, text='statefulset \"red-neo4j\" in namespace \"context-red\" is in ready state'), PickleStep(argument=None, ast_node_ids=['458', '482'], id='501', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"kitty\" and connects it to the context \"red\"'), PickleStep(argument=None, ast_node_ids=['459', '482'], id='502', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['460', '482'], id='503', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"tablet\" and connects it to the user \"kitty\"'), PickleStep(argument=None, ast_node_ids=['461', '482'], id='504', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['462', '482'], id='505', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['463', '482'], id='506', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-id\" to \"442af213-c860-4535-b639-355f13b2d883\"'), PickleStep(argument=None, ast_node_ids=['464', '482'], id='507', type=<Type.action: 'Action'>, text='sets cloudevent header \"traceparent\" to \"00-7df92f3577b34da6a3ce930d0e0e4734-00f064aa0ba902b8-00\"'), PickleStep(argument=None, ast_node_ids=['465', '482'], id='508', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"id\"'), PickleStep(argument=None, ast_node_ids=['466', '482'], id='509', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.kitty.tablet.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"'), PickleStep(argument=None, ast_node_ids=['467', '482'], id='510', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\t\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n}'), data_table=None), ast_node_ids=['468', '482'], id='511', type=<Type.action: 'Action'>, text='sends cloudevent to \"broker-ingress.knative-eventing/context-red/context-broker\"'), PickleStep(argument=None, ast_node_ids=['469', '482'], id='512', type=<Type.outcome: 'Outcome'>, text='the response http code should be \"202\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-00001-deployment')])])), ast_node_ids=['472', '482'], id='513', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-red\" namespace'), PickleStep(argument=None, ast_node_ids=['473', '482'], id='514', type=<Type.outcome: 'Outcome'>, text='the trace with \"00-7df92f3577b34da6a3ce930d0e0e4734-00f064aa0ba902b8-00\" should appear in TraceQL'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='service name')]), PickleTableRow(cells=[PickleTableCell(value='broker-ingress.knative-eventing')]), PickleTableRow(cells=[PickleTableCell(value='unknown_service')])])), ast_node_ids=['477', '482'], id='515', type=<Type.outcome: 'Outcome'>, text='the trace should contains'), PickleStep(argument=None, ast_node_ids=['478', '482'], id='516', type=<Type.outcome: 'Outcome'>, text='graph have node \"User\" with property \"username\" = \"kitty\" in context \"red\"'), PickleStep(argument=None, ast_node_ids=['479', '482'], id='517', type=<Type.outcome: 'Outcome'>, text='graph have node \"Host\" with property \"hostname\" = \"tablet\" in context \"red\"'), PickleStep(argument=None, ast_node_ids=['480', '482'], id='518', type=<Type.outcome: 'Outcome'>, text='graph have node \"IoDocument\" with property \"input\" = \"id\" in context \"red\"')], tags=[PickleTag(name='@mindwm_io_context', ast_node_id='493'), PickleTag(name='@mindwm_test', ast_node_id='494')], ast_node_ids=['484', '482']), Pickle(id='526', uri='file:features/4_mindwm_io_context.feature', name='Cleanup kitty@tablet in red', language='en', steps=[PickleStep(argument=None, ast_node_ids=['449'], id='520', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['450'], id='521', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['485', '490'], id='522', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"tablet\"'), PickleStep(argument=None, ast_node_ids=['486', '490'], id='523', type=<Type.outcome: 'Outcome'>, text='the host \"tablet\" should be deleted'), PickleStep(argument=None, ast_node_ids=['487', '490'], id='524', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"kitty\"'), PickleStep(argument=None, ast_node_ids=['488', '490'], id='525', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"red\"')], tags=[PickleTag(name='@mindwm_io_context', ast_node_id='493'), PickleTag(name='@mindwm_test', ast_node_id='494')], ast_node_ids=['492', '490'])])","Source(uri='file:features/4_mindwm_io_context.feature', data='@mindwm_io_context\\n@mindwm_test\\nFeature: MindWM io context function test\\n  Background:\\n    Given A MindWM environment\\n    Then all nodes in Kubernetes are ready\\n\\n  Scenario: io context <context>\\n\\n    When God creates a MindWM context with the name \"<context>\"\\n    Then the context should be ready and operable\\n    Then the following knative services are in a ready state in the \"context-<context>\" namespace\\n      | Knative service name |\\n      | iocontext            |\\n    And statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state\\n\\n    When God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"\\n    Then the user resource should be ready and operable\\n\\n    When God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"\\n    Then the host resource should be ready and operable\\n    # When God makes graph query in context \"<context>\"\\n    #   \"\"\"\\n    #   MATCH (N) DETACH DELETE N;\\n    #   \"\"\"\\n\\n    When God creates a new cloudevent \\n      And sets cloudevent header \"ce-id\" to \"<cloudevent_id>\"\\n      And sets cloudevent header \"traceparent\" to \"<traceparent>\"\\n      And sets cloudevent header \"ce-subject\" to \"id\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"\\n      And sends cloudevent to \"broker-ingress.knative-eventing/context-<context>/context-broker\"\\n        \"\"\"\\n        {\\t\\n          \"input\": \"id\",\\n          \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n          \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n          \"type\": \"org.mindwm.v1.iodocument\"\\n        }\\n        \"\"\"\\n    Then the response http code should be \"202\"\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name            |\\n      | iocontext-00001-deployment |\\n    Then the trace with \"<traceparent>\" should appear in TraceQL\\n    And the trace should contains\\n      | service name                    |\\n      | broker-ingress.knative-eventing |\\n      | unknown_service                 |\\n    Then graph have node \"User\" with property \"username\" = \"<username>\" in context \"<context>\"\\n    And graph have node \"Host\" with property \"hostname\" = \"<host>\" in context \"<context>\"\\n    And graph have node \"IoDocument\" with property \"input\" = \"id\" in context \"<context>\"\\n\\n    Examples:\\n     | context | username   | host      | cloudevent_id                        | traceparent \\t\\t\\t\\t\\t         |\\n     | red     | kitty      | tablet    | 442af213-c860-4535-b639-355f13b2d883 | 00-7df92f3577b34da6a3ce930d0e0e4734-00f064aa0ba902b8-00 |\\n\\n\\n  Scenario: Cleanup <username>@<host> in <context>\\n    When God deletes the MindWM host resource \"<host>\"\\n    Then the host \"<host>\" should be deleted\\n\\n    When God deletes the MindWM user resource \"<username>\"\\n\\n    When God deletes the MindWM context resource \"<context>\"\\n\\n    Examples:\\n    | context | username | host        | \\n    | red     | kitty    | tablet      |\\n\\n', media_type='text/x.cucumber.gherkin+plain')","Pickle(id='526', uri='file:features/4_mindwm_io_context.feature', name='Cleanup kitty@tablet in red', language='en', steps=[PickleStep(argument=None, ast_node_ids=['449'], id='520', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['450'], id='521', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['485', '490'], id='522', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"tablet\"'), PickleStep(argument=None, ast_node_ids=['486', '490'], id='523', type=<Type.outcome: 'Outcome'>, text='the host \"tablet\" should be deleted'), PickleStep(argument=None, ast_node_ids=['487', '490'], id='524', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"kitty\"'), PickleStep(argument=None, ast_node_ids=['488', '490'], id='525', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"red\"')], tags=[PickleTag(name='@mindwm_io_context', ast_node_id='493'), PickleTag(name='@mindwm_test', ast_node_id='494')], ast_node_ids=['492', '490'])"],"tags":["mindwm_io_context","pytest_bdd_scenario","@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')","mindwm_test","scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/4_mindwm_io_context.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=<FeaturePathType.PATH: 'path'>, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())","namespace(create=False, name='default')"]},{"name":"test_scenarios[file:features/2_mindwm_crd_resources.feature-MindWM Custom kubernetes resources-Create User and check k8s resources]","uid":"780dac7a5902529a","parentUid":"3961740595044ffd97a03e46799bfc30","status":"passed","time":{"start":1728403579048,"stop":1728403590454,"duration":11406},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["Feature(gherkin_document=GherkinDocument(uri='file:features/2_mindwm_crd_resources.feature', feature=Feature(location=Location(line=3, column=1), tags=[Tag(location=Location(line=1, column=1), name='@mindwm_crd_resources', id='263'), Tag(location=Location(line=2, column=1), name='@mindwm_test', id='264')], language='en', keyword='Feature', name='MindWM Custom kubernetes resources', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=5, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=6, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='205'), Step(location=Location(line=7, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='206')], id='207'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=9, column=3), tags=[], keyword='Scenario', name='Create Context and check k8s resources', description='', steps=[Step(location=Location(line=10, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"cyan\"', doc_string=None, data_table=None, id='208'), Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='209'), Step(location=Location(line=12, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-cyan\" should exist', doc_string=None, data_table=None, id='210'), Step(location=Location(line=13, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='helm release \"cyan-neo4j\" is deployed in \"context-cyan\" namespace', doc_string=None, data_table=None, id='211'), Step(location=Location(line=14, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"cyan-neo4j\" in namespace \"context-cyan\" is in ready state', doc_string=None, data_table=None, id='212'), Step(location=Location(line=15, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=16, column=7), rows=[TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='Knative service name')], id='213'), TableRow(location=Location(line=17, column=7), cells=[TableCell(location=Location(line=17, column=9), value='dead-letter')], id='214'), TableRow(location=Location(line=18, column=7), cells=[TableCell(location=Location(line=18, column=9), value='iocontext')], id='215'), TableRow(location=Location(line=19, column=7), cells=[TableCell(location=Location(line=19, column=9), value='kafka-cdc')], id='216'), TableRow(location=Location(line=20, column=7), cells=[TableCell(location=Location(line=20, column=9), value='pong')], id='217')]), id='218'), Step(location=Location(line=21, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative triggers are in a ready state in the \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=22, column=7), rows=[TableRow(location=Location(line=22, column=7), cells=[TableCell(location=Location(line=22, column=9), value='Knative trigger name')], id='219'), TableRow(location=Location(line=23, column=7), cells=[TableCell(location=Location(line=23, column=9), value='iocontext-trigger')], id='220'), TableRow(location=Location(line=24, column=7), cells=[TableCell(location=Location(line=24, column=9), value='kafka-cdc-trigger')], id='221'), TableRow(location=Location(line=25, column=7), cells=[TableCell(location=Location(line=25, column=9), value='pong-trigger')], id='222')]), id='223'), Step(location=Location(line=26, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative brokers are in a ready state in the \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=27, column=7), rows=[TableRow(location=Location(line=27, column=7), cells=[TableCell(location=Location(line=27, column=9), value='Knative broker name')], id='224'), TableRow(location=Location(line=28, column=7), cells=[TableCell(location=Location(line=28, column=9), value='context-broker')], id='225')]), id='226'), Step(location=Location(line=29, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka topic \"context-cyan-cdc\" is in ready state in \"redpanda\" namespace', doc_string=None, data_table=None, id='227'), Step(location=Location(line=30, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka source \"context-cyan-cdc-kafkasource\" is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=None, id='228')], examples=[], id='229')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=32, column=3), tags=[], keyword='Scenario', name='Create User and check k8s resources', description='', steps=[Step(location=Location(line=33, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"bob\" and connects it to the context \"cyan\"', doc_string=None, data_table=None, id='230'), Step(location=Location(line=34, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='231'), Step(location=Location(line=35, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"user-bob\" should exist', doc_string=None, data_table=None, id='232'), Step(location=Location(line=36, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative brokers are in a ready state in the \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=37, column=7), rows=[TableRow(location=Location(line=37, column=7), cells=[TableCell(location=Location(line=37, column=9), value='Knative broker name')], id='233'), TableRow(location=Location(line=38, column=7), cells=[TableCell(location=Location(line=38, column=9), value='user-broker')], id='234')]), id='235'), Step(location=Location(line=39, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative triggers are in a ready state in the \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=40, column=7), rows=[TableRow(location=Location(line=40, column=7), cells=[TableCell(location=Location(line=40, column=9), value='Knative trigger name')], id='236'), TableRow(location=Location(line=41, column=7), cells=[TableCell(location=Location(line=41, column=9), value='context-cyan-to-user-bob')], id='237')]), id='238'), Step(location=Location(line=42, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative triggers are in a ready state in the \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=43, column=7), rows=[TableRow(location=Location(line=43, column=7), cells=[TableCell(location=Location(line=43, column=9), value='Knative trigger name')], id='239'), TableRow(location=Location(line=44, column=7), cells=[TableCell(location=Location(line=44, column=9), value='user-bob-to-context-cyan')], id='240')]), id='241')], examples=[], id='242')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=46, column=3), tags=[], keyword='Scenario', name='Create Host and check k8s resources', description='', steps=[Step(location=Location(line=47, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"workstation\" and connects it to the user \"bob\"', doc_string=None, data_table=None, id='243'), Step(location=Location(line=48, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='244'), Step(location=Location(line=49, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"workstation-host-broker-kne-trigger\" is ready in \"user-bob\" namespace', doc_string=None, data_table=None, id='245'), Step(location=Location(line=50, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative triggers are in a ready state in the \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=51, column=7), rows=[TableRow(location=Location(line=51, column=7), cells=[TableCell(location=Location(line=51, column=9), value='Knative trigger name')], id='246'), TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='user-bob-to-context-cyan')], id='247'), TableRow(location=Location(line=53, column=7), cells=[TableCell(location=Location(line=53, column=9), value='user-broker-to-workstation-broker-trigger')], id='248')]), id='249'), Step(location=Location(line=54, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative brokers are in a ready state in the \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=55, column=7), rows=[TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='Knative broker name')], id='250'), TableRow(location=Location(line=56, column=7), cells=[TableCell(location=Location(line=56, column=9), value='workstation-host-broker')], id='251')]), id='252')], examples=[], id='253')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=60, column=3), tags=[], keyword='Scenario', name='Delete Resources and Verify Cleanup', description='', steps=[Step(location=Location(line=62, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"workstation\"', doc_string=None, data_table=None, id='254'), Step(location=Location(line=63, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"workstation\" should be deleted', doc_string=None, data_table=None, id='255'), Step(location=Location(line=65, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"bob\"', doc_string=None, data_table=None, id='256'), Step(location=Location(line=66, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"bob\" should be deleted', doc_string=None, data_table=None, id='257'), Step(location=Location(line=67, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"user-bob\" should not exist', doc_string=None, data_table=None, id='258'), Step(location=Location(line=69, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"cyan\"', doc_string=None, data_table=None, id='259'), Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"cyan\" should be deleted', doc_string=None, data_table=None, id='260'), Step(location=Location(line=71, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-cyan\" should not exist', doc_string=None, data_table=None, id='261')], examples=[], id='262'))]), comments=[]), uri='file:features/2_mindwm_crd_resources.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/2_mindwm_crd_resources.feature', registry={'263': Tag(location=Location(line=1, column=1), name='@mindwm_crd_resources', id='263'), '264': Tag(location=Location(line=2, column=1), name='@mindwm_test', id='264'), '207': Background(location=Location(line=5, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=6, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='205'), Step(location=Location(line=7, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='206')], id='207'), '205': Step(location=Location(line=6, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='205'), '206': Step(location=Location(line=7, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='206'), '229': Scenario(location=Location(line=9, column=3), tags=[], keyword='Scenario', name='Create Context and check k8s resources', description='', steps=[Step(location=Location(line=10, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"cyan\"', doc_string=None, data_table=None, id='208'), Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='209'), Step(location=Location(line=12, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-cyan\" should exist', doc_string=None, data_table=None, id='210'), Step(location=Location(line=13, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='helm release \"cyan-neo4j\" is deployed in \"context-cyan\" namespace', doc_string=None, data_table=None, id='211'), Step(location=Location(line=14, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"cyan-neo4j\" in namespace \"context-cyan\" is in ready state', doc_string=None, data_table=None, id='212'), Step(location=Location(line=15, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=16, column=7), rows=[TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='Knative service name')], id='213'), TableRow(location=Location(line=17, column=7), cells=[TableCell(location=Location(line=17, column=9), value='dead-letter')], id='214'), TableRow(location=Location(line=18, column=7), cells=[TableCell(location=Location(line=18, column=9), value='iocontext')], id='215'), TableRow(location=Location(line=19, column=7), cells=[TableCell(location=Location(line=19, column=9), value='kafka-cdc')], id='216'), TableRow(location=Location(line=20, column=7), cells=[TableCell(location=Location(line=20, column=9), value='pong')], id='217')]), id='218'), Step(location=Location(line=21, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative triggers are in a ready state in the \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=22, column=7), rows=[TableRow(location=Location(line=22, column=7), cells=[TableCell(location=Location(line=22, column=9), value='Knative trigger name')], id='219'), TableRow(location=Location(line=23, column=7), cells=[TableCell(location=Location(line=23, column=9), value='iocontext-trigger')], id='220'), TableRow(location=Location(line=24, column=7), cells=[TableCell(location=Location(line=24, column=9), value='kafka-cdc-trigger')], id='221'), TableRow(location=Location(line=25, column=7), cells=[TableCell(location=Location(line=25, column=9), value='pong-trigger')], id='222')]), id='223'), Step(location=Location(line=26, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative brokers are in a ready state in the \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=27, column=7), rows=[TableRow(location=Location(line=27, column=7), cells=[TableCell(location=Location(line=27, column=9), value='Knative broker name')], id='224'), TableRow(location=Location(line=28, column=7), cells=[TableCell(location=Location(line=28, column=9), value='context-broker')], id='225')]), id='226'), Step(location=Location(line=29, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka topic \"context-cyan-cdc\" is in ready state in \"redpanda\" namespace', doc_string=None, data_table=None, id='227'), Step(location=Location(line=30, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka source \"context-cyan-cdc-kafkasource\" is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=None, id='228')], examples=[], id='229'), '208': Step(location=Location(line=10, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"cyan\"', doc_string=None, data_table=None, id='208'), '209': Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='209'), '210': Step(location=Location(line=12, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-cyan\" should exist', doc_string=None, data_table=None, id='210'), '211': Step(location=Location(line=13, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='helm release \"cyan-neo4j\" is deployed in \"context-cyan\" namespace', doc_string=None, data_table=None, id='211'), '212': Step(location=Location(line=14, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"cyan-neo4j\" in namespace \"context-cyan\" is in ready state', doc_string=None, data_table=None, id='212'), '218': Step(location=Location(line=15, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=16, column=7), rows=[TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='Knative service name')], id='213'), TableRow(location=Location(line=17, column=7), cells=[TableCell(location=Location(line=17, column=9), value='dead-letter')], id='214'), TableRow(location=Location(line=18, column=7), cells=[TableCell(location=Location(line=18, column=9), value='iocontext')], id='215'), TableRow(location=Location(line=19, column=7), cells=[TableCell(location=Location(line=19, column=9), value='kafka-cdc')], id='216'), TableRow(location=Location(line=20, column=7), cells=[TableCell(location=Location(line=20, column=9), value='pong')], id='217')]), id='218'), '223': Step(location=Location(line=21, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative triggers are in a ready state in the \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=22, column=7), rows=[TableRow(location=Location(line=22, column=7), cells=[TableCell(location=Location(line=22, column=9), value='Knative trigger name')], id='219'), TableRow(location=Location(line=23, column=7), cells=[TableCell(location=Location(line=23, column=9), value='iocontext-trigger')], id='220'), TableRow(location=Location(line=24, column=7), cells=[TableCell(location=Location(line=24, column=9), value='kafka-cdc-trigger')], id='221'), TableRow(location=Location(line=25, column=7), cells=[TableCell(location=Location(line=25, column=9), value='pong-trigger')], id='222')]), id='223'), '226': Step(location=Location(line=26, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative brokers are in a ready state in the \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=27, column=7), rows=[TableRow(location=Location(line=27, column=7), cells=[TableCell(location=Location(line=27, column=9), value='Knative broker name')], id='224'), TableRow(location=Location(line=28, column=7), cells=[TableCell(location=Location(line=28, column=9), value='context-broker')], id='225')]), id='226'), '227': Step(location=Location(line=29, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka topic \"context-cyan-cdc\" is in ready state in \"redpanda\" namespace', doc_string=None, data_table=None, id='227'), '228': Step(location=Location(line=30, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka source \"context-cyan-cdc-kafkasource\" is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=None, id='228'), '242': Scenario(location=Location(line=32, column=3), tags=[], keyword='Scenario', name='Create User and check k8s resources', description='', steps=[Step(location=Location(line=33, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"bob\" and connects it to the context \"cyan\"', doc_string=None, data_table=None, id='230'), Step(location=Location(line=34, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='231'), Step(location=Location(line=35, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"user-bob\" should exist', doc_string=None, data_table=None, id='232'), Step(location=Location(line=36, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative brokers are in a ready state in the \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=37, column=7), rows=[TableRow(location=Location(line=37, column=7), cells=[TableCell(location=Location(line=37, column=9), value='Knative broker name')], id='233'), TableRow(location=Location(line=38, column=7), cells=[TableCell(location=Location(line=38, column=9), value='user-broker')], id='234')]), id='235'), Step(location=Location(line=39, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative triggers are in a ready state in the \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=40, column=7), rows=[TableRow(location=Location(line=40, column=7), cells=[TableCell(location=Location(line=40, column=9), value='Knative trigger name')], id='236'), TableRow(location=Location(line=41, column=7), cells=[TableCell(location=Location(line=41, column=9), value='context-cyan-to-user-bob')], id='237')]), id='238'), Step(location=Location(line=42, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative triggers are in a ready state in the \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=43, column=7), rows=[TableRow(location=Location(line=43, column=7), cells=[TableCell(location=Location(line=43, column=9), value='Knative trigger name')], id='239'), TableRow(location=Location(line=44, column=7), cells=[TableCell(location=Location(line=44, column=9), value='user-bob-to-context-cyan')], id='240')]), id='241')], examples=[], id='242'), '230': Step(location=Location(line=33, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"bob\" and connects it to the context \"cyan\"', doc_string=None, data_table=None, id='230'), '231': Step(location=Location(line=34, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='231'), '232': Step(location=Location(line=35, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"user-bob\" should exist', doc_string=None, data_table=None, id='232'), '235': Step(location=Location(line=36, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative brokers are in a ready state in the \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=37, column=7), rows=[TableRow(location=Location(line=37, column=7), cells=[TableCell(location=Location(line=37, column=9), value='Knative broker name')], id='233'), TableRow(location=Location(line=38, column=7), cells=[TableCell(location=Location(line=38, column=9), value='user-broker')], id='234')]), id='235'), '238': Step(location=Location(line=39, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative triggers are in a ready state in the \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=40, column=7), rows=[TableRow(location=Location(line=40, column=7), cells=[TableCell(location=Location(line=40, column=9), value='Knative trigger name')], id='236'), TableRow(location=Location(line=41, column=7), cells=[TableCell(location=Location(line=41, column=9), value='context-cyan-to-user-bob')], id='237')]), id='238'), '241': Step(location=Location(line=42, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative triggers are in a ready state in the \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=43, column=7), rows=[TableRow(location=Location(line=43, column=7), cells=[TableCell(location=Location(line=43, column=9), value='Knative trigger name')], id='239'), TableRow(location=Location(line=44, column=7), cells=[TableCell(location=Location(line=44, column=9), value='user-bob-to-context-cyan')], id='240')]), id='241'), '253': Scenario(location=Location(line=46, column=3), tags=[], keyword='Scenario', name='Create Host and check k8s resources', description='', steps=[Step(location=Location(line=47, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"workstation\" and connects it to the user \"bob\"', doc_string=None, data_table=None, id='243'), Step(location=Location(line=48, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='244'), Step(location=Location(line=49, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"workstation-host-broker-kne-trigger\" is ready in \"user-bob\" namespace', doc_string=None, data_table=None, id='245'), Step(location=Location(line=50, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative triggers are in a ready state in the \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=51, column=7), rows=[TableRow(location=Location(line=51, column=7), cells=[TableCell(location=Location(line=51, column=9), value='Knative trigger name')], id='246'), TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='user-bob-to-context-cyan')], id='247'), TableRow(location=Location(line=53, column=7), cells=[TableCell(location=Location(line=53, column=9), value='user-broker-to-workstation-broker-trigger')], id='248')]), id='249'), Step(location=Location(line=54, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative brokers are in a ready state in the \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=55, column=7), rows=[TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='Knative broker name')], id='250'), TableRow(location=Location(line=56, column=7), cells=[TableCell(location=Location(line=56, column=9), value='workstation-host-broker')], id='251')]), id='252')], examples=[], id='253'), '243': Step(location=Location(line=47, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"workstation\" and connects it to the user \"bob\"', doc_string=None, data_table=None, id='243'), '244': Step(location=Location(line=48, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='244'), '245': Step(location=Location(line=49, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"workstation-host-broker-kne-trigger\" is ready in \"user-bob\" namespace', doc_string=None, data_table=None, id='245'), '249': Step(location=Location(line=50, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative triggers are in a ready state in the \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=51, column=7), rows=[TableRow(location=Location(line=51, column=7), cells=[TableCell(location=Location(line=51, column=9), value='Knative trigger name')], id='246'), TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='user-bob-to-context-cyan')], id='247'), TableRow(location=Location(line=53, column=7), cells=[TableCell(location=Location(line=53, column=9), value='user-broker-to-workstation-broker-trigger')], id='248')]), id='249'), '252': Step(location=Location(line=54, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative brokers are in a ready state in the \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=55, column=7), rows=[TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='Knative broker name')], id='250'), TableRow(location=Location(line=56, column=7), cells=[TableCell(location=Location(line=56, column=9), value='workstation-host-broker')], id='251')]), id='252'), '262': Scenario(location=Location(line=60, column=3), tags=[], keyword='Scenario', name='Delete Resources and Verify Cleanup', description='', steps=[Step(location=Location(line=62, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"workstation\"', doc_string=None, data_table=None, id='254'), Step(location=Location(line=63, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"workstation\" should be deleted', doc_string=None, data_table=None, id='255'), Step(location=Location(line=65, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"bob\"', doc_string=None, data_table=None, id='256'), Step(location=Location(line=66, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"bob\" should be deleted', doc_string=None, data_table=None, id='257'), Step(location=Location(line=67, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"user-bob\" should not exist', doc_string=None, data_table=None, id='258'), Step(location=Location(line=69, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"cyan\"', doc_string=None, data_table=None, id='259'), Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"cyan\" should be deleted', doc_string=None, data_table=None, id='260'), Step(location=Location(line=71, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-cyan\" should not exist', doc_string=None, data_table=None, id='261')], examples=[], id='262'), '254': Step(location=Location(line=62, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"workstation\"', doc_string=None, data_table=None, id='254'), '255': Step(location=Location(line=63, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"workstation\" should be deleted', doc_string=None, data_table=None, id='255'), '256': Step(location=Location(line=65, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"bob\"', doc_string=None, data_table=None, id='256'), '257': Step(location=Location(line=66, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"bob\" should be deleted', doc_string=None, data_table=None, id='257'), '258': Step(location=Location(line=67, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"user-bob\" should not exist', doc_string=None, data_table=None, id='258'), '259': Step(location=Location(line=69, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"cyan\"', doc_string=None, data_table=None, id='259'), '260': Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"cyan\" should be deleted', doc_string=None, data_table=None, id='260'), '261': Step(location=Location(line=71, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-cyan\" should not exist', doc_string=None, data_table=None, id='261')}, pickles=[Pickle(id='277', uri='file:features/2_mindwm_crd_resources.feature', name='Create Context and check k8s resources', language='en', steps=[PickleStep(argument=None, ast_node_ids=['205'], id='265', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['206'], id='266', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['208'], id='267', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"cyan\"'), PickleStep(argument=None, ast_node_ids=['209'], id='268', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=None, ast_node_ids=['210'], id='269', type=<Type.outcome: 'Outcome'>, text='namespace \"context-cyan\" should exist'), PickleStep(argument=None, ast_node_ids=['211'], id='270', type=<Type.outcome: 'Outcome'>, text='helm release \"cyan-neo4j\" is deployed in \"context-cyan\" namespace'), PickleStep(argument=None, ast_node_ids=['212'], id='271', type=<Type.outcome: 'Outcome'>, text='statefulset \"cyan-neo4j\" in namespace \"context-cyan\" is in ready state'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='dead-letter')]), PickleTableRow(cells=[PickleTableCell(value='iocontext')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')]), PickleTableRow(cells=[PickleTableCell(value='pong')])])), ast_node_ids=['218'], id='272', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-cyan\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative trigger name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-trigger')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-trigger')]), PickleTableRow(cells=[PickleTableCell(value='pong-trigger')])])), ast_node_ids=['223'], id='273', type=<Type.outcome: 'Outcome'>, text='the following knative triggers are in a ready state in the \"context-cyan\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative broker name')]), PickleTableRow(cells=[PickleTableCell(value='context-broker')])])), ast_node_ids=['226'], id='274', type=<Type.outcome: 'Outcome'>, text='the following knative brokers are in a ready state in the \"context-cyan\" namespace'), PickleStep(argument=None, ast_node_ids=['227'], id='275', type=<Type.outcome: 'Outcome'>, text='kafka topic \"context-cyan-cdc\" is in ready state in \"redpanda\" namespace'), PickleStep(argument=None, ast_node_ids=['228'], id='276', type=<Type.outcome: 'Outcome'>, text='kafka source \"context-cyan-cdc-kafkasource\" is in ready state in \"context-cyan\" namespace')], tags=[PickleTag(name='@mindwm_crd_resources', ast_node_id='263'), PickleTag(name='@mindwm_test', ast_node_id='264')], ast_node_ids=['229']), Pickle(id='286', uri='file:features/2_mindwm_crd_resources.feature', name='Create User and check k8s resources', language='en', steps=[PickleStep(argument=None, ast_node_ids=['205'], id='278', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['206'], id='279', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['230'], id='280', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"bob\" and connects it to the context \"cyan\"'), PickleStep(argument=None, ast_node_ids=['231'], id='281', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['232'], id='282', type=<Type.outcome: 'Outcome'>, text='namespace \"user-bob\" should exist'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative broker name')]), PickleTableRow(cells=[PickleTableCell(value='user-broker')])])), ast_node_ids=['235'], id='283', type=<Type.outcome: 'Outcome'>, text='the following knative brokers are in a ready state in the \"user-bob\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative trigger name')]), PickleTableRow(cells=[PickleTableCell(value='context-cyan-to-user-bob')])])), ast_node_ids=['238'], id='284', type=<Type.outcome: 'Outcome'>, text='the following knative triggers are in a ready state in the \"context-cyan\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative trigger name')]), PickleTableRow(cells=[PickleTableCell(value='user-bob-to-context-cyan')])])), ast_node_ids=['241'], id='285', type=<Type.outcome: 'Outcome'>, text='the following knative triggers are in a ready state in the \"user-bob\" namespace')], tags=[PickleTag(name='@mindwm_crd_resources', ast_node_id='263'), PickleTag(name='@mindwm_test', ast_node_id='264')], ast_node_ids=['242']), Pickle(id='294', uri='file:features/2_mindwm_crd_resources.feature', name='Create Host and check k8s resources', language='en', steps=[PickleStep(argument=None, ast_node_ids=['205'], id='287', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['206'], id='288', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['243'], id='289', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"workstation\" and connects it to the user \"bob\"'), PickleStep(argument=None, ast_node_ids=['244'], id='290', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['245'], id='291', type=<Type.outcome: 'Outcome'>, text='NatsJetStreamChannel \"workstation-host-broker-kne-trigger\" is ready in \"user-bob\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative trigger name')]), PickleTableRow(cells=[PickleTableCell(value='user-bob-to-context-cyan')]), PickleTableRow(cells=[PickleTableCell(value='user-broker-to-workstation-broker-trigger')])])), ast_node_ids=['249'], id='292', type=<Type.outcome: 'Outcome'>, text='the following knative triggers are in a ready state in the \"user-bob\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative broker name')]), PickleTableRow(cells=[PickleTableCell(value='workstation-host-broker')])])), ast_node_ids=['252'], id='293', type=<Type.outcome: 'Outcome'>, text='the following knative brokers are in a ready state in the \"user-bob\" namespace')], tags=[PickleTag(name='@mindwm_crd_resources', ast_node_id='263'), PickleTag(name='@mindwm_test', ast_node_id='264')], ast_node_ids=['253']), Pickle(id='305', uri='file:features/2_mindwm_crd_resources.feature', name='Delete Resources and Verify Cleanup', language='en', steps=[PickleStep(argument=None, ast_node_ids=['205'], id='295', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['206'], id='296', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['254'], id='297', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"workstation\"'), PickleStep(argument=None, ast_node_ids=['255'], id='298', type=<Type.outcome: 'Outcome'>, text='the host \"workstation\" should be deleted'), PickleStep(argument=None, ast_node_ids=['256'], id='299', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"bob\"'), PickleStep(argument=None, ast_node_ids=['257'], id='300', type=<Type.outcome: 'Outcome'>, text='the user \"bob\" should be deleted'), PickleStep(argument=None, ast_node_ids=['258'], id='301', type=<Type.outcome: 'Outcome'>, text='namespace \"user-bob\" should not exist'), PickleStep(argument=None, ast_node_ids=['259'], id='302', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"cyan\"'), PickleStep(argument=None, ast_node_ids=['260'], id='303', type=<Type.outcome: 'Outcome'>, text='the context \"cyan\" should be deleted'), PickleStep(argument=None, ast_node_ids=['261'], id='304', type=<Type.outcome: 'Outcome'>, text='namespace \"context-cyan\" should not exist')], tags=[PickleTag(name='@mindwm_crd_resources', ast_node_id='263'), PickleTag(name='@mindwm_test', ast_node_id='264')], ast_node_ids=['262'])])","Source(uri='file:features/2_mindwm_crd_resources.feature', data='@mindwm_crd_resources\\n@mindwm_test\\nFeature: MindWM Custom kubernetes resources\\n\\n  Background:\\n    Given a MindWM environment\\n    Then all nodes in Kubernetes are ready\\n    \\n  Scenario: Create Context and check k8s resources\\n    When God creates a MindWM context with the name \"cyan\"\\n    Then the context should be ready and operable\\n    And namespace \"context-cyan\" should exist \\n    And helm release \"cyan-neo4j\" is deployed in \"context-cyan\" namespace\\n    And statefulset \"cyan-neo4j\" in namespace \"context-cyan\" is in ready state\\n    And the following knative services are in a ready state in the \"context-cyan\" namespace\\n      | Knative service name |\\n      | dead-letter          |\\n      | iocontext            |\\n      | kafka-cdc            |\\n      | pong                 |\\n    And the following knative triggers are in a ready state in the \"context-cyan\" namespace\\n      | Knative trigger name |\\n      | iocontext-trigger    |\\n      | kafka-cdc-trigger    |\\n      | pong-trigger         |\\n    And the following knative brokers are in a ready state in the \"context-cyan\" namespace\\n      | Knative broker name |\\n      | context-broker      |\\n    And kafka topic \"context-cyan-cdc\" is in ready state in \"redpanda\" namespace\\n    And kafka source \"context-cyan-cdc-kafkasource\" is in ready state in \"context-cyan\" namespace\\n  \\n  Scenario: Create User and check k8s resources\\n    When God creates a MindWM user resource with the name \"bob\" and connects it to the context \"cyan\"\\n    Then the user resource should be ready and operable\\n    And namespace \"user-bob\" should exist \\n    And the following knative brokers are in a ready state in the \"user-bob\" namespace\\n      | Knative broker name |\\n      | user-broker         |\\n    And the following knative triggers are in a ready state in the \"context-cyan\" namespace\\n      | Knative trigger name          |\\n      | context-cyan-to-user-bob    |\\n    And the following knative triggers are in a ready state in the \"user-bob\" namespace\\n      | Knative trigger name          |\\n      | user-bob-to-context-cyan    |\\n\\n  Scenario: Create Host and check k8s resources\\n    When God creates a MindWM host resource with the name \"workstation\" and connects it to the user \"bob\"\\n    Then the host resource should be ready and operable\\n    And NatsJetStreamChannel \"workstation-host-broker-kne-trigger\" is ready in \"user-bob\" namespace\\n    And the following knative triggers are in a ready state in the \"user-bob\" namespace\\n      | Knative trigger name                    |\\n      | user-bob-to-context-cyan              |\\n      | user-broker-to-workstation-broker-trigger    |\\n    And the following knative brokers are in a ready state in the \"user-bob\" namespace\\n      | Knative broker name  |\\n      | workstation-host-broker   |\\n\\n\\n\\n  Scenario: Delete Resources and Verify Cleanup\\n\\n    When God deletes the MindWM host resource \"workstation\"\\n    Then the host \"workstation\" should be deleted\\n\\n    When God deletes the MindWM user resource \"bob\"\\n    Then the user \"bob\" should be deleted\\n    And namespace \"user-bob\" should not exist\\n\\n    When God deletes the MindWM context resource \"cyan\"\\n    Then the context \"cyan\" should be deleted\\n    And namespace \"context-cyan\" should not exist\\n\\n\\n\\n', media_type='text/x.cucumber.gherkin+plain')","Pickle(id='286', uri='file:features/2_mindwm_crd_resources.feature', name='Create User and check k8s resources', language='en', steps=[PickleStep(argument=None, ast_node_ids=['205'], id='278', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['206'], id='279', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['230'], id='280', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"bob\" and connects it to the context \"cyan\"'), PickleStep(argument=None, ast_node_ids=['231'], id='281', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['232'], id='282', type=<Type.outcome: 'Outcome'>, text='namespace \"user-bob\" should exist'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative broker name')]), PickleTableRow(cells=[PickleTableCell(value='user-broker')])])), ast_node_ids=['235'], id='283', type=<Type.outcome: 'Outcome'>, text='the following knative brokers are in a ready state in the \"user-bob\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative trigger name')]), PickleTableRow(cells=[PickleTableCell(value='context-cyan-to-user-bob')])])), ast_node_ids=['238'], id='284', type=<Type.outcome: 'Outcome'>, text='the following knative triggers are in a ready state in the \"context-cyan\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative trigger name')]), PickleTableRow(cells=[PickleTableCell(value='user-bob-to-context-cyan')])])), ast_node_ids=['241'], id='285', type=<Type.outcome: 'Outcome'>, text='the following knative triggers are in a ready state in the \"user-bob\" namespace')], tags=[PickleTag(name='@mindwm_crd_resources', ast_node_id='263'), PickleTag(name='@mindwm_test', ast_node_id='264')], ast_node_ids=['242'])"],"tags":["mindwm_crd_resources","pytest_bdd_scenario","@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')","mindwm_test","scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/2_mindwm_crd_resources.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=<FeaturePathType.PATH: 'path'>, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())","namespace(create=False, name='default')"]},{"name":"test_scenarios[file:features/6_mindwm_two_hosts_one_user.feature-MindWM two hosts one user function test-Send ping via nats host: travellaptop, user: shesha[table_rows:[line: 62]]]","uid":"88dd3f910c61c6e4","parentUid":"3961740595044ffd97a03e46799bfc30","status":"passed","time":{"start":1728404344434,"stop":1728404355646,"duration":11212},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["Feature(gherkin_document=GherkinDocument(uri='file:features/6_mindwm_two_hosts_one_user.feature', feature=Feature(location=Location(line=3, column=1), tags=[Tag(location=Location(line=1, column=1), name='@mindwm_two_hosts_one_user', id='666'), Tag(location=Location(line=2, column=1), name='@mindwm_test', id='667')], language='en', keyword='Feature', name='MindWM two hosts one user function test', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='598'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='599')], id='600'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Create context <context> and user <username>', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='601'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='602'), Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='603'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='iocontext')], id='604'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='pong')], id='605'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='kafka-cdc')], id='606')]), id='607'), Step(location=Location(line=16, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='608'), Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='609'), Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='610')], examples=[Examples(location=Location(line=22, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=23, column=5), cells=[TableCell(location=Location(line=23, column=7), value='context'), TableCell(location=Location(line=23, column=18), value='username')], id='611'), table_body=[TableRow(location=Location(line=24, column=5), cells=[TableCell(location=Location(line=24, column=7), value='varanasi'), TableCell(location=Location(line=24, column=18), value='shesha')], id='612')], id='613')], id='614')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=26, column=3), tags=[], keyword='Scenario', name='Create <host> for user <username>', description='', steps=[Step(location=Location(line=28, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='615'), Step(location=Location(line=29, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='616')], examples=[Examples(location=Location(line=31, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=32, column=5), cells=[TableCell(location=Location(line=32, column=7), value='username'), TableCell(location=Location(line=32, column=18), value='host')], id='617'), table_body=[TableRow(location=Location(line=33, column=5), cells=[TableCell(location=Location(line=33, column=7), value='shesha'), TableCell(location=Location(line=33, column=18), value='workstation01')], id='618'), TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='shesha'), TableCell(location=Location(line=34, column=18), value='travellaptop')], id='619')], id='620')], id='621')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=37, column=3), tags=[], keyword='Scenario', name='Send ping via nats host: <host>, user: <username>', description='', steps=[Step(location=Location(line=38, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='622'), Step(location=Location(line=39, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='623'), Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='624'), Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='625'), Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='626'), Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=44, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='627'), Step(location=Location(line=53, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=54, column=7), rows=[TableRow(location=Location(line=54, column=7), cells=[TableCell(location=Location(line=54, column=9), value='Deployment name')], id='628'), TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='pong-00001-deployment')], id='629')]), id='630'), Step(location=Location(line=57, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='631')], examples=[Examples(location=Location(line=59, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=60, column=6), cells=[TableCell(location=Location(line=60, column=8), value='context'), TableCell(location=Location(line=60, column=18), value='username'), TableCell(location=Location(line=60, column=31), value='host'), TableCell(location=Location(line=60, column=43), value='tmux_pane'), TableCell(location=Location(line=60, column=55), value='tmux_window'), TableCell(location=Location(line=60, column=69), value='uuid'), TableCell(location=Location(line=60, column=109), value='tmux_socket')], id='632'), table_body=[TableRow(location=Location(line=61, column=6), cells=[TableCell(location=Location(line=61, column=8), value='varanasi'), TableCell(location=Location(line=61, column=20), value='shesha'), TableCell(location=Location(line=61, column=31), value='workstation01'), TableCell(location=Location(line=61, column=48), value='23'), TableCell(location=Location(line=61, column=60), value='36'), TableCell(location=Location(line=61, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=61, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='633'), TableRow(location=Location(line=62, column=6), cells=[TableCell(location=Location(line=62, column=8), value='varanasi'), TableCell(location=Location(line=62, column=20), value='shesha'), TableCell(location=Location(line=62, column=31), value='travellaptop'), TableCell(location=Location(line=62, column=47), value='23'), TableCell(location=Location(line=62, column=59), value='36'), TableCell(location=Location(line=62, column=73), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=62, column=112), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='634')], id='635')], id='636')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=64, column=3), tags=[], keyword='Scenario', name='Send iodocument via nats host: <host>, user: <username> and check that second host received graph the update', description='', steps=[Step(location=Location(line=65, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='637'), Step(location=Location(line=66, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='638'), Step(location=Location(line=67, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='639'), Step(location=Location(line=68, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='640'), Step(location=Location(line=69, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=70, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='641'), Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=80, column=7), rows=[TableRow(location=Location(line=80, column=7), cells=[TableCell(location=Location(line=80, column=9), value='Deployment name')], id='642'), TableRow(location=Location(line=81, column=7), cells=[TableCell(location=Location(line=81, column=9), value='iocontext-00001-deployment')], id='643'), TableRow(location=Location(line=82, column=7), cells=[TableCell(location=Location(line=82, column=9), value='kafka-cdc-00001-deployment')], id='644')]), id='645'), Step(location=Location(line=84, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.travellaptop-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='646')], examples=[Examples(location=Location(line=86, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=87, column=6), cells=[TableCell(location=Location(line=87, column=8), value='context'), TableCell(location=Location(line=87, column=18), value='username'), TableCell(location=Location(line=87, column=31), value='host'), TableCell(location=Location(line=87, column=43), value='tmux_pane'), TableCell(location=Location(line=87, column=55), value='tmux_window'), TableCell(location=Location(line=87, column=69), value='uuid'), TableCell(location=Location(line=87, column=109), value='tmux_socket')], id='647'), table_body=[TableRow(location=Location(line=88, column=6), cells=[TableCell(location=Location(line=88, column=8), value='varanasi'), TableCell(location=Location(line=88, column=20), value='shesha'), TableCell(location=Location(line=88, column=31), value='workstation01'), TableCell(location=Location(line=88, column=48), value='23'), TableCell(location=Location(line=88, column=60), value='36'), TableCell(location=Location(line=88, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=88, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='648')], id='649')], id='650')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=92, column=3), tags=[], keyword='Scenario', name='Cleanup hosts <host> in user <username>', description='', steps=[Step(location=Location(line=93, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='651'), Step(location=Location(line=94, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='652')], examples=[Examples(location=Location(line=96, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=97, column=5), cells=[TableCell(location=Location(line=97, column=7), value='username'), TableCell(location=Location(line=97, column=18), value='host')], id='653'), table_body=[TableRow(location=Location(line=98, column=5), cells=[TableCell(location=Location(line=98, column=7), value='shesha'), TableCell(location=Location(line=98, column=18), value='workstation01')], id='654'), TableRow(location=Location(line=99, column=5), cells=[TableCell(location=Location(line=99, column=7), value='shesha'), TableCell(location=Location(line=99, column=18), value='travellaptop')], id='655')], id='656')], id='657')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=101, column=3), tags=[], keyword='Scenario', name='Cleanup user <username> and context <context>', description='', steps=[Step(location=Location(line=102, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='658'), Step(location=Location(line=103, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='659'), Step(location=Location(line=105, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='660'), Step(location=Location(line=106, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='661')], examples=[Examples(location=Location(line=108, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=109, column=5), cells=[TableCell(location=Location(line=109, column=7), value='context'), TableCell(location=Location(line=109, column=18), value='username')], id='662'), table_body=[TableRow(location=Location(line=110, column=5), cells=[TableCell(location=Location(line=110, column=7), value='varanasi'), TableCell(location=Location(line=110, column=18), value='shesha')], id='663')], id='664')], id='665'))]), comments=[Comment(location=Location(line=89, column=1), text='     #| varanasi  | shesha   | travellaptop  | 23        | 36          | 8d839f82-79da-11ef-bc9f-f74fac7543ac  |L3RtcC90bXV4LTEwMDAvZGVmYXVsdA== |')]), uri='file:features/6_mindwm_two_hosts_one_user.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/6_mindwm_two_hosts_one_user.feature', registry={'666': Tag(location=Location(line=1, column=1), name='@mindwm_two_hosts_one_user', id='666'), '667': Tag(location=Location(line=2, column=1), name='@mindwm_test', id='667'), '600': Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='598'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='599')], id='600'), '598': Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='598'), '599': Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='599'), '614': Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Create context <context> and user <username>', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='601'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='602'), Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='603'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='iocontext')], id='604'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='pong')], id='605'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='kafka-cdc')], id='606')]), id='607'), Step(location=Location(line=16, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='608'), Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='609'), Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='610')], examples=[Examples(location=Location(line=22, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=23, column=5), cells=[TableCell(location=Location(line=23, column=7), value='context'), TableCell(location=Location(line=23, column=18), value='username')], id='611'), table_body=[TableRow(location=Location(line=24, column=5), cells=[TableCell(location=Location(line=24, column=7), value='varanasi'), TableCell(location=Location(line=24, column=18), value='shesha')], id='612')], id='613')], id='614'), '601': Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='601'), '602': Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='602'), '607': Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='603'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='iocontext')], id='604'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='pong')], id='605'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='kafka-cdc')], id='606')]), id='607'), '608': Step(location=Location(line=16, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='608'), '609': Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='609'), '610': Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='610'), '613': Examples(location=Location(line=22, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=23, column=5), cells=[TableCell(location=Location(line=23, column=7), value='context'), TableCell(location=Location(line=23, column=18), value='username')], id='611'), table_body=[TableRow(location=Location(line=24, column=5), cells=[TableCell(location=Location(line=24, column=7), value='varanasi'), TableCell(location=Location(line=24, column=18), value='shesha')], id='612')], id='613'), '611': TableRow(location=Location(line=23, column=5), cells=[TableCell(location=Location(line=23, column=7), value='context'), TableCell(location=Location(line=23, column=18), value='username')], id='611'), '612': TableRow(location=Location(line=24, column=5), cells=[TableCell(location=Location(line=24, column=7), value='varanasi'), TableCell(location=Location(line=24, column=18), value='shesha')], id='612'), '621': Scenario(location=Location(line=26, column=3), tags=[], keyword='Scenario', name='Create <host> for user <username>', description='', steps=[Step(location=Location(line=28, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='615'), Step(location=Location(line=29, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='616')], examples=[Examples(location=Location(line=31, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=32, column=5), cells=[TableCell(location=Location(line=32, column=7), value='username'), TableCell(location=Location(line=32, column=18), value='host')], id='617'), table_body=[TableRow(location=Location(line=33, column=5), cells=[TableCell(location=Location(line=33, column=7), value='shesha'), TableCell(location=Location(line=33, column=18), value='workstation01')], id='618'), TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='shesha'), TableCell(location=Location(line=34, column=18), value='travellaptop')], id='619')], id='620')], id='621'), '615': Step(location=Location(line=28, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='615'), '616': Step(location=Location(line=29, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='616'), '620': Examples(location=Location(line=31, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=32, column=5), cells=[TableCell(location=Location(line=32, column=7), value='username'), TableCell(location=Location(line=32, column=18), value='host')], id='617'), table_body=[TableRow(location=Location(line=33, column=5), cells=[TableCell(location=Location(line=33, column=7), value='shesha'), TableCell(location=Location(line=33, column=18), value='workstation01')], id='618'), TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='shesha'), TableCell(location=Location(line=34, column=18), value='travellaptop')], id='619')], id='620'), '617': TableRow(location=Location(line=32, column=5), cells=[TableCell(location=Location(line=32, column=7), value='username'), TableCell(location=Location(line=32, column=18), value='host')], id='617'), '618': TableRow(location=Location(line=33, column=5), cells=[TableCell(location=Location(line=33, column=7), value='shesha'), TableCell(location=Location(line=33, column=18), value='workstation01')], id='618'), '619': TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='shesha'), TableCell(location=Location(line=34, column=18), value='travellaptop')], id='619'), '636': Scenario(location=Location(line=37, column=3), tags=[], keyword='Scenario', name='Send ping via nats host: <host>, user: <username>', description='', steps=[Step(location=Location(line=38, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='622'), Step(location=Location(line=39, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='623'), Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='624'), Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='625'), Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='626'), Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=44, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='627'), Step(location=Location(line=53, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=54, column=7), rows=[TableRow(location=Location(line=54, column=7), cells=[TableCell(location=Location(line=54, column=9), value='Deployment name')], id='628'), TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='pong-00001-deployment')], id='629')]), id='630'), Step(location=Location(line=57, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='631')], examples=[Examples(location=Location(line=59, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=60, column=6), cells=[TableCell(location=Location(line=60, column=8), value='context'), TableCell(location=Location(line=60, column=18), value='username'), TableCell(location=Location(line=60, column=31), value='host'), TableCell(location=Location(line=60, column=43), value='tmux_pane'), TableCell(location=Location(line=60, column=55), value='tmux_window'), TableCell(location=Location(line=60, column=69), value='uuid'), TableCell(location=Location(line=60, column=109), value='tmux_socket')], id='632'), table_body=[TableRow(location=Location(line=61, column=6), cells=[TableCell(location=Location(line=61, column=8), value='varanasi'), TableCell(location=Location(line=61, column=20), value='shesha'), TableCell(location=Location(line=61, column=31), value='workstation01'), TableCell(location=Location(line=61, column=48), value='23'), TableCell(location=Location(line=61, column=60), value='36'), TableCell(location=Location(line=61, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=61, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='633'), TableRow(location=Location(line=62, column=6), cells=[TableCell(location=Location(line=62, column=8), value='varanasi'), TableCell(location=Location(line=62, column=20), value='shesha'), TableCell(location=Location(line=62, column=31), value='travellaptop'), TableCell(location=Location(line=62, column=47), value='23'), TableCell(location=Location(line=62, column=59), value='36'), TableCell(location=Location(line=62, column=73), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=62, column=112), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='634')], id='635')], id='636'), '622': Step(location=Location(line=38, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='622'), '623': Step(location=Location(line=39, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='623'), '624': Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='624'), '625': Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='625'), '626': Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='626'), '627': Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=44, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='627'), '630': Step(location=Location(line=53, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=54, column=7), rows=[TableRow(location=Location(line=54, column=7), cells=[TableCell(location=Location(line=54, column=9), value='Deployment name')], id='628'), TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='pong-00001-deployment')], id='629')]), id='630'), '631': Step(location=Location(line=57, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='631'), '635': Examples(location=Location(line=59, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=60, column=6), cells=[TableCell(location=Location(line=60, column=8), value='context'), TableCell(location=Location(line=60, column=18), value='username'), TableCell(location=Location(line=60, column=31), value='host'), TableCell(location=Location(line=60, column=43), value='tmux_pane'), TableCell(location=Location(line=60, column=55), value='tmux_window'), TableCell(location=Location(line=60, column=69), value='uuid'), TableCell(location=Location(line=60, column=109), value='tmux_socket')], id='632'), table_body=[TableRow(location=Location(line=61, column=6), cells=[TableCell(location=Location(line=61, column=8), value='varanasi'), TableCell(location=Location(line=61, column=20), value='shesha'), TableCell(location=Location(line=61, column=31), value='workstation01'), TableCell(location=Location(line=61, column=48), value='23'), TableCell(location=Location(line=61, column=60), value='36'), TableCell(location=Location(line=61, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=61, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='633'), TableRow(location=Location(line=62, column=6), cells=[TableCell(location=Location(line=62, column=8), value='varanasi'), TableCell(location=Location(line=62, column=20), value='shesha'), TableCell(location=Location(line=62, column=31), value='travellaptop'), TableCell(location=Location(line=62, column=47), value='23'), TableCell(location=Location(line=62, column=59), value='36'), TableCell(location=Location(line=62, column=73), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=62, column=112), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='634')], id='635'), '632': TableRow(location=Location(line=60, column=6), cells=[TableCell(location=Location(line=60, column=8), value='context'), TableCell(location=Location(line=60, column=18), value='username'), TableCell(location=Location(line=60, column=31), value='host'), TableCell(location=Location(line=60, column=43), value='tmux_pane'), TableCell(location=Location(line=60, column=55), value='tmux_window'), TableCell(location=Location(line=60, column=69), value='uuid'), TableCell(location=Location(line=60, column=109), value='tmux_socket')], id='632'), '633': TableRow(location=Location(line=61, column=6), cells=[TableCell(location=Location(line=61, column=8), value='varanasi'), TableCell(location=Location(line=61, column=20), value='shesha'), TableCell(location=Location(line=61, column=31), value='workstation01'), TableCell(location=Location(line=61, column=48), value='23'), TableCell(location=Location(line=61, column=60), value='36'), TableCell(location=Location(line=61, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=61, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='633'), '634': TableRow(location=Location(line=62, column=6), cells=[TableCell(location=Location(line=62, column=8), value='varanasi'), TableCell(location=Location(line=62, column=20), value='shesha'), TableCell(location=Location(line=62, column=31), value='travellaptop'), TableCell(location=Location(line=62, column=47), value='23'), TableCell(location=Location(line=62, column=59), value='36'), TableCell(location=Location(line=62, column=73), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=62, column=112), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='634'), '650': Scenario(location=Location(line=64, column=3), tags=[], keyword='Scenario', name='Send iodocument via nats host: <host>, user: <username> and check that second host received graph the update', description='', steps=[Step(location=Location(line=65, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='637'), Step(location=Location(line=66, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='638'), Step(location=Location(line=67, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='639'), Step(location=Location(line=68, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='640'), Step(location=Location(line=69, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=70, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='641'), Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=80, column=7), rows=[TableRow(location=Location(line=80, column=7), cells=[TableCell(location=Location(line=80, column=9), value='Deployment name')], id='642'), TableRow(location=Location(line=81, column=7), cells=[TableCell(location=Location(line=81, column=9), value='iocontext-00001-deployment')], id='643'), TableRow(location=Location(line=82, column=7), cells=[TableCell(location=Location(line=82, column=9), value='kafka-cdc-00001-deployment')], id='644')]), id='645'), Step(location=Location(line=84, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.travellaptop-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='646')], examples=[Examples(location=Location(line=86, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=87, column=6), cells=[TableCell(location=Location(line=87, column=8), value='context'), TableCell(location=Location(line=87, column=18), value='username'), TableCell(location=Location(line=87, column=31), value='host'), TableCell(location=Location(line=87, column=43), value='tmux_pane'), TableCell(location=Location(line=87, column=55), value='tmux_window'), TableCell(location=Location(line=87, column=69), value='uuid'), TableCell(location=Location(line=87, column=109), value='tmux_socket')], id='647'), table_body=[TableRow(location=Location(line=88, column=6), cells=[TableCell(location=Location(line=88, column=8), value='varanasi'), TableCell(location=Location(line=88, column=20), value='shesha'), TableCell(location=Location(line=88, column=31), value='workstation01'), TableCell(location=Location(line=88, column=48), value='23'), TableCell(location=Location(line=88, column=60), value='36'), TableCell(location=Location(line=88, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=88, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='648')], id='649')], id='650'), '637': Step(location=Location(line=65, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='637'), '638': Step(location=Location(line=66, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='638'), '639': Step(location=Location(line=67, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='639'), '640': Step(location=Location(line=68, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='640'), '641': Step(location=Location(line=69, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=70, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='641'), '645': Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=80, column=7), rows=[TableRow(location=Location(line=80, column=7), cells=[TableCell(location=Location(line=80, column=9), value='Deployment name')], id='642'), TableRow(location=Location(line=81, column=7), cells=[TableCell(location=Location(line=81, column=9), value='iocontext-00001-deployment')], id='643'), TableRow(location=Location(line=82, column=7), cells=[TableCell(location=Location(line=82, column=9), value='kafka-cdc-00001-deployment')], id='644')]), id='645'), '646': Step(location=Location(line=84, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.travellaptop-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='646'), '649': Examples(location=Location(line=86, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=87, column=6), cells=[TableCell(location=Location(line=87, column=8), value='context'), TableCell(location=Location(line=87, column=18), value='username'), TableCell(location=Location(line=87, column=31), value='host'), TableCell(location=Location(line=87, column=43), value='tmux_pane'), TableCell(location=Location(line=87, column=55), value='tmux_window'), TableCell(location=Location(line=87, column=69), value='uuid'), TableCell(location=Location(line=87, column=109), value='tmux_socket')], id='647'), table_body=[TableRow(location=Location(line=88, column=6), cells=[TableCell(location=Location(line=88, column=8), value='varanasi'), TableCell(location=Location(line=88, column=20), value='shesha'), TableCell(location=Location(line=88, column=31), value='workstation01'), TableCell(location=Location(line=88, column=48), value='23'), TableCell(location=Location(line=88, column=60), value='36'), TableCell(location=Location(line=88, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=88, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='648')], id='649'), '647': TableRow(location=Location(line=87, column=6), cells=[TableCell(location=Location(line=87, column=8), value='context'), TableCell(location=Location(line=87, column=18), value='username'), TableCell(location=Location(line=87, column=31), value='host'), TableCell(location=Location(line=87, column=43), value='tmux_pane'), TableCell(location=Location(line=87, column=55), value='tmux_window'), TableCell(location=Location(line=87, column=69), value='uuid'), TableCell(location=Location(line=87, column=109), value='tmux_socket')], id='647'), '648': TableRow(location=Location(line=88, column=6), cells=[TableCell(location=Location(line=88, column=8), value='varanasi'), TableCell(location=Location(line=88, column=20), value='shesha'), TableCell(location=Location(line=88, column=31), value='workstation01'), TableCell(location=Location(line=88, column=48), value='23'), TableCell(location=Location(line=88, column=60), value='36'), TableCell(location=Location(line=88, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=88, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='648'), '657': Scenario(location=Location(line=92, column=3), tags=[], keyword='Scenario', name='Cleanup hosts <host> in user <username>', description='', steps=[Step(location=Location(line=93, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='651'), Step(location=Location(line=94, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='652')], examples=[Examples(location=Location(line=96, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=97, column=5), cells=[TableCell(location=Location(line=97, column=7), value='username'), TableCell(location=Location(line=97, column=18), value='host')], id='653'), table_body=[TableRow(location=Location(line=98, column=5), cells=[TableCell(location=Location(line=98, column=7), value='shesha'), TableCell(location=Location(line=98, column=18), value='workstation01')], id='654'), TableRow(location=Location(line=99, column=5), cells=[TableCell(location=Location(line=99, column=7), value='shesha'), TableCell(location=Location(line=99, column=18), value='travellaptop')], id='655')], id='656')], id='657'), '651': Step(location=Location(line=93, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='651'), '652': Step(location=Location(line=94, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='652'), '656': Examples(location=Location(line=96, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=97, column=5), cells=[TableCell(location=Location(line=97, column=7), value='username'), TableCell(location=Location(line=97, column=18), value='host')], id='653'), table_body=[TableRow(location=Location(line=98, column=5), cells=[TableCell(location=Location(line=98, column=7), value='shesha'), TableCell(location=Location(line=98, column=18), value='workstation01')], id='654'), TableRow(location=Location(line=99, column=5), cells=[TableCell(location=Location(line=99, column=7), value='shesha'), TableCell(location=Location(line=99, column=18), value='travellaptop')], id='655')], id='656'), '653': TableRow(location=Location(line=97, column=5), cells=[TableCell(location=Location(line=97, column=7), value='username'), TableCell(location=Location(line=97, column=18), value='host')], id='653'), '654': TableRow(location=Location(line=98, column=5), cells=[TableCell(location=Location(line=98, column=7), value='shesha'), TableCell(location=Location(line=98, column=18), value='workstation01')], id='654'), '655': TableRow(location=Location(line=99, column=5), cells=[TableCell(location=Location(line=99, column=7), value='shesha'), TableCell(location=Location(line=99, column=18), value='travellaptop')], id='655'), '665': Scenario(location=Location(line=101, column=3), tags=[], keyword='Scenario', name='Cleanup user <username> and context <context>', description='', steps=[Step(location=Location(line=102, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='658'), Step(location=Location(line=103, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='659'), Step(location=Location(line=105, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='660'), Step(location=Location(line=106, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='661')], examples=[Examples(location=Location(line=108, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=109, column=5), cells=[TableCell(location=Location(line=109, column=7), value='context'), TableCell(location=Location(line=109, column=18), value='username')], id='662'), table_body=[TableRow(location=Location(line=110, column=5), cells=[TableCell(location=Location(line=110, column=7), value='varanasi'), TableCell(location=Location(line=110, column=18), value='shesha')], id='663')], id='664')], id='665'), '658': Step(location=Location(line=102, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='658'), '659': Step(location=Location(line=103, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='659'), '660': Step(location=Location(line=105, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='660'), '661': Step(location=Location(line=106, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='661'), '664': Examples(location=Location(line=108, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=109, column=5), cells=[TableCell(location=Location(line=109, column=7), value='context'), TableCell(location=Location(line=109, column=18), value='username')], id='662'), table_body=[TableRow(location=Location(line=110, column=5), cells=[TableCell(location=Location(line=110, column=7), value='varanasi'), TableCell(location=Location(line=110, column=18), value='shesha')], id='663')], id='664'), '662': TableRow(location=Location(line=109, column=5), cells=[TableCell(location=Location(line=109, column=7), value='context'), TableCell(location=Location(line=109, column=18), value='username')], id='662'), '663': TableRow(location=Location(line=110, column=5), cells=[TableCell(location=Location(line=110, column=7), value='varanasi'), TableCell(location=Location(line=110, column=18), value='shesha')], id='663')}, pickles=[Pickle(id='676', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Create context varanasi and user shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='668', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='669', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['601', '612'], id='670', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"varanasi\"'), PickleStep(argument=None, ast_node_ids=['602', '612'], id='671', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext')]), PickleTableRow(cells=[PickleTableCell(value='pong')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')])])), ast_node_ids=['607', '612'], id='672', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-varanasi\" namespace'), PickleStep(argument=None, ast_node_ids=['608', '612'], id='673', type=<Type.outcome: 'Outcome'>, text='statefulset \"varanasi-neo4j\" in namespace \"context-varanasi\" is in ready state'), PickleStep(argument=None, ast_node_ids=['609', '612'], id='674', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"shesha\" and connects it to the context \"varanasi\"'), PickleStep(argument=None, ast_node_ids=['610', '612'], id='675', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['614', '612']), Pickle(id='681', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Create workstation01 for user shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='677', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='678', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['615', '618'], id='679', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"workstation01\" and connects it to the user \"shesha\"'), PickleStep(argument=None, ast_node_ids=['616', '618'], id='680', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['621', '618']), Pickle(id='686', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Create travellaptop for user shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='682', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='683', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['615', '619'], id='684', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"travellaptop\" and connects it to the user \"shesha\"'), PickleStep(argument=None, ast_node_ids=['616', '619'], id='685', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['621', '619']), Pickle(id='697', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Send ping via nats host: workstation01, user: shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='687', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='688', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['622', '633'], id='689', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['623', '633'], id='690', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['624', '633'], id='691', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['625', '633'], id='692', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['626', '633'], id='693', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.shesha.workstation01.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['627', '633'], id='694', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.shesha.workstation01.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='pong-00001-deployment')])])), ast_node_ids=['630', '633'], id='695', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-varanasi\" namespace'), PickleStep(argument=None, ast_node_ids=['631', '633'], id='696', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-shesha.workstation01-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['636', '633']), Pickle(id='708', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Send ping via nats host: travellaptop, user: shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='698', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='699', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['622', '634'], id='700', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['623', '634'], id='701', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['624', '634'], id='702', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['625', '634'], id='703', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['626', '634'], id='704', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.shesha.travellaptop.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['627', '634'], id='705', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.shesha.travellaptop.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='pong-00001-deployment')])])), ast_node_ids=['630', '634'], id='706', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-varanasi\" namespace'), PickleStep(argument=None, ast_node_ids=['631', '634'], id='707', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-shesha.travellaptop-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['636', '634']), Pickle(id='718', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Send iodocument via nats host: workstation01, user: shesha and check that second host received graph the update', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='709', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='710', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['637', '648'], id='711', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['638', '648'], id='712', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"id\"'), PickleStep(argument=None, ast_node_ids=['639', '648'], id='713', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['640', '648'], id='714', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.shesha.workstation01.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['641', '648'], id='715', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.shesha.workstation01.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.3623.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-00001-deployment')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-00001-deployment')])])), ast_node_ids=['645', '648'], id='716', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-varanasi\" namespace'), PickleStep(argument=None, ast_node_ids=['646', '648'], id='717', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-shesha.travellaptop-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['650', '648']), Pickle(id='723', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Cleanup hosts workstation01 in user shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='719', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='720', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['651', '654'], id='721', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"workstation01\"'), PickleStep(argument=None, ast_node_ids=['652', '654'], id='722', type=<Type.outcome: 'Outcome'>, text='the host \"workstation01\" should be deleted')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['657', '654']), Pickle(id='728', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Cleanup hosts travellaptop in user shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='724', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='725', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['651', '655'], id='726', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"travellaptop\"'), PickleStep(argument=None, ast_node_ids=['652', '655'], id='727', type=<Type.outcome: 'Outcome'>, text='the host \"travellaptop\" should be deleted')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['657', '655']), Pickle(id='735', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Cleanup user shesha and context varanasi', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='729', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='730', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['658', '663'], id='731', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"shesha\"'), PickleStep(argument=None, ast_node_ids=['659', '663'], id='732', type=<Type.outcome: 'Outcome'>, text='the user \"shesha\" should be deleted'), PickleStep(argument=None, ast_node_ids=['660', '663'], id='733', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"varanasi\"'), PickleStep(argument=None, ast_node_ids=['661', '663'], id='734', type=<Type.outcome: 'Outcome'>, text='the context \"varanasi\" should be deleted')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['665', '663'])])","Source(uri='file:features/6_mindwm_two_hosts_one_user.feature', data='@mindwm_two_hosts_one_user\\n@mindwm_test\\nFeature: MindWM two hosts one user function test\\n  Background:\\n    Given A MindWM environment\\n    Then all nodes in Kubernetes are ready\\n\\n  Scenario: Create context <context> and user <username>\\n    When God creates a MindWM context with the name \"<context>\"\\n    Then the context should be ready and operable\\n    Then the following knative services are in a ready state in the \"context-<context>\" namespace\\n      | Knative service name |\\n      | iocontext            |\\n      | pong                 |\\n      | kafka-cdc            |\\n    And statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state\\n\\n    When God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"\\n    Then the user resource should be ready and operable\\n\\n\\n    Examples:\\n    | context  | username |\\n    | varanasi | shesha   |\\n\\n  Scenario: Create <host> for user <username>\\n\\n    When God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"\\n    Then the host resource should be ready and operable\\n\\n    Examples:\\n    | username | host           |\\n    | shesha   | workstation01  |\\n    | shesha   | travellaptop   |\\n\\n\\n  Scenario: Send ping via nats host: <host>, user: <username>\\n    When God creates a new cloudevent \\n      And God starts reading message from NATS topic \">\"\\n      And sets cloudevent header \"ce-subject\" to \"#ping\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"\\n      And sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"\\n      \"\"\"\\n      {\\n        \"input\": \"#ping\",\\n        \"output\": \"\",\\n        \"ps1\": \"❯\",\\n        \"type\": \"org.mindwm.v1.iodocument\"\\n      } \\n      \"\"\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name       |\\n      | pong-00001-deployment |\\n\\n    And a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"\\n\\n    Examples:\\n     | context | username   | host      | tmux_pane | tmux_window | uuid                                  | tmux_socket                     |\\n     | varanasi  | shesha   | workstation01  | 23        | 36          | 8d839f82-79da-11ef-bc9f-f74fac7543ac  |L3RtcC90bXV4LTEwMDAvZGVmYXVsdA== |\\n     | varanasi  | shesha   | travellaptop  | 23        | 36          | 8d839f82-79da-11ef-bc9f-f74fac7543ac  |L3RtcC90bXV4LTEwMDAvZGVmYXVsdA== |\\n\\n  Scenario: Send iodocument via nats host: <host>, user: <username> and check that second host received graph the update\\n    When God creates a new cloudevent \\n      And sets cloudevent header \"ce-subject\" to \"id\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"\\n      And sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"\\n      \"\"\"\\n      {\\n        \"input\": \"id\",\\n        \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n        \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n        \"type\": \"org.mindwm.v1.iodocument\"\\n      } \\n      \"\"\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name       |\\n      | iocontext-00001-deployment |\\n      | kafka-cdc-00001-deployment |\\n\\n    And a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.travellaptop-host-broker-kne-trigger._knative\"\\n\\n    Examples:\\n     | context | username   | host      | tmux_pane | tmux_window | uuid                                  | tmux_socket                     |\\n     | varanasi  | shesha   | workstation01  | 23        | 36          | 8d839f82-79da-11ef-bc9f-f74fac7543ac  |L3RtcC90bXV4LTEwMDAvZGVmYXVsdA== |\\n     #| varanasi  | shesha   | travellaptop  | 23        | 36          | 8d839f82-79da-11ef-bc9f-f74fac7543ac  |L3RtcC90bXV4LTEwMDAvZGVmYXVsdA== |\\n\\n\\n  Scenario: Cleanup hosts <host> in user <username>\\n    When God deletes the MindWM host resource \"<host>\"\\n    Then the host \"<host>\" should be deleted\\n\\n    Examples:\\n    | username | host           |\\n    | shesha   | workstation01  |\\n    | shesha   | travellaptop   |\\n\\n  Scenario: Cleanup user <username> and context <context>\\n    When God deletes the MindWM user resource \"<username>\"\\n    Then the user \"<username>\" should be deleted\\n\\n    When God deletes the MindWM context resource \"<context>\"\\n    Then the context \"<context>\" should be deleted\\n\\n    Examples:\\n    | context  | username |\\n    | varanasi | shesha   |\\n', media_type='text/x.cucumber.gherkin+plain')","Pickle(id='708', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Send ping via nats host: travellaptop, user: shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='698', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='699', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['622', '634'], id='700', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['623', '634'], id='701', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['624', '634'], id='702', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['625', '634'], id='703', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['626', '634'], id='704', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.shesha.travellaptop.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['627', '634'], id='705', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.shesha.travellaptop.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='pong-00001-deployment')])])), ast_node_ids=['630', '634'], id='706', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-varanasi\" namespace'), PickleStep(argument=None, ast_node_ids=['631', '634'], id='707', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-shesha.travellaptop-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['636', '634'])"],"tags":["scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/6_mindwm_two_hosts_one_user.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=<FeaturePathType.PATH: 'path'>, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())","mindwm_two_hosts_one_user","pytest_bdd_scenario","@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')","mindwm_test","namespace(create=False, name='default')"]},{"name":"test_scenarios[file:features/1_mindwm_crd.feature-MindWM Custom Resource Definition-Create Host]","uid":"f53007616b37da10","parentUid":"3961740595044ffd97a03e46799bfc30","status":"passed","time":{"start":1728403437550,"stop":1728403448809,"duration":11259},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["Feature(gherkin_document=GherkinDocument(uri='file:features/1_mindwm_crd.feature', feature=Feature(location=Location(line=3, column=1), tags=[Tag(location=Location(line=1, column=1), name='@mindwm_crd', id='183'), Tag(location=Location(line=2, column=1), name='@mindwm_test', id='184')], language='en', keyword='Feature', name='MindWM Custom Resource Definition', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=5, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=6, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='165')], id='166'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Create Context', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"xxx3\"', doc_string=None, data_table=None, id='167'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='168')], examples=[], id='169')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=12, column=3), tags=[], keyword='Scenario', name='Create User', description='', steps=[Step(location=Location(line=13, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"alice\" and connects it to the context \"xxx3\"', doc_string=None, data_table=None, id='170'), Step(location=Location(line=14, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='171')], examples=[], id='172')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=16, column=3), tags=[], keyword='Scenario', name='Create Host', description='', steps=[Step(location=Location(line=17, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"laptop\" and connects it to the user \"alice\"', doc_string=None, data_table=None, id='173'), Step(location=Location(line=18, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='174')], examples=[], id='175')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=20, column=3), tags=[], keyword='Scenario', name='Delete Resources and Verify Cleanup', description='', steps=[Step(location=Location(line=21, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"laptop\"', doc_string=None, data_table=None, id='176'), Step(location=Location(line=22, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"laptop\" should be deleted', doc_string=None, data_table=None, id='177'), Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"alice\"', doc_string=None, data_table=None, id='178'), Step(location=Location(line=24, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"alice\" should be deleted', doc_string=None, data_table=None, id='179'), Step(location=Location(line=25, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"xxx3\"', doc_string=None, data_table=None, id='180'), Step(location=Location(line=26, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"xxx3\" should be deleted', doc_string=None, data_table=None, id='181')], examples=[], id='182'))]), comments=[]), uri='file:features/1_mindwm_crd.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/1_mindwm_crd.feature', registry={'183': Tag(location=Location(line=1, column=1), name='@mindwm_crd', id='183'), '184': Tag(location=Location(line=2, column=1), name='@mindwm_test', id='184'), '166': Background(location=Location(line=5, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=6, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='165')], id='166'), '165': Step(location=Location(line=6, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='165'), '169': Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Create Context', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"xxx3\"', doc_string=None, data_table=None, id='167'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='168')], examples=[], id='169'), '167': Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"xxx3\"', doc_string=None, data_table=None, id='167'), '168': Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='168'), '172': Scenario(location=Location(line=12, column=3), tags=[], keyword='Scenario', name='Create User', description='', steps=[Step(location=Location(line=13, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"alice\" and connects it to the context \"xxx3\"', doc_string=None, data_table=None, id='170'), Step(location=Location(line=14, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='171')], examples=[], id='172'), '170': Step(location=Location(line=13, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"alice\" and connects it to the context \"xxx3\"', doc_string=None, data_table=None, id='170'), '171': Step(location=Location(line=14, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='171'), '175': Scenario(location=Location(line=16, column=3), tags=[], keyword='Scenario', name='Create Host', description='', steps=[Step(location=Location(line=17, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"laptop\" and connects it to the user \"alice\"', doc_string=None, data_table=None, id='173'), Step(location=Location(line=18, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='174')], examples=[], id='175'), '173': Step(location=Location(line=17, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"laptop\" and connects it to the user \"alice\"', doc_string=None, data_table=None, id='173'), '174': Step(location=Location(line=18, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='174'), '182': Scenario(location=Location(line=20, column=3), tags=[], keyword='Scenario', name='Delete Resources and Verify Cleanup', description='', steps=[Step(location=Location(line=21, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"laptop\"', doc_string=None, data_table=None, id='176'), Step(location=Location(line=22, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"laptop\" should be deleted', doc_string=None, data_table=None, id='177'), Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"alice\"', doc_string=None, data_table=None, id='178'), Step(location=Location(line=24, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"alice\" should be deleted', doc_string=None, data_table=None, id='179'), Step(location=Location(line=25, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"xxx3\"', doc_string=None, data_table=None, id='180'), Step(location=Location(line=26, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"xxx3\" should be deleted', doc_string=None, data_table=None, id='181')], examples=[], id='182'), '176': Step(location=Location(line=21, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"laptop\"', doc_string=None, data_table=None, id='176'), '177': Step(location=Location(line=22, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"laptop\" should be deleted', doc_string=None, data_table=None, id='177'), '178': Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"alice\"', doc_string=None, data_table=None, id='178'), '179': Step(location=Location(line=24, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"alice\" should be deleted', doc_string=None, data_table=None, id='179'), '180': Step(location=Location(line=25, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"xxx3\"', doc_string=None, data_table=None, id='180'), '181': Step(location=Location(line=26, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"xxx3\" should be deleted', doc_string=None, data_table=None, id='181')}, pickles=[Pickle(id='188', uri='file:features/1_mindwm_crd.feature', name='Create Context', language='en', steps=[PickleStep(argument=None, ast_node_ids=['165'], id='185', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['167'], id='186', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"xxx3\"'), PickleStep(argument=None, ast_node_ids=['168'], id='187', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable')], tags=[PickleTag(name='@mindwm_crd', ast_node_id='183'), PickleTag(name='@mindwm_test', ast_node_id='184')], ast_node_ids=['169']), Pickle(id='192', uri='file:features/1_mindwm_crd.feature', name='Create User', language='en', steps=[PickleStep(argument=None, ast_node_ids=['165'], id='189', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['170'], id='190', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"alice\" and connects it to the context \"xxx3\"'), PickleStep(argument=None, ast_node_ids=['171'], id='191', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable')], tags=[PickleTag(name='@mindwm_crd', ast_node_id='183'), PickleTag(name='@mindwm_test', ast_node_id='184')], ast_node_ids=['172']), Pickle(id='196', uri='file:features/1_mindwm_crd.feature', name='Create Host', language='en', steps=[PickleStep(argument=None, ast_node_ids=['165'], id='193', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['173'], id='194', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"laptop\" and connects it to the user \"alice\"'), PickleStep(argument=None, ast_node_ids=['174'], id='195', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable')], tags=[PickleTag(name='@mindwm_crd', ast_node_id='183'), PickleTag(name='@mindwm_test', ast_node_id='184')], ast_node_ids=['175']), Pickle(id='204', uri='file:features/1_mindwm_crd.feature', name='Delete Resources and Verify Cleanup', language='en', steps=[PickleStep(argument=None, ast_node_ids=['165'], id='197', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['176'], id='198', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"laptop\"'), PickleStep(argument=None, ast_node_ids=['177'], id='199', type=<Type.outcome: 'Outcome'>, text='the host \"laptop\" should be deleted'), PickleStep(argument=None, ast_node_ids=['178'], id='200', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"alice\"'), PickleStep(argument=None, ast_node_ids=['179'], id='201', type=<Type.outcome: 'Outcome'>, text='the user \"alice\" should be deleted'), PickleStep(argument=None, ast_node_ids=['180'], id='202', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"xxx3\"'), PickleStep(argument=None, ast_node_ids=['181'], id='203', type=<Type.outcome: 'Outcome'>, text='the context \"xxx3\" should be deleted')], tags=[PickleTag(name='@mindwm_crd', ast_node_id='183'), PickleTag(name='@mindwm_test', ast_node_id='184')], ast_node_ids=['182'])])","Source(uri='file:features/1_mindwm_crd.feature', data='@mindwm_crd\\n@mindwm_test\\nFeature: MindWM Custom Resource Definition\\n\\n  Background:\\n    Given a MindWM environment\\n    \\n  Scenario: Create Context \\n    When God creates a MindWM context with the name \"xxx3\"\\n    Then the context should be ready and operable\\n\\n  Scenario: Create User \\n    When God creates a MindWM user resource with the name \"alice\" and connects it to the context \"xxx3\"\\n    Then the user resource should be ready and operable\\n\\n  Scenario: Create Host\\n    When God creates a MindWM host resource with the name \"laptop\" and connects it to the user \"alice\"\\n    Then the host resource should be ready and operable\\n\\n  Scenario: Delete Resources and Verify Cleanup\\n    When God deletes the MindWM host resource \"laptop\"\\n    Then the host \"laptop\" should be deleted\\n    When God deletes the MindWM user resource \"alice\"\\n    Then the user \"alice\" should be deleted\\n    When God deletes the MindWM context resource \"xxx3\"\\n    Then the context \"xxx3\" should be deleted\\n   \\t \\n', media_type='text/x.cucumber.gherkin+plain')","Pickle(id='196', uri='file:features/1_mindwm_crd.feature', name='Create Host', language='en', steps=[PickleStep(argument=None, ast_node_ids=['165'], id='193', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['173'], id='194', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"laptop\" and connects it to the user \"alice\"'), PickleStep(argument=None, ast_node_ids=['174'], id='195', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable')], tags=[PickleTag(name='@mindwm_crd', ast_node_id='183'), PickleTag(name='@mindwm_test', ast_node_id='184')], ast_node_ids=['175'])"],"tags":["pytest_bdd_scenario","@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')","mindwm_crd","mindwm_test","scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/1_mindwm_crd.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=<FeaturePathType.PATH: 'path'>, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())","namespace(create=False, name='default')"]},{"name":"test_scenarios[file:features/7_mindwm_two_users_one_context.feature-MindWM two users one context function test-Create context tokyo[table_rows:[line: 20]]]","uid":"191f547cc05f0101","parentUid":"3961740595044ffd97a03e46799bfc30","status":"passed","time":{"start":1728404383872,"stop":1728404498677,"duration":114805},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["Feature(gherkin_document=GherkinDocument(uri='file:features/7_mindwm_two_users_one_context.feature', feature=Feature(location=Location(line=3, column=1), tags=[Tag(location=Location(line=1, column=1), name='@mindwm_two_users_one_context', id='801'), Tag(location=Location(line=2, column=1), name='@mindwm_test', id='802')], language='en', keyword='Feature', name='MindWM two users one context function test', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='736'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='737')], id='738'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Create context <context>', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='739'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='740'), Step(location=Location(line=12, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=13, column=7), rows=[TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='Knative service name')], id='741'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='iocontext')], id='742'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='pong')], id='743'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='kafka-cdc')], id='744')]), id='745'), Step(location=Location(line=17, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='746')], examples=[Examples(location=Location(line=18, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=19, column=5), cells=[TableCell(location=Location(line=19, column=7), value='context')], id='747'), table_body=[TableRow(location=Location(line=20, column=5), cells=[TableCell(location=Location(line=20, column=7), value='tokyo')], id='748')], id='749')], id='750')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=22, column=3), tags=[], keyword='Scenario', name='Create <username> and connects it to <context>', description='', steps=[Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='751'), Step(location=Location(line=24, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='752')], examples=[Examples(location=Location(line=25, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=26, column=5), cells=[TableCell(location=Location(line=26, column=7), value='context'), TableCell(location=Location(line=26, column=17), value='username')], id='753'), table_body=[TableRow(location=Location(line=27, column=5), cells=[TableCell(location=Location(line=27, column=7), value='tokyo'), TableCell(location=Location(line=27, column=17), value='godzilla')], id='754'), TableRow(location=Location(line=28, column=5), cells=[TableCell(location=Location(line=28, column=7), value='tokyo'), TableCell(location=Location(line=28, column=17), value='tengu')], id='755')], id='756')], id='757')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=29, column=3), tags=[], keyword='Scenario', name='Create <host> resource and connects it to <username> user', description='', steps=[Step(location=Location(line=30, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='758'), Step(location=Location(line=31, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='759')], examples=[Examples(location=Location(line=33, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='username'), TableCell(location=Location(line=34, column=18), value='host')], id='760'), table_body=[TableRow(location=Location(line=35, column=5), cells=[TableCell(location=Location(line=35, column=7), value='godzilla'), TableCell(location=Location(line=35, column=18), value='laptop')], id='761'), TableRow(location=Location(line=36, column=5), cells=[TableCell(location=Location(line=36, column=7), value='tengu'), TableCell(location=Location(line=36, column=18), value='tablet')], id='762')], id='763')], id='764')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=38, column=3), tags=[], keyword='Scenario', name='Send iodocument via nats host: <host>, user: <username> and check that second user received graph update', description='', steps=[Step(location=Location(line=39, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='765'), Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='766'), Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='767'), Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='768'), Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=None, data_table=None, id='769'), Step(location=Location(line=44, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=DocString(location=Location(line=45, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='770'), Step(location=Location(line=54, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=55, column=7), rows=[TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='Deployment name')], id='771'), TableRow(location=Location(line=56, column=7), cells=[TableCell(location=Location(line=56, column=9), value='iocontext-00001-deployment')], id='772'), TableRow(location=Location(line=57, column=7), cells=[TableCell(location=Location(line=57, column=9), value='kafka-cdc-00001-deployment')], id='773')]), id='774'), Step(location=Location(line=59, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<dst_user>.<dst_host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='775')], examples=[Examples(location=Location(line=61, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=62, column=5), cells=[TableCell(location=Location(line=62, column=7), value='context'), TableCell(location=Location(line=62, column=17), value='src_user'), TableCell(location=Location(line=62, column=28), value='src_host'), TableCell(location=Location(line=62, column=39), value='dst_user'), TableCell(location=Location(line=62, column=50), value='dst_host')], id='776'), table_body=[TableRow(location=Location(line=63, column=5), cells=[TableCell(location=Location(line=63, column=7), value='tokyo'), TableCell(location=Location(line=63, column=17), value='godzilla'), TableCell(location=Location(line=63, column=28), value='laptop'), TableCell(location=Location(line=63, column=39), value='tengu'), TableCell(location=Location(line=63, column=50), value='tablet')], id='777'), TableRow(location=Location(line=64, column=5), cells=[TableCell(location=Location(line=64, column=7), value='tokyo'), TableCell(location=Location(line=64, column=17), value='tengu'), TableCell(location=Location(line=64, column=28), value='tablet'), TableCell(location=Location(line=64, column=39), value='godzilla'), TableCell(location=Location(line=64, column=50), value='laptop')], id='778')], id='779')], id='780')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=67, column=3), tags=[], keyword='Scenario', name='Cleanup <host> host for <username> username', description='', steps=[Step(location=Location(line=69, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='781'), Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='782')], examples=[Examples(location=Location(line=72, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=73, column=5), cells=[TableCell(location=Location(line=73, column=7), value='username'), TableCell(location=Location(line=73, column=18), value='host')], id='783'), table_body=[TableRow(location=Location(line=74, column=5), cells=[TableCell(location=Location(line=74, column=7), value='godzilla'), TableCell(location=Location(line=74, column=18), value='laptop')], id='784'), TableRow(location=Location(line=75, column=5), cells=[TableCell(location=Location(line=75, column=7), value='tengu'), TableCell(location=Location(line=75, column=18), value='tablet')], id='785')], id='786')], id='787')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=77, column=3), tags=[], keyword='Scenario', name='Cleanup <username> username', description='', steps=[Step(location=Location(line=78, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='788'), Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='789')], examples=[Examples(location=Location(line=81, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='username')], id='790'), table_body=[TableRow(location=Location(line=83, column=5), cells=[TableCell(location=Location(line=83, column=7), value='godzilla')], id='791'), TableRow(location=Location(line=84, column=5), cells=[TableCell(location=Location(line=84, column=7), value='tengu')], id='792')], id='793')], id='794')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=86, column=3), tags=[], keyword='Scenario', name='Cleanup <context> context', description='', steps=[Step(location=Location(line=87, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='795'), Step(location=Location(line=88, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='796')], examples=[Examples(location=Location(line=90, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=91, column=5), cells=[TableCell(location=Location(line=91, column=7), value='context')], id='797'), table_body=[TableRow(location=Location(line=92, column=5), cells=[TableCell(location=Location(line=92, column=7), value='tokyo')], id='798')], id='799')], id='800'))]), comments=[]), uri='file:features/7_mindwm_two_users_one_context.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/7_mindwm_two_users_one_context.feature', registry={'801': Tag(location=Location(line=1, column=1), name='@mindwm_two_users_one_context', id='801'), '802': Tag(location=Location(line=2, column=1), name='@mindwm_test', id='802'), '738': Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='736'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='737')], id='738'), '736': Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='736'), '737': Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='737'), '750': Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Create context <context>', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='739'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='740'), Step(location=Location(line=12, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=13, column=7), rows=[TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='Knative service name')], id='741'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='iocontext')], id='742'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='pong')], id='743'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='kafka-cdc')], id='744')]), id='745'), Step(location=Location(line=17, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='746')], examples=[Examples(location=Location(line=18, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=19, column=5), cells=[TableCell(location=Location(line=19, column=7), value='context')], id='747'), table_body=[TableRow(location=Location(line=20, column=5), cells=[TableCell(location=Location(line=20, column=7), value='tokyo')], id='748')], id='749')], id='750'), '739': Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='739'), '740': Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='740'), '745': Step(location=Location(line=12, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=13, column=7), rows=[TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='Knative service name')], id='741'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='iocontext')], id='742'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='pong')], id='743'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='kafka-cdc')], id='744')]), id='745'), '746': Step(location=Location(line=17, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='746'), '749': Examples(location=Location(line=18, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=19, column=5), cells=[TableCell(location=Location(line=19, column=7), value='context')], id='747'), table_body=[TableRow(location=Location(line=20, column=5), cells=[TableCell(location=Location(line=20, column=7), value='tokyo')], id='748')], id='749'), '747': TableRow(location=Location(line=19, column=5), cells=[TableCell(location=Location(line=19, column=7), value='context')], id='747'), '748': TableRow(location=Location(line=20, column=5), cells=[TableCell(location=Location(line=20, column=7), value='tokyo')], id='748'), '757': Scenario(location=Location(line=22, column=3), tags=[], keyword='Scenario', name='Create <username> and connects it to <context>', description='', steps=[Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='751'), Step(location=Location(line=24, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='752')], examples=[Examples(location=Location(line=25, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=26, column=5), cells=[TableCell(location=Location(line=26, column=7), value='context'), TableCell(location=Location(line=26, column=17), value='username')], id='753'), table_body=[TableRow(location=Location(line=27, column=5), cells=[TableCell(location=Location(line=27, column=7), value='tokyo'), TableCell(location=Location(line=27, column=17), value='godzilla')], id='754'), TableRow(location=Location(line=28, column=5), cells=[TableCell(location=Location(line=28, column=7), value='tokyo'), TableCell(location=Location(line=28, column=17), value='tengu')], id='755')], id='756')], id='757'), '751': Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='751'), '752': Step(location=Location(line=24, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='752'), '756': Examples(location=Location(line=25, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=26, column=5), cells=[TableCell(location=Location(line=26, column=7), value='context'), TableCell(location=Location(line=26, column=17), value='username')], id='753'), table_body=[TableRow(location=Location(line=27, column=5), cells=[TableCell(location=Location(line=27, column=7), value='tokyo'), TableCell(location=Location(line=27, column=17), value='godzilla')], id='754'), TableRow(location=Location(line=28, column=5), cells=[TableCell(location=Location(line=28, column=7), value='tokyo'), TableCell(location=Location(line=28, column=17), value='tengu')], id='755')], id='756'), '753': TableRow(location=Location(line=26, column=5), cells=[TableCell(location=Location(line=26, column=7), value='context'), TableCell(location=Location(line=26, column=17), value='username')], id='753'), '754': TableRow(location=Location(line=27, column=5), cells=[TableCell(location=Location(line=27, column=7), value='tokyo'), TableCell(location=Location(line=27, column=17), value='godzilla')], id='754'), '755': TableRow(location=Location(line=28, column=5), cells=[TableCell(location=Location(line=28, column=7), value='tokyo'), TableCell(location=Location(line=28, column=17), value='tengu')], id='755'), '764': Scenario(location=Location(line=29, column=3), tags=[], keyword='Scenario', name='Create <host> resource and connects it to <username> user', description='', steps=[Step(location=Location(line=30, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='758'), Step(location=Location(line=31, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='759')], examples=[Examples(location=Location(line=33, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='username'), TableCell(location=Location(line=34, column=18), value='host')], id='760'), table_body=[TableRow(location=Location(line=35, column=5), cells=[TableCell(location=Location(line=35, column=7), value='godzilla'), TableCell(location=Location(line=35, column=18), value='laptop')], id='761'), TableRow(location=Location(line=36, column=5), cells=[TableCell(location=Location(line=36, column=7), value='tengu'), TableCell(location=Location(line=36, column=18), value='tablet')], id='762')], id='763')], id='764'), '758': Step(location=Location(line=30, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='758'), '759': Step(location=Location(line=31, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='759'), '763': Examples(location=Location(line=33, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='username'), TableCell(location=Location(line=34, column=18), value='host')], id='760'), table_body=[TableRow(location=Location(line=35, column=5), cells=[TableCell(location=Location(line=35, column=7), value='godzilla'), TableCell(location=Location(line=35, column=18), value='laptop')], id='761'), TableRow(location=Location(line=36, column=5), cells=[TableCell(location=Location(line=36, column=7), value='tengu'), TableCell(location=Location(line=36, column=18), value='tablet')], id='762')], id='763'), '760': TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='username'), TableCell(location=Location(line=34, column=18), value='host')], id='760'), '761': TableRow(location=Location(line=35, column=5), cells=[TableCell(location=Location(line=35, column=7), value='godzilla'), TableCell(location=Location(line=35, column=18), value='laptop')], id='761'), '762': TableRow(location=Location(line=36, column=5), cells=[TableCell(location=Location(line=36, column=7), value='tengu'), TableCell(location=Location(line=36, column=18), value='tablet')], id='762'), '780': Scenario(location=Location(line=38, column=3), tags=[], keyword='Scenario', name='Send iodocument via nats host: <host>, user: <username> and check that second user received graph update', description='', steps=[Step(location=Location(line=39, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='765'), Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='766'), Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='767'), Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='768'), Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=None, data_table=None, id='769'), Step(location=Location(line=44, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=DocString(location=Location(line=45, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='770'), Step(location=Location(line=54, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=55, column=7), rows=[TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='Deployment name')], id='771'), TableRow(location=Location(line=56, column=7), cells=[TableCell(location=Location(line=56, column=9), value='iocontext-00001-deployment')], id='772'), TableRow(location=Location(line=57, column=7), cells=[TableCell(location=Location(line=57, column=9), value='kafka-cdc-00001-deployment')], id='773')]), id='774'), Step(location=Location(line=59, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<dst_user>.<dst_host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='775')], examples=[Examples(location=Location(line=61, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=62, column=5), cells=[TableCell(location=Location(line=62, column=7), value='context'), TableCell(location=Location(line=62, column=17), value='src_user'), TableCell(location=Location(line=62, column=28), value='src_host'), TableCell(location=Location(line=62, column=39), value='dst_user'), TableCell(location=Location(line=62, column=50), value='dst_host')], id='776'), table_body=[TableRow(location=Location(line=63, column=5), cells=[TableCell(location=Location(line=63, column=7), value='tokyo'), TableCell(location=Location(line=63, column=17), value='godzilla'), TableCell(location=Location(line=63, column=28), value='laptop'), TableCell(location=Location(line=63, column=39), value='tengu'), TableCell(location=Location(line=63, column=50), value='tablet')], id='777'), TableRow(location=Location(line=64, column=5), cells=[TableCell(location=Location(line=64, column=7), value='tokyo'), TableCell(location=Location(line=64, column=17), value='tengu'), TableCell(location=Location(line=64, column=28), value='tablet'), TableCell(location=Location(line=64, column=39), value='godzilla'), TableCell(location=Location(line=64, column=50), value='laptop')], id='778')], id='779')], id='780'), '765': Step(location=Location(line=39, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='765'), '766': Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='766'), '767': Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='767'), '768': Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='768'), '769': Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=None, data_table=None, id='769'), '770': Step(location=Location(line=44, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=DocString(location=Location(line=45, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='770'), '774': Step(location=Location(line=54, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=55, column=7), rows=[TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='Deployment name')], id='771'), TableRow(location=Location(line=56, column=7), cells=[TableCell(location=Location(line=56, column=9), value='iocontext-00001-deployment')], id='772'), TableRow(location=Location(line=57, column=7), cells=[TableCell(location=Location(line=57, column=9), value='kafka-cdc-00001-deployment')], id='773')]), id='774'), '775': Step(location=Location(line=59, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<dst_user>.<dst_host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='775'), '779': Examples(location=Location(line=61, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=62, column=5), cells=[TableCell(location=Location(line=62, column=7), value='context'), TableCell(location=Location(line=62, column=17), value='src_user'), TableCell(location=Location(line=62, column=28), value='src_host'), TableCell(location=Location(line=62, column=39), value='dst_user'), TableCell(location=Location(line=62, column=50), value='dst_host')], id='776'), table_body=[TableRow(location=Location(line=63, column=5), cells=[TableCell(location=Location(line=63, column=7), value='tokyo'), TableCell(location=Location(line=63, column=17), value='godzilla'), TableCell(location=Location(line=63, column=28), value='laptop'), TableCell(location=Location(line=63, column=39), value='tengu'), TableCell(location=Location(line=63, column=50), value='tablet')], id='777'), TableRow(location=Location(line=64, column=5), cells=[TableCell(location=Location(line=64, column=7), value='tokyo'), TableCell(location=Location(line=64, column=17), value='tengu'), TableCell(location=Location(line=64, column=28), value='tablet'), TableCell(location=Location(line=64, column=39), value='godzilla'), TableCell(location=Location(line=64, column=50), value='laptop')], id='778')], id='779'), '776': TableRow(location=Location(line=62, column=5), cells=[TableCell(location=Location(line=62, column=7), value='context'), TableCell(location=Location(line=62, column=17), value='src_user'), TableCell(location=Location(line=62, column=28), value='src_host'), TableCell(location=Location(line=62, column=39), value='dst_user'), TableCell(location=Location(line=62, column=50), value='dst_host')], id='776'), '777': TableRow(location=Location(line=63, column=5), cells=[TableCell(location=Location(line=63, column=7), value='tokyo'), TableCell(location=Location(line=63, column=17), value='godzilla'), TableCell(location=Location(line=63, column=28), value='laptop'), TableCell(location=Location(line=63, column=39), value='tengu'), TableCell(location=Location(line=63, column=50), value='tablet')], id='777'), '778': TableRow(location=Location(line=64, column=5), cells=[TableCell(location=Location(line=64, column=7), value='tokyo'), TableCell(location=Location(line=64, column=17), value='tengu'), TableCell(location=Location(line=64, column=28), value='tablet'), TableCell(location=Location(line=64, column=39), value='godzilla'), TableCell(location=Location(line=64, column=50), value='laptop')], id='778'), '787': Scenario(location=Location(line=67, column=3), tags=[], keyword='Scenario', name='Cleanup <host> host for <username> username', description='', steps=[Step(location=Location(line=69, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='781'), Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='782')], examples=[Examples(location=Location(line=72, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=73, column=5), cells=[TableCell(location=Location(line=73, column=7), value='username'), TableCell(location=Location(line=73, column=18), value='host')], id='783'), table_body=[TableRow(location=Location(line=74, column=5), cells=[TableCell(location=Location(line=74, column=7), value='godzilla'), TableCell(location=Location(line=74, column=18), value='laptop')], id='784'), TableRow(location=Location(line=75, column=5), cells=[TableCell(location=Location(line=75, column=7), value='tengu'), TableCell(location=Location(line=75, column=18), value='tablet')], id='785')], id='786')], id='787'), '781': Step(location=Location(line=69, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='781'), '782': Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='782'), '786': Examples(location=Location(line=72, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=73, column=5), cells=[TableCell(location=Location(line=73, column=7), value='username'), TableCell(location=Location(line=73, column=18), value='host')], id='783'), table_body=[TableRow(location=Location(line=74, column=5), cells=[TableCell(location=Location(line=74, column=7), value='godzilla'), TableCell(location=Location(line=74, column=18), value='laptop')], id='784'), TableRow(location=Location(line=75, column=5), cells=[TableCell(location=Location(line=75, column=7), value='tengu'), TableCell(location=Location(line=75, column=18), value='tablet')], id='785')], id='786'), '783': TableRow(location=Location(line=73, column=5), cells=[TableCell(location=Location(line=73, column=7), value='username'), TableCell(location=Location(line=73, column=18), value='host')], id='783'), '784': TableRow(location=Location(line=74, column=5), cells=[TableCell(location=Location(line=74, column=7), value='godzilla'), TableCell(location=Location(line=74, column=18), value='laptop')], id='784'), '785': TableRow(location=Location(line=75, column=5), cells=[TableCell(location=Location(line=75, column=7), value='tengu'), TableCell(location=Location(line=75, column=18), value='tablet')], id='785'), '794': Scenario(location=Location(line=77, column=3), tags=[], keyword='Scenario', name='Cleanup <username> username', description='', steps=[Step(location=Location(line=78, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='788'), Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='789')], examples=[Examples(location=Location(line=81, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='username')], id='790'), table_body=[TableRow(location=Location(line=83, column=5), cells=[TableCell(location=Location(line=83, column=7), value='godzilla')], id='791'), TableRow(location=Location(line=84, column=5), cells=[TableCell(location=Location(line=84, column=7), value='tengu')], id='792')], id='793')], id='794'), '788': Step(location=Location(line=78, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='788'), '789': Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='789'), '793': Examples(location=Location(line=81, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='username')], id='790'), table_body=[TableRow(location=Location(line=83, column=5), cells=[TableCell(location=Location(line=83, column=7), value='godzilla')], id='791'), TableRow(location=Location(line=84, column=5), cells=[TableCell(location=Location(line=84, column=7), value='tengu')], id='792')], id='793'), '790': TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='username')], id='790'), '791': TableRow(location=Location(line=83, column=5), cells=[TableCell(location=Location(line=83, column=7), value='godzilla')], id='791'), '792': TableRow(location=Location(line=84, column=5), cells=[TableCell(location=Location(line=84, column=7), value='tengu')], id='792'), '800': Scenario(location=Location(line=86, column=3), tags=[], keyword='Scenario', name='Cleanup <context> context', description='', steps=[Step(location=Location(line=87, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='795'), Step(location=Location(line=88, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='796')], examples=[Examples(location=Location(line=90, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=91, column=5), cells=[TableCell(location=Location(line=91, column=7), value='context')], id='797'), table_body=[TableRow(location=Location(line=92, column=5), cells=[TableCell(location=Location(line=92, column=7), value='tokyo')], id='798')], id='799')], id='800'), '795': Step(location=Location(line=87, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='795'), '796': Step(location=Location(line=88, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='796'), '799': Examples(location=Location(line=90, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=91, column=5), cells=[TableCell(location=Location(line=91, column=7), value='context')], id='797'), table_body=[TableRow(location=Location(line=92, column=5), cells=[TableCell(location=Location(line=92, column=7), value='tokyo')], id='798')], id='799'), '797': TableRow(location=Location(line=91, column=5), cells=[TableCell(location=Location(line=91, column=7), value='context')], id='797'), '798': TableRow(location=Location(line=92, column=5), cells=[TableCell(location=Location(line=92, column=7), value='tokyo')], id='798')}, pickles=[Pickle(id='809', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create context tokyo', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='803', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='804', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['739', '748'], id='805', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"tokyo\"'), PickleStep(argument=None, ast_node_ids=['740', '748'], id='806', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext')]), PickleTableRow(cells=[PickleTableCell(value='pong')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')])])), ast_node_ids=['745', '748'], id='807', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-tokyo\" namespace'), PickleStep(argument=None, ast_node_ids=['746', '748'], id='808', type=<Type.outcome: 'Outcome'>, text='statefulset \"tokyo-neo4j\" in namespace \"context-tokyo\" is in ready state')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['750', '748']), Pickle(id='814', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create godzilla and connects it to tokyo', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='810', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='811', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['751', '754'], id='812', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"godzilla\" and connects it to the context \"tokyo\"'), PickleStep(argument=None, ast_node_ids=['752', '754'], id='813', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['757', '754']), Pickle(id='819', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create tengu and connects it to tokyo', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='815', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='816', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['751', '755'], id='817', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"tengu\" and connects it to the context \"tokyo\"'), PickleStep(argument=None, ast_node_ids=['752', '755'], id='818', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['757', '755']), Pickle(id='824', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create laptop resource and connects it to godzilla user', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='820', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='821', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['758', '761'], id='822', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"laptop\" and connects it to the user \"godzilla\"'), PickleStep(argument=None, ast_node_ids=['759', '761'], id='823', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['764', '761']), Pickle(id='829', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create tablet resource and connects it to tengu user', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='825', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='826', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['758', '762'], id='827', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"tablet\" and connects it to the user \"tengu\"'), PickleStep(argument=None, ast_node_ids=['759', '762'], id='828', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['764', '762']), Pickle(id='840', uri='file:features/7_mindwm_two_users_one_context.feature', name='Send iodocument via nats host: <host>, user: <username> and check that second user received graph update', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='830', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='831', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['765', '777'], id='832', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['766', '777'], id='833', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['767', '777'], id='834', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"id\"'), PickleStep(argument=None, ast_node_ids=['768', '777'], id='835', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['769', '777'], id='836', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.godzilla.laptop.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['770', '777'], id='837', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.godzilla.laptop.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-00001-deployment')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-00001-deployment')])])), ast_node_ids=['774', '777'], id='838', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-tokyo\" namespace'), PickleStep(argument=None, ast_node_ids=['775', '777'], id='839', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-tengu.tablet-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['780', '777']), Pickle(id='851', uri='file:features/7_mindwm_two_users_one_context.feature', name='Send iodocument via nats host: <host>, user: <username> and check that second user received graph update', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='841', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='842', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['765', '778'], id='843', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['766', '778'], id='844', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['767', '778'], id='845', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"id\"'), PickleStep(argument=None, ast_node_ids=['768', '778'], id='846', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['769', '778'], id='847', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.tengu.tablet.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['770', '778'], id='848', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.tengu.tablet.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-00001-deployment')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-00001-deployment')])])), ast_node_ids=['774', '778'], id='849', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-tokyo\" namespace'), PickleStep(argument=None, ast_node_ids=['775', '778'], id='850', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-godzilla.laptop-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['780', '778']), Pickle(id='856', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup laptop host for godzilla username', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='852', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='853', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['781', '784'], id='854', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"laptop\"'), PickleStep(argument=None, ast_node_ids=['782', '784'], id='855', type=<Type.outcome: 'Outcome'>, text='the host \"laptop\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['787', '784']), Pickle(id='861', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup tablet host for tengu username', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='857', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='858', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['781', '785'], id='859', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"tablet\"'), PickleStep(argument=None, ast_node_ids=['782', '785'], id='860', type=<Type.outcome: 'Outcome'>, text='the host \"tablet\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['787', '785']), Pickle(id='866', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup godzilla username', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='862', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='863', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['788', '791'], id='864', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"godzilla\"'), PickleStep(argument=None, ast_node_ids=['789', '791'], id='865', type=<Type.outcome: 'Outcome'>, text='the user \"godzilla\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['794', '791']), Pickle(id='871', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup tengu username', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='867', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='868', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['788', '792'], id='869', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"tengu\"'), PickleStep(argument=None, ast_node_ids=['789', '792'], id='870', type=<Type.outcome: 'Outcome'>, text='the user \"tengu\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['794', '792']), Pickle(id='876', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup tokyo context', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='872', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='873', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['795', '798'], id='874', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"tokyo\"'), PickleStep(argument=None, ast_node_ids=['796', '798'], id='875', type=<Type.outcome: 'Outcome'>, text='the context \"tokyo\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['800', '798'])])","Source(uri='file:features/7_mindwm_two_users_one_context.feature', data='@mindwm_two_users_one_context\\n@mindwm_test\\nFeature: MindWM two users one context function test\\n  Background:\\n    Given A MindWM environment\\n    Then all nodes in Kubernetes are ready\\n\\n  Scenario: Create context <context>\\n    When God creates a MindWM context with the name \"<context>\"\\n    Then the context should be ready and operable\\n\\n    Then the following knative services are in a ready state in the \"context-<context>\" namespace\\n      | Knative service name |\\n      | iocontext            |\\n      | pong                 |\\n      | kafka-cdc            |\\n    And statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state\\n    Examples:\\n    | context | \\n    | tokyo   | \\n    \\n  Scenario: Create <username> and connects it to <context>\\n    When God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"\\n    Then the user resource should be ready and operable\\n    Examples:\\n    | context | username |\\n    | tokyo   | godzilla |\\n    | tokyo   | tengu    |\\n  Scenario: Create <host> resource and connects it to <username> user\\n    When God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"\\n    Then the host resource should be ready and operable\\n\\n    Examples: \\n    | username | host   |\\n    | godzilla | laptop | \\n    | tengu    | tablet | \\n\\n  Scenario: Send iodocument via nats host: <host>, user: <username> and check that second user received graph update\\n    When God creates a new cloudevent \\n      And God starts reading message from NATS topic \">\"\\n      And sets cloudevent header \"ce-subject\" to \"id\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"\\n      And sends cloudevent to nats topic \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"\\n      \"\"\"\\n      {\\n        \"input\": \"id\",\\n        \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n        \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n        \"type\": \"org.mindwm.v1.iodocument\"\\n      } \\n      \"\"\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name            |\\n      | iocontext-00001-deployment |\\n      | kafka-cdc-00001-deployment |\\n\\n    And a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<dst_user>.<dst_host>-host-broker-kne-trigger._knative\"\\n\\n    Examples:\\n    | context | src_user | src_host | dst_user | dst_host |  \\n    | tokyo   | godzilla | laptop   | tengu    | tablet   |\\n    | tokyo   | tengu    | tablet   | godzilla | laptop   | \\n\\n\\n  Scenario: Cleanup <host> host for <username> username\\n\\n    When God deletes the MindWM host resource \"<host>\"\\n    Then the host \"<host>\" should be deleted\\n\\n    Examples:\\n    | username | host   |\\n    | godzilla | laptop | \\n    | tengu    | tablet | \\n\\n  Scenario: Cleanup <username> username\\n    When God deletes the MindWM user resource \"<username>\"\\n    Then the user \"<username>\" should be deleted\\n\\n    Examples:\\n    | username | \\n    | godzilla |\\n    | tengu    | \\n\\n  Scenario: Cleanup <context> context\\n    When God deletes the MindWM context resource \"<context>\"\\n    Then the context \"<context>\" should be deleted\\n\\n    Examples:\\n    | context | \\n    | tokyo   |\\n', media_type='text/x.cucumber.gherkin+plain')","Pickle(id='809', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create context tokyo', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='803', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='804', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['739', '748'], id='805', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"tokyo\"'), PickleStep(argument=None, ast_node_ids=['740', '748'], id='806', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext')]), PickleTableRow(cells=[PickleTableCell(value='pong')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')])])), ast_node_ids=['745', '748'], id='807', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-tokyo\" namespace'), PickleStep(argument=None, ast_node_ids=['746', '748'], id='808', type=<Type.outcome: 'Outcome'>, text='statefulset \"tokyo-neo4j\" in namespace \"context-tokyo\" is in ready state')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['750', '748'])"],"tags":["scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/7_mindwm_two_users_one_context.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=<FeaturePathType.PATH: 'path'>, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())","pytest_bdd_scenario","@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')","mindwm_test","mindwm_two_users_one_context","namespace(create=False, name='default')"]},{"name":"test_scenarios[file:features/7_mindwm_two_users_one_context.feature-MindWM two users one context function test-Create tablet resource and connects it to tengu user[table_rows:[line: 36]]]","uid":"def9538b77febcee","parentUid":"3961740595044ffd97a03e46799bfc30","status":"passed","time":{"start":1728404531359,"stop":1728404542602,"duration":11243},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["Feature(gherkin_document=GherkinDocument(uri='file:features/7_mindwm_two_users_one_context.feature', feature=Feature(location=Location(line=3, column=1), tags=[Tag(location=Location(line=1, column=1), name='@mindwm_two_users_one_context', id='801'), Tag(location=Location(line=2, column=1), name='@mindwm_test', id='802')], language='en', keyword='Feature', name='MindWM two users one context function test', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='736'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='737')], id='738'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Create context <context>', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='739'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='740'), Step(location=Location(line=12, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=13, column=7), rows=[TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='Knative service name')], id='741'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='iocontext')], id='742'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='pong')], id='743'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='kafka-cdc')], id='744')]), id='745'), Step(location=Location(line=17, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='746')], examples=[Examples(location=Location(line=18, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=19, column=5), cells=[TableCell(location=Location(line=19, column=7), value='context')], id='747'), table_body=[TableRow(location=Location(line=20, column=5), cells=[TableCell(location=Location(line=20, column=7), value='tokyo')], id='748')], id='749')], id='750')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=22, column=3), tags=[], keyword='Scenario', name='Create <username> and connects it to <context>', description='', steps=[Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='751'), Step(location=Location(line=24, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='752')], examples=[Examples(location=Location(line=25, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=26, column=5), cells=[TableCell(location=Location(line=26, column=7), value='context'), TableCell(location=Location(line=26, column=17), value='username')], id='753'), table_body=[TableRow(location=Location(line=27, column=5), cells=[TableCell(location=Location(line=27, column=7), value='tokyo'), TableCell(location=Location(line=27, column=17), value='godzilla')], id='754'), TableRow(location=Location(line=28, column=5), cells=[TableCell(location=Location(line=28, column=7), value='tokyo'), TableCell(location=Location(line=28, column=17), value='tengu')], id='755')], id='756')], id='757')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=29, column=3), tags=[], keyword='Scenario', name='Create <host> resource and connects it to <username> user', description='', steps=[Step(location=Location(line=30, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='758'), Step(location=Location(line=31, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='759')], examples=[Examples(location=Location(line=33, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='username'), TableCell(location=Location(line=34, column=18), value='host')], id='760'), table_body=[TableRow(location=Location(line=35, column=5), cells=[TableCell(location=Location(line=35, column=7), value='godzilla'), TableCell(location=Location(line=35, column=18), value='laptop')], id='761'), TableRow(location=Location(line=36, column=5), cells=[TableCell(location=Location(line=36, column=7), value='tengu'), TableCell(location=Location(line=36, column=18), value='tablet')], id='762')], id='763')], id='764')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=38, column=3), tags=[], keyword='Scenario', name='Send iodocument via nats host: <host>, user: <username> and check that second user received graph update', description='', steps=[Step(location=Location(line=39, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='765'), Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='766'), Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='767'), Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='768'), Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=None, data_table=None, id='769'), Step(location=Location(line=44, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=DocString(location=Location(line=45, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='770'), Step(location=Location(line=54, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=55, column=7), rows=[TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='Deployment name')], id='771'), TableRow(location=Location(line=56, column=7), cells=[TableCell(location=Location(line=56, column=9), value='iocontext-00001-deployment')], id='772'), TableRow(location=Location(line=57, column=7), cells=[TableCell(location=Location(line=57, column=9), value='kafka-cdc-00001-deployment')], id='773')]), id='774'), Step(location=Location(line=59, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<dst_user>.<dst_host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='775')], examples=[Examples(location=Location(line=61, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=62, column=5), cells=[TableCell(location=Location(line=62, column=7), value='context'), TableCell(location=Location(line=62, column=17), value='src_user'), TableCell(location=Location(line=62, column=28), value='src_host'), TableCell(location=Location(line=62, column=39), value='dst_user'), TableCell(location=Location(line=62, column=50), value='dst_host')], id='776'), table_body=[TableRow(location=Location(line=63, column=5), cells=[TableCell(location=Location(line=63, column=7), value='tokyo'), TableCell(location=Location(line=63, column=17), value='godzilla'), TableCell(location=Location(line=63, column=28), value='laptop'), TableCell(location=Location(line=63, column=39), value='tengu'), TableCell(location=Location(line=63, column=50), value='tablet')], id='777'), TableRow(location=Location(line=64, column=5), cells=[TableCell(location=Location(line=64, column=7), value='tokyo'), TableCell(location=Location(line=64, column=17), value='tengu'), TableCell(location=Location(line=64, column=28), value='tablet'), TableCell(location=Location(line=64, column=39), value='godzilla'), TableCell(location=Location(line=64, column=50), value='laptop')], id='778')], id='779')], id='780')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=67, column=3), tags=[], keyword='Scenario', name='Cleanup <host> host for <username> username', description='', steps=[Step(location=Location(line=69, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='781'), Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='782')], examples=[Examples(location=Location(line=72, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=73, column=5), cells=[TableCell(location=Location(line=73, column=7), value='username'), TableCell(location=Location(line=73, column=18), value='host')], id='783'), table_body=[TableRow(location=Location(line=74, column=5), cells=[TableCell(location=Location(line=74, column=7), value='godzilla'), TableCell(location=Location(line=74, column=18), value='laptop')], id='784'), TableRow(location=Location(line=75, column=5), cells=[TableCell(location=Location(line=75, column=7), value='tengu'), TableCell(location=Location(line=75, column=18), value='tablet')], id='785')], id='786')], id='787')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=77, column=3), tags=[], keyword='Scenario', name='Cleanup <username> username', description='', steps=[Step(location=Location(line=78, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='788'), Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='789')], examples=[Examples(location=Location(line=81, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='username')], id='790'), table_body=[TableRow(location=Location(line=83, column=5), cells=[TableCell(location=Location(line=83, column=7), value='godzilla')], id='791'), TableRow(location=Location(line=84, column=5), cells=[TableCell(location=Location(line=84, column=7), value='tengu')], id='792')], id='793')], id='794')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=86, column=3), tags=[], keyword='Scenario', name='Cleanup <context> context', description='', steps=[Step(location=Location(line=87, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='795'), Step(location=Location(line=88, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='796')], examples=[Examples(location=Location(line=90, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=91, column=5), cells=[TableCell(location=Location(line=91, column=7), value='context')], id='797'), table_body=[TableRow(location=Location(line=92, column=5), cells=[TableCell(location=Location(line=92, column=7), value='tokyo')], id='798')], id='799')], id='800'))]), comments=[]), uri='file:features/7_mindwm_two_users_one_context.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/7_mindwm_two_users_one_context.feature', registry={'801': Tag(location=Location(line=1, column=1), name='@mindwm_two_users_one_context', id='801'), '802': Tag(location=Location(line=2, column=1), name='@mindwm_test', id='802'), '738': Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='736'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='737')], id='738'), '736': Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='736'), '737': Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='737'), '750': Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Create context <context>', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='739'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='740'), Step(location=Location(line=12, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=13, column=7), rows=[TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='Knative service name')], id='741'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='iocontext')], id='742'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='pong')], id='743'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='kafka-cdc')], id='744')]), id='745'), Step(location=Location(line=17, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='746')], examples=[Examples(location=Location(line=18, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=19, column=5), cells=[TableCell(location=Location(line=19, column=7), value='context')], id='747'), table_body=[TableRow(location=Location(line=20, column=5), cells=[TableCell(location=Location(line=20, column=7), value='tokyo')], id='748')], id='749')], id='750'), '739': Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='739'), '740': Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='740'), '745': Step(location=Location(line=12, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=13, column=7), rows=[TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='Knative service name')], id='741'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='iocontext')], id='742'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='pong')], id='743'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='kafka-cdc')], id='744')]), id='745'), '746': Step(location=Location(line=17, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='746'), '749': Examples(location=Location(line=18, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=19, column=5), cells=[TableCell(location=Location(line=19, column=7), value='context')], id='747'), table_body=[TableRow(location=Location(line=20, column=5), cells=[TableCell(location=Location(line=20, column=7), value='tokyo')], id='748')], id='749'), '747': TableRow(location=Location(line=19, column=5), cells=[TableCell(location=Location(line=19, column=7), value='context')], id='747'), '748': TableRow(location=Location(line=20, column=5), cells=[TableCell(location=Location(line=20, column=7), value='tokyo')], id='748'), '757': Scenario(location=Location(line=22, column=3), tags=[], keyword='Scenario', name='Create <username> and connects it to <context>', description='', steps=[Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='751'), Step(location=Location(line=24, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='752')], examples=[Examples(location=Location(line=25, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=26, column=5), cells=[TableCell(location=Location(line=26, column=7), value='context'), TableCell(location=Location(line=26, column=17), value='username')], id='753'), table_body=[TableRow(location=Location(line=27, column=5), cells=[TableCell(location=Location(line=27, column=7), value='tokyo'), TableCell(location=Location(line=27, column=17), value='godzilla')], id='754'), TableRow(location=Location(line=28, column=5), cells=[TableCell(location=Location(line=28, column=7), value='tokyo'), TableCell(location=Location(line=28, column=17), value='tengu')], id='755')], id='756')], id='757'), '751': Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='751'), '752': Step(location=Location(line=24, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='752'), '756': Examples(location=Location(line=25, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=26, column=5), cells=[TableCell(location=Location(line=26, column=7), value='context'), TableCell(location=Location(line=26, column=17), value='username')], id='753'), table_body=[TableRow(location=Location(line=27, column=5), cells=[TableCell(location=Location(line=27, column=7), value='tokyo'), TableCell(location=Location(line=27, column=17), value='godzilla')], id='754'), TableRow(location=Location(line=28, column=5), cells=[TableCell(location=Location(line=28, column=7), value='tokyo'), TableCell(location=Location(line=28, column=17), value='tengu')], id='755')], id='756'), '753': TableRow(location=Location(line=26, column=5), cells=[TableCell(location=Location(line=26, column=7), value='context'), TableCell(location=Location(line=26, column=17), value='username')], id='753'), '754': TableRow(location=Location(line=27, column=5), cells=[TableCell(location=Location(line=27, column=7), value='tokyo'), TableCell(location=Location(line=27, column=17), value='godzilla')], id='754'), '755': TableRow(location=Location(line=28, column=5), cells=[TableCell(location=Location(line=28, column=7), value='tokyo'), TableCell(location=Location(line=28, column=17), value='tengu')], id='755'), '764': Scenario(location=Location(line=29, column=3), tags=[], keyword='Scenario', name='Create <host> resource and connects it to <username> user', description='', steps=[Step(location=Location(line=30, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='758'), Step(location=Location(line=31, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='759')], examples=[Examples(location=Location(line=33, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='username'), TableCell(location=Location(line=34, column=18), value='host')], id='760'), table_body=[TableRow(location=Location(line=35, column=5), cells=[TableCell(location=Location(line=35, column=7), value='godzilla'), TableCell(location=Location(line=35, column=18), value='laptop')], id='761'), TableRow(location=Location(line=36, column=5), cells=[TableCell(location=Location(line=36, column=7), value='tengu'), TableCell(location=Location(line=36, column=18), value='tablet')], id='762')], id='763')], id='764'), '758': Step(location=Location(line=30, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='758'), '759': Step(location=Location(line=31, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='759'), '763': Examples(location=Location(line=33, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='username'), TableCell(location=Location(line=34, column=18), value='host')], id='760'), table_body=[TableRow(location=Location(line=35, column=5), cells=[TableCell(location=Location(line=35, column=7), value='godzilla'), TableCell(location=Location(line=35, column=18), value='laptop')], id='761'), TableRow(location=Location(line=36, column=5), cells=[TableCell(location=Location(line=36, column=7), value='tengu'), TableCell(location=Location(line=36, column=18), value='tablet')], id='762')], id='763'), '760': TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='username'), TableCell(location=Location(line=34, column=18), value='host')], id='760'), '761': TableRow(location=Location(line=35, column=5), cells=[TableCell(location=Location(line=35, column=7), value='godzilla'), TableCell(location=Location(line=35, column=18), value='laptop')], id='761'), '762': TableRow(location=Location(line=36, column=5), cells=[TableCell(location=Location(line=36, column=7), value='tengu'), TableCell(location=Location(line=36, column=18), value='tablet')], id='762'), '780': Scenario(location=Location(line=38, column=3), tags=[], keyword='Scenario', name='Send iodocument via nats host: <host>, user: <username> and check that second user received graph update', description='', steps=[Step(location=Location(line=39, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='765'), Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='766'), Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='767'), Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='768'), Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=None, data_table=None, id='769'), Step(location=Location(line=44, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=DocString(location=Location(line=45, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='770'), Step(location=Location(line=54, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=55, column=7), rows=[TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='Deployment name')], id='771'), TableRow(location=Location(line=56, column=7), cells=[TableCell(location=Location(line=56, column=9), value='iocontext-00001-deployment')], id='772'), TableRow(location=Location(line=57, column=7), cells=[TableCell(location=Location(line=57, column=9), value='kafka-cdc-00001-deployment')], id='773')]), id='774'), Step(location=Location(line=59, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<dst_user>.<dst_host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='775')], examples=[Examples(location=Location(line=61, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=62, column=5), cells=[TableCell(location=Location(line=62, column=7), value='context'), TableCell(location=Location(line=62, column=17), value='src_user'), TableCell(location=Location(line=62, column=28), value='src_host'), TableCell(location=Location(line=62, column=39), value='dst_user'), TableCell(location=Location(line=62, column=50), value='dst_host')], id='776'), table_body=[TableRow(location=Location(line=63, column=5), cells=[TableCell(location=Location(line=63, column=7), value='tokyo'), TableCell(location=Location(line=63, column=17), value='godzilla'), TableCell(location=Location(line=63, column=28), value='laptop'), TableCell(location=Location(line=63, column=39), value='tengu'), TableCell(location=Location(line=63, column=50), value='tablet')], id='777'), TableRow(location=Location(line=64, column=5), cells=[TableCell(location=Location(line=64, column=7), value='tokyo'), TableCell(location=Location(line=64, column=17), value='tengu'), TableCell(location=Location(line=64, column=28), value='tablet'), TableCell(location=Location(line=64, column=39), value='godzilla'), TableCell(location=Location(line=64, column=50), value='laptop')], id='778')], id='779')], id='780'), '765': Step(location=Location(line=39, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='765'), '766': Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='766'), '767': Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='767'), '768': Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='768'), '769': Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=None, data_table=None, id='769'), '770': Step(location=Location(line=44, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=DocString(location=Location(line=45, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='770'), '774': Step(location=Location(line=54, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=55, column=7), rows=[TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='Deployment name')], id='771'), TableRow(location=Location(line=56, column=7), cells=[TableCell(location=Location(line=56, column=9), value='iocontext-00001-deployment')], id='772'), TableRow(location=Location(line=57, column=7), cells=[TableCell(location=Location(line=57, column=9), value='kafka-cdc-00001-deployment')], id='773')]), id='774'), '775': Step(location=Location(line=59, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<dst_user>.<dst_host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='775'), '779': Examples(location=Location(line=61, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=62, column=5), cells=[TableCell(location=Location(line=62, column=7), value='context'), TableCell(location=Location(line=62, column=17), value='src_user'), TableCell(location=Location(line=62, column=28), value='src_host'), TableCell(location=Location(line=62, column=39), value='dst_user'), TableCell(location=Location(line=62, column=50), value='dst_host')], id='776'), table_body=[TableRow(location=Location(line=63, column=5), cells=[TableCell(location=Location(line=63, column=7), value='tokyo'), TableCell(location=Location(line=63, column=17), value='godzilla'), TableCell(location=Location(line=63, column=28), value='laptop'), TableCell(location=Location(line=63, column=39), value='tengu'), TableCell(location=Location(line=63, column=50), value='tablet')], id='777'), TableRow(location=Location(line=64, column=5), cells=[TableCell(location=Location(line=64, column=7), value='tokyo'), TableCell(location=Location(line=64, column=17), value='tengu'), TableCell(location=Location(line=64, column=28), value='tablet'), TableCell(location=Location(line=64, column=39), value='godzilla'), TableCell(location=Location(line=64, column=50), value='laptop')], id='778')], id='779'), '776': TableRow(location=Location(line=62, column=5), cells=[TableCell(location=Location(line=62, column=7), value='context'), TableCell(location=Location(line=62, column=17), value='src_user'), TableCell(location=Location(line=62, column=28), value='src_host'), TableCell(location=Location(line=62, column=39), value='dst_user'), TableCell(location=Location(line=62, column=50), value='dst_host')], id='776'), '777': TableRow(location=Location(line=63, column=5), cells=[TableCell(location=Location(line=63, column=7), value='tokyo'), TableCell(location=Location(line=63, column=17), value='godzilla'), TableCell(location=Location(line=63, column=28), value='laptop'), TableCell(location=Location(line=63, column=39), value='tengu'), TableCell(location=Location(line=63, column=50), value='tablet')], id='777'), '778': TableRow(location=Location(line=64, column=5), cells=[TableCell(location=Location(line=64, column=7), value='tokyo'), TableCell(location=Location(line=64, column=17), value='tengu'), TableCell(location=Location(line=64, column=28), value='tablet'), TableCell(location=Location(line=64, column=39), value='godzilla'), TableCell(location=Location(line=64, column=50), value='laptop')], id='778'), '787': Scenario(location=Location(line=67, column=3), tags=[], keyword='Scenario', name='Cleanup <host> host for <username> username', description='', steps=[Step(location=Location(line=69, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='781'), Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='782')], examples=[Examples(location=Location(line=72, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=73, column=5), cells=[TableCell(location=Location(line=73, column=7), value='username'), TableCell(location=Location(line=73, column=18), value='host')], id='783'), table_body=[TableRow(location=Location(line=74, column=5), cells=[TableCell(location=Location(line=74, column=7), value='godzilla'), TableCell(location=Location(line=74, column=18), value='laptop')], id='784'), TableRow(location=Location(line=75, column=5), cells=[TableCell(location=Location(line=75, column=7), value='tengu'), TableCell(location=Location(line=75, column=18), value='tablet')], id='785')], id='786')], id='787'), '781': Step(location=Location(line=69, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='781'), '782': Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='782'), '786': Examples(location=Location(line=72, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=73, column=5), cells=[TableCell(location=Location(line=73, column=7), value='username'), TableCell(location=Location(line=73, column=18), value='host')], id='783'), table_body=[TableRow(location=Location(line=74, column=5), cells=[TableCell(location=Location(line=74, column=7), value='godzilla'), TableCell(location=Location(line=74, column=18), value='laptop')], id='784'), TableRow(location=Location(line=75, column=5), cells=[TableCell(location=Location(line=75, column=7), value='tengu'), TableCell(location=Location(line=75, column=18), value='tablet')], id='785')], id='786'), '783': TableRow(location=Location(line=73, column=5), cells=[TableCell(location=Location(line=73, column=7), value='username'), TableCell(location=Location(line=73, column=18), value='host')], id='783'), '784': TableRow(location=Location(line=74, column=5), cells=[TableCell(location=Location(line=74, column=7), value='godzilla'), TableCell(location=Location(line=74, column=18), value='laptop')], id='784'), '785': TableRow(location=Location(line=75, column=5), cells=[TableCell(location=Location(line=75, column=7), value='tengu'), TableCell(location=Location(line=75, column=18), value='tablet')], id='785'), '794': Scenario(location=Location(line=77, column=3), tags=[], keyword='Scenario', name='Cleanup <username> username', description='', steps=[Step(location=Location(line=78, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='788'), Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='789')], examples=[Examples(location=Location(line=81, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='username')], id='790'), table_body=[TableRow(location=Location(line=83, column=5), cells=[TableCell(location=Location(line=83, column=7), value='godzilla')], id='791'), TableRow(location=Location(line=84, column=5), cells=[TableCell(location=Location(line=84, column=7), value='tengu')], id='792')], id='793')], id='794'), '788': Step(location=Location(line=78, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='788'), '789': Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='789'), '793': Examples(location=Location(line=81, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='username')], id='790'), table_body=[TableRow(location=Location(line=83, column=5), cells=[TableCell(location=Location(line=83, column=7), value='godzilla')], id='791'), TableRow(location=Location(line=84, column=5), cells=[TableCell(location=Location(line=84, column=7), value='tengu')], id='792')], id='793'), '790': TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='username')], id='790'), '791': TableRow(location=Location(line=83, column=5), cells=[TableCell(location=Location(line=83, column=7), value='godzilla')], id='791'), '792': TableRow(location=Location(line=84, column=5), cells=[TableCell(location=Location(line=84, column=7), value='tengu')], id='792'), '800': Scenario(location=Location(line=86, column=3), tags=[], keyword='Scenario', name='Cleanup <context> context', description='', steps=[Step(location=Location(line=87, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='795'), Step(location=Location(line=88, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='796')], examples=[Examples(location=Location(line=90, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=91, column=5), cells=[TableCell(location=Location(line=91, column=7), value='context')], id='797'), table_body=[TableRow(location=Location(line=92, column=5), cells=[TableCell(location=Location(line=92, column=7), value='tokyo')], id='798')], id='799')], id='800'), '795': Step(location=Location(line=87, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='795'), '796': Step(location=Location(line=88, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='796'), '799': Examples(location=Location(line=90, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=91, column=5), cells=[TableCell(location=Location(line=91, column=7), value='context')], id='797'), table_body=[TableRow(location=Location(line=92, column=5), cells=[TableCell(location=Location(line=92, column=7), value='tokyo')], id='798')], id='799'), '797': TableRow(location=Location(line=91, column=5), cells=[TableCell(location=Location(line=91, column=7), value='context')], id='797'), '798': TableRow(location=Location(line=92, column=5), cells=[TableCell(location=Location(line=92, column=7), value='tokyo')], id='798')}, pickles=[Pickle(id='809', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create context tokyo', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='803', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='804', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['739', '748'], id='805', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"tokyo\"'), PickleStep(argument=None, ast_node_ids=['740', '748'], id='806', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext')]), PickleTableRow(cells=[PickleTableCell(value='pong')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')])])), ast_node_ids=['745', '748'], id='807', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-tokyo\" namespace'), PickleStep(argument=None, ast_node_ids=['746', '748'], id='808', type=<Type.outcome: 'Outcome'>, text='statefulset \"tokyo-neo4j\" in namespace \"context-tokyo\" is in ready state')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['750', '748']), Pickle(id='814', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create godzilla and connects it to tokyo', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='810', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='811', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['751', '754'], id='812', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"godzilla\" and connects it to the context \"tokyo\"'), PickleStep(argument=None, ast_node_ids=['752', '754'], id='813', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['757', '754']), Pickle(id='819', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create tengu and connects it to tokyo', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='815', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='816', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['751', '755'], id='817', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"tengu\" and connects it to the context \"tokyo\"'), PickleStep(argument=None, ast_node_ids=['752', '755'], id='818', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['757', '755']), Pickle(id='824', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create laptop resource and connects it to godzilla user', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='820', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='821', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['758', '761'], id='822', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"laptop\" and connects it to the user \"godzilla\"'), PickleStep(argument=None, ast_node_ids=['759', '761'], id='823', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['764', '761']), Pickle(id='829', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create tablet resource and connects it to tengu user', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='825', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='826', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['758', '762'], id='827', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"tablet\" and connects it to the user \"tengu\"'), PickleStep(argument=None, ast_node_ids=['759', '762'], id='828', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['764', '762']), Pickle(id='840', uri='file:features/7_mindwm_two_users_one_context.feature', name='Send iodocument via nats host: <host>, user: <username> and check that second user received graph update', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='830', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='831', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['765', '777'], id='832', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['766', '777'], id='833', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['767', '777'], id='834', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"id\"'), PickleStep(argument=None, ast_node_ids=['768', '777'], id='835', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['769', '777'], id='836', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.godzilla.laptop.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['770', '777'], id='837', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.godzilla.laptop.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-00001-deployment')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-00001-deployment')])])), ast_node_ids=['774', '777'], id='838', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-tokyo\" namespace'), PickleStep(argument=None, ast_node_ids=['775', '777'], id='839', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-tengu.tablet-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['780', '777']), Pickle(id='851', uri='file:features/7_mindwm_two_users_one_context.feature', name='Send iodocument via nats host: <host>, user: <username> and check that second user received graph update', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='841', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='842', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['765', '778'], id='843', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['766', '778'], id='844', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['767', '778'], id='845', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"id\"'), PickleStep(argument=None, ast_node_ids=['768', '778'], id='846', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['769', '778'], id='847', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.tengu.tablet.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['770', '778'], id='848', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.tengu.tablet.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-00001-deployment')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-00001-deployment')])])), ast_node_ids=['774', '778'], id='849', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-tokyo\" namespace'), PickleStep(argument=None, ast_node_ids=['775', '778'], id='850', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-godzilla.laptop-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['780', '778']), Pickle(id='856', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup laptop host for godzilla username', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='852', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='853', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['781', '784'], id='854', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"laptop\"'), PickleStep(argument=None, ast_node_ids=['782', '784'], id='855', type=<Type.outcome: 'Outcome'>, text='the host \"laptop\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['787', '784']), Pickle(id='861', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup tablet host for tengu username', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='857', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='858', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['781', '785'], id='859', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"tablet\"'), PickleStep(argument=None, ast_node_ids=['782', '785'], id='860', type=<Type.outcome: 'Outcome'>, text='the host \"tablet\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['787', '785']), Pickle(id='866', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup godzilla username', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='862', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='863', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['788', '791'], id='864', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"godzilla\"'), PickleStep(argument=None, ast_node_ids=['789', '791'], id='865', type=<Type.outcome: 'Outcome'>, text='the user \"godzilla\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['794', '791']), Pickle(id='871', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup tengu username', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='867', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='868', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['788', '792'], id='869', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"tengu\"'), PickleStep(argument=None, ast_node_ids=['789', '792'], id='870', type=<Type.outcome: 'Outcome'>, text='the user \"tengu\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['794', '792']), Pickle(id='876', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup tokyo context', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='872', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='873', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['795', '798'], id='874', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"tokyo\"'), PickleStep(argument=None, ast_node_ids=['796', '798'], id='875', type=<Type.outcome: 'Outcome'>, text='the context \"tokyo\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['800', '798'])])","Source(uri='file:features/7_mindwm_two_users_one_context.feature', data='@mindwm_two_users_one_context\\n@mindwm_test\\nFeature: MindWM two users one context function test\\n  Background:\\n    Given A MindWM environment\\n    Then all nodes in Kubernetes are ready\\n\\n  Scenario: Create context <context>\\n    When God creates a MindWM context with the name \"<context>\"\\n    Then the context should be ready and operable\\n\\n    Then the following knative services are in a ready state in the \"context-<context>\" namespace\\n      | Knative service name |\\n      | iocontext            |\\n      | pong                 |\\n      | kafka-cdc            |\\n    And statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state\\n    Examples:\\n    | context | \\n    | tokyo   | \\n    \\n  Scenario: Create <username> and connects it to <context>\\n    When God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"\\n    Then the user resource should be ready and operable\\n    Examples:\\n    | context | username |\\n    | tokyo   | godzilla |\\n    | tokyo   | tengu    |\\n  Scenario: Create <host> resource and connects it to <username> user\\n    When God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"\\n    Then the host resource should be ready and operable\\n\\n    Examples: \\n    | username | host   |\\n    | godzilla | laptop | \\n    | tengu    | tablet | \\n\\n  Scenario: Send iodocument via nats host: <host>, user: <username> and check that second user received graph update\\n    When God creates a new cloudevent \\n      And God starts reading message from NATS topic \">\"\\n      And sets cloudevent header \"ce-subject\" to \"id\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"\\n      And sends cloudevent to nats topic \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"\\n      \"\"\"\\n      {\\n        \"input\": \"id\",\\n        \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n        \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n        \"type\": \"org.mindwm.v1.iodocument\"\\n      } \\n      \"\"\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name            |\\n      | iocontext-00001-deployment |\\n      | kafka-cdc-00001-deployment |\\n\\n    And a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<dst_user>.<dst_host>-host-broker-kne-trigger._knative\"\\n\\n    Examples:\\n    | context | src_user | src_host | dst_user | dst_host |  \\n    | tokyo   | godzilla | laptop   | tengu    | tablet   |\\n    | tokyo   | tengu    | tablet   | godzilla | laptop   | \\n\\n\\n  Scenario: Cleanup <host> host for <username> username\\n\\n    When God deletes the MindWM host resource \"<host>\"\\n    Then the host \"<host>\" should be deleted\\n\\n    Examples:\\n    | username | host   |\\n    | godzilla | laptop | \\n    | tengu    | tablet | \\n\\n  Scenario: Cleanup <username> username\\n    When God deletes the MindWM user resource \"<username>\"\\n    Then the user \"<username>\" should be deleted\\n\\n    Examples:\\n    | username | \\n    | godzilla |\\n    | tengu    | \\n\\n  Scenario: Cleanup <context> context\\n    When God deletes the MindWM context resource \"<context>\"\\n    Then the context \"<context>\" should be deleted\\n\\n    Examples:\\n    | context | \\n    | tokyo   |\\n', media_type='text/x.cucumber.gherkin+plain')","Pickle(id='829', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create tablet resource and connects it to tengu user', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='825', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='826', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['758', '762'], id='827', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"tablet\" and connects it to the user \"tengu\"'), PickleStep(argument=None, ast_node_ids=['759', '762'], id='828', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['764', '762'])"],"tags":["scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/7_mindwm_two_users_one_context.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=<FeaturePathType.PATH: 'path'>, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())","pytest_bdd_scenario","@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')","mindwm_test","mindwm_two_users_one_context","namespace(create=False, name='default')"]},{"name":"test_scenarios[file:features/9_mindwm_clipboard.feature-MindWM clipboard EDA test-Prepare environment for ping tests[table_rows:[line: 27]]]","uid":"2b6d823edc0d815e","parentUid":"3961740595044ffd97a03e46799bfc30","status":"passed","time":{"start":1728404819949,"stop":1728404938976,"duration":119027},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["Feature(gherkin_document=GherkinDocument(uri='file:features/9_mindwm_clipboard.feature', feature=Feature(location=Location(line=3, column=1), tags=[Tag(location=Location(line=1, column=1), name='@mindwm_clipboard', id='1036'), Tag(location=Location(line=2, column=1), name='@mindwm_test', id='1037')], language='en', keyword='Feature', name='MindWM clipboard EDA test', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='957'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='958')], id='959'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Prepare environment for ping tests', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='960'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='961'), Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='962'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='clipboard')], id='963')]), id='964'), Step(location=Location(line=14, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='965'), Step(location=Location(line=16, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='966'), Step(location=Location(line=17, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='967'), Step(location=Location(line=19, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='968'), Step(location=Location(line=20, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='969'), Step(location=Location(line=21, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace', doc_string=None, data_table=None, id='970'), Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='971')], examples=[Examples(location=Location(line=25, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='context'), TableCell(location=Location(line=26, column=18), value='username'), TableCell(location=Location(line=26, column=31), value='host')], id='972'), table_body=[TableRow(location=Location(line=27, column=6), cells=[TableCell(location=Location(line=27, column=8), value='philadelphia'), TableCell(location=Location(line=27, column=25), value='flukeman'), TableCell(location=Location(line=27, column=38), value='the-host')], id='973')], id='974')], id='975')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=29, column=3), tags=[], keyword='Scenario', name='Send clipboard to knative ping service', description='', steps=[Step(location=Location(line=30, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='976'), Step(location=Location(line=31, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='977'), Step(location=Location(line=32, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='978'), Step(location=Location(line=33, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='979'), Step(location=Location(line=34, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='980'), Step(location=Location(line=35, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to knative service \"clipboard\" in \"context-<context>\" namespace', doc_string=DocString(location=Location(line=36, column=7), media_type=None, content='{\\n  \"uuid\": \"6ca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325473,\\n  \"data\": \"clipboard primary data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='981'), Step(location=Location(line=43, column=7), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"200\"', doc_string=None, data_table=None, id='982'), Step(location=Location(line=45, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=46, column=7), rows=[TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='Deployment name')], id='983'), TableRow(location=Location(line=47, column=7), cells=[TableCell(location=Location(line=47, column=9), value='clipboard-00001-deployment')], id='984')]), id='985')], examples=[Examples(location=Location(line=49, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='context'), TableCell(location=Location(line=50, column=18), value='username'), TableCell(location=Location(line=50, column=31), value='host'), TableCell(location=Location(line=50, column=43), value='traceparent')], id='986'), table_body=[TableRow(location=Location(line=51, column=6), cells=[TableCell(location=Location(line=51, column=8), value='philadelphia'), TableCell(location=Location(line=51, column=25), value='flukeman'), TableCell(location=Location(line=51, column=38), value='the-host'), TableCell(location=Location(line=51, column=50), value='00-6ef92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='987')], id='988')], id='989')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=53, column=3), tags=[], keyword='Scenario', name='Send ping directly to function <endpoint>', description='', steps=[Step(location=Location(line=54, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='990'), Step(location=Location(line=55, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='991'), Step(location=Location(line=56, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='992'), Step(location=Location(line=57, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='993'), Step(location=Location(line=58, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='994'), Step(location=Location(line=59, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='995'), Step(location=Location(line=60, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to \"<endpoint>\"', doc_string=DocString(location=Location(line=61, column=7), media_type=None, content='{\\n  \"uuid\": \"4bca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard secondary data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='996'), Step(location=Location(line=68, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"202\"', doc_string=None, data_table=None, id='997'), Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=71, column=7), rows=[TableRow(location=Location(line=71, column=7), cells=[TableCell(location=Location(line=71, column=9), value='Deployment name')], id='998'), TableRow(location=Location(line=72, column=7), cells=[TableCell(location=Location(line=72, column=9), value='clipboard-00001-deployment')], id='999')]), id='1000'), Step(location=Location(line=73, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the trace with \"<traceparent>\" should appear in TraceQL', doc_string=None, data_table=None, id='1001'), Step(location=Location(line=74, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the trace should contains', doc_string=None, data_table=DataTable(location=Location(line=75, column=7), rows=[TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='service name')], id='1002'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='broker-ingress.knative-eventing')], id='1003'), TableRow(location=Location(line=77, column=7), cells=[TableCell(location=Location(line=77, column=9), value='unknown_service')], id='1004'), TableRow(location=Location(line=78, column=7), cells=[TableCell(location=Location(line=78, column=9), value='jetstream-ch-dispatcher')], id='1005')]), id='1006'), Step(location=Location(line=79, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='1007')], examples=[Examples(location=Location(line=81, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='context'), TableCell(location=Location(line=82, column=18), value='username'), TableCell(location=Location(line=82, column=31), value='host'), TableCell(location=Location(line=82, column=43), value='endpoint'), TableCell(location=Location(line=82, column=54), value='traceparent')], id='1008'), table_body=[TableRow(location=Location(line=83, column=6), cells=[TableCell(location=Location(line=83, column=8), value='philadelphia'), TableCell(location=Location(line=83, column=25), value='flukeman'), TableCell(location=Location(line=83, column=38), value='the-host'), TableCell(location=Location(line=83, column=50), value='broker-ingress.knative-eventing/context-philadelphia/context-broker'), TableCell(location=Location(line=83, column=122), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='1009'), TableRow(location=Location(line=84, column=6), cells=[TableCell(location=Location(line=84, column=8), value='philadelphia'), TableCell(location=Location(line=84, column=25), value='flukeman'), TableCell(location=Location(line=84, column=38), value='the-host'), TableCell(location=Location(line=84, column=50), value='broker-ingress.knative-eventing/user-flukeman/user-broker'), TableCell(location=Location(line=84, column=110), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1010')], id='1011')], id='1012')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=87, column=3), tags=[], keyword='Scenario', name='Send ping via nats', description='', steps=[Step(location=Location(line=88, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='1013'), Step(location=Location(line=89, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-id\" to \"<uuid>\"', doc_string=None, data_table=None, id='1014'), Step(location=Location(line=90, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='1015'), Step(location=Location(line=91, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='1016'), Step(location=Location(line=92, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='1017'), Step(location=Location(line=93, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='1018'), Step(location=Location(line=94, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.clipboard\"', doc_string=DocString(location=Location(line=95, column=7), media_type=None, content='{\\n  \"uuid\": \"3bca8a133-aba6-4f7f-ab95-242802fcac3c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard #3 data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='1019'), Step(location=Location(line=103, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=104, column=7), rows=[TableRow(location=Location(line=104, column=7), cells=[TableCell(location=Location(line=104, column=9), value='Deployment name')], id='1020'), TableRow(location=Location(line=105, column=7), cells=[TableCell(location=Location(line=105, column=9), value='clipboard-00001-deployment')], id='1021')]), id='1022'), Step(location=Location(line=107, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='1023')], examples=[Examples(location=Location(line=110, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=111, column=6), cells=[TableCell(location=Location(line=111, column=8), value='context'), TableCell(location=Location(line=111, column=18), value='username'), TableCell(location=Location(line=111, column=31), value='host'), TableCell(location=Location(line=111, column=43), value='uuid'), TableCell(location=Location(line=111, column=83), value='traceparent')], id='1024'), table_body=[TableRow(location=Location(line=112, column=6), cells=[TableCell(location=Location(line=112, column=8), value='philadelphia'), TableCell(location=Location(line=112, column=25), value='flukeman'), TableCell(location=Location(line=112, column=38), value='the-host'), TableCell(location=Location(line=112, column=50), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=112, column=89), value='00-8af92f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1025')], id='1026')], id='1027')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=115, column=3), tags=[], keyword='Scenario', name='Cleanup <username>@<host> in <context>', description='', steps=[Step(location=Location(line=116, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='1028'), Step(location=Location(line=117, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='1029'), Step(location=Location(line=119, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='1030'), Step(location=Location(line=121, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='1031')], examples=[Examples(location=Location(line=123, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=124, column=5), cells=[TableCell(location=Location(line=124, column=7), value='context'), TableCell(location=Location(line=124, column=17), value='username'), TableCell(location=Location(line=124, column=28), value='host')], id='1032'), table_body=[TableRow(location=Location(line=125, column=5), cells=[TableCell(location=Location(line=125, column=7), value='philadelphia'), TableCell(location=Location(line=125, column=24), value='flukeman'), TableCell(location=Location(line=125, column=37), value='the-host')], id='1033')], id='1034')], id='1035'))]), comments=[]), uri='file:features/9_mindwm_clipboard.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/9_mindwm_clipboard.feature', registry={'1036': Tag(location=Location(line=1, column=1), name='@mindwm_clipboard', id='1036'), '1037': Tag(location=Location(line=2, column=1), name='@mindwm_test', id='1037'), '959': Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='957'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='958')], id='959'), '957': Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='957'), '958': Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='958'), '975': Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Prepare environment for ping tests', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='960'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='961'), Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='962'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='clipboard')], id='963')]), id='964'), Step(location=Location(line=14, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='965'), Step(location=Location(line=16, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='966'), Step(location=Location(line=17, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='967'), Step(location=Location(line=19, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='968'), Step(location=Location(line=20, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='969'), Step(location=Location(line=21, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace', doc_string=None, data_table=None, id='970'), Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='971')], examples=[Examples(location=Location(line=25, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='context'), TableCell(location=Location(line=26, column=18), value='username'), TableCell(location=Location(line=26, column=31), value='host')], id='972'), table_body=[TableRow(location=Location(line=27, column=6), cells=[TableCell(location=Location(line=27, column=8), value='philadelphia'), TableCell(location=Location(line=27, column=25), value='flukeman'), TableCell(location=Location(line=27, column=38), value='the-host')], id='973')], id='974')], id='975'), '960': Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='960'), '961': Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='961'), '964': Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='962'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='clipboard')], id='963')]), id='964'), '965': Step(location=Location(line=14, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='965'), '966': Step(location=Location(line=16, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='966'), '967': Step(location=Location(line=17, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='967'), '968': Step(location=Location(line=19, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='968'), '969': Step(location=Location(line=20, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='969'), '970': Step(location=Location(line=21, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace', doc_string=None, data_table=None, id='970'), '971': Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='971'), '974': Examples(location=Location(line=25, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='context'), TableCell(location=Location(line=26, column=18), value='username'), TableCell(location=Location(line=26, column=31), value='host')], id='972'), table_body=[TableRow(location=Location(line=27, column=6), cells=[TableCell(location=Location(line=27, column=8), value='philadelphia'), TableCell(location=Location(line=27, column=25), value='flukeman'), TableCell(location=Location(line=27, column=38), value='the-host')], id='973')], id='974'), '972': TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='context'), TableCell(location=Location(line=26, column=18), value='username'), TableCell(location=Location(line=26, column=31), value='host')], id='972'), '973': TableRow(location=Location(line=27, column=6), cells=[TableCell(location=Location(line=27, column=8), value='philadelphia'), TableCell(location=Location(line=27, column=25), value='flukeman'), TableCell(location=Location(line=27, column=38), value='the-host')], id='973'), '989': Scenario(location=Location(line=29, column=3), tags=[], keyword='Scenario', name='Send clipboard to knative ping service', description='', steps=[Step(location=Location(line=30, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='976'), Step(location=Location(line=31, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='977'), Step(location=Location(line=32, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='978'), Step(location=Location(line=33, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='979'), Step(location=Location(line=34, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='980'), Step(location=Location(line=35, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to knative service \"clipboard\" in \"context-<context>\" namespace', doc_string=DocString(location=Location(line=36, column=7), media_type=None, content='{\\n  \"uuid\": \"6ca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325473,\\n  \"data\": \"clipboard primary data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='981'), Step(location=Location(line=43, column=7), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"200\"', doc_string=None, data_table=None, id='982'), Step(location=Location(line=45, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=46, column=7), rows=[TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='Deployment name')], id='983'), TableRow(location=Location(line=47, column=7), cells=[TableCell(location=Location(line=47, column=9), value='clipboard-00001-deployment')], id='984')]), id='985')], examples=[Examples(location=Location(line=49, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='context'), TableCell(location=Location(line=50, column=18), value='username'), TableCell(location=Location(line=50, column=31), value='host'), TableCell(location=Location(line=50, column=43), value='traceparent')], id='986'), table_body=[TableRow(location=Location(line=51, column=6), cells=[TableCell(location=Location(line=51, column=8), value='philadelphia'), TableCell(location=Location(line=51, column=25), value='flukeman'), TableCell(location=Location(line=51, column=38), value='the-host'), TableCell(location=Location(line=51, column=50), value='00-6ef92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='987')], id='988')], id='989'), '976': Step(location=Location(line=30, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='976'), '977': Step(location=Location(line=31, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='977'), '978': Step(location=Location(line=32, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='978'), '979': Step(location=Location(line=33, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='979'), '980': Step(location=Location(line=34, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='980'), '981': Step(location=Location(line=35, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to knative service \"clipboard\" in \"context-<context>\" namespace', doc_string=DocString(location=Location(line=36, column=7), media_type=None, content='{\\n  \"uuid\": \"6ca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325473,\\n  \"data\": \"clipboard primary data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='981'), '982': Step(location=Location(line=43, column=7), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"200\"', doc_string=None, data_table=None, id='982'), '985': Step(location=Location(line=45, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=46, column=7), rows=[TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='Deployment name')], id='983'), TableRow(location=Location(line=47, column=7), cells=[TableCell(location=Location(line=47, column=9), value='clipboard-00001-deployment')], id='984')]), id='985'), '988': Examples(location=Location(line=49, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='context'), TableCell(location=Location(line=50, column=18), value='username'), TableCell(location=Location(line=50, column=31), value='host'), TableCell(location=Location(line=50, column=43), value='traceparent')], id='986'), table_body=[TableRow(location=Location(line=51, column=6), cells=[TableCell(location=Location(line=51, column=8), value='philadelphia'), TableCell(location=Location(line=51, column=25), value='flukeman'), TableCell(location=Location(line=51, column=38), value='the-host'), TableCell(location=Location(line=51, column=50), value='00-6ef92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='987')], id='988'), '986': TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='context'), TableCell(location=Location(line=50, column=18), value='username'), TableCell(location=Location(line=50, column=31), value='host'), TableCell(location=Location(line=50, column=43), value='traceparent')], id='986'), '987': TableRow(location=Location(line=51, column=6), cells=[TableCell(location=Location(line=51, column=8), value='philadelphia'), TableCell(location=Location(line=51, column=25), value='flukeman'), TableCell(location=Location(line=51, column=38), value='the-host'), TableCell(location=Location(line=51, column=50), value='00-6ef92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='987'), '1012': Scenario(location=Location(line=53, column=3), tags=[], keyword='Scenario', name='Send ping directly to function <endpoint>', description='', steps=[Step(location=Location(line=54, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='990'), Step(location=Location(line=55, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='991'), Step(location=Location(line=56, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='992'), Step(location=Location(line=57, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='993'), Step(location=Location(line=58, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='994'), Step(location=Location(line=59, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='995'), Step(location=Location(line=60, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to \"<endpoint>\"', doc_string=DocString(location=Location(line=61, column=7), media_type=None, content='{\\n  \"uuid\": \"4bca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard secondary data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='996'), Step(location=Location(line=68, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"202\"', doc_string=None, data_table=None, id='997'), Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=71, column=7), rows=[TableRow(location=Location(line=71, column=7), cells=[TableCell(location=Location(line=71, column=9), value='Deployment name')], id='998'), TableRow(location=Location(line=72, column=7), cells=[TableCell(location=Location(line=72, column=9), value='clipboard-00001-deployment')], id='999')]), id='1000'), Step(location=Location(line=73, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the trace with \"<traceparent>\" should appear in TraceQL', doc_string=None, data_table=None, id='1001'), Step(location=Location(line=74, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the trace should contains', doc_string=None, data_table=DataTable(location=Location(line=75, column=7), rows=[TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='service name')], id='1002'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='broker-ingress.knative-eventing')], id='1003'), TableRow(location=Location(line=77, column=7), cells=[TableCell(location=Location(line=77, column=9), value='unknown_service')], id='1004'), TableRow(location=Location(line=78, column=7), cells=[TableCell(location=Location(line=78, column=9), value='jetstream-ch-dispatcher')], id='1005')]), id='1006'), Step(location=Location(line=79, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='1007')], examples=[Examples(location=Location(line=81, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='context'), TableCell(location=Location(line=82, column=18), value='username'), TableCell(location=Location(line=82, column=31), value='host'), TableCell(location=Location(line=82, column=43), value='endpoint'), TableCell(location=Location(line=82, column=54), value='traceparent')], id='1008'), table_body=[TableRow(location=Location(line=83, column=6), cells=[TableCell(location=Location(line=83, column=8), value='philadelphia'), TableCell(location=Location(line=83, column=25), value='flukeman'), TableCell(location=Location(line=83, column=38), value='the-host'), TableCell(location=Location(line=83, column=50), value='broker-ingress.knative-eventing/context-philadelphia/context-broker'), TableCell(location=Location(line=83, column=122), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='1009'), TableRow(location=Location(line=84, column=6), cells=[TableCell(location=Location(line=84, column=8), value='philadelphia'), TableCell(location=Location(line=84, column=25), value='flukeman'), TableCell(location=Location(line=84, column=38), value='the-host'), TableCell(location=Location(line=84, column=50), value='broker-ingress.knative-eventing/user-flukeman/user-broker'), TableCell(location=Location(line=84, column=110), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1010')], id='1011')], id='1012'), '990': Step(location=Location(line=54, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='990'), '991': Step(location=Location(line=55, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='991'), '992': Step(location=Location(line=56, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='992'), '993': Step(location=Location(line=57, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='993'), '994': Step(location=Location(line=58, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='994'), '995': Step(location=Location(line=59, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='995'), '996': Step(location=Location(line=60, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to \"<endpoint>\"', doc_string=DocString(location=Location(line=61, column=7), media_type=None, content='{\\n  \"uuid\": \"4bca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard secondary data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='996'), '997': Step(location=Location(line=68, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"202\"', doc_string=None, data_table=None, id='997'), '1000': Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=71, column=7), rows=[TableRow(location=Location(line=71, column=7), cells=[TableCell(location=Location(line=71, column=9), value='Deployment name')], id='998'), TableRow(location=Location(line=72, column=7), cells=[TableCell(location=Location(line=72, column=9), value='clipboard-00001-deployment')], id='999')]), id='1000'), '1001': Step(location=Location(line=73, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the trace with \"<traceparent>\" should appear in TraceQL', doc_string=None, data_table=None, id='1001'), '1006': Step(location=Location(line=74, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the trace should contains', doc_string=None, data_table=DataTable(location=Location(line=75, column=7), rows=[TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='service name')], id='1002'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='broker-ingress.knative-eventing')], id='1003'), TableRow(location=Location(line=77, column=7), cells=[TableCell(location=Location(line=77, column=9), value='unknown_service')], id='1004'), TableRow(location=Location(line=78, column=7), cells=[TableCell(location=Location(line=78, column=9), value='jetstream-ch-dispatcher')], id='1005')]), id='1006'), '1007': Step(location=Location(line=79, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='1007'), '1011': Examples(location=Location(line=81, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='context'), TableCell(location=Location(line=82, column=18), value='username'), TableCell(location=Location(line=82, column=31), value='host'), TableCell(location=Location(line=82, column=43), value='endpoint'), TableCell(location=Location(line=82, column=54), value='traceparent')], id='1008'), table_body=[TableRow(location=Location(line=83, column=6), cells=[TableCell(location=Location(line=83, column=8), value='philadelphia'), TableCell(location=Location(line=83, column=25), value='flukeman'), TableCell(location=Location(line=83, column=38), value='the-host'), TableCell(location=Location(line=83, column=50), value='broker-ingress.knative-eventing/context-philadelphia/context-broker'), TableCell(location=Location(line=83, column=122), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='1009'), TableRow(location=Location(line=84, column=6), cells=[TableCell(location=Location(line=84, column=8), value='philadelphia'), TableCell(location=Location(line=84, column=25), value='flukeman'), TableCell(location=Location(line=84, column=38), value='the-host'), TableCell(location=Location(line=84, column=50), value='broker-ingress.knative-eventing/user-flukeman/user-broker'), TableCell(location=Location(line=84, column=110), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1010')], id='1011'), '1008': TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='context'), TableCell(location=Location(line=82, column=18), value='username'), TableCell(location=Location(line=82, column=31), value='host'), TableCell(location=Location(line=82, column=43), value='endpoint'), TableCell(location=Location(line=82, column=54), value='traceparent')], id='1008'), '1009': TableRow(location=Location(line=83, column=6), cells=[TableCell(location=Location(line=83, column=8), value='philadelphia'), TableCell(location=Location(line=83, column=25), value='flukeman'), TableCell(location=Location(line=83, column=38), value='the-host'), TableCell(location=Location(line=83, column=50), value='broker-ingress.knative-eventing/context-philadelphia/context-broker'), TableCell(location=Location(line=83, column=122), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='1009'), '1010': TableRow(location=Location(line=84, column=6), cells=[TableCell(location=Location(line=84, column=8), value='philadelphia'), TableCell(location=Location(line=84, column=25), value='flukeman'), TableCell(location=Location(line=84, column=38), value='the-host'), TableCell(location=Location(line=84, column=50), value='broker-ingress.knative-eventing/user-flukeman/user-broker'), TableCell(location=Location(line=84, column=110), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1010'), '1027': Scenario(location=Location(line=87, column=3), tags=[], keyword='Scenario', name='Send ping via nats', description='', steps=[Step(location=Location(line=88, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='1013'), Step(location=Location(line=89, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-id\" to \"<uuid>\"', doc_string=None, data_table=None, id='1014'), Step(location=Location(line=90, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='1015'), Step(location=Location(line=91, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='1016'), Step(location=Location(line=92, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='1017'), Step(location=Location(line=93, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='1018'), Step(location=Location(line=94, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.clipboard\"', doc_string=DocString(location=Location(line=95, column=7), media_type=None, content='{\\n  \"uuid\": \"3bca8a133-aba6-4f7f-ab95-242802fcac3c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard #3 data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='1019'), Step(location=Location(line=103, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=104, column=7), rows=[TableRow(location=Location(line=104, column=7), cells=[TableCell(location=Location(line=104, column=9), value='Deployment name')], id='1020'), TableRow(location=Location(line=105, column=7), cells=[TableCell(location=Location(line=105, column=9), value='clipboard-00001-deployment')], id='1021')]), id='1022'), Step(location=Location(line=107, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='1023')], examples=[Examples(location=Location(line=110, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=111, column=6), cells=[TableCell(location=Location(line=111, column=8), value='context'), TableCell(location=Location(line=111, column=18), value='username'), TableCell(location=Location(line=111, column=31), value='host'), TableCell(location=Location(line=111, column=43), value='uuid'), TableCell(location=Location(line=111, column=83), value='traceparent')], id='1024'), table_body=[TableRow(location=Location(line=112, column=6), cells=[TableCell(location=Location(line=112, column=8), value='philadelphia'), TableCell(location=Location(line=112, column=25), value='flukeman'), TableCell(location=Location(line=112, column=38), value='the-host'), TableCell(location=Location(line=112, column=50), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=112, column=89), value='00-8af92f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1025')], id='1026')], id='1027'), '1013': Step(location=Location(line=88, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='1013'), '1014': Step(location=Location(line=89, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-id\" to \"<uuid>\"', doc_string=None, data_table=None, id='1014'), '1015': Step(location=Location(line=90, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='1015'), '1016': Step(location=Location(line=91, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='1016'), '1017': Step(location=Location(line=92, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='1017'), '1018': Step(location=Location(line=93, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='1018'), '1019': Step(location=Location(line=94, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.clipboard\"', doc_string=DocString(location=Location(line=95, column=7), media_type=None, content='{\\n  \"uuid\": \"3bca8a133-aba6-4f7f-ab95-242802fcac3c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard #3 data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='1019'), '1022': Step(location=Location(line=103, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=104, column=7), rows=[TableRow(location=Location(line=104, column=7), cells=[TableCell(location=Location(line=104, column=9), value='Deployment name')], id='1020'), TableRow(location=Location(line=105, column=7), cells=[TableCell(location=Location(line=105, column=9), value='clipboard-00001-deployment')], id='1021')]), id='1022'), '1023': Step(location=Location(line=107, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='1023'), '1026': Examples(location=Location(line=110, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=111, column=6), cells=[TableCell(location=Location(line=111, column=8), value='context'), TableCell(location=Location(line=111, column=18), value='username'), TableCell(location=Location(line=111, column=31), value='host'), TableCell(location=Location(line=111, column=43), value='uuid'), TableCell(location=Location(line=111, column=83), value='traceparent')], id='1024'), table_body=[TableRow(location=Location(line=112, column=6), cells=[TableCell(location=Location(line=112, column=8), value='philadelphia'), TableCell(location=Location(line=112, column=25), value='flukeman'), TableCell(location=Location(line=112, column=38), value='the-host'), TableCell(location=Location(line=112, column=50), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=112, column=89), value='00-8af92f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1025')], id='1026'), '1024': TableRow(location=Location(line=111, column=6), cells=[TableCell(location=Location(line=111, column=8), value='context'), TableCell(location=Location(line=111, column=18), value='username'), TableCell(location=Location(line=111, column=31), value='host'), TableCell(location=Location(line=111, column=43), value='uuid'), TableCell(location=Location(line=111, column=83), value='traceparent')], id='1024'), '1025': TableRow(location=Location(line=112, column=6), cells=[TableCell(location=Location(line=112, column=8), value='philadelphia'), TableCell(location=Location(line=112, column=25), value='flukeman'), TableCell(location=Location(line=112, column=38), value='the-host'), TableCell(location=Location(line=112, column=50), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=112, column=89), value='00-8af92f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1025'), '1035': Scenario(location=Location(line=115, column=3), tags=[], keyword='Scenario', name='Cleanup <username>@<host> in <context>', description='', steps=[Step(location=Location(line=116, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='1028'), Step(location=Location(line=117, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='1029'), Step(location=Location(line=119, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='1030'), Step(location=Location(line=121, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='1031')], examples=[Examples(location=Location(line=123, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=124, column=5), cells=[TableCell(location=Location(line=124, column=7), value='context'), TableCell(location=Location(line=124, column=17), value='username'), TableCell(location=Location(line=124, column=28), value='host')], id='1032'), table_body=[TableRow(location=Location(line=125, column=5), cells=[TableCell(location=Location(line=125, column=7), value='philadelphia'), TableCell(location=Location(line=125, column=24), value='flukeman'), TableCell(location=Location(line=125, column=37), value='the-host')], id='1033')], id='1034')], id='1035'), '1028': Step(location=Location(line=116, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='1028'), '1029': Step(location=Location(line=117, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='1029'), '1030': Step(location=Location(line=119, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='1030'), '1031': Step(location=Location(line=121, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='1031'), '1034': Examples(location=Location(line=123, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=124, column=5), cells=[TableCell(location=Location(line=124, column=7), value='context'), TableCell(location=Location(line=124, column=17), value='username'), TableCell(location=Location(line=124, column=28), value='host')], id='1032'), table_body=[TableRow(location=Location(line=125, column=5), cells=[TableCell(location=Location(line=125, column=7), value='philadelphia'), TableCell(location=Location(line=125, column=24), value='flukeman'), TableCell(location=Location(line=125, column=37), value='the-host')], id='1033')], id='1034'), '1032': TableRow(location=Location(line=124, column=5), cells=[TableCell(location=Location(line=124, column=7), value='context'), TableCell(location=Location(line=124, column=17), value='username'), TableCell(location=Location(line=124, column=28), value='host')], id='1032'), '1033': TableRow(location=Location(line=125, column=5), cells=[TableCell(location=Location(line=125, column=7), value='philadelphia'), TableCell(location=Location(line=125, column=24), value='flukeman'), TableCell(location=Location(line=125, column=37), value='the-host')], id='1033')}, pickles=[Pickle(id='1050', uri='file:features/9_mindwm_clipboard.feature', name='Prepare environment for ping tests', language='en', steps=[PickleStep(argument=None, ast_node_ids=['957'], id='1038', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['958'], id='1039', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['960', '973'], id='1040', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"philadelphia\"'), PickleStep(argument=None, ast_node_ids=['961', '973'], id='1041', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='clipboard')])])), ast_node_ids=['964', '973'], id='1042', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-philadelphia\" namespace'), PickleStep(argument=None, ast_node_ids=['965', '973'], id='1043', type=<Type.outcome: 'Outcome'>, text='statefulset \"philadelphia-neo4j\" in namespace \"context-philadelphia\" is in ready state'), PickleStep(argument=None, ast_node_ids=['966', '973'], id='1044', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"flukeman\" and connects it to the context \"philadelphia\"'), PickleStep(argument=None, ast_node_ids=['967', '973'], id='1045', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['968', '973'], id='1046', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"the-host\" and connects it to the user \"flukeman\"'), PickleStep(argument=None, ast_node_ids=['969', '973'], id='1047', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['970', '973'], id='1048', type=<Type.outcome: 'Outcome'>, text='NatsJetStreamChannel \"the-host-host-broker-kne-trigger\" is ready in \"user-flukeman\" namespace'), PickleStep(argument=None, ast_node_ids=['971', '973'], id='1049', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"')], tags=[PickleTag(name='@mindwm_clipboard', ast_node_id='1036'), PickleTag(name='@mindwm_test', ast_node_id='1037')], ast_node_ids=['975', '973']), Pickle(id='1061', uri='file:features/9_mindwm_clipboard.feature', name='Send clipboard to knative ping service', language='en', steps=[PickleStep(argument=None, ast_node_ids=['957'], id='1051', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['958'], id='1052', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['976', '987'], id='1053', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['977', '987'], id='1054', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"'), PickleStep(argument=None, ast_node_ids=['978', '987'], id='1055', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"'), PickleStep(argument=None, ast_node_ids=['979', '987'], id='1056', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.flukeman.the-host.clipboard\"'), PickleStep(argument=None, ast_node_ids=['980', '987'], id='1057', type=<Type.action: 'Action'>, text='sets cloudevent header \"traceparent\" to \"00-6ef92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"uuid\": \"6ca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325473,\\n  \"data\": \"clipboard primary data\"\\n} '), data_table=None), ast_node_ids=['981', '987'], id='1058', type=<Type.action: 'Action'>, text='sends cloudevent to knative service \"clipboard\" in \"context-philadelphia\" namespace'), PickleStep(argument=None, ast_node_ids=['982', '987'], id='1059', type=<Type.outcome: 'Outcome'>, text='the response http code should be \"200\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='clipboard-00001-deployment')])])), ast_node_ids=['985', '987'], id='1060', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-philadelphia\" namespace')], tags=[PickleTag(name='@mindwm_clipboard', ast_node_id='1036'), PickleTag(name='@mindwm_test', ast_node_id='1037')], ast_node_ids=['989', '987']), Pickle(id='1076', uri='file:features/9_mindwm_clipboard.feature', name='Send ping directly to function broker-ingress.knative-eventing/context-philadelphia/context-broker', language='en', steps=[PickleStep(argument=None, ast_node_ids=['957'], id='1062', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['958'], id='1063', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['990', '1009'], id='1064', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['991', '1009'], id='1065', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['992', '1009'], id='1066', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"'), PickleStep(argument=None, ast_node_ids=['993', '1009'], id='1067', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"'), PickleStep(argument=None, ast_node_ids=['994', '1009'], id='1068', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.flukeman.the-host.clipboard\"'), PickleStep(argument=None, ast_node_ids=['995', '1009'], id='1069', type=<Type.action: 'Action'>, text='sets cloudevent header \"traceparent\" to \"00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"uuid\": \"4bca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard secondary data\"\\n} '), data_table=None), ast_node_ids=['996', '1009'], id='1070', type=<Type.action: 'Action'>, text='sends cloudevent to \"broker-ingress.knative-eventing/context-philadelphia/context-broker\"'), PickleStep(argument=None, ast_node_ids=['997', '1009'], id='1071', type=<Type.outcome: 'Outcome'>, text='the response http code should be \"202\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='clipboard-00001-deployment')])])), ast_node_ids=['1000', '1009'], id='1072', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-philadelphia\" namespace'), PickleStep(argument=None, ast_node_ids=['1001', '1009'], id='1073', type=<Type.outcome: 'Outcome'>, text='the trace with \"00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00\" should appear in TraceQL'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='service name')]), PickleTableRow(cells=[PickleTableCell(value='broker-ingress.knative-eventing')]), PickleTableRow(cells=[PickleTableCell(value='unknown_service')]), PickleTableRow(cells=[PickleTableCell(value='jetstream-ch-dispatcher')])])), ast_node_ids=['1006', '1009'], id='1074', type=<Type.outcome: 'Outcome'>, text='the trace should contains'), PickleStep(argument=None, ast_node_ids=['1007', '1009'], id='1075', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-flukeman.the-host-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_clipboard', ast_node_id='1036'), PickleTag(name='@mindwm_test', ast_node_id='1037')], ast_node_ids=['1012', '1009']), Pickle(id='1091', uri='file:features/9_mindwm_clipboard.feature', name='Send ping directly to function broker-ingress.knative-eventing/user-flukeman/user-broker', language='en', steps=[PickleStep(argument=None, ast_node_ids=['957'], id='1077', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['958'], id='1078', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['990', '1010'], id='1079', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['991', '1010'], id='1080', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['992', '1010'], id='1081', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"'), PickleStep(argument=None, ast_node_ids=['993', '1010'], id='1082', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"'), PickleStep(argument=None, ast_node_ids=['994', '1010'], id='1083', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.flukeman.the-host.clipboard\"'), PickleStep(argument=None, ast_node_ids=['995', '1010'], id='1084', type=<Type.action: 'Action'>, text='sets cloudevent header \"traceparent\" to \"00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"uuid\": \"4bca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard secondary data\"\\n} '), data_table=None), ast_node_ids=['996', '1010'], id='1085', type=<Type.action: 'Action'>, text='sends cloudevent to \"broker-ingress.knative-eventing/user-flukeman/user-broker\"'), PickleStep(argument=None, ast_node_ids=['997', '1010'], id='1086', type=<Type.outcome: 'Outcome'>, text='the response http code should be \"202\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='clipboard-00001-deployment')])])), ast_node_ids=['1000', '1010'], id='1087', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-philadelphia\" namespace'), PickleStep(argument=None, ast_node_ids=['1001', '1010'], id='1088', type=<Type.outcome: 'Outcome'>, text='the trace with \"00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00\" should appear in TraceQL'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='service name')]), PickleTableRow(cells=[PickleTableCell(value='broker-ingress.knative-eventing')]), PickleTableRow(cells=[PickleTableCell(value='unknown_service')]), PickleTableRow(cells=[PickleTableCell(value='jetstream-ch-dispatcher')])])), ast_node_ids=['1006', '1010'], id='1089', type=<Type.outcome: 'Outcome'>, text='the trace should contains'), PickleStep(argument=None, ast_node_ids=['1007', '1010'], id='1090', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-flukeman.the-host-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_clipboard', ast_node_id='1036'), PickleTag(name='@mindwm_test', ast_node_id='1037')], ast_node_ids=['1012', '1010']), Pickle(id='1103', uri='file:features/9_mindwm_clipboard.feature', name='Send ping via nats', language='en', steps=[PickleStep(argument=None, ast_node_ids=['957'], id='1092', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['958'], id='1093', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['1013', '1025'], id='1094', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['1014', '1025'], id='1095', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-id\" to \"09fb195c-c419-6d62-15e0-51b6ee990922\"'), PickleStep(argument=None, ast_node_ids=['1015', '1025'], id='1096', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"'), PickleStep(argument=None, ast_node_ids=['1016', '1025'], id='1097', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"'), PickleStep(argument=None, ast_node_ids=['1017', '1025'], id='1098', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.flukeman.the-host.clipboard\"'), PickleStep(argument=None, ast_node_ids=['1018', '1025'], id='1099', type=<Type.action: 'Action'>, text='sets cloudevent header \"traceparent\" to \"00-8af92f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"uuid\": \"3bca8a133-aba6-4f7f-ab95-242802fcac3c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard #3 data\"\\n} '), data_table=None), ast_node_ids=['1019', '1025'], id='1100', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.flukeman.the-host.clipboard\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='clipboard-00001-deployment')])])), ast_node_ids=['1022', '1025'], id='1101', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-philadelphia\" namespace'), PickleStep(argument=None, ast_node_ids=['1023', '1025'], id='1102', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-flukeman.the-host-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_clipboard', ast_node_id='1036'), PickleTag(name='@mindwm_test', ast_node_id='1037')], ast_node_ids=['1027', '1025']), Pickle(id='1110', uri='file:features/9_mindwm_clipboard.feature', name='Cleanup flukeman@the-host in philadelphia', language='en', steps=[PickleStep(argument=None, ast_node_ids=['957'], id='1104', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['958'], id='1105', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['1028', '1033'], id='1106', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"the-host\"'), PickleStep(argument=None, ast_node_ids=['1029', '1033'], id='1107', type=<Type.outcome: 'Outcome'>, text='the host \"the-host\" should be deleted'), PickleStep(argument=None, ast_node_ids=['1030', '1033'], id='1108', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"flukeman\"'), PickleStep(argument=None, ast_node_ids=['1031', '1033'], id='1109', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"philadelphia\"')], tags=[PickleTag(name='@mindwm_clipboard', ast_node_id='1036'), PickleTag(name='@mindwm_test', ast_node_id='1037')], ast_node_ids=['1035', '1033'])])","Source(uri='file:features/9_mindwm_clipboard.feature', data='@mindwm_clipboard\\n@mindwm_test\\nFeature: MindWM clipboard EDA test\\n  Background:\\n    Given A MindWM environment\\n    Then all nodes in Kubernetes are ready\\n\\n  Scenario: Prepare environment for ping tests \\n    When God creates a MindWM context with the name \"<context>\"\\n    Then the context should be ready and operable\\n    And the following knative services are in a ready state in the \"context-<context>\" namespace\\n      | Knative service name |\\n      | clipboard            |\\n    And statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state\\n\\n    When God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"\\n    Then the user resource should be ready and operable\\n\\n    When God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"\\n    Then the host resource should be ready and operable\\n    And NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace\\n\\n    When God starts reading message from NATS topic \">\"\\n\\n    Examples:\\n     | context | username   | host      |\\n     | philadelphia   | flukeman   | the-host  | \\n\\n  Scenario: Send clipboard to knative ping service\\n    When God creates a new cloudevent \\n      And sets cloudevent header \"ce-subject\" to \"clipboard\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"\\n      And sets cloudevent header \"traceparent\" to \"<traceparent>\"\\n      And sends cloudevent to knative service \"clipboard\" in \"context-<context>\" namespace\\n      \"\"\"\\n      {\\n        \"uuid\": \"6ca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n        \"time\": 1728325473,\\n        \"data\": \"clipboard primary data\"\\n      } \\n      \"\"\"\\n      Then the response http code should be \"200\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name       |\\n      | clipboard-00001-deployment |\\n\\n    Examples:\\n     | context | username   | host      | traceparent                                             |\\n     | philadelphia   | flukeman   | the-host  | 00-6ef92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00 |\\n\\n  Scenario: Send ping directly to function <endpoint>\\n    When God creates a new cloudevent \\n      And God starts reading message from NATS topic \">\"\\n      And sets cloudevent header \"ce-subject\" to \"clipboard\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"\\n      And sets cloudevent header \"traceparent\" to \"<traceparent>\"\\n      And sends cloudevent to \"<endpoint>\"\\n      \"\"\"\\n      {\\n        \"uuid\": \"4bca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n        \"time\": 1728325474,\\n        \"data\": \"clipboard secondary data\"\\n      } \\n      \"\"\"\\n    Then the response http code should be \"202\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name            |\\n      | clipboard-00001-deployment |\\n    Then the trace with \"<traceparent>\" should appear in TraceQL\\n    And the trace should contains \\n      | service name                    | \\n      | broker-ingress.knative-eventing | \\n      | unknown_service                 | \\n      | jetstream-ch-dispatcher         |\\n    And a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"\\n\\n    Examples:\\n     | context | username   | host      | endpoint | traceparent \\t\\t\\t\\t\\t         |\\n     | philadelphia   | flukeman   | the-host  | broker-ingress.knative-eventing/context-philadelphia/context-broker   | 00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00 |\\n     | philadelphia   | flukeman   | the-host  | broker-ingress.knative-eventing/user-flukeman/user-broker | 00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00 |\\n\\n\\n  Scenario: Send ping via nats\\n    When God creates a new cloudevent \\n      And sets cloudevent header \"ce-id\" to \"<uuid>\"\\n      And sets cloudevent header \"ce-subject\" to \"clipboard\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"\\n      And sets cloudevent header \"traceparent\" to \"<traceparent>\"\\n      And sends cloudevent to nats topic \"org.mindwm.<username>.<host>.clipboard\"\\n      \"\"\"\\n      {\\n        \"uuid\": \"3bca8a133-aba6-4f7f-ab95-242802fcac3c\",\\n        \"time\": 1728325474,\\n        \"data\": \"clipboard #3 data\"\\n      } \\n      \"\"\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name       |\\n      | clipboard-00001-deployment |\\n\\n    And a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"\\n\\n\\n    Examples:\\n     | context | username   | host      | uuid                                  | traceparent |\\n     | philadelphia   | flukeman   | the-host  | 09fb195c-c419-6d62-15e0-51b6ee990922 | 00-8af92f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00 |\\n\\n\\n  Scenario: Cleanup <username>@<host> in <context>\\n    When God deletes the MindWM host resource \"<host>\"\\n    Then the host \"<host>\" should be deleted\\n\\n    When God deletes the MindWM user resource \"<username>\"\\n\\n    When God deletes the MindWM context resource \"<context>\"\\n\\n    Examples:\\n    | context | username | host        | \\n    | philadelphia   | flukeman   | the-host         |\\n\\n', media_type='text/x.cucumber.gherkin+plain')","Pickle(id='1050', uri='file:features/9_mindwm_clipboard.feature', name='Prepare environment for ping tests', language='en', steps=[PickleStep(argument=None, ast_node_ids=['957'], id='1038', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['958'], id='1039', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['960', '973'], id='1040', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"philadelphia\"'), PickleStep(argument=None, ast_node_ids=['961', '973'], id='1041', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='clipboard')])])), ast_node_ids=['964', '973'], id='1042', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-philadelphia\" namespace'), PickleStep(argument=None, ast_node_ids=['965', '973'], id='1043', type=<Type.outcome: 'Outcome'>, text='statefulset \"philadelphia-neo4j\" in namespace \"context-philadelphia\" is in ready state'), PickleStep(argument=None, ast_node_ids=['966', '973'], id='1044', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"flukeman\" and connects it to the context \"philadelphia\"'), PickleStep(argument=None, ast_node_ids=['967', '973'], id='1045', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['968', '973'], id='1046', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"the-host\" and connects it to the user \"flukeman\"'), PickleStep(argument=None, ast_node_ids=['969', '973'], id='1047', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['970', '973'], id='1048', type=<Type.outcome: 'Outcome'>, text='NatsJetStreamChannel \"the-host-host-broker-kne-trigger\" is ready in \"user-flukeman\" namespace'), PickleStep(argument=None, ast_node_ids=['971', '973'], id='1049', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"')], tags=[PickleTag(name='@mindwm_clipboard', ast_node_id='1036'), PickleTag(name='@mindwm_test', ast_node_id='1037')], ast_node_ids=['975', '973'])"],"tags":["scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/9_mindwm_clipboard.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=<FeaturePathType.PATH: 'path'>, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())","pytest_bdd_scenario","@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')","mindwm_clipboard","mindwm_test","namespace(create=False, name='default')"]},{"name":"test_scenarios[file:features/7_mindwm_two_users_one_context.feature-MindWM two users one context function test-Cleanup tengu username[table_rows:[line: 84]]]","uid":"c72a76ac8e6a85f3","parentUid":"3961740595044ffd97a03e46799bfc30","status":"passed","time":{"start":1728404582186,"stop":1728404583470,"duration":1284},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["Feature(gherkin_document=GherkinDocument(uri='file:features/7_mindwm_two_users_one_context.feature', feature=Feature(location=Location(line=3, column=1), tags=[Tag(location=Location(line=1, column=1), name='@mindwm_two_users_one_context', id='801'), Tag(location=Location(line=2, column=1), name='@mindwm_test', id='802')], language='en', keyword='Feature', name='MindWM two users one context function test', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='736'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='737')], id='738'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Create context <context>', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='739'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='740'), Step(location=Location(line=12, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=13, column=7), rows=[TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='Knative service name')], id='741'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='iocontext')], id='742'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='pong')], id='743'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='kafka-cdc')], id='744')]), id='745'), Step(location=Location(line=17, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='746')], examples=[Examples(location=Location(line=18, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=19, column=5), cells=[TableCell(location=Location(line=19, column=7), value='context')], id='747'), table_body=[TableRow(location=Location(line=20, column=5), cells=[TableCell(location=Location(line=20, column=7), value='tokyo')], id='748')], id='749')], id='750')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=22, column=3), tags=[], keyword='Scenario', name='Create <username> and connects it to <context>', description='', steps=[Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='751'), Step(location=Location(line=24, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='752')], examples=[Examples(location=Location(line=25, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=26, column=5), cells=[TableCell(location=Location(line=26, column=7), value='context'), TableCell(location=Location(line=26, column=17), value='username')], id='753'), table_body=[TableRow(location=Location(line=27, column=5), cells=[TableCell(location=Location(line=27, column=7), value='tokyo'), TableCell(location=Location(line=27, column=17), value='godzilla')], id='754'), TableRow(location=Location(line=28, column=5), cells=[TableCell(location=Location(line=28, column=7), value='tokyo'), TableCell(location=Location(line=28, column=17), value='tengu')], id='755')], id='756')], id='757')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=29, column=3), tags=[], keyword='Scenario', name='Create <host> resource and connects it to <username> user', description='', steps=[Step(location=Location(line=30, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='758'), Step(location=Location(line=31, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='759')], examples=[Examples(location=Location(line=33, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='username'), TableCell(location=Location(line=34, column=18), value='host')], id='760'), table_body=[TableRow(location=Location(line=35, column=5), cells=[TableCell(location=Location(line=35, column=7), value='godzilla'), TableCell(location=Location(line=35, column=18), value='laptop')], id='761'), TableRow(location=Location(line=36, column=5), cells=[TableCell(location=Location(line=36, column=7), value='tengu'), TableCell(location=Location(line=36, column=18), value='tablet')], id='762')], id='763')], id='764')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=38, column=3), tags=[], keyword='Scenario', name='Send iodocument via nats host: <host>, user: <username> and check that second user received graph update', description='', steps=[Step(location=Location(line=39, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='765'), Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='766'), Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='767'), Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='768'), Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=None, data_table=None, id='769'), Step(location=Location(line=44, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=DocString(location=Location(line=45, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='770'), Step(location=Location(line=54, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=55, column=7), rows=[TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='Deployment name')], id='771'), TableRow(location=Location(line=56, column=7), cells=[TableCell(location=Location(line=56, column=9), value='iocontext-00001-deployment')], id='772'), TableRow(location=Location(line=57, column=7), cells=[TableCell(location=Location(line=57, column=9), value='kafka-cdc-00001-deployment')], id='773')]), id='774'), Step(location=Location(line=59, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<dst_user>.<dst_host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='775')], examples=[Examples(location=Location(line=61, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=62, column=5), cells=[TableCell(location=Location(line=62, column=7), value='context'), TableCell(location=Location(line=62, column=17), value='src_user'), TableCell(location=Location(line=62, column=28), value='src_host'), TableCell(location=Location(line=62, column=39), value='dst_user'), TableCell(location=Location(line=62, column=50), value='dst_host')], id='776'), table_body=[TableRow(location=Location(line=63, column=5), cells=[TableCell(location=Location(line=63, column=7), value='tokyo'), TableCell(location=Location(line=63, column=17), value='godzilla'), TableCell(location=Location(line=63, column=28), value='laptop'), TableCell(location=Location(line=63, column=39), value='tengu'), TableCell(location=Location(line=63, column=50), value='tablet')], id='777'), TableRow(location=Location(line=64, column=5), cells=[TableCell(location=Location(line=64, column=7), value='tokyo'), TableCell(location=Location(line=64, column=17), value='tengu'), TableCell(location=Location(line=64, column=28), value='tablet'), TableCell(location=Location(line=64, column=39), value='godzilla'), TableCell(location=Location(line=64, column=50), value='laptop')], id='778')], id='779')], id='780')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=67, column=3), tags=[], keyword='Scenario', name='Cleanup <host> host for <username> username', description='', steps=[Step(location=Location(line=69, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='781'), Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='782')], examples=[Examples(location=Location(line=72, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=73, column=5), cells=[TableCell(location=Location(line=73, column=7), value='username'), TableCell(location=Location(line=73, column=18), value='host')], id='783'), table_body=[TableRow(location=Location(line=74, column=5), cells=[TableCell(location=Location(line=74, column=7), value='godzilla'), TableCell(location=Location(line=74, column=18), value='laptop')], id='784'), TableRow(location=Location(line=75, column=5), cells=[TableCell(location=Location(line=75, column=7), value='tengu'), TableCell(location=Location(line=75, column=18), value='tablet')], id='785')], id='786')], id='787')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=77, column=3), tags=[], keyword='Scenario', name='Cleanup <username> username', description='', steps=[Step(location=Location(line=78, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='788'), Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='789')], examples=[Examples(location=Location(line=81, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='username')], id='790'), table_body=[TableRow(location=Location(line=83, column=5), cells=[TableCell(location=Location(line=83, column=7), value='godzilla')], id='791'), TableRow(location=Location(line=84, column=5), cells=[TableCell(location=Location(line=84, column=7), value='tengu')], id='792')], id='793')], id='794')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=86, column=3), tags=[], keyword='Scenario', name='Cleanup <context> context', description='', steps=[Step(location=Location(line=87, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='795'), Step(location=Location(line=88, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='796')], examples=[Examples(location=Location(line=90, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=91, column=5), cells=[TableCell(location=Location(line=91, column=7), value='context')], id='797'), table_body=[TableRow(location=Location(line=92, column=5), cells=[TableCell(location=Location(line=92, column=7), value='tokyo')], id='798')], id='799')], id='800'))]), comments=[]), uri='file:features/7_mindwm_two_users_one_context.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/7_mindwm_two_users_one_context.feature', registry={'801': Tag(location=Location(line=1, column=1), name='@mindwm_two_users_one_context', id='801'), '802': Tag(location=Location(line=2, column=1), name='@mindwm_test', id='802'), '738': Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='736'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='737')], id='738'), '736': Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='736'), '737': Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='737'), '750': Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Create context <context>', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='739'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='740'), Step(location=Location(line=12, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=13, column=7), rows=[TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='Knative service name')], id='741'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='iocontext')], id='742'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='pong')], id='743'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='kafka-cdc')], id='744')]), id='745'), Step(location=Location(line=17, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='746')], examples=[Examples(location=Location(line=18, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=19, column=5), cells=[TableCell(location=Location(line=19, column=7), value='context')], id='747'), table_body=[TableRow(location=Location(line=20, column=5), cells=[TableCell(location=Location(line=20, column=7), value='tokyo')], id='748')], id='749')], id='750'), '739': Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='739'), '740': Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='740'), '745': Step(location=Location(line=12, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=13, column=7), rows=[TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='Knative service name')], id='741'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='iocontext')], id='742'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='pong')], id='743'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='kafka-cdc')], id='744')]), id='745'), '746': Step(location=Location(line=17, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='746'), '749': Examples(location=Location(line=18, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=19, column=5), cells=[TableCell(location=Location(line=19, column=7), value='context')], id='747'), table_body=[TableRow(location=Location(line=20, column=5), cells=[TableCell(location=Location(line=20, column=7), value='tokyo')], id='748')], id='749'), '747': TableRow(location=Location(line=19, column=5), cells=[TableCell(location=Location(line=19, column=7), value='context')], id='747'), '748': TableRow(location=Location(line=20, column=5), cells=[TableCell(location=Location(line=20, column=7), value='tokyo')], id='748'), '757': Scenario(location=Location(line=22, column=3), tags=[], keyword='Scenario', name='Create <username> and connects it to <context>', description='', steps=[Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='751'), Step(location=Location(line=24, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='752')], examples=[Examples(location=Location(line=25, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=26, column=5), cells=[TableCell(location=Location(line=26, column=7), value='context'), TableCell(location=Location(line=26, column=17), value='username')], id='753'), table_body=[TableRow(location=Location(line=27, column=5), cells=[TableCell(location=Location(line=27, column=7), value='tokyo'), TableCell(location=Location(line=27, column=17), value='godzilla')], id='754'), TableRow(location=Location(line=28, column=5), cells=[TableCell(location=Location(line=28, column=7), value='tokyo'), TableCell(location=Location(line=28, column=17), value='tengu')], id='755')], id='756')], id='757'), '751': Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='751'), '752': Step(location=Location(line=24, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='752'), '756': Examples(location=Location(line=25, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=26, column=5), cells=[TableCell(location=Location(line=26, column=7), value='context'), TableCell(location=Location(line=26, column=17), value='username')], id='753'), table_body=[TableRow(location=Location(line=27, column=5), cells=[TableCell(location=Location(line=27, column=7), value='tokyo'), TableCell(location=Location(line=27, column=17), value='godzilla')], id='754'), TableRow(location=Location(line=28, column=5), cells=[TableCell(location=Location(line=28, column=7), value='tokyo'), TableCell(location=Location(line=28, column=17), value='tengu')], id='755')], id='756'), '753': TableRow(location=Location(line=26, column=5), cells=[TableCell(location=Location(line=26, column=7), value='context'), TableCell(location=Location(line=26, column=17), value='username')], id='753'), '754': TableRow(location=Location(line=27, column=5), cells=[TableCell(location=Location(line=27, column=7), value='tokyo'), TableCell(location=Location(line=27, column=17), value='godzilla')], id='754'), '755': TableRow(location=Location(line=28, column=5), cells=[TableCell(location=Location(line=28, column=7), value='tokyo'), TableCell(location=Location(line=28, column=17), value='tengu')], id='755'), '764': Scenario(location=Location(line=29, column=3), tags=[], keyword='Scenario', name='Create <host> resource and connects it to <username> user', description='', steps=[Step(location=Location(line=30, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='758'), Step(location=Location(line=31, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='759')], examples=[Examples(location=Location(line=33, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='username'), TableCell(location=Location(line=34, column=18), value='host')], id='760'), table_body=[TableRow(location=Location(line=35, column=5), cells=[TableCell(location=Location(line=35, column=7), value='godzilla'), TableCell(location=Location(line=35, column=18), value='laptop')], id='761'), TableRow(location=Location(line=36, column=5), cells=[TableCell(location=Location(line=36, column=7), value='tengu'), TableCell(location=Location(line=36, column=18), value='tablet')], id='762')], id='763')], id='764'), '758': Step(location=Location(line=30, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='758'), '759': Step(location=Location(line=31, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='759'), '763': Examples(location=Location(line=33, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='username'), TableCell(location=Location(line=34, column=18), value='host')], id='760'), table_body=[TableRow(location=Location(line=35, column=5), cells=[TableCell(location=Location(line=35, column=7), value='godzilla'), TableCell(location=Location(line=35, column=18), value='laptop')], id='761'), TableRow(location=Location(line=36, column=5), cells=[TableCell(location=Location(line=36, column=7), value='tengu'), TableCell(location=Location(line=36, column=18), value='tablet')], id='762')], id='763'), '760': TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='username'), TableCell(location=Location(line=34, column=18), value='host')], id='760'), '761': TableRow(location=Location(line=35, column=5), cells=[TableCell(location=Location(line=35, column=7), value='godzilla'), TableCell(location=Location(line=35, column=18), value='laptop')], id='761'), '762': TableRow(location=Location(line=36, column=5), cells=[TableCell(location=Location(line=36, column=7), value='tengu'), TableCell(location=Location(line=36, column=18), value='tablet')], id='762'), '780': Scenario(location=Location(line=38, column=3), tags=[], keyword='Scenario', name='Send iodocument via nats host: <host>, user: <username> and check that second user received graph update', description='', steps=[Step(location=Location(line=39, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='765'), Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='766'), Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='767'), Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='768'), Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=None, data_table=None, id='769'), Step(location=Location(line=44, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=DocString(location=Location(line=45, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='770'), Step(location=Location(line=54, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=55, column=7), rows=[TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='Deployment name')], id='771'), TableRow(location=Location(line=56, column=7), cells=[TableCell(location=Location(line=56, column=9), value='iocontext-00001-deployment')], id='772'), TableRow(location=Location(line=57, column=7), cells=[TableCell(location=Location(line=57, column=9), value='kafka-cdc-00001-deployment')], id='773')]), id='774'), Step(location=Location(line=59, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<dst_user>.<dst_host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='775')], examples=[Examples(location=Location(line=61, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=62, column=5), cells=[TableCell(location=Location(line=62, column=7), value='context'), TableCell(location=Location(line=62, column=17), value='src_user'), TableCell(location=Location(line=62, column=28), value='src_host'), TableCell(location=Location(line=62, column=39), value='dst_user'), TableCell(location=Location(line=62, column=50), value='dst_host')], id='776'), table_body=[TableRow(location=Location(line=63, column=5), cells=[TableCell(location=Location(line=63, column=7), value='tokyo'), TableCell(location=Location(line=63, column=17), value='godzilla'), TableCell(location=Location(line=63, column=28), value='laptop'), TableCell(location=Location(line=63, column=39), value='tengu'), TableCell(location=Location(line=63, column=50), value='tablet')], id='777'), TableRow(location=Location(line=64, column=5), cells=[TableCell(location=Location(line=64, column=7), value='tokyo'), TableCell(location=Location(line=64, column=17), value='tengu'), TableCell(location=Location(line=64, column=28), value='tablet'), TableCell(location=Location(line=64, column=39), value='godzilla'), TableCell(location=Location(line=64, column=50), value='laptop')], id='778')], id='779')], id='780'), '765': Step(location=Location(line=39, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='765'), '766': Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='766'), '767': Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='767'), '768': Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='768'), '769': Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=None, data_table=None, id='769'), '770': Step(location=Location(line=44, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=DocString(location=Location(line=45, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='770'), '774': Step(location=Location(line=54, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=55, column=7), rows=[TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='Deployment name')], id='771'), TableRow(location=Location(line=56, column=7), cells=[TableCell(location=Location(line=56, column=9), value='iocontext-00001-deployment')], id='772'), TableRow(location=Location(line=57, column=7), cells=[TableCell(location=Location(line=57, column=9), value='kafka-cdc-00001-deployment')], id='773')]), id='774'), '775': Step(location=Location(line=59, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<dst_user>.<dst_host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='775'), '779': Examples(location=Location(line=61, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=62, column=5), cells=[TableCell(location=Location(line=62, column=7), value='context'), TableCell(location=Location(line=62, column=17), value='src_user'), TableCell(location=Location(line=62, column=28), value='src_host'), TableCell(location=Location(line=62, column=39), value='dst_user'), TableCell(location=Location(line=62, column=50), value='dst_host')], id='776'), table_body=[TableRow(location=Location(line=63, column=5), cells=[TableCell(location=Location(line=63, column=7), value='tokyo'), TableCell(location=Location(line=63, column=17), value='godzilla'), TableCell(location=Location(line=63, column=28), value='laptop'), TableCell(location=Location(line=63, column=39), value='tengu'), TableCell(location=Location(line=63, column=50), value='tablet')], id='777'), TableRow(location=Location(line=64, column=5), cells=[TableCell(location=Location(line=64, column=7), value='tokyo'), TableCell(location=Location(line=64, column=17), value='tengu'), TableCell(location=Location(line=64, column=28), value='tablet'), TableCell(location=Location(line=64, column=39), value='godzilla'), TableCell(location=Location(line=64, column=50), value='laptop')], id='778')], id='779'), '776': TableRow(location=Location(line=62, column=5), cells=[TableCell(location=Location(line=62, column=7), value='context'), TableCell(location=Location(line=62, column=17), value='src_user'), TableCell(location=Location(line=62, column=28), value='src_host'), TableCell(location=Location(line=62, column=39), value='dst_user'), TableCell(location=Location(line=62, column=50), value='dst_host')], id='776'), '777': TableRow(location=Location(line=63, column=5), cells=[TableCell(location=Location(line=63, column=7), value='tokyo'), TableCell(location=Location(line=63, column=17), value='godzilla'), TableCell(location=Location(line=63, column=28), value='laptop'), TableCell(location=Location(line=63, column=39), value='tengu'), TableCell(location=Location(line=63, column=50), value='tablet')], id='777'), '778': TableRow(location=Location(line=64, column=5), cells=[TableCell(location=Location(line=64, column=7), value='tokyo'), TableCell(location=Location(line=64, column=17), value='tengu'), TableCell(location=Location(line=64, column=28), value='tablet'), TableCell(location=Location(line=64, column=39), value='godzilla'), TableCell(location=Location(line=64, column=50), value='laptop')], id='778'), '787': Scenario(location=Location(line=67, column=3), tags=[], keyword='Scenario', name='Cleanup <host> host for <username> username', description='', steps=[Step(location=Location(line=69, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='781'), Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='782')], examples=[Examples(location=Location(line=72, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=73, column=5), cells=[TableCell(location=Location(line=73, column=7), value='username'), TableCell(location=Location(line=73, column=18), value='host')], id='783'), table_body=[TableRow(location=Location(line=74, column=5), cells=[TableCell(location=Location(line=74, column=7), value='godzilla'), TableCell(location=Location(line=74, column=18), value='laptop')], id='784'), TableRow(location=Location(line=75, column=5), cells=[TableCell(location=Location(line=75, column=7), value='tengu'), TableCell(location=Location(line=75, column=18), value='tablet')], id='785')], id='786')], id='787'), '781': Step(location=Location(line=69, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='781'), '782': Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='782'), '786': Examples(location=Location(line=72, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=73, column=5), cells=[TableCell(location=Location(line=73, column=7), value='username'), TableCell(location=Location(line=73, column=18), value='host')], id='783'), table_body=[TableRow(location=Location(line=74, column=5), cells=[TableCell(location=Location(line=74, column=7), value='godzilla'), TableCell(location=Location(line=74, column=18), value='laptop')], id='784'), TableRow(location=Location(line=75, column=5), cells=[TableCell(location=Location(line=75, column=7), value='tengu'), TableCell(location=Location(line=75, column=18), value='tablet')], id='785')], id='786'), '783': TableRow(location=Location(line=73, column=5), cells=[TableCell(location=Location(line=73, column=7), value='username'), TableCell(location=Location(line=73, column=18), value='host')], id='783'), '784': TableRow(location=Location(line=74, column=5), cells=[TableCell(location=Location(line=74, column=7), value='godzilla'), TableCell(location=Location(line=74, column=18), value='laptop')], id='784'), '785': TableRow(location=Location(line=75, column=5), cells=[TableCell(location=Location(line=75, column=7), value='tengu'), TableCell(location=Location(line=75, column=18), value='tablet')], id='785'), '794': Scenario(location=Location(line=77, column=3), tags=[], keyword='Scenario', name='Cleanup <username> username', description='', steps=[Step(location=Location(line=78, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='788'), Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='789')], examples=[Examples(location=Location(line=81, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='username')], id='790'), table_body=[TableRow(location=Location(line=83, column=5), cells=[TableCell(location=Location(line=83, column=7), value='godzilla')], id='791'), TableRow(location=Location(line=84, column=5), cells=[TableCell(location=Location(line=84, column=7), value='tengu')], id='792')], id='793')], id='794'), '788': Step(location=Location(line=78, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='788'), '789': Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='789'), '793': Examples(location=Location(line=81, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='username')], id='790'), table_body=[TableRow(location=Location(line=83, column=5), cells=[TableCell(location=Location(line=83, column=7), value='godzilla')], id='791'), TableRow(location=Location(line=84, column=5), cells=[TableCell(location=Location(line=84, column=7), value='tengu')], id='792')], id='793'), '790': TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='username')], id='790'), '791': TableRow(location=Location(line=83, column=5), cells=[TableCell(location=Location(line=83, column=7), value='godzilla')], id='791'), '792': TableRow(location=Location(line=84, column=5), cells=[TableCell(location=Location(line=84, column=7), value='tengu')], id='792'), '800': Scenario(location=Location(line=86, column=3), tags=[], keyword='Scenario', name='Cleanup <context> context', description='', steps=[Step(location=Location(line=87, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='795'), Step(location=Location(line=88, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='796')], examples=[Examples(location=Location(line=90, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=91, column=5), cells=[TableCell(location=Location(line=91, column=7), value='context')], id='797'), table_body=[TableRow(location=Location(line=92, column=5), cells=[TableCell(location=Location(line=92, column=7), value='tokyo')], id='798')], id='799')], id='800'), '795': Step(location=Location(line=87, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='795'), '796': Step(location=Location(line=88, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='796'), '799': Examples(location=Location(line=90, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=91, column=5), cells=[TableCell(location=Location(line=91, column=7), value='context')], id='797'), table_body=[TableRow(location=Location(line=92, column=5), cells=[TableCell(location=Location(line=92, column=7), value='tokyo')], id='798')], id='799'), '797': TableRow(location=Location(line=91, column=5), cells=[TableCell(location=Location(line=91, column=7), value='context')], id='797'), '798': TableRow(location=Location(line=92, column=5), cells=[TableCell(location=Location(line=92, column=7), value='tokyo')], id='798')}, pickles=[Pickle(id='809', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create context tokyo', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='803', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='804', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['739', '748'], id='805', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"tokyo\"'), PickleStep(argument=None, ast_node_ids=['740', '748'], id='806', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext')]), PickleTableRow(cells=[PickleTableCell(value='pong')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')])])), ast_node_ids=['745', '748'], id='807', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-tokyo\" namespace'), PickleStep(argument=None, ast_node_ids=['746', '748'], id='808', type=<Type.outcome: 'Outcome'>, text='statefulset \"tokyo-neo4j\" in namespace \"context-tokyo\" is in ready state')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['750', '748']), Pickle(id='814', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create godzilla and connects it to tokyo', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='810', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='811', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['751', '754'], id='812', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"godzilla\" and connects it to the context \"tokyo\"'), PickleStep(argument=None, ast_node_ids=['752', '754'], id='813', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['757', '754']), Pickle(id='819', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create tengu and connects it to tokyo', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='815', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='816', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['751', '755'], id='817', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"tengu\" and connects it to the context \"tokyo\"'), PickleStep(argument=None, ast_node_ids=['752', '755'], id='818', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['757', '755']), Pickle(id='824', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create laptop resource and connects it to godzilla user', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='820', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='821', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['758', '761'], id='822', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"laptop\" and connects it to the user \"godzilla\"'), PickleStep(argument=None, ast_node_ids=['759', '761'], id='823', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['764', '761']), Pickle(id='829', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create tablet resource and connects it to tengu user', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='825', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='826', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['758', '762'], id='827', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"tablet\" and connects it to the user \"tengu\"'), PickleStep(argument=None, ast_node_ids=['759', '762'], id='828', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['764', '762']), Pickle(id='840', uri='file:features/7_mindwm_two_users_one_context.feature', name='Send iodocument via nats host: <host>, user: <username> and check that second user received graph update', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='830', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='831', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['765', '777'], id='832', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['766', '777'], id='833', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['767', '777'], id='834', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"id\"'), PickleStep(argument=None, ast_node_ids=['768', '777'], id='835', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['769', '777'], id='836', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.godzilla.laptop.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['770', '777'], id='837', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.godzilla.laptop.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-00001-deployment')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-00001-deployment')])])), ast_node_ids=['774', '777'], id='838', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-tokyo\" namespace'), PickleStep(argument=None, ast_node_ids=['775', '777'], id='839', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-tengu.tablet-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['780', '777']), Pickle(id='851', uri='file:features/7_mindwm_two_users_one_context.feature', name='Send iodocument via nats host: <host>, user: <username> and check that second user received graph update', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='841', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='842', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['765', '778'], id='843', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['766', '778'], id='844', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['767', '778'], id='845', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"id\"'), PickleStep(argument=None, ast_node_ids=['768', '778'], id='846', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['769', '778'], id='847', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.tengu.tablet.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['770', '778'], id='848', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.tengu.tablet.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-00001-deployment')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-00001-deployment')])])), ast_node_ids=['774', '778'], id='849', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-tokyo\" namespace'), PickleStep(argument=None, ast_node_ids=['775', '778'], id='850', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-godzilla.laptop-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['780', '778']), Pickle(id='856', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup laptop host for godzilla username', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='852', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='853', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['781', '784'], id='854', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"laptop\"'), PickleStep(argument=None, ast_node_ids=['782', '784'], id='855', type=<Type.outcome: 'Outcome'>, text='the host \"laptop\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['787', '784']), Pickle(id='861', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup tablet host for tengu username', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='857', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='858', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['781', '785'], id='859', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"tablet\"'), PickleStep(argument=None, ast_node_ids=['782', '785'], id='860', type=<Type.outcome: 'Outcome'>, text='the host \"tablet\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['787', '785']), Pickle(id='866', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup godzilla username', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='862', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='863', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['788', '791'], id='864', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"godzilla\"'), PickleStep(argument=None, ast_node_ids=['789', '791'], id='865', type=<Type.outcome: 'Outcome'>, text='the user \"godzilla\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['794', '791']), Pickle(id='871', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup tengu username', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='867', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='868', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['788', '792'], id='869', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"tengu\"'), PickleStep(argument=None, ast_node_ids=['789', '792'], id='870', type=<Type.outcome: 'Outcome'>, text='the user \"tengu\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['794', '792']), Pickle(id='876', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup tokyo context', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='872', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='873', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['795', '798'], id='874', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"tokyo\"'), PickleStep(argument=None, ast_node_ids=['796', '798'], id='875', type=<Type.outcome: 'Outcome'>, text='the context \"tokyo\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['800', '798'])])","Source(uri='file:features/7_mindwm_two_users_one_context.feature', data='@mindwm_two_users_one_context\\n@mindwm_test\\nFeature: MindWM two users one context function test\\n  Background:\\n    Given A MindWM environment\\n    Then all nodes in Kubernetes are ready\\n\\n  Scenario: Create context <context>\\n    When God creates a MindWM context with the name \"<context>\"\\n    Then the context should be ready and operable\\n\\n    Then the following knative services are in a ready state in the \"context-<context>\" namespace\\n      | Knative service name |\\n      | iocontext            |\\n      | pong                 |\\n      | kafka-cdc            |\\n    And statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state\\n    Examples:\\n    | context | \\n    | tokyo   | \\n    \\n  Scenario: Create <username> and connects it to <context>\\n    When God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"\\n    Then the user resource should be ready and operable\\n    Examples:\\n    | context | username |\\n    | tokyo   | godzilla |\\n    | tokyo   | tengu    |\\n  Scenario: Create <host> resource and connects it to <username> user\\n    When God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"\\n    Then the host resource should be ready and operable\\n\\n    Examples: \\n    | username | host   |\\n    | godzilla | laptop | \\n    | tengu    | tablet | \\n\\n  Scenario: Send iodocument via nats host: <host>, user: <username> and check that second user received graph update\\n    When God creates a new cloudevent \\n      And God starts reading message from NATS topic \">\"\\n      And sets cloudevent header \"ce-subject\" to \"id\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"\\n      And sends cloudevent to nats topic \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"\\n      \"\"\"\\n      {\\n        \"input\": \"id\",\\n        \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n        \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n        \"type\": \"org.mindwm.v1.iodocument\"\\n      } \\n      \"\"\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name            |\\n      | iocontext-00001-deployment |\\n      | kafka-cdc-00001-deployment |\\n\\n    And a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<dst_user>.<dst_host>-host-broker-kne-trigger._knative\"\\n\\n    Examples:\\n    | context | src_user | src_host | dst_user | dst_host |  \\n    | tokyo   | godzilla | laptop   | tengu    | tablet   |\\n    | tokyo   | tengu    | tablet   | godzilla | laptop   | \\n\\n\\n  Scenario: Cleanup <host> host for <username> username\\n\\n    When God deletes the MindWM host resource \"<host>\"\\n    Then the host \"<host>\" should be deleted\\n\\n    Examples:\\n    | username | host   |\\n    | godzilla | laptop | \\n    | tengu    | tablet | \\n\\n  Scenario: Cleanup <username> username\\n    When God deletes the MindWM user resource \"<username>\"\\n    Then the user \"<username>\" should be deleted\\n\\n    Examples:\\n    | username | \\n    | godzilla |\\n    | tengu    | \\n\\n  Scenario: Cleanup <context> context\\n    When God deletes the MindWM context resource \"<context>\"\\n    Then the context \"<context>\" should be deleted\\n\\n    Examples:\\n    | context | \\n    | tokyo   |\\n', media_type='text/x.cucumber.gherkin+plain')","Pickle(id='871', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup tengu username', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='867', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='868', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['788', '792'], id='869', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"tengu\"'), PickleStep(argument=None, ast_node_ids=['789', '792'], id='870', type=<Type.outcome: 'Outcome'>, text='the user \"tengu\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['794', '792'])"],"tags":["scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/7_mindwm_two_users_one_context.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=<FeaturePathType.PATH: 'path'>, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())","pytest_bdd_scenario","@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')","mindwm_test","mindwm_two_users_one_context","namespace(create=False, name='default')"]},{"name":"test_scenarios[file:features/2_mindwm_crd_resources.feature-MindWM Custom kubernetes resources-Create Context and check k8s resources]","uid":"9b2fa707d81e4907","parentUid":"3961740595044ffd97a03e46799bfc30","status":"passed","time":{"start":1728403451820,"stop":1728403579024,"duration":127204},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["Feature(gherkin_document=GherkinDocument(uri='file:features/2_mindwm_crd_resources.feature', feature=Feature(location=Location(line=3, column=1), tags=[Tag(location=Location(line=1, column=1), name='@mindwm_crd_resources', id='263'), Tag(location=Location(line=2, column=1), name='@mindwm_test', id='264')], language='en', keyword='Feature', name='MindWM Custom kubernetes resources', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=5, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=6, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='205'), Step(location=Location(line=7, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='206')], id='207'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=9, column=3), tags=[], keyword='Scenario', name='Create Context and check k8s resources', description='', steps=[Step(location=Location(line=10, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"cyan\"', doc_string=None, data_table=None, id='208'), Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='209'), Step(location=Location(line=12, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-cyan\" should exist', doc_string=None, data_table=None, id='210'), Step(location=Location(line=13, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='helm release \"cyan-neo4j\" is deployed in \"context-cyan\" namespace', doc_string=None, data_table=None, id='211'), Step(location=Location(line=14, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"cyan-neo4j\" in namespace \"context-cyan\" is in ready state', doc_string=None, data_table=None, id='212'), Step(location=Location(line=15, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=16, column=7), rows=[TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='Knative service name')], id='213'), TableRow(location=Location(line=17, column=7), cells=[TableCell(location=Location(line=17, column=9), value='dead-letter')], id='214'), TableRow(location=Location(line=18, column=7), cells=[TableCell(location=Location(line=18, column=9), value='iocontext')], id='215'), TableRow(location=Location(line=19, column=7), cells=[TableCell(location=Location(line=19, column=9), value='kafka-cdc')], id='216'), TableRow(location=Location(line=20, column=7), cells=[TableCell(location=Location(line=20, column=9), value='pong')], id='217')]), id='218'), Step(location=Location(line=21, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative triggers are in a ready state in the \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=22, column=7), rows=[TableRow(location=Location(line=22, column=7), cells=[TableCell(location=Location(line=22, column=9), value='Knative trigger name')], id='219'), TableRow(location=Location(line=23, column=7), cells=[TableCell(location=Location(line=23, column=9), value='iocontext-trigger')], id='220'), TableRow(location=Location(line=24, column=7), cells=[TableCell(location=Location(line=24, column=9), value='kafka-cdc-trigger')], id='221'), TableRow(location=Location(line=25, column=7), cells=[TableCell(location=Location(line=25, column=9), value='pong-trigger')], id='222')]), id='223'), Step(location=Location(line=26, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative brokers are in a ready state in the \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=27, column=7), rows=[TableRow(location=Location(line=27, column=7), cells=[TableCell(location=Location(line=27, column=9), value='Knative broker name')], id='224'), TableRow(location=Location(line=28, column=7), cells=[TableCell(location=Location(line=28, column=9), value='context-broker')], id='225')]), id='226'), Step(location=Location(line=29, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka topic \"context-cyan-cdc\" is in ready state in \"redpanda\" namespace', doc_string=None, data_table=None, id='227'), Step(location=Location(line=30, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka source \"context-cyan-cdc-kafkasource\" is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=None, id='228')], examples=[], id='229')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=32, column=3), tags=[], keyword='Scenario', name='Create User and check k8s resources', description='', steps=[Step(location=Location(line=33, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"bob\" and connects it to the context \"cyan\"', doc_string=None, data_table=None, id='230'), Step(location=Location(line=34, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='231'), Step(location=Location(line=35, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"user-bob\" should exist', doc_string=None, data_table=None, id='232'), Step(location=Location(line=36, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative brokers are in a ready state in the \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=37, column=7), rows=[TableRow(location=Location(line=37, column=7), cells=[TableCell(location=Location(line=37, column=9), value='Knative broker name')], id='233'), TableRow(location=Location(line=38, column=7), cells=[TableCell(location=Location(line=38, column=9), value='user-broker')], id='234')]), id='235'), Step(location=Location(line=39, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative triggers are in a ready state in the \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=40, column=7), rows=[TableRow(location=Location(line=40, column=7), cells=[TableCell(location=Location(line=40, column=9), value='Knative trigger name')], id='236'), TableRow(location=Location(line=41, column=7), cells=[TableCell(location=Location(line=41, column=9), value='context-cyan-to-user-bob')], id='237')]), id='238'), Step(location=Location(line=42, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative triggers are in a ready state in the \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=43, column=7), rows=[TableRow(location=Location(line=43, column=7), cells=[TableCell(location=Location(line=43, column=9), value='Knative trigger name')], id='239'), TableRow(location=Location(line=44, column=7), cells=[TableCell(location=Location(line=44, column=9), value='user-bob-to-context-cyan')], id='240')]), id='241')], examples=[], id='242')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=46, column=3), tags=[], keyword='Scenario', name='Create Host and check k8s resources', description='', steps=[Step(location=Location(line=47, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"workstation\" and connects it to the user \"bob\"', doc_string=None, data_table=None, id='243'), Step(location=Location(line=48, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='244'), Step(location=Location(line=49, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"workstation-host-broker-kne-trigger\" is ready in \"user-bob\" namespace', doc_string=None, data_table=None, id='245'), Step(location=Location(line=50, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative triggers are in a ready state in the \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=51, column=7), rows=[TableRow(location=Location(line=51, column=7), cells=[TableCell(location=Location(line=51, column=9), value='Knative trigger name')], id='246'), TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='user-bob-to-context-cyan')], id='247'), TableRow(location=Location(line=53, column=7), cells=[TableCell(location=Location(line=53, column=9), value='user-broker-to-workstation-broker-trigger')], id='248')]), id='249'), Step(location=Location(line=54, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative brokers are in a ready state in the \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=55, column=7), rows=[TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='Knative broker name')], id='250'), TableRow(location=Location(line=56, column=7), cells=[TableCell(location=Location(line=56, column=9), value='workstation-host-broker')], id='251')]), id='252')], examples=[], id='253')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=60, column=3), tags=[], keyword='Scenario', name='Delete Resources and Verify Cleanup', description='', steps=[Step(location=Location(line=62, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"workstation\"', doc_string=None, data_table=None, id='254'), Step(location=Location(line=63, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"workstation\" should be deleted', doc_string=None, data_table=None, id='255'), Step(location=Location(line=65, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"bob\"', doc_string=None, data_table=None, id='256'), Step(location=Location(line=66, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"bob\" should be deleted', doc_string=None, data_table=None, id='257'), Step(location=Location(line=67, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"user-bob\" should not exist', doc_string=None, data_table=None, id='258'), Step(location=Location(line=69, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"cyan\"', doc_string=None, data_table=None, id='259'), Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"cyan\" should be deleted', doc_string=None, data_table=None, id='260'), Step(location=Location(line=71, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-cyan\" should not exist', doc_string=None, data_table=None, id='261')], examples=[], id='262'))]), comments=[]), uri='file:features/2_mindwm_crd_resources.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/2_mindwm_crd_resources.feature', registry={'263': Tag(location=Location(line=1, column=1), name='@mindwm_crd_resources', id='263'), '264': Tag(location=Location(line=2, column=1), name='@mindwm_test', id='264'), '207': Background(location=Location(line=5, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=6, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='205'), Step(location=Location(line=7, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='206')], id='207'), '205': Step(location=Location(line=6, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='205'), '206': Step(location=Location(line=7, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='206'), '229': Scenario(location=Location(line=9, column=3), tags=[], keyword='Scenario', name='Create Context and check k8s resources', description='', steps=[Step(location=Location(line=10, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"cyan\"', doc_string=None, data_table=None, id='208'), Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='209'), Step(location=Location(line=12, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-cyan\" should exist', doc_string=None, data_table=None, id='210'), Step(location=Location(line=13, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='helm release \"cyan-neo4j\" is deployed in \"context-cyan\" namespace', doc_string=None, data_table=None, id='211'), Step(location=Location(line=14, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"cyan-neo4j\" in namespace \"context-cyan\" is in ready state', doc_string=None, data_table=None, id='212'), Step(location=Location(line=15, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=16, column=7), rows=[TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='Knative service name')], id='213'), TableRow(location=Location(line=17, column=7), cells=[TableCell(location=Location(line=17, column=9), value='dead-letter')], id='214'), TableRow(location=Location(line=18, column=7), cells=[TableCell(location=Location(line=18, column=9), value='iocontext')], id='215'), TableRow(location=Location(line=19, column=7), cells=[TableCell(location=Location(line=19, column=9), value='kafka-cdc')], id='216'), TableRow(location=Location(line=20, column=7), cells=[TableCell(location=Location(line=20, column=9), value='pong')], id='217')]), id='218'), Step(location=Location(line=21, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative triggers are in a ready state in the \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=22, column=7), rows=[TableRow(location=Location(line=22, column=7), cells=[TableCell(location=Location(line=22, column=9), value='Knative trigger name')], id='219'), TableRow(location=Location(line=23, column=7), cells=[TableCell(location=Location(line=23, column=9), value='iocontext-trigger')], id='220'), TableRow(location=Location(line=24, column=7), cells=[TableCell(location=Location(line=24, column=9), value='kafka-cdc-trigger')], id='221'), TableRow(location=Location(line=25, column=7), cells=[TableCell(location=Location(line=25, column=9), value='pong-trigger')], id='222')]), id='223'), Step(location=Location(line=26, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative brokers are in a ready state in the \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=27, column=7), rows=[TableRow(location=Location(line=27, column=7), cells=[TableCell(location=Location(line=27, column=9), value='Knative broker name')], id='224'), TableRow(location=Location(line=28, column=7), cells=[TableCell(location=Location(line=28, column=9), value='context-broker')], id='225')]), id='226'), Step(location=Location(line=29, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka topic \"context-cyan-cdc\" is in ready state in \"redpanda\" namespace', doc_string=None, data_table=None, id='227'), Step(location=Location(line=30, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka source \"context-cyan-cdc-kafkasource\" is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=None, id='228')], examples=[], id='229'), '208': Step(location=Location(line=10, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"cyan\"', doc_string=None, data_table=None, id='208'), '209': Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='209'), '210': Step(location=Location(line=12, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-cyan\" should exist', doc_string=None, data_table=None, id='210'), '211': Step(location=Location(line=13, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='helm release \"cyan-neo4j\" is deployed in \"context-cyan\" namespace', doc_string=None, data_table=None, id='211'), '212': Step(location=Location(line=14, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"cyan-neo4j\" in namespace \"context-cyan\" is in ready state', doc_string=None, data_table=None, id='212'), '218': Step(location=Location(line=15, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=16, column=7), rows=[TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='Knative service name')], id='213'), TableRow(location=Location(line=17, column=7), cells=[TableCell(location=Location(line=17, column=9), value='dead-letter')], id='214'), TableRow(location=Location(line=18, column=7), cells=[TableCell(location=Location(line=18, column=9), value='iocontext')], id='215'), TableRow(location=Location(line=19, column=7), cells=[TableCell(location=Location(line=19, column=9), value='kafka-cdc')], id='216'), TableRow(location=Location(line=20, column=7), cells=[TableCell(location=Location(line=20, column=9), value='pong')], id='217')]), id='218'), '223': Step(location=Location(line=21, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative triggers are in a ready state in the \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=22, column=7), rows=[TableRow(location=Location(line=22, column=7), cells=[TableCell(location=Location(line=22, column=9), value='Knative trigger name')], id='219'), TableRow(location=Location(line=23, column=7), cells=[TableCell(location=Location(line=23, column=9), value='iocontext-trigger')], id='220'), TableRow(location=Location(line=24, column=7), cells=[TableCell(location=Location(line=24, column=9), value='kafka-cdc-trigger')], id='221'), TableRow(location=Location(line=25, column=7), cells=[TableCell(location=Location(line=25, column=9), value='pong-trigger')], id='222')]), id='223'), '226': Step(location=Location(line=26, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative brokers are in a ready state in the \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=27, column=7), rows=[TableRow(location=Location(line=27, column=7), cells=[TableCell(location=Location(line=27, column=9), value='Knative broker name')], id='224'), TableRow(location=Location(line=28, column=7), cells=[TableCell(location=Location(line=28, column=9), value='context-broker')], id='225')]), id='226'), '227': Step(location=Location(line=29, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka topic \"context-cyan-cdc\" is in ready state in \"redpanda\" namespace', doc_string=None, data_table=None, id='227'), '228': Step(location=Location(line=30, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka source \"context-cyan-cdc-kafkasource\" is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=None, id='228'), '242': Scenario(location=Location(line=32, column=3), tags=[], keyword='Scenario', name='Create User and check k8s resources', description='', steps=[Step(location=Location(line=33, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"bob\" and connects it to the context \"cyan\"', doc_string=None, data_table=None, id='230'), Step(location=Location(line=34, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='231'), Step(location=Location(line=35, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"user-bob\" should exist', doc_string=None, data_table=None, id='232'), Step(location=Location(line=36, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative brokers are in a ready state in the \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=37, column=7), rows=[TableRow(location=Location(line=37, column=7), cells=[TableCell(location=Location(line=37, column=9), value='Knative broker name')], id='233'), TableRow(location=Location(line=38, column=7), cells=[TableCell(location=Location(line=38, column=9), value='user-broker')], id='234')]), id='235'), Step(location=Location(line=39, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative triggers are in a ready state in the \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=40, column=7), rows=[TableRow(location=Location(line=40, column=7), cells=[TableCell(location=Location(line=40, column=9), value='Knative trigger name')], id='236'), TableRow(location=Location(line=41, column=7), cells=[TableCell(location=Location(line=41, column=9), value='context-cyan-to-user-bob')], id='237')]), id='238'), Step(location=Location(line=42, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative triggers are in a ready state in the \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=43, column=7), rows=[TableRow(location=Location(line=43, column=7), cells=[TableCell(location=Location(line=43, column=9), value='Knative trigger name')], id='239'), TableRow(location=Location(line=44, column=7), cells=[TableCell(location=Location(line=44, column=9), value='user-bob-to-context-cyan')], id='240')]), id='241')], examples=[], id='242'), '230': Step(location=Location(line=33, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"bob\" and connects it to the context \"cyan\"', doc_string=None, data_table=None, id='230'), '231': Step(location=Location(line=34, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='231'), '232': Step(location=Location(line=35, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"user-bob\" should exist', doc_string=None, data_table=None, id='232'), '235': Step(location=Location(line=36, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative brokers are in a ready state in the \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=37, column=7), rows=[TableRow(location=Location(line=37, column=7), cells=[TableCell(location=Location(line=37, column=9), value='Knative broker name')], id='233'), TableRow(location=Location(line=38, column=7), cells=[TableCell(location=Location(line=38, column=9), value='user-broker')], id='234')]), id='235'), '238': Step(location=Location(line=39, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative triggers are in a ready state in the \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=40, column=7), rows=[TableRow(location=Location(line=40, column=7), cells=[TableCell(location=Location(line=40, column=9), value='Knative trigger name')], id='236'), TableRow(location=Location(line=41, column=7), cells=[TableCell(location=Location(line=41, column=9), value='context-cyan-to-user-bob')], id='237')]), id='238'), '241': Step(location=Location(line=42, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative triggers are in a ready state in the \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=43, column=7), rows=[TableRow(location=Location(line=43, column=7), cells=[TableCell(location=Location(line=43, column=9), value='Knative trigger name')], id='239'), TableRow(location=Location(line=44, column=7), cells=[TableCell(location=Location(line=44, column=9), value='user-bob-to-context-cyan')], id='240')]), id='241'), '253': Scenario(location=Location(line=46, column=3), tags=[], keyword='Scenario', name='Create Host and check k8s resources', description='', steps=[Step(location=Location(line=47, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"workstation\" and connects it to the user \"bob\"', doc_string=None, data_table=None, id='243'), Step(location=Location(line=48, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='244'), Step(location=Location(line=49, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"workstation-host-broker-kne-trigger\" is ready in \"user-bob\" namespace', doc_string=None, data_table=None, id='245'), Step(location=Location(line=50, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative triggers are in a ready state in the \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=51, column=7), rows=[TableRow(location=Location(line=51, column=7), cells=[TableCell(location=Location(line=51, column=9), value='Knative trigger name')], id='246'), TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='user-bob-to-context-cyan')], id='247'), TableRow(location=Location(line=53, column=7), cells=[TableCell(location=Location(line=53, column=9), value='user-broker-to-workstation-broker-trigger')], id='248')]), id='249'), Step(location=Location(line=54, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative brokers are in a ready state in the \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=55, column=7), rows=[TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='Knative broker name')], id='250'), TableRow(location=Location(line=56, column=7), cells=[TableCell(location=Location(line=56, column=9), value='workstation-host-broker')], id='251')]), id='252')], examples=[], id='253'), '243': Step(location=Location(line=47, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"workstation\" and connects it to the user \"bob\"', doc_string=None, data_table=None, id='243'), '244': Step(location=Location(line=48, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='244'), '245': Step(location=Location(line=49, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"workstation-host-broker-kne-trigger\" is ready in \"user-bob\" namespace', doc_string=None, data_table=None, id='245'), '249': Step(location=Location(line=50, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative triggers are in a ready state in the \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=51, column=7), rows=[TableRow(location=Location(line=51, column=7), cells=[TableCell(location=Location(line=51, column=9), value='Knative trigger name')], id='246'), TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='user-bob-to-context-cyan')], id='247'), TableRow(location=Location(line=53, column=7), cells=[TableCell(location=Location(line=53, column=9), value='user-broker-to-workstation-broker-trigger')], id='248')]), id='249'), '252': Step(location=Location(line=54, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative brokers are in a ready state in the \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=55, column=7), rows=[TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='Knative broker name')], id='250'), TableRow(location=Location(line=56, column=7), cells=[TableCell(location=Location(line=56, column=9), value='workstation-host-broker')], id='251')]), id='252'), '262': Scenario(location=Location(line=60, column=3), tags=[], keyword='Scenario', name='Delete Resources and Verify Cleanup', description='', steps=[Step(location=Location(line=62, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"workstation\"', doc_string=None, data_table=None, id='254'), Step(location=Location(line=63, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"workstation\" should be deleted', doc_string=None, data_table=None, id='255'), Step(location=Location(line=65, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"bob\"', doc_string=None, data_table=None, id='256'), Step(location=Location(line=66, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"bob\" should be deleted', doc_string=None, data_table=None, id='257'), Step(location=Location(line=67, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"user-bob\" should not exist', doc_string=None, data_table=None, id='258'), Step(location=Location(line=69, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"cyan\"', doc_string=None, data_table=None, id='259'), Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"cyan\" should be deleted', doc_string=None, data_table=None, id='260'), Step(location=Location(line=71, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-cyan\" should not exist', doc_string=None, data_table=None, id='261')], examples=[], id='262'), '254': Step(location=Location(line=62, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"workstation\"', doc_string=None, data_table=None, id='254'), '255': Step(location=Location(line=63, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"workstation\" should be deleted', doc_string=None, data_table=None, id='255'), '256': Step(location=Location(line=65, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"bob\"', doc_string=None, data_table=None, id='256'), '257': Step(location=Location(line=66, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"bob\" should be deleted', doc_string=None, data_table=None, id='257'), '258': Step(location=Location(line=67, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"user-bob\" should not exist', doc_string=None, data_table=None, id='258'), '259': Step(location=Location(line=69, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"cyan\"', doc_string=None, data_table=None, id='259'), '260': Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"cyan\" should be deleted', doc_string=None, data_table=None, id='260'), '261': Step(location=Location(line=71, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-cyan\" should not exist', doc_string=None, data_table=None, id='261')}, pickles=[Pickle(id='277', uri='file:features/2_mindwm_crd_resources.feature', name='Create Context and check k8s resources', language='en', steps=[PickleStep(argument=None, ast_node_ids=['205'], id='265', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['206'], id='266', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['208'], id='267', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"cyan\"'), PickleStep(argument=None, ast_node_ids=['209'], id='268', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=None, ast_node_ids=['210'], id='269', type=<Type.outcome: 'Outcome'>, text='namespace \"context-cyan\" should exist'), PickleStep(argument=None, ast_node_ids=['211'], id='270', type=<Type.outcome: 'Outcome'>, text='helm release \"cyan-neo4j\" is deployed in \"context-cyan\" namespace'), PickleStep(argument=None, ast_node_ids=['212'], id='271', type=<Type.outcome: 'Outcome'>, text='statefulset \"cyan-neo4j\" in namespace \"context-cyan\" is in ready state'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='dead-letter')]), PickleTableRow(cells=[PickleTableCell(value='iocontext')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')]), PickleTableRow(cells=[PickleTableCell(value='pong')])])), ast_node_ids=['218'], id='272', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-cyan\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative trigger name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-trigger')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-trigger')]), PickleTableRow(cells=[PickleTableCell(value='pong-trigger')])])), ast_node_ids=['223'], id='273', type=<Type.outcome: 'Outcome'>, text='the following knative triggers are in a ready state in the \"context-cyan\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative broker name')]), PickleTableRow(cells=[PickleTableCell(value='context-broker')])])), ast_node_ids=['226'], id='274', type=<Type.outcome: 'Outcome'>, text='the following knative brokers are in a ready state in the \"context-cyan\" namespace'), PickleStep(argument=None, ast_node_ids=['227'], id='275', type=<Type.outcome: 'Outcome'>, text='kafka topic \"context-cyan-cdc\" is in ready state in \"redpanda\" namespace'), PickleStep(argument=None, ast_node_ids=['228'], id='276', type=<Type.outcome: 'Outcome'>, text='kafka source \"context-cyan-cdc-kafkasource\" is in ready state in \"context-cyan\" namespace')], tags=[PickleTag(name='@mindwm_crd_resources', ast_node_id='263'), PickleTag(name='@mindwm_test', ast_node_id='264')], ast_node_ids=['229']), Pickle(id='286', uri='file:features/2_mindwm_crd_resources.feature', name='Create User and check k8s resources', language='en', steps=[PickleStep(argument=None, ast_node_ids=['205'], id='278', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['206'], id='279', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['230'], id='280', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"bob\" and connects it to the context \"cyan\"'), PickleStep(argument=None, ast_node_ids=['231'], id='281', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['232'], id='282', type=<Type.outcome: 'Outcome'>, text='namespace \"user-bob\" should exist'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative broker name')]), PickleTableRow(cells=[PickleTableCell(value='user-broker')])])), ast_node_ids=['235'], id='283', type=<Type.outcome: 'Outcome'>, text='the following knative brokers are in a ready state in the \"user-bob\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative trigger name')]), PickleTableRow(cells=[PickleTableCell(value='context-cyan-to-user-bob')])])), ast_node_ids=['238'], id='284', type=<Type.outcome: 'Outcome'>, text='the following knative triggers are in a ready state in the \"context-cyan\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative trigger name')]), PickleTableRow(cells=[PickleTableCell(value='user-bob-to-context-cyan')])])), ast_node_ids=['241'], id='285', type=<Type.outcome: 'Outcome'>, text='the following knative triggers are in a ready state in the \"user-bob\" namespace')], tags=[PickleTag(name='@mindwm_crd_resources', ast_node_id='263'), PickleTag(name='@mindwm_test', ast_node_id='264')], ast_node_ids=['242']), Pickle(id='294', uri='file:features/2_mindwm_crd_resources.feature', name='Create Host and check k8s resources', language='en', steps=[PickleStep(argument=None, ast_node_ids=['205'], id='287', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['206'], id='288', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['243'], id='289', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"workstation\" and connects it to the user \"bob\"'), PickleStep(argument=None, ast_node_ids=['244'], id='290', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['245'], id='291', type=<Type.outcome: 'Outcome'>, text='NatsJetStreamChannel \"workstation-host-broker-kne-trigger\" is ready in \"user-bob\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative trigger name')]), PickleTableRow(cells=[PickleTableCell(value='user-bob-to-context-cyan')]), PickleTableRow(cells=[PickleTableCell(value='user-broker-to-workstation-broker-trigger')])])), ast_node_ids=['249'], id='292', type=<Type.outcome: 'Outcome'>, text='the following knative triggers are in a ready state in the \"user-bob\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative broker name')]), PickleTableRow(cells=[PickleTableCell(value='workstation-host-broker')])])), ast_node_ids=['252'], id='293', type=<Type.outcome: 'Outcome'>, text='the following knative brokers are in a ready state in the \"user-bob\" namespace')], tags=[PickleTag(name='@mindwm_crd_resources', ast_node_id='263'), PickleTag(name='@mindwm_test', ast_node_id='264')], ast_node_ids=['253']), Pickle(id='305', uri='file:features/2_mindwm_crd_resources.feature', name='Delete Resources and Verify Cleanup', language='en', steps=[PickleStep(argument=None, ast_node_ids=['205'], id='295', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['206'], id='296', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['254'], id='297', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"workstation\"'), PickleStep(argument=None, ast_node_ids=['255'], id='298', type=<Type.outcome: 'Outcome'>, text='the host \"workstation\" should be deleted'), PickleStep(argument=None, ast_node_ids=['256'], id='299', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"bob\"'), PickleStep(argument=None, ast_node_ids=['257'], id='300', type=<Type.outcome: 'Outcome'>, text='the user \"bob\" should be deleted'), PickleStep(argument=None, ast_node_ids=['258'], id='301', type=<Type.outcome: 'Outcome'>, text='namespace \"user-bob\" should not exist'), PickleStep(argument=None, ast_node_ids=['259'], id='302', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"cyan\"'), PickleStep(argument=None, ast_node_ids=['260'], id='303', type=<Type.outcome: 'Outcome'>, text='the context \"cyan\" should be deleted'), PickleStep(argument=None, ast_node_ids=['261'], id='304', type=<Type.outcome: 'Outcome'>, text='namespace \"context-cyan\" should not exist')], tags=[PickleTag(name='@mindwm_crd_resources', ast_node_id='263'), PickleTag(name='@mindwm_test', ast_node_id='264')], ast_node_ids=['262'])])","Source(uri='file:features/2_mindwm_crd_resources.feature', data='@mindwm_crd_resources\\n@mindwm_test\\nFeature: MindWM Custom kubernetes resources\\n\\n  Background:\\n    Given a MindWM environment\\n    Then all nodes in Kubernetes are ready\\n    \\n  Scenario: Create Context and check k8s resources\\n    When God creates a MindWM context with the name \"cyan\"\\n    Then the context should be ready and operable\\n    And namespace \"context-cyan\" should exist \\n    And helm release \"cyan-neo4j\" is deployed in \"context-cyan\" namespace\\n    And statefulset \"cyan-neo4j\" in namespace \"context-cyan\" is in ready state\\n    And the following knative services are in a ready state in the \"context-cyan\" namespace\\n      | Knative service name |\\n      | dead-letter          |\\n      | iocontext            |\\n      | kafka-cdc            |\\n      | pong                 |\\n    And the following knative triggers are in a ready state in the \"context-cyan\" namespace\\n      | Knative trigger name |\\n      | iocontext-trigger    |\\n      | kafka-cdc-trigger    |\\n      | pong-trigger         |\\n    And the following knative brokers are in a ready state in the \"context-cyan\" namespace\\n      | Knative broker name |\\n      | context-broker      |\\n    And kafka topic \"context-cyan-cdc\" is in ready state in \"redpanda\" namespace\\n    And kafka source \"context-cyan-cdc-kafkasource\" is in ready state in \"context-cyan\" namespace\\n  \\n  Scenario: Create User and check k8s resources\\n    When God creates a MindWM user resource with the name \"bob\" and connects it to the context \"cyan\"\\n    Then the user resource should be ready and operable\\n    And namespace \"user-bob\" should exist \\n    And the following knative brokers are in a ready state in the \"user-bob\" namespace\\n      | Knative broker name |\\n      | user-broker         |\\n    And the following knative triggers are in a ready state in the \"context-cyan\" namespace\\n      | Knative trigger name          |\\n      | context-cyan-to-user-bob    |\\n    And the following knative triggers are in a ready state in the \"user-bob\" namespace\\n      | Knative trigger name          |\\n      | user-bob-to-context-cyan    |\\n\\n  Scenario: Create Host and check k8s resources\\n    When God creates a MindWM host resource with the name \"workstation\" and connects it to the user \"bob\"\\n    Then the host resource should be ready and operable\\n    And NatsJetStreamChannel \"workstation-host-broker-kne-trigger\" is ready in \"user-bob\" namespace\\n    And the following knative triggers are in a ready state in the \"user-bob\" namespace\\n      | Knative trigger name                    |\\n      | user-bob-to-context-cyan              |\\n      | user-broker-to-workstation-broker-trigger    |\\n    And the following knative brokers are in a ready state in the \"user-bob\" namespace\\n      | Knative broker name  |\\n      | workstation-host-broker   |\\n\\n\\n\\n  Scenario: Delete Resources and Verify Cleanup\\n\\n    When God deletes the MindWM host resource \"workstation\"\\n    Then the host \"workstation\" should be deleted\\n\\n    When God deletes the MindWM user resource \"bob\"\\n    Then the user \"bob\" should be deleted\\n    And namespace \"user-bob\" should not exist\\n\\n    When God deletes the MindWM context resource \"cyan\"\\n    Then the context \"cyan\" should be deleted\\n    And namespace \"context-cyan\" should not exist\\n\\n\\n\\n', media_type='text/x.cucumber.gherkin+plain')","Pickle(id='277', uri='file:features/2_mindwm_crd_resources.feature', name='Create Context and check k8s resources', language='en', steps=[PickleStep(argument=None, ast_node_ids=['205'], id='265', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['206'], id='266', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['208'], id='267', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"cyan\"'), PickleStep(argument=None, ast_node_ids=['209'], id='268', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=None, ast_node_ids=['210'], id='269', type=<Type.outcome: 'Outcome'>, text='namespace \"context-cyan\" should exist'), PickleStep(argument=None, ast_node_ids=['211'], id='270', type=<Type.outcome: 'Outcome'>, text='helm release \"cyan-neo4j\" is deployed in \"context-cyan\" namespace'), PickleStep(argument=None, ast_node_ids=['212'], id='271', type=<Type.outcome: 'Outcome'>, text='statefulset \"cyan-neo4j\" in namespace \"context-cyan\" is in ready state'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='dead-letter')]), PickleTableRow(cells=[PickleTableCell(value='iocontext')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')]), PickleTableRow(cells=[PickleTableCell(value='pong')])])), ast_node_ids=['218'], id='272', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-cyan\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative trigger name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-trigger')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-trigger')]), PickleTableRow(cells=[PickleTableCell(value='pong-trigger')])])), ast_node_ids=['223'], id='273', type=<Type.outcome: 'Outcome'>, text='the following knative triggers are in a ready state in the \"context-cyan\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative broker name')]), PickleTableRow(cells=[PickleTableCell(value='context-broker')])])), ast_node_ids=['226'], id='274', type=<Type.outcome: 'Outcome'>, text='the following knative brokers are in a ready state in the \"context-cyan\" namespace'), PickleStep(argument=None, ast_node_ids=['227'], id='275', type=<Type.outcome: 'Outcome'>, text='kafka topic \"context-cyan-cdc\" is in ready state in \"redpanda\" namespace'), PickleStep(argument=None, ast_node_ids=['228'], id='276', type=<Type.outcome: 'Outcome'>, text='kafka source \"context-cyan-cdc-kafkasource\" is in ready state in \"context-cyan\" namespace')], tags=[PickleTag(name='@mindwm_crd_resources', ast_node_id='263'), PickleTag(name='@mindwm_test', ast_node_id='264')], ast_node_ids=['229'])"],"tags":["mindwm_crd_resources","pytest_bdd_scenario","@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')","mindwm_test","scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/2_mindwm_crd_resources.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=<FeaturePathType.PATH: 'path'>, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())","namespace(create=False, name='default')"]},{"name":"test_scenarios[file:features/8_mindwm_two_contexts.feature-Context Resource Readiness and Cleanup Verification-Create Contexts and Verify All Related Resources Are in Ready State[table_rows:[line: 53]]]","uid":"581980d6ff6d1678","parentUid":"3961740595044ffd97a03e46799bfc30","status":"passed","time":{"start":1728404690908,"stop":1728404796260,"duration":105352},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["Feature(gherkin_document=GherkinDocument(uri='file:features/8_mindwm_two_contexts.feature', feature=Feature(location=Location(line=3, column=1), tags=[Tag(location=Location(line=1, column=1), name='@mindwm_two_contexts', id='917'), Tag(location=Location(line=2, column=1), name='@mindwm_test', id='918')], language='en', keyword='Feature', name='Context Resource Readiness and Cleanup Verification', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=5, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=6, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='877'), Step(location=Location(line=7, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='878')], id='879'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=9, column=3), tags=[], keyword='Scenario Outline', name='Create Contexts and Verify All Related Resources Are in Ready State', description='', steps=[Step(location=Location(line=10, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='880'), Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='881'), Step(location=Location(line=14, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-<context>\" should exist', doc_string=None, data_table=None, id='882'), Step(location=Location(line=17, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=18, column=7), rows=[TableRow(location=Location(line=18, column=7), cells=[TableCell(location=Location(line=18, column=9), value='Deployment name')], id='883'), TableRow(location=Location(line=19, column=7), cells=[TableCell(location=Location(line=19, column=9), value='kafka-cdc-00001-deployment')], id='884'), TableRow(location=Location(line=20, column=7), cells=[TableCell(location=Location(line=20, column=9), value='iocontext-00001-deployment')], id='885')]), id='886'), Step(location=Location(line=23, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='887'), Step(location=Location(line=26, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=27, column=7), rows=[TableRow(location=Location(line=27, column=7), cells=[TableCell(location=Location(line=27, column=9), value='Knative service name')], id='888'), TableRow(location=Location(line=28, column=7), cells=[TableCell(location=Location(line=28, column=9), value='iocontext')], id='889'), TableRow(location=Location(line=29, column=7), cells=[TableCell(location=Location(line=29, column=9), value='kafka-cdc')], id='890'), TableRow(location=Location(line=30, column=7), cells=[TableCell(location=Location(line=30, column=9), value='dead-letter')], id='891'), TableRow(location=Location(line=31, column=7), cells=[TableCell(location=Location(line=31, column=9), value='pong')], id='892')]), id='893'), Step(location=Location(line=34, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative triggers are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=35, column=7), rows=[TableRow(location=Location(line=35, column=7), cells=[TableCell(location=Location(line=35, column=9), value='Knative trigger name')], id='894'), TableRow(location=Location(line=36, column=7), cells=[TableCell(location=Location(line=36, column=9), value='iocontext-trigger')], id='895'), TableRow(location=Location(line=37, column=7), cells=[TableCell(location=Location(line=37, column=9), value='kafka-cdc-trigger')], id='896'), TableRow(location=Location(line=38, column=7), cells=[TableCell(location=Location(line=38, column=9), value='pong-trigger')], id='897')]), id='898'), Step(location=Location(line=41, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative brokers are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=42, column=7), rows=[TableRow(location=Location(line=42, column=7), cells=[TableCell(location=Location(line=42, column=9), value='Knative broker name')], id='899'), TableRow(location=Location(line=43, column=7), cells=[TableCell(location=Location(line=43, column=9), value='context-broker')], id='900')]), id='901'), Step(location=Location(line=46, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka topic \"context-<context>-cdc\" is in ready state in \"redpanda\" namespace', doc_string=None, data_table=None, id='902'), Step(location=Location(line=47, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka source \"context-<context>-cdc-kafkasource\" is in ready state in \"context-<context>\" namespace', doc_string=None, data_table=None, id='903')], examples=[Examples(location=Location(line=50, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=51, column=7), cells=[TableCell(location=Location(line=51, column=9), value='context')], id='904'), table_body=[TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='aphrodite')], id='905'), TableRow(location=Location(line=53, column=7), cells=[TableCell(location=Location(line=53, column=9), value='kypros')], id='906')], id='907')], id='908')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=55, column=3), tags=[], keyword='Scenario Outline', name='Cleanup Contexts and Verify Resources Are Deleted', description='', steps=[Step(location=Location(line=56, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='909'), Step(location=Location(line=57, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='910'), Step(location=Location(line=58, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-<context>\" should not exist', doc_string=None, data_table=None, id='911')], examples=[Examples(location=Location(line=60, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=61, column=7), cells=[TableCell(location=Location(line=61, column=9), value='context')], id='912'), table_body=[TableRow(location=Location(line=62, column=7), cells=[TableCell(location=Location(line=62, column=9), value='aphrodite')], id='913'), TableRow(location=Location(line=63, column=7), cells=[TableCell(location=Location(line=63, column=9), value='kypros')], id='914')], id='915')], id='916'))]), comments=[Comment(location=Location(line=13, column=1), text='    # Verify Namespace'), Comment(location=Location(line=16, column=1), text='    # Verify Deployments'), Comment(location=Location(line=22, column=1), text='    # Verify StatefulSets'), Comment(location=Location(line=25, column=1), text='    # Verify Knative Services'), Comment(location=Location(line=33, column=1), text='    # Verify Knative Triggers'), Comment(location=Location(line=40, column=1), text='    # Verify Knative Brokers'), Comment(location=Location(line=45, column=1), text='    # Verify Kafka Topics and Sources')]), uri='file:features/8_mindwm_two_contexts.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/8_mindwm_two_contexts.feature', registry={'917': Tag(location=Location(line=1, column=1), name='@mindwm_two_contexts', id='917'), '918': Tag(location=Location(line=2, column=1), name='@mindwm_test', id='918'), '879': Background(location=Location(line=5, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=6, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='877'), Step(location=Location(line=7, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='878')], id='879'), '877': Step(location=Location(line=6, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='877'), '878': Step(location=Location(line=7, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='878'), '908': Scenario(location=Location(line=9, column=3), tags=[], keyword='Scenario Outline', name='Create Contexts and Verify All Related Resources Are in Ready State', description='', steps=[Step(location=Location(line=10, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='880'), Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='881'), Step(location=Location(line=14, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-<context>\" should exist', doc_string=None, data_table=None, id='882'), Step(location=Location(line=17, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=18, column=7), rows=[TableRow(location=Location(line=18, column=7), cells=[TableCell(location=Location(line=18, column=9), value='Deployment name')], id='883'), TableRow(location=Location(line=19, column=7), cells=[TableCell(location=Location(line=19, column=9), value='kafka-cdc-00001-deployment')], id='884'), TableRow(location=Location(line=20, column=7), cells=[TableCell(location=Location(line=20, column=9), value='iocontext-00001-deployment')], id='885')]), id='886'), Step(location=Location(line=23, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='887'), Step(location=Location(line=26, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=27, column=7), rows=[TableRow(location=Location(line=27, column=7), cells=[TableCell(location=Location(line=27, column=9), value='Knative service name')], id='888'), TableRow(location=Location(line=28, column=7), cells=[TableCell(location=Location(line=28, column=9), value='iocontext')], id='889'), TableRow(location=Location(line=29, column=7), cells=[TableCell(location=Location(line=29, column=9), value='kafka-cdc')], id='890'), TableRow(location=Location(line=30, column=7), cells=[TableCell(location=Location(line=30, column=9), value='dead-letter')], id='891'), TableRow(location=Location(line=31, column=7), cells=[TableCell(location=Location(line=31, column=9), value='pong')], id='892')]), id='893'), Step(location=Location(line=34, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative triggers are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=35, column=7), rows=[TableRow(location=Location(line=35, column=7), cells=[TableCell(location=Location(line=35, column=9), value='Knative trigger name')], id='894'), TableRow(location=Location(line=36, column=7), cells=[TableCell(location=Location(line=36, column=9), value='iocontext-trigger')], id='895'), TableRow(location=Location(line=37, column=7), cells=[TableCell(location=Location(line=37, column=9), value='kafka-cdc-trigger')], id='896'), TableRow(location=Location(line=38, column=7), cells=[TableCell(location=Location(line=38, column=9), value='pong-trigger')], id='897')]), id='898'), Step(location=Location(line=41, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative brokers are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=42, column=7), rows=[TableRow(location=Location(line=42, column=7), cells=[TableCell(location=Location(line=42, column=9), value='Knative broker name')], id='899'), TableRow(location=Location(line=43, column=7), cells=[TableCell(location=Location(line=43, column=9), value='context-broker')], id='900')]), id='901'), Step(location=Location(line=46, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka topic \"context-<context>-cdc\" is in ready state in \"redpanda\" namespace', doc_string=None, data_table=None, id='902'), Step(location=Location(line=47, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka source \"context-<context>-cdc-kafkasource\" is in ready state in \"context-<context>\" namespace', doc_string=None, data_table=None, id='903')], examples=[Examples(location=Location(line=50, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=51, column=7), cells=[TableCell(location=Location(line=51, column=9), value='context')], id='904'), table_body=[TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='aphrodite')], id='905'), TableRow(location=Location(line=53, column=7), cells=[TableCell(location=Location(line=53, column=9), value='kypros')], id='906')], id='907')], id='908'), '880': Step(location=Location(line=10, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='880'), '881': Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='881'), '882': Step(location=Location(line=14, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-<context>\" should exist', doc_string=None, data_table=None, id='882'), '886': Step(location=Location(line=17, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=18, column=7), rows=[TableRow(location=Location(line=18, column=7), cells=[TableCell(location=Location(line=18, column=9), value='Deployment name')], id='883'), TableRow(location=Location(line=19, column=7), cells=[TableCell(location=Location(line=19, column=9), value='kafka-cdc-00001-deployment')], id='884'), TableRow(location=Location(line=20, column=7), cells=[TableCell(location=Location(line=20, column=9), value='iocontext-00001-deployment')], id='885')]), id='886'), '887': Step(location=Location(line=23, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='887'), '893': Step(location=Location(line=26, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=27, column=7), rows=[TableRow(location=Location(line=27, column=7), cells=[TableCell(location=Location(line=27, column=9), value='Knative service name')], id='888'), TableRow(location=Location(line=28, column=7), cells=[TableCell(location=Location(line=28, column=9), value='iocontext')], id='889'), TableRow(location=Location(line=29, column=7), cells=[TableCell(location=Location(line=29, column=9), value='kafka-cdc')], id='890'), TableRow(location=Location(line=30, column=7), cells=[TableCell(location=Location(line=30, column=9), value='dead-letter')], id='891'), TableRow(location=Location(line=31, column=7), cells=[TableCell(location=Location(line=31, column=9), value='pong')], id='892')]), id='893'), '898': Step(location=Location(line=34, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative triggers are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=35, column=7), rows=[TableRow(location=Location(line=35, column=7), cells=[TableCell(location=Location(line=35, column=9), value='Knative trigger name')], id='894'), TableRow(location=Location(line=36, column=7), cells=[TableCell(location=Location(line=36, column=9), value='iocontext-trigger')], id='895'), TableRow(location=Location(line=37, column=7), cells=[TableCell(location=Location(line=37, column=9), value='kafka-cdc-trigger')], id='896'), TableRow(location=Location(line=38, column=7), cells=[TableCell(location=Location(line=38, column=9), value='pong-trigger')], id='897')]), id='898'), '901': Step(location=Location(line=41, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative brokers are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=42, column=7), rows=[TableRow(location=Location(line=42, column=7), cells=[TableCell(location=Location(line=42, column=9), value='Knative broker name')], id='899'), TableRow(location=Location(line=43, column=7), cells=[TableCell(location=Location(line=43, column=9), value='context-broker')], id='900')]), id='901'), '902': Step(location=Location(line=46, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka topic \"context-<context>-cdc\" is in ready state in \"redpanda\" namespace', doc_string=None, data_table=None, id='902'), '903': Step(location=Location(line=47, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka source \"context-<context>-cdc-kafkasource\" is in ready state in \"context-<context>\" namespace', doc_string=None, data_table=None, id='903'), '907': Examples(location=Location(line=50, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=51, column=7), cells=[TableCell(location=Location(line=51, column=9), value='context')], id='904'), table_body=[TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='aphrodite')], id='905'), TableRow(location=Location(line=53, column=7), cells=[TableCell(location=Location(line=53, column=9), value='kypros')], id='906')], id='907'), '904': TableRow(location=Location(line=51, column=7), cells=[TableCell(location=Location(line=51, column=9), value='context')], id='904'), '905': TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='aphrodite')], id='905'), '906': TableRow(location=Location(line=53, column=7), cells=[TableCell(location=Location(line=53, column=9), value='kypros')], id='906'), '916': Scenario(location=Location(line=55, column=3), tags=[], keyword='Scenario Outline', name='Cleanup Contexts and Verify Resources Are Deleted', description='', steps=[Step(location=Location(line=56, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='909'), Step(location=Location(line=57, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='910'), Step(location=Location(line=58, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-<context>\" should not exist', doc_string=None, data_table=None, id='911')], examples=[Examples(location=Location(line=60, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=61, column=7), cells=[TableCell(location=Location(line=61, column=9), value='context')], id='912'), table_body=[TableRow(location=Location(line=62, column=7), cells=[TableCell(location=Location(line=62, column=9), value='aphrodite')], id='913'), TableRow(location=Location(line=63, column=7), cells=[TableCell(location=Location(line=63, column=9), value='kypros')], id='914')], id='915')], id='916'), '909': Step(location=Location(line=56, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='909'), '910': Step(location=Location(line=57, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='910'), '911': Step(location=Location(line=58, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-<context>\" should not exist', doc_string=None, data_table=None, id='911'), '915': Examples(location=Location(line=60, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=61, column=7), cells=[TableCell(location=Location(line=61, column=9), value='context')], id='912'), table_body=[TableRow(location=Location(line=62, column=7), cells=[TableCell(location=Location(line=62, column=9), value='aphrodite')], id='913'), TableRow(location=Location(line=63, column=7), cells=[TableCell(location=Location(line=63, column=9), value='kypros')], id='914')], id='915'), '912': TableRow(location=Location(line=61, column=7), cells=[TableCell(location=Location(line=61, column=9), value='context')], id='912'), '913': TableRow(location=Location(line=62, column=7), cells=[TableCell(location=Location(line=62, column=9), value='aphrodite')], id='913'), '914': TableRow(location=Location(line=63, column=7), cells=[TableCell(location=Location(line=63, column=9), value='kypros')], id='914')}, pickles=[Pickle(id='931', uri='file:features/8_mindwm_two_contexts.feature', name='Create Contexts and Verify All Related Resources Are in Ready State', language='en', steps=[PickleStep(argument=None, ast_node_ids=['877'], id='919', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['878'], id='920', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['880', '905'], id='921', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"aphrodite\"'), PickleStep(argument=None, ast_node_ids=['881', '905'], id='922', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=None, ast_node_ids=['882', '905'], id='923', type=<Type.outcome: 'Outcome'>, text='namespace \"context-aphrodite\" should exist'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-00001-deployment')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-00001-deployment')])])), ast_node_ids=['886', '905'], id='924', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-aphrodite\" namespace'), PickleStep(argument=None, ast_node_ids=['887', '905'], id='925', type=<Type.outcome: 'Outcome'>, text='statefulset \"aphrodite-neo4j\" in namespace \"context-aphrodite\" is in ready state'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')]), PickleTableRow(cells=[PickleTableCell(value='dead-letter')]), PickleTableRow(cells=[PickleTableCell(value='pong')])])), ast_node_ids=['893', '905'], id='926', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-aphrodite\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative trigger name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-trigger')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-trigger')]), PickleTableRow(cells=[PickleTableCell(value='pong-trigger')])])), ast_node_ids=['898', '905'], id='927', type=<Type.outcome: 'Outcome'>, text='the following knative triggers are in a ready state in the \"context-aphrodite\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative broker name')]), PickleTableRow(cells=[PickleTableCell(value='context-broker')])])), ast_node_ids=['901', '905'], id='928', type=<Type.outcome: 'Outcome'>, text='the following knative brokers are in a ready state in the \"context-aphrodite\" namespace'), PickleStep(argument=None, ast_node_ids=['902', '905'], id='929', type=<Type.outcome: 'Outcome'>, text='kafka topic \"context-aphrodite-cdc\" is in ready state in \"redpanda\" namespace'), PickleStep(argument=None, ast_node_ids=['903', '905'], id='930', type=<Type.outcome: 'Outcome'>, text='kafka source \"context-aphrodite-cdc-kafkasource\" is in ready state in \"context-aphrodite\" namespace')], tags=[PickleTag(name='@mindwm_two_contexts', ast_node_id='917'), PickleTag(name='@mindwm_test', ast_node_id='918')], ast_node_ids=['908', '905']), Pickle(id='944', uri='file:features/8_mindwm_two_contexts.feature', name='Create Contexts and Verify All Related Resources Are in Ready State', language='en', steps=[PickleStep(argument=None, ast_node_ids=['877'], id='932', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['878'], id='933', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['880', '906'], id='934', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"kypros\"'), PickleStep(argument=None, ast_node_ids=['881', '906'], id='935', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=None, ast_node_ids=['882', '906'], id='936', type=<Type.outcome: 'Outcome'>, text='namespace \"context-kypros\" should exist'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-00001-deployment')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-00001-deployment')])])), ast_node_ids=['886', '906'], id='937', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-kypros\" namespace'), PickleStep(argument=None, ast_node_ids=['887', '906'], id='938', type=<Type.outcome: 'Outcome'>, text='statefulset \"kypros-neo4j\" in namespace \"context-kypros\" is in ready state'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')]), PickleTableRow(cells=[PickleTableCell(value='dead-letter')]), PickleTableRow(cells=[PickleTableCell(value='pong')])])), ast_node_ids=['893', '906'], id='939', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-kypros\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative trigger name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-trigger')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-trigger')]), PickleTableRow(cells=[PickleTableCell(value='pong-trigger')])])), ast_node_ids=['898', '906'], id='940', type=<Type.outcome: 'Outcome'>, text='the following knative triggers are in a ready state in the \"context-kypros\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative broker name')]), PickleTableRow(cells=[PickleTableCell(value='context-broker')])])), ast_node_ids=['901', '906'], id='941', type=<Type.outcome: 'Outcome'>, text='the following knative brokers are in a ready state in the \"context-kypros\" namespace'), PickleStep(argument=None, ast_node_ids=['902', '906'], id='942', type=<Type.outcome: 'Outcome'>, text='kafka topic \"context-kypros-cdc\" is in ready state in \"redpanda\" namespace'), PickleStep(argument=None, ast_node_ids=['903', '906'], id='943', type=<Type.outcome: 'Outcome'>, text='kafka source \"context-kypros-cdc-kafkasource\" is in ready state in \"context-kypros\" namespace')], tags=[PickleTag(name='@mindwm_two_contexts', ast_node_id='917'), PickleTag(name='@mindwm_test', ast_node_id='918')], ast_node_ids=['908', '906']), Pickle(id='950', uri='file:features/8_mindwm_two_contexts.feature', name='Cleanup Contexts and Verify Resources Are Deleted', language='en', steps=[PickleStep(argument=None, ast_node_ids=['877'], id='945', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['878'], id='946', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['909', '913'], id='947', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"aphrodite\"'), PickleStep(argument=None, ast_node_ids=['910', '913'], id='948', type=<Type.outcome: 'Outcome'>, text='the context \"aphrodite\" should be deleted'), PickleStep(argument=None, ast_node_ids=['911', '913'], id='949', type=<Type.outcome: 'Outcome'>, text='namespace \"context-aphrodite\" should not exist')], tags=[PickleTag(name='@mindwm_two_contexts', ast_node_id='917'), PickleTag(name='@mindwm_test', ast_node_id='918')], ast_node_ids=['916', '913']), Pickle(id='956', uri='file:features/8_mindwm_two_contexts.feature', name='Cleanup Contexts and Verify Resources Are Deleted', language='en', steps=[PickleStep(argument=None, ast_node_ids=['877'], id='951', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['878'], id='952', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['909', '914'], id='953', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"kypros\"'), PickleStep(argument=None, ast_node_ids=['910', '914'], id='954', type=<Type.outcome: 'Outcome'>, text='the context \"kypros\" should be deleted'), PickleStep(argument=None, ast_node_ids=['911', '914'], id='955', type=<Type.outcome: 'Outcome'>, text='namespace \"context-kypros\" should not exist')], tags=[PickleTag(name='@mindwm_two_contexts', ast_node_id='917'), PickleTag(name='@mindwm_test', ast_node_id='918')], ast_node_ids=['916', '914'])])","Source(uri='file:features/8_mindwm_two_contexts.feature', data='@mindwm_two_contexts\\n@mindwm_test\\nFeature: Context Resource Readiness and Cleanup Verification\\n\\n  Background:\\n    Given a MindWM environment\\n    Then all nodes in Kubernetes are ready\\n\\n  Scenario Outline: Create Contexts and Verify All Related Resources Are in Ready State\\n    When God creates a MindWM context with the name \"<context>\"\\n    Then the context should be ready and operable\\n\\n    # Verify Namespace\\n    And namespace \"context-<context>\" should exist\\n\\n    # Verify Deployments\\n    And the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name               |\\n      | kafka-cdc-00001-deployment    |\\n      | iocontext-00001-deployment    |\\n\\n    # Verify StatefulSets\\n    And statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state\\n\\n    # Verify Knative Services\\n    And the following knative services are in a ready state in the \"context-<context>\" namespace\\n      | Knative service name |\\n      | iocontext            |\\n      | kafka-cdc            |\\n      | dead-letter          |\\n      | pong                 |\\n\\n    # Verify Knative Triggers\\n    And the following knative triggers are in a ready state in the \"context-<context>\" namespace\\n      | Knative trigger name          |\\n      | iocontext-trigger             |\\n      | kafka-cdc-trigger             |\\n      | pong-trigger                  |\\n\\n    # Verify Knative Brokers\\n    And the following knative brokers are in a ready state in the \"context-<context>\" namespace\\n      | Knative broker name           |\\n      | context-broker                |\\n\\n    # Verify Kafka Topics and Sources\\n    And kafka topic \"context-<context>-cdc\" is in ready state in \"redpanda\" namespace\\n    And kafka source \"context-<context>-cdc-kafkasource\" is in ready state in \"context-<context>\" namespace\\n\\n\\n    Examples:\\n      | context   |\\n      | aphrodite |\\n      | kypros    |\\n\\n  Scenario Outline: Cleanup Contexts and Verify Resources Are Deleted\\n    When God deletes the MindWM context resource \"<context>\"\\n    Then the context \"<context>\" should be deleted\\n    And namespace \"context-<context>\" should not exist\\n\\n    Examples:\\n      | context   |\\n      | aphrodite |\\n      | kypros    |\\n\\n', media_type='text/x.cucumber.gherkin+plain')","Pickle(id='944', uri='file:features/8_mindwm_two_contexts.feature', name='Create Contexts and Verify All Related Resources Are in Ready State', language='en', steps=[PickleStep(argument=None, ast_node_ids=['877'], id='932', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['878'], id='933', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['880', '906'], id='934', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"kypros\"'), PickleStep(argument=None, ast_node_ids=['881', '906'], id='935', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=None, ast_node_ids=['882', '906'], id='936', type=<Type.outcome: 'Outcome'>, text='namespace \"context-kypros\" should exist'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-00001-deployment')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-00001-deployment')])])), ast_node_ids=['886', '906'], id='937', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-kypros\" namespace'), PickleStep(argument=None, ast_node_ids=['887', '906'], id='938', type=<Type.outcome: 'Outcome'>, text='statefulset \"kypros-neo4j\" in namespace \"context-kypros\" is in ready state'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')]), PickleTableRow(cells=[PickleTableCell(value='dead-letter')]), PickleTableRow(cells=[PickleTableCell(value='pong')])])), ast_node_ids=['893', '906'], id='939', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-kypros\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative trigger name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-trigger')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-trigger')]), PickleTableRow(cells=[PickleTableCell(value='pong-trigger')])])), ast_node_ids=['898', '906'], id='940', type=<Type.outcome: 'Outcome'>, text='the following knative triggers are in a ready state in the \"context-kypros\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative broker name')]), PickleTableRow(cells=[PickleTableCell(value='context-broker')])])), ast_node_ids=['901', '906'], id='941', type=<Type.outcome: 'Outcome'>, text='the following knative brokers are in a ready state in the \"context-kypros\" namespace'), PickleStep(argument=None, ast_node_ids=['902', '906'], id='942', type=<Type.outcome: 'Outcome'>, text='kafka topic \"context-kypros-cdc\" is in ready state in \"redpanda\" namespace'), PickleStep(argument=None, ast_node_ids=['903', '906'], id='943', type=<Type.outcome: 'Outcome'>, text='kafka source \"context-kypros-cdc-kafkasource\" is in ready state in \"context-kypros\" namespace')], tags=[PickleTag(name='@mindwm_two_contexts', ast_node_id='917'), PickleTag(name='@mindwm_test', ast_node_id='918')], ast_node_ids=['908', '906'])"],"tags":["pytest_bdd_scenario","@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')","mindwm_test","scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/8_mindwm_two_contexts.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=<FeaturePathType.PATH: 'path'>, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())","mindwm_two_contexts","namespace(create=False, name='default')"]},{"name":"test_scenarios[file:features/6_mindwm_two_hosts_one_user.feature-MindWM two hosts one user function test-Cleanup hosts workstation01 in user shesha[table_rows:[line: 98]]]","uid":"eba1a1b68f97e707","parentUid":"3961740595044ffd97a03e46799bfc30","status":"passed","time":{"start":1728404381065,"stop":1728404381204,"duration":139},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["Feature(gherkin_document=GherkinDocument(uri='file:features/6_mindwm_two_hosts_one_user.feature', feature=Feature(location=Location(line=3, column=1), tags=[Tag(location=Location(line=1, column=1), name='@mindwm_two_hosts_one_user', id='666'), Tag(location=Location(line=2, column=1), name='@mindwm_test', id='667')], language='en', keyword='Feature', name='MindWM two hosts one user function test', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='598'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='599')], id='600'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Create context <context> and user <username>', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='601'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='602'), Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='603'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='iocontext')], id='604'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='pong')], id='605'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='kafka-cdc')], id='606')]), id='607'), Step(location=Location(line=16, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='608'), Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='609'), Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='610')], examples=[Examples(location=Location(line=22, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=23, column=5), cells=[TableCell(location=Location(line=23, column=7), value='context'), TableCell(location=Location(line=23, column=18), value='username')], id='611'), table_body=[TableRow(location=Location(line=24, column=5), cells=[TableCell(location=Location(line=24, column=7), value='varanasi'), TableCell(location=Location(line=24, column=18), value='shesha')], id='612')], id='613')], id='614')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=26, column=3), tags=[], keyword='Scenario', name='Create <host> for user <username>', description='', steps=[Step(location=Location(line=28, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='615'), Step(location=Location(line=29, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='616')], examples=[Examples(location=Location(line=31, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=32, column=5), cells=[TableCell(location=Location(line=32, column=7), value='username'), TableCell(location=Location(line=32, column=18), value='host')], id='617'), table_body=[TableRow(location=Location(line=33, column=5), cells=[TableCell(location=Location(line=33, column=7), value='shesha'), TableCell(location=Location(line=33, column=18), value='workstation01')], id='618'), TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='shesha'), TableCell(location=Location(line=34, column=18), value='travellaptop')], id='619')], id='620')], id='621')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=37, column=3), tags=[], keyword='Scenario', name='Send ping via nats host: <host>, user: <username>', description='', steps=[Step(location=Location(line=38, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='622'), Step(location=Location(line=39, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='623'), Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='624'), Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='625'), Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='626'), Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=44, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='627'), Step(location=Location(line=53, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=54, column=7), rows=[TableRow(location=Location(line=54, column=7), cells=[TableCell(location=Location(line=54, column=9), value='Deployment name')], id='628'), TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='pong-00001-deployment')], id='629')]), id='630'), Step(location=Location(line=57, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='631')], examples=[Examples(location=Location(line=59, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=60, column=6), cells=[TableCell(location=Location(line=60, column=8), value='context'), TableCell(location=Location(line=60, column=18), value='username'), TableCell(location=Location(line=60, column=31), value='host'), TableCell(location=Location(line=60, column=43), value='tmux_pane'), TableCell(location=Location(line=60, column=55), value='tmux_window'), TableCell(location=Location(line=60, column=69), value='uuid'), TableCell(location=Location(line=60, column=109), value='tmux_socket')], id='632'), table_body=[TableRow(location=Location(line=61, column=6), cells=[TableCell(location=Location(line=61, column=8), value='varanasi'), TableCell(location=Location(line=61, column=20), value='shesha'), TableCell(location=Location(line=61, column=31), value='workstation01'), TableCell(location=Location(line=61, column=48), value='23'), TableCell(location=Location(line=61, column=60), value='36'), TableCell(location=Location(line=61, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=61, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='633'), TableRow(location=Location(line=62, column=6), cells=[TableCell(location=Location(line=62, column=8), value='varanasi'), TableCell(location=Location(line=62, column=20), value='shesha'), TableCell(location=Location(line=62, column=31), value='travellaptop'), TableCell(location=Location(line=62, column=47), value='23'), TableCell(location=Location(line=62, column=59), value='36'), TableCell(location=Location(line=62, column=73), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=62, column=112), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='634')], id='635')], id='636')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=64, column=3), tags=[], keyword='Scenario', name='Send iodocument via nats host: <host>, user: <username> and check that second host received graph the update', description='', steps=[Step(location=Location(line=65, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='637'), Step(location=Location(line=66, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='638'), Step(location=Location(line=67, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='639'), Step(location=Location(line=68, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='640'), Step(location=Location(line=69, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=70, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='641'), Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=80, column=7), rows=[TableRow(location=Location(line=80, column=7), cells=[TableCell(location=Location(line=80, column=9), value='Deployment name')], id='642'), TableRow(location=Location(line=81, column=7), cells=[TableCell(location=Location(line=81, column=9), value='iocontext-00001-deployment')], id='643'), TableRow(location=Location(line=82, column=7), cells=[TableCell(location=Location(line=82, column=9), value='kafka-cdc-00001-deployment')], id='644')]), id='645'), Step(location=Location(line=84, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.travellaptop-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='646')], examples=[Examples(location=Location(line=86, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=87, column=6), cells=[TableCell(location=Location(line=87, column=8), value='context'), TableCell(location=Location(line=87, column=18), value='username'), TableCell(location=Location(line=87, column=31), value='host'), TableCell(location=Location(line=87, column=43), value='tmux_pane'), TableCell(location=Location(line=87, column=55), value='tmux_window'), TableCell(location=Location(line=87, column=69), value='uuid'), TableCell(location=Location(line=87, column=109), value='tmux_socket')], id='647'), table_body=[TableRow(location=Location(line=88, column=6), cells=[TableCell(location=Location(line=88, column=8), value='varanasi'), TableCell(location=Location(line=88, column=20), value='shesha'), TableCell(location=Location(line=88, column=31), value='workstation01'), TableCell(location=Location(line=88, column=48), value='23'), TableCell(location=Location(line=88, column=60), value='36'), TableCell(location=Location(line=88, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=88, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='648')], id='649')], id='650')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=92, column=3), tags=[], keyword='Scenario', name='Cleanup hosts <host> in user <username>', description='', steps=[Step(location=Location(line=93, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='651'), Step(location=Location(line=94, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='652')], examples=[Examples(location=Location(line=96, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=97, column=5), cells=[TableCell(location=Location(line=97, column=7), value='username'), TableCell(location=Location(line=97, column=18), value='host')], id='653'), table_body=[TableRow(location=Location(line=98, column=5), cells=[TableCell(location=Location(line=98, column=7), value='shesha'), TableCell(location=Location(line=98, column=18), value='workstation01')], id='654'), TableRow(location=Location(line=99, column=5), cells=[TableCell(location=Location(line=99, column=7), value='shesha'), TableCell(location=Location(line=99, column=18), value='travellaptop')], id='655')], id='656')], id='657')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=101, column=3), tags=[], keyword='Scenario', name='Cleanup user <username> and context <context>', description='', steps=[Step(location=Location(line=102, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='658'), Step(location=Location(line=103, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='659'), Step(location=Location(line=105, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='660'), Step(location=Location(line=106, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='661')], examples=[Examples(location=Location(line=108, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=109, column=5), cells=[TableCell(location=Location(line=109, column=7), value='context'), TableCell(location=Location(line=109, column=18), value='username')], id='662'), table_body=[TableRow(location=Location(line=110, column=5), cells=[TableCell(location=Location(line=110, column=7), value='varanasi'), TableCell(location=Location(line=110, column=18), value='shesha')], id='663')], id='664')], id='665'))]), comments=[Comment(location=Location(line=89, column=1), text='     #| varanasi  | shesha   | travellaptop  | 23        | 36          | 8d839f82-79da-11ef-bc9f-f74fac7543ac  |L3RtcC90bXV4LTEwMDAvZGVmYXVsdA== |')]), uri='file:features/6_mindwm_two_hosts_one_user.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/6_mindwm_two_hosts_one_user.feature', registry={'666': Tag(location=Location(line=1, column=1), name='@mindwm_two_hosts_one_user', id='666'), '667': Tag(location=Location(line=2, column=1), name='@mindwm_test', id='667'), '600': Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='598'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='599')], id='600'), '598': Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='598'), '599': Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='599'), '614': Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Create context <context> and user <username>', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='601'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='602'), Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='603'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='iocontext')], id='604'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='pong')], id='605'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='kafka-cdc')], id='606')]), id='607'), Step(location=Location(line=16, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='608'), Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='609'), Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='610')], examples=[Examples(location=Location(line=22, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=23, column=5), cells=[TableCell(location=Location(line=23, column=7), value='context'), TableCell(location=Location(line=23, column=18), value='username')], id='611'), table_body=[TableRow(location=Location(line=24, column=5), cells=[TableCell(location=Location(line=24, column=7), value='varanasi'), TableCell(location=Location(line=24, column=18), value='shesha')], id='612')], id='613')], id='614'), '601': Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='601'), '602': Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='602'), '607': Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='603'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='iocontext')], id='604'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='pong')], id='605'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='kafka-cdc')], id='606')]), id='607'), '608': Step(location=Location(line=16, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='608'), '609': Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='609'), '610': Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='610'), '613': Examples(location=Location(line=22, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=23, column=5), cells=[TableCell(location=Location(line=23, column=7), value='context'), TableCell(location=Location(line=23, column=18), value='username')], id='611'), table_body=[TableRow(location=Location(line=24, column=5), cells=[TableCell(location=Location(line=24, column=7), value='varanasi'), TableCell(location=Location(line=24, column=18), value='shesha')], id='612')], id='613'), '611': TableRow(location=Location(line=23, column=5), cells=[TableCell(location=Location(line=23, column=7), value='context'), TableCell(location=Location(line=23, column=18), value='username')], id='611'), '612': TableRow(location=Location(line=24, column=5), cells=[TableCell(location=Location(line=24, column=7), value='varanasi'), TableCell(location=Location(line=24, column=18), value='shesha')], id='612'), '621': Scenario(location=Location(line=26, column=3), tags=[], keyword='Scenario', name='Create <host> for user <username>', description='', steps=[Step(location=Location(line=28, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='615'), Step(location=Location(line=29, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='616')], examples=[Examples(location=Location(line=31, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=32, column=5), cells=[TableCell(location=Location(line=32, column=7), value='username'), TableCell(location=Location(line=32, column=18), value='host')], id='617'), table_body=[TableRow(location=Location(line=33, column=5), cells=[TableCell(location=Location(line=33, column=7), value='shesha'), TableCell(location=Location(line=33, column=18), value='workstation01')], id='618'), TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='shesha'), TableCell(location=Location(line=34, column=18), value='travellaptop')], id='619')], id='620')], id='621'), '615': Step(location=Location(line=28, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='615'), '616': Step(location=Location(line=29, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='616'), '620': Examples(location=Location(line=31, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=32, column=5), cells=[TableCell(location=Location(line=32, column=7), value='username'), TableCell(location=Location(line=32, column=18), value='host')], id='617'), table_body=[TableRow(location=Location(line=33, column=5), cells=[TableCell(location=Location(line=33, column=7), value='shesha'), TableCell(location=Location(line=33, column=18), value='workstation01')], id='618'), TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='shesha'), TableCell(location=Location(line=34, column=18), value='travellaptop')], id='619')], id='620'), '617': TableRow(location=Location(line=32, column=5), cells=[TableCell(location=Location(line=32, column=7), value='username'), TableCell(location=Location(line=32, column=18), value='host')], id='617'), '618': TableRow(location=Location(line=33, column=5), cells=[TableCell(location=Location(line=33, column=7), value='shesha'), TableCell(location=Location(line=33, column=18), value='workstation01')], id='618'), '619': TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='shesha'), TableCell(location=Location(line=34, column=18), value='travellaptop')], id='619'), '636': Scenario(location=Location(line=37, column=3), tags=[], keyword='Scenario', name='Send ping via nats host: <host>, user: <username>', description='', steps=[Step(location=Location(line=38, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='622'), Step(location=Location(line=39, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='623'), Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='624'), Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='625'), Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='626'), Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=44, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='627'), Step(location=Location(line=53, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=54, column=7), rows=[TableRow(location=Location(line=54, column=7), cells=[TableCell(location=Location(line=54, column=9), value='Deployment name')], id='628'), TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='pong-00001-deployment')], id='629')]), id='630'), Step(location=Location(line=57, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='631')], examples=[Examples(location=Location(line=59, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=60, column=6), cells=[TableCell(location=Location(line=60, column=8), value='context'), TableCell(location=Location(line=60, column=18), value='username'), TableCell(location=Location(line=60, column=31), value='host'), TableCell(location=Location(line=60, column=43), value='tmux_pane'), TableCell(location=Location(line=60, column=55), value='tmux_window'), TableCell(location=Location(line=60, column=69), value='uuid'), TableCell(location=Location(line=60, column=109), value='tmux_socket')], id='632'), table_body=[TableRow(location=Location(line=61, column=6), cells=[TableCell(location=Location(line=61, column=8), value='varanasi'), TableCell(location=Location(line=61, column=20), value='shesha'), TableCell(location=Location(line=61, column=31), value='workstation01'), TableCell(location=Location(line=61, column=48), value='23'), TableCell(location=Location(line=61, column=60), value='36'), TableCell(location=Location(line=61, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=61, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='633'), TableRow(location=Location(line=62, column=6), cells=[TableCell(location=Location(line=62, column=8), value='varanasi'), TableCell(location=Location(line=62, column=20), value='shesha'), TableCell(location=Location(line=62, column=31), value='travellaptop'), TableCell(location=Location(line=62, column=47), value='23'), TableCell(location=Location(line=62, column=59), value='36'), TableCell(location=Location(line=62, column=73), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=62, column=112), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='634')], id='635')], id='636'), '622': Step(location=Location(line=38, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='622'), '623': Step(location=Location(line=39, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='623'), '624': Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='624'), '625': Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='625'), '626': Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='626'), '627': Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=44, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='627'), '630': Step(location=Location(line=53, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=54, column=7), rows=[TableRow(location=Location(line=54, column=7), cells=[TableCell(location=Location(line=54, column=9), value='Deployment name')], id='628'), TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='pong-00001-deployment')], id='629')]), id='630'), '631': Step(location=Location(line=57, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='631'), '635': Examples(location=Location(line=59, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=60, column=6), cells=[TableCell(location=Location(line=60, column=8), value='context'), TableCell(location=Location(line=60, column=18), value='username'), TableCell(location=Location(line=60, column=31), value='host'), TableCell(location=Location(line=60, column=43), value='tmux_pane'), TableCell(location=Location(line=60, column=55), value='tmux_window'), TableCell(location=Location(line=60, column=69), value='uuid'), TableCell(location=Location(line=60, column=109), value='tmux_socket')], id='632'), table_body=[TableRow(location=Location(line=61, column=6), cells=[TableCell(location=Location(line=61, column=8), value='varanasi'), TableCell(location=Location(line=61, column=20), value='shesha'), TableCell(location=Location(line=61, column=31), value='workstation01'), TableCell(location=Location(line=61, column=48), value='23'), TableCell(location=Location(line=61, column=60), value='36'), TableCell(location=Location(line=61, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=61, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='633'), TableRow(location=Location(line=62, column=6), cells=[TableCell(location=Location(line=62, column=8), value='varanasi'), TableCell(location=Location(line=62, column=20), value='shesha'), TableCell(location=Location(line=62, column=31), value='travellaptop'), TableCell(location=Location(line=62, column=47), value='23'), TableCell(location=Location(line=62, column=59), value='36'), TableCell(location=Location(line=62, column=73), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=62, column=112), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='634')], id='635'), '632': TableRow(location=Location(line=60, column=6), cells=[TableCell(location=Location(line=60, column=8), value='context'), TableCell(location=Location(line=60, column=18), value='username'), TableCell(location=Location(line=60, column=31), value='host'), TableCell(location=Location(line=60, column=43), value='tmux_pane'), TableCell(location=Location(line=60, column=55), value='tmux_window'), TableCell(location=Location(line=60, column=69), value='uuid'), TableCell(location=Location(line=60, column=109), value='tmux_socket')], id='632'), '633': TableRow(location=Location(line=61, column=6), cells=[TableCell(location=Location(line=61, column=8), value='varanasi'), TableCell(location=Location(line=61, column=20), value='shesha'), TableCell(location=Location(line=61, column=31), value='workstation01'), TableCell(location=Location(line=61, column=48), value='23'), TableCell(location=Location(line=61, column=60), value='36'), TableCell(location=Location(line=61, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=61, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='633'), '634': TableRow(location=Location(line=62, column=6), cells=[TableCell(location=Location(line=62, column=8), value='varanasi'), TableCell(location=Location(line=62, column=20), value='shesha'), TableCell(location=Location(line=62, column=31), value='travellaptop'), TableCell(location=Location(line=62, column=47), value='23'), TableCell(location=Location(line=62, column=59), value='36'), TableCell(location=Location(line=62, column=73), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=62, column=112), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='634'), '650': Scenario(location=Location(line=64, column=3), tags=[], keyword='Scenario', name='Send iodocument via nats host: <host>, user: <username> and check that second host received graph the update', description='', steps=[Step(location=Location(line=65, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='637'), Step(location=Location(line=66, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='638'), Step(location=Location(line=67, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='639'), Step(location=Location(line=68, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='640'), Step(location=Location(line=69, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=70, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='641'), Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=80, column=7), rows=[TableRow(location=Location(line=80, column=7), cells=[TableCell(location=Location(line=80, column=9), value='Deployment name')], id='642'), TableRow(location=Location(line=81, column=7), cells=[TableCell(location=Location(line=81, column=9), value='iocontext-00001-deployment')], id='643'), TableRow(location=Location(line=82, column=7), cells=[TableCell(location=Location(line=82, column=9), value='kafka-cdc-00001-deployment')], id='644')]), id='645'), Step(location=Location(line=84, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.travellaptop-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='646')], examples=[Examples(location=Location(line=86, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=87, column=6), cells=[TableCell(location=Location(line=87, column=8), value='context'), TableCell(location=Location(line=87, column=18), value='username'), TableCell(location=Location(line=87, column=31), value='host'), TableCell(location=Location(line=87, column=43), value='tmux_pane'), TableCell(location=Location(line=87, column=55), value='tmux_window'), TableCell(location=Location(line=87, column=69), value='uuid'), TableCell(location=Location(line=87, column=109), value='tmux_socket')], id='647'), table_body=[TableRow(location=Location(line=88, column=6), cells=[TableCell(location=Location(line=88, column=8), value='varanasi'), TableCell(location=Location(line=88, column=20), value='shesha'), TableCell(location=Location(line=88, column=31), value='workstation01'), TableCell(location=Location(line=88, column=48), value='23'), TableCell(location=Location(line=88, column=60), value='36'), TableCell(location=Location(line=88, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=88, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='648')], id='649')], id='650'), '637': Step(location=Location(line=65, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='637'), '638': Step(location=Location(line=66, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='638'), '639': Step(location=Location(line=67, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='639'), '640': Step(location=Location(line=68, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='640'), '641': Step(location=Location(line=69, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=70, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='641'), '645': Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=80, column=7), rows=[TableRow(location=Location(line=80, column=7), cells=[TableCell(location=Location(line=80, column=9), value='Deployment name')], id='642'), TableRow(location=Location(line=81, column=7), cells=[TableCell(location=Location(line=81, column=9), value='iocontext-00001-deployment')], id='643'), TableRow(location=Location(line=82, column=7), cells=[TableCell(location=Location(line=82, column=9), value='kafka-cdc-00001-deployment')], id='644')]), id='645'), '646': Step(location=Location(line=84, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.travellaptop-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='646'), '649': Examples(location=Location(line=86, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=87, column=6), cells=[TableCell(location=Location(line=87, column=8), value='context'), TableCell(location=Location(line=87, column=18), value='username'), TableCell(location=Location(line=87, column=31), value='host'), TableCell(location=Location(line=87, column=43), value='tmux_pane'), TableCell(location=Location(line=87, column=55), value='tmux_window'), TableCell(location=Location(line=87, column=69), value='uuid'), TableCell(location=Location(line=87, column=109), value='tmux_socket')], id='647'), table_body=[TableRow(location=Location(line=88, column=6), cells=[TableCell(location=Location(line=88, column=8), value='varanasi'), TableCell(location=Location(line=88, column=20), value='shesha'), TableCell(location=Location(line=88, column=31), value='workstation01'), TableCell(location=Location(line=88, column=48), value='23'), TableCell(location=Location(line=88, column=60), value='36'), TableCell(location=Location(line=88, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=88, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='648')], id='649'), '647': TableRow(location=Location(line=87, column=6), cells=[TableCell(location=Location(line=87, column=8), value='context'), TableCell(location=Location(line=87, column=18), value='username'), TableCell(location=Location(line=87, column=31), value='host'), TableCell(location=Location(line=87, column=43), value='tmux_pane'), TableCell(location=Location(line=87, column=55), value='tmux_window'), TableCell(location=Location(line=87, column=69), value='uuid'), TableCell(location=Location(line=87, column=109), value='tmux_socket')], id='647'), '648': TableRow(location=Location(line=88, column=6), cells=[TableCell(location=Location(line=88, column=8), value='varanasi'), TableCell(location=Location(line=88, column=20), value='shesha'), TableCell(location=Location(line=88, column=31), value='workstation01'), TableCell(location=Location(line=88, column=48), value='23'), TableCell(location=Location(line=88, column=60), value='36'), TableCell(location=Location(line=88, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=88, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='648'), '657': Scenario(location=Location(line=92, column=3), tags=[], keyword='Scenario', name='Cleanup hosts <host> in user <username>', description='', steps=[Step(location=Location(line=93, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='651'), Step(location=Location(line=94, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='652')], examples=[Examples(location=Location(line=96, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=97, column=5), cells=[TableCell(location=Location(line=97, column=7), value='username'), TableCell(location=Location(line=97, column=18), value='host')], id='653'), table_body=[TableRow(location=Location(line=98, column=5), cells=[TableCell(location=Location(line=98, column=7), value='shesha'), TableCell(location=Location(line=98, column=18), value='workstation01')], id='654'), TableRow(location=Location(line=99, column=5), cells=[TableCell(location=Location(line=99, column=7), value='shesha'), TableCell(location=Location(line=99, column=18), value='travellaptop')], id='655')], id='656')], id='657'), '651': Step(location=Location(line=93, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='651'), '652': Step(location=Location(line=94, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='652'), '656': Examples(location=Location(line=96, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=97, column=5), cells=[TableCell(location=Location(line=97, column=7), value='username'), TableCell(location=Location(line=97, column=18), value='host')], id='653'), table_body=[TableRow(location=Location(line=98, column=5), cells=[TableCell(location=Location(line=98, column=7), value='shesha'), TableCell(location=Location(line=98, column=18), value='workstation01')], id='654'), TableRow(location=Location(line=99, column=5), cells=[TableCell(location=Location(line=99, column=7), value='shesha'), TableCell(location=Location(line=99, column=18), value='travellaptop')], id='655')], id='656'), '653': TableRow(location=Location(line=97, column=5), cells=[TableCell(location=Location(line=97, column=7), value='username'), TableCell(location=Location(line=97, column=18), value='host')], id='653'), '654': TableRow(location=Location(line=98, column=5), cells=[TableCell(location=Location(line=98, column=7), value='shesha'), TableCell(location=Location(line=98, column=18), value='workstation01')], id='654'), '655': TableRow(location=Location(line=99, column=5), cells=[TableCell(location=Location(line=99, column=7), value='shesha'), TableCell(location=Location(line=99, column=18), value='travellaptop')], id='655'), '665': Scenario(location=Location(line=101, column=3), tags=[], keyword='Scenario', name='Cleanup user <username> and context <context>', description='', steps=[Step(location=Location(line=102, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='658'), Step(location=Location(line=103, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='659'), Step(location=Location(line=105, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='660'), Step(location=Location(line=106, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='661')], examples=[Examples(location=Location(line=108, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=109, column=5), cells=[TableCell(location=Location(line=109, column=7), value='context'), TableCell(location=Location(line=109, column=18), value='username')], id='662'), table_body=[TableRow(location=Location(line=110, column=5), cells=[TableCell(location=Location(line=110, column=7), value='varanasi'), TableCell(location=Location(line=110, column=18), value='shesha')], id='663')], id='664')], id='665'), '658': Step(location=Location(line=102, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='658'), '659': Step(location=Location(line=103, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='659'), '660': Step(location=Location(line=105, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='660'), '661': Step(location=Location(line=106, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='661'), '664': Examples(location=Location(line=108, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=109, column=5), cells=[TableCell(location=Location(line=109, column=7), value='context'), TableCell(location=Location(line=109, column=18), value='username')], id='662'), table_body=[TableRow(location=Location(line=110, column=5), cells=[TableCell(location=Location(line=110, column=7), value='varanasi'), TableCell(location=Location(line=110, column=18), value='shesha')], id='663')], id='664'), '662': TableRow(location=Location(line=109, column=5), cells=[TableCell(location=Location(line=109, column=7), value='context'), TableCell(location=Location(line=109, column=18), value='username')], id='662'), '663': TableRow(location=Location(line=110, column=5), cells=[TableCell(location=Location(line=110, column=7), value='varanasi'), TableCell(location=Location(line=110, column=18), value='shesha')], id='663')}, pickles=[Pickle(id='676', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Create context varanasi and user shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='668', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='669', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['601', '612'], id='670', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"varanasi\"'), PickleStep(argument=None, ast_node_ids=['602', '612'], id='671', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext')]), PickleTableRow(cells=[PickleTableCell(value='pong')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')])])), ast_node_ids=['607', '612'], id='672', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-varanasi\" namespace'), PickleStep(argument=None, ast_node_ids=['608', '612'], id='673', type=<Type.outcome: 'Outcome'>, text='statefulset \"varanasi-neo4j\" in namespace \"context-varanasi\" is in ready state'), PickleStep(argument=None, ast_node_ids=['609', '612'], id='674', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"shesha\" and connects it to the context \"varanasi\"'), PickleStep(argument=None, ast_node_ids=['610', '612'], id='675', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['614', '612']), Pickle(id='681', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Create workstation01 for user shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='677', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='678', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['615', '618'], id='679', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"workstation01\" and connects it to the user \"shesha\"'), PickleStep(argument=None, ast_node_ids=['616', '618'], id='680', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['621', '618']), Pickle(id='686', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Create travellaptop for user shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='682', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='683', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['615', '619'], id='684', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"travellaptop\" and connects it to the user \"shesha\"'), PickleStep(argument=None, ast_node_ids=['616', '619'], id='685', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['621', '619']), Pickle(id='697', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Send ping via nats host: workstation01, user: shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='687', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='688', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['622', '633'], id='689', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['623', '633'], id='690', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['624', '633'], id='691', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['625', '633'], id='692', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['626', '633'], id='693', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.shesha.workstation01.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['627', '633'], id='694', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.shesha.workstation01.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='pong-00001-deployment')])])), ast_node_ids=['630', '633'], id='695', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-varanasi\" namespace'), PickleStep(argument=None, ast_node_ids=['631', '633'], id='696', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-shesha.workstation01-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['636', '633']), Pickle(id='708', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Send ping via nats host: travellaptop, user: shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='698', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='699', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['622', '634'], id='700', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['623', '634'], id='701', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['624', '634'], id='702', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['625', '634'], id='703', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['626', '634'], id='704', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.shesha.travellaptop.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['627', '634'], id='705', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.shesha.travellaptop.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='pong-00001-deployment')])])), ast_node_ids=['630', '634'], id='706', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-varanasi\" namespace'), PickleStep(argument=None, ast_node_ids=['631', '634'], id='707', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-shesha.travellaptop-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['636', '634']), Pickle(id='718', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Send iodocument via nats host: workstation01, user: shesha and check that second host received graph the update', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='709', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='710', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['637', '648'], id='711', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['638', '648'], id='712', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"id\"'), PickleStep(argument=None, ast_node_ids=['639', '648'], id='713', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['640', '648'], id='714', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.shesha.workstation01.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['641', '648'], id='715', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.shesha.workstation01.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.3623.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-00001-deployment')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-00001-deployment')])])), ast_node_ids=['645', '648'], id='716', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-varanasi\" namespace'), PickleStep(argument=None, ast_node_ids=['646', '648'], id='717', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-shesha.travellaptop-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['650', '648']), Pickle(id='723', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Cleanup hosts workstation01 in user shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='719', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='720', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['651', '654'], id='721', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"workstation01\"'), PickleStep(argument=None, ast_node_ids=['652', '654'], id='722', type=<Type.outcome: 'Outcome'>, text='the host \"workstation01\" should be deleted')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['657', '654']), Pickle(id='728', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Cleanup hosts travellaptop in user shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='724', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='725', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['651', '655'], id='726', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"travellaptop\"'), PickleStep(argument=None, ast_node_ids=['652', '655'], id='727', type=<Type.outcome: 'Outcome'>, text='the host \"travellaptop\" should be deleted')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['657', '655']), Pickle(id='735', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Cleanup user shesha and context varanasi', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='729', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='730', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['658', '663'], id='731', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"shesha\"'), PickleStep(argument=None, ast_node_ids=['659', '663'], id='732', type=<Type.outcome: 'Outcome'>, text='the user \"shesha\" should be deleted'), PickleStep(argument=None, ast_node_ids=['660', '663'], id='733', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"varanasi\"'), PickleStep(argument=None, ast_node_ids=['661', '663'], id='734', type=<Type.outcome: 'Outcome'>, text='the context \"varanasi\" should be deleted')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['665', '663'])])","Source(uri='file:features/6_mindwm_two_hosts_one_user.feature', data='@mindwm_two_hosts_one_user\\n@mindwm_test\\nFeature: MindWM two hosts one user function test\\n  Background:\\n    Given A MindWM environment\\n    Then all nodes in Kubernetes are ready\\n\\n  Scenario: Create context <context> and user <username>\\n    When God creates a MindWM context with the name \"<context>\"\\n    Then the context should be ready and operable\\n    Then the following knative services are in a ready state in the \"context-<context>\" namespace\\n      | Knative service name |\\n      | iocontext            |\\n      | pong                 |\\n      | kafka-cdc            |\\n    And statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state\\n\\n    When God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"\\n    Then the user resource should be ready and operable\\n\\n\\n    Examples:\\n    | context  | username |\\n    | varanasi | shesha   |\\n\\n  Scenario: Create <host> for user <username>\\n\\n    When God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"\\n    Then the host resource should be ready and operable\\n\\n    Examples:\\n    | username | host           |\\n    | shesha   | workstation01  |\\n    | shesha   | travellaptop   |\\n\\n\\n  Scenario: Send ping via nats host: <host>, user: <username>\\n    When God creates a new cloudevent \\n      And God starts reading message from NATS topic \">\"\\n      And sets cloudevent header \"ce-subject\" to \"#ping\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"\\n      And sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"\\n      \"\"\"\\n      {\\n        \"input\": \"#ping\",\\n        \"output\": \"\",\\n        \"ps1\": \"❯\",\\n        \"type\": \"org.mindwm.v1.iodocument\"\\n      } \\n      \"\"\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name       |\\n      | pong-00001-deployment |\\n\\n    And a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"\\n\\n    Examples:\\n     | context | username   | host      | tmux_pane | tmux_window | uuid                                  | tmux_socket                     |\\n     | varanasi  | shesha   | workstation01  | 23        | 36          | 8d839f82-79da-11ef-bc9f-f74fac7543ac  |L3RtcC90bXV4LTEwMDAvZGVmYXVsdA== |\\n     | varanasi  | shesha   | travellaptop  | 23        | 36          | 8d839f82-79da-11ef-bc9f-f74fac7543ac  |L3RtcC90bXV4LTEwMDAvZGVmYXVsdA== |\\n\\n  Scenario: Send iodocument via nats host: <host>, user: <username> and check that second host received graph the update\\n    When God creates a new cloudevent \\n      And sets cloudevent header \"ce-subject\" to \"id\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"\\n      And sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"\\n      \"\"\"\\n      {\\n        \"input\": \"id\",\\n        \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n        \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n        \"type\": \"org.mindwm.v1.iodocument\"\\n      } \\n      \"\"\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name       |\\n      | iocontext-00001-deployment |\\n      | kafka-cdc-00001-deployment |\\n\\n    And a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.travellaptop-host-broker-kne-trigger._knative\"\\n\\n    Examples:\\n     | context | username   | host      | tmux_pane | tmux_window | uuid                                  | tmux_socket                     |\\n     | varanasi  | shesha   | workstation01  | 23        | 36          | 8d839f82-79da-11ef-bc9f-f74fac7543ac  |L3RtcC90bXV4LTEwMDAvZGVmYXVsdA== |\\n     #| varanasi  | shesha   | travellaptop  | 23        | 36          | 8d839f82-79da-11ef-bc9f-f74fac7543ac  |L3RtcC90bXV4LTEwMDAvZGVmYXVsdA== |\\n\\n\\n  Scenario: Cleanup hosts <host> in user <username>\\n    When God deletes the MindWM host resource \"<host>\"\\n    Then the host \"<host>\" should be deleted\\n\\n    Examples:\\n    | username | host           |\\n    | shesha   | workstation01  |\\n    | shesha   | travellaptop   |\\n\\n  Scenario: Cleanup user <username> and context <context>\\n    When God deletes the MindWM user resource \"<username>\"\\n    Then the user \"<username>\" should be deleted\\n\\n    When God deletes the MindWM context resource \"<context>\"\\n    Then the context \"<context>\" should be deleted\\n\\n    Examples:\\n    | context  | username |\\n    | varanasi | shesha   |\\n', media_type='text/x.cucumber.gherkin+plain')","Pickle(id='723', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Cleanup hosts workstation01 in user shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='719', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='720', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['651', '654'], id='721', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"workstation01\"'), PickleStep(argument=None, ast_node_ids=['652', '654'], id='722', type=<Type.outcome: 'Outcome'>, text='the host \"workstation01\" should be deleted')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['657', '654'])"],"tags":["scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/6_mindwm_two_hosts_one_user.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=<FeaturePathType.PATH: 'path'>, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())","mindwm_two_hosts_one_user","pytest_bdd_scenario","@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')","mindwm_test","namespace(create=False, name='default')"]},{"name":"test_scenarios[file:features/7_mindwm_two_users_one_context.feature-MindWM two users one context function test-Create godzilla and connects it to tokyo[table_rows:[line: 27]]]","uid":"62e07b36d5ea80d","parentUid":"3961740595044ffd97a03e46799bfc30","status":"passed","time":{"start":1728404498697,"stop":1728404509965,"duration":11268},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["Feature(gherkin_document=GherkinDocument(uri='file:features/7_mindwm_two_users_one_context.feature', feature=Feature(location=Location(line=3, column=1), tags=[Tag(location=Location(line=1, column=1), name='@mindwm_two_users_one_context', id='801'), Tag(location=Location(line=2, column=1), name='@mindwm_test', id='802')], language='en', keyword='Feature', name='MindWM two users one context function test', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='736'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='737')], id='738'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Create context <context>', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='739'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='740'), Step(location=Location(line=12, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=13, column=7), rows=[TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='Knative service name')], id='741'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='iocontext')], id='742'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='pong')], id='743'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='kafka-cdc')], id='744')]), id='745'), Step(location=Location(line=17, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='746')], examples=[Examples(location=Location(line=18, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=19, column=5), cells=[TableCell(location=Location(line=19, column=7), value='context')], id='747'), table_body=[TableRow(location=Location(line=20, column=5), cells=[TableCell(location=Location(line=20, column=7), value='tokyo')], id='748')], id='749')], id='750')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=22, column=3), tags=[], keyword='Scenario', name='Create <username> and connects it to <context>', description='', steps=[Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='751'), Step(location=Location(line=24, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='752')], examples=[Examples(location=Location(line=25, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=26, column=5), cells=[TableCell(location=Location(line=26, column=7), value='context'), TableCell(location=Location(line=26, column=17), value='username')], id='753'), table_body=[TableRow(location=Location(line=27, column=5), cells=[TableCell(location=Location(line=27, column=7), value='tokyo'), TableCell(location=Location(line=27, column=17), value='godzilla')], id='754'), TableRow(location=Location(line=28, column=5), cells=[TableCell(location=Location(line=28, column=7), value='tokyo'), TableCell(location=Location(line=28, column=17), value='tengu')], id='755')], id='756')], id='757')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=29, column=3), tags=[], keyword='Scenario', name='Create <host> resource and connects it to <username> user', description='', steps=[Step(location=Location(line=30, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='758'), Step(location=Location(line=31, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='759')], examples=[Examples(location=Location(line=33, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='username'), TableCell(location=Location(line=34, column=18), value='host')], id='760'), table_body=[TableRow(location=Location(line=35, column=5), cells=[TableCell(location=Location(line=35, column=7), value='godzilla'), TableCell(location=Location(line=35, column=18), value='laptop')], id='761'), TableRow(location=Location(line=36, column=5), cells=[TableCell(location=Location(line=36, column=7), value='tengu'), TableCell(location=Location(line=36, column=18), value='tablet')], id='762')], id='763')], id='764')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=38, column=3), tags=[], keyword='Scenario', name='Send iodocument via nats host: <host>, user: <username> and check that second user received graph update', description='', steps=[Step(location=Location(line=39, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='765'), Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='766'), Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='767'), Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='768'), Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=None, data_table=None, id='769'), Step(location=Location(line=44, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=DocString(location=Location(line=45, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='770'), Step(location=Location(line=54, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=55, column=7), rows=[TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='Deployment name')], id='771'), TableRow(location=Location(line=56, column=7), cells=[TableCell(location=Location(line=56, column=9), value='iocontext-00001-deployment')], id='772'), TableRow(location=Location(line=57, column=7), cells=[TableCell(location=Location(line=57, column=9), value='kafka-cdc-00001-deployment')], id='773')]), id='774'), Step(location=Location(line=59, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<dst_user>.<dst_host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='775')], examples=[Examples(location=Location(line=61, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=62, column=5), cells=[TableCell(location=Location(line=62, column=7), value='context'), TableCell(location=Location(line=62, column=17), value='src_user'), TableCell(location=Location(line=62, column=28), value='src_host'), TableCell(location=Location(line=62, column=39), value='dst_user'), TableCell(location=Location(line=62, column=50), value='dst_host')], id='776'), table_body=[TableRow(location=Location(line=63, column=5), cells=[TableCell(location=Location(line=63, column=7), value='tokyo'), TableCell(location=Location(line=63, column=17), value='godzilla'), TableCell(location=Location(line=63, column=28), value='laptop'), TableCell(location=Location(line=63, column=39), value='tengu'), TableCell(location=Location(line=63, column=50), value='tablet')], id='777'), TableRow(location=Location(line=64, column=5), cells=[TableCell(location=Location(line=64, column=7), value='tokyo'), TableCell(location=Location(line=64, column=17), value='tengu'), TableCell(location=Location(line=64, column=28), value='tablet'), TableCell(location=Location(line=64, column=39), value='godzilla'), TableCell(location=Location(line=64, column=50), value='laptop')], id='778')], id='779')], id='780')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=67, column=3), tags=[], keyword='Scenario', name='Cleanup <host> host for <username> username', description='', steps=[Step(location=Location(line=69, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='781'), Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='782')], examples=[Examples(location=Location(line=72, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=73, column=5), cells=[TableCell(location=Location(line=73, column=7), value='username'), TableCell(location=Location(line=73, column=18), value='host')], id='783'), table_body=[TableRow(location=Location(line=74, column=5), cells=[TableCell(location=Location(line=74, column=7), value='godzilla'), TableCell(location=Location(line=74, column=18), value='laptop')], id='784'), TableRow(location=Location(line=75, column=5), cells=[TableCell(location=Location(line=75, column=7), value='tengu'), TableCell(location=Location(line=75, column=18), value='tablet')], id='785')], id='786')], id='787')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=77, column=3), tags=[], keyword='Scenario', name='Cleanup <username> username', description='', steps=[Step(location=Location(line=78, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='788'), Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='789')], examples=[Examples(location=Location(line=81, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='username')], id='790'), table_body=[TableRow(location=Location(line=83, column=5), cells=[TableCell(location=Location(line=83, column=7), value='godzilla')], id='791'), TableRow(location=Location(line=84, column=5), cells=[TableCell(location=Location(line=84, column=7), value='tengu')], id='792')], id='793')], id='794')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=86, column=3), tags=[], keyword='Scenario', name='Cleanup <context> context', description='', steps=[Step(location=Location(line=87, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='795'), Step(location=Location(line=88, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='796')], examples=[Examples(location=Location(line=90, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=91, column=5), cells=[TableCell(location=Location(line=91, column=7), value='context')], id='797'), table_body=[TableRow(location=Location(line=92, column=5), cells=[TableCell(location=Location(line=92, column=7), value='tokyo')], id='798')], id='799')], id='800'))]), comments=[]), uri='file:features/7_mindwm_two_users_one_context.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/7_mindwm_two_users_one_context.feature', registry={'801': Tag(location=Location(line=1, column=1), name='@mindwm_two_users_one_context', id='801'), '802': Tag(location=Location(line=2, column=1), name='@mindwm_test', id='802'), '738': Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='736'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='737')], id='738'), '736': Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='736'), '737': Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='737'), '750': Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Create context <context>', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='739'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='740'), Step(location=Location(line=12, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=13, column=7), rows=[TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='Knative service name')], id='741'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='iocontext')], id='742'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='pong')], id='743'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='kafka-cdc')], id='744')]), id='745'), Step(location=Location(line=17, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='746')], examples=[Examples(location=Location(line=18, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=19, column=5), cells=[TableCell(location=Location(line=19, column=7), value='context')], id='747'), table_body=[TableRow(location=Location(line=20, column=5), cells=[TableCell(location=Location(line=20, column=7), value='tokyo')], id='748')], id='749')], id='750'), '739': Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='739'), '740': Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='740'), '745': Step(location=Location(line=12, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=13, column=7), rows=[TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='Knative service name')], id='741'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='iocontext')], id='742'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='pong')], id='743'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='kafka-cdc')], id='744')]), id='745'), '746': Step(location=Location(line=17, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='746'), '749': Examples(location=Location(line=18, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=19, column=5), cells=[TableCell(location=Location(line=19, column=7), value='context')], id='747'), table_body=[TableRow(location=Location(line=20, column=5), cells=[TableCell(location=Location(line=20, column=7), value='tokyo')], id='748')], id='749'), '747': TableRow(location=Location(line=19, column=5), cells=[TableCell(location=Location(line=19, column=7), value='context')], id='747'), '748': TableRow(location=Location(line=20, column=5), cells=[TableCell(location=Location(line=20, column=7), value='tokyo')], id='748'), '757': Scenario(location=Location(line=22, column=3), tags=[], keyword='Scenario', name='Create <username> and connects it to <context>', description='', steps=[Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='751'), Step(location=Location(line=24, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='752')], examples=[Examples(location=Location(line=25, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=26, column=5), cells=[TableCell(location=Location(line=26, column=7), value='context'), TableCell(location=Location(line=26, column=17), value='username')], id='753'), table_body=[TableRow(location=Location(line=27, column=5), cells=[TableCell(location=Location(line=27, column=7), value='tokyo'), TableCell(location=Location(line=27, column=17), value='godzilla')], id='754'), TableRow(location=Location(line=28, column=5), cells=[TableCell(location=Location(line=28, column=7), value='tokyo'), TableCell(location=Location(line=28, column=17), value='tengu')], id='755')], id='756')], id='757'), '751': Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='751'), '752': Step(location=Location(line=24, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='752'), '756': Examples(location=Location(line=25, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=26, column=5), cells=[TableCell(location=Location(line=26, column=7), value='context'), TableCell(location=Location(line=26, column=17), value='username')], id='753'), table_body=[TableRow(location=Location(line=27, column=5), cells=[TableCell(location=Location(line=27, column=7), value='tokyo'), TableCell(location=Location(line=27, column=17), value='godzilla')], id='754'), TableRow(location=Location(line=28, column=5), cells=[TableCell(location=Location(line=28, column=7), value='tokyo'), TableCell(location=Location(line=28, column=17), value='tengu')], id='755')], id='756'), '753': TableRow(location=Location(line=26, column=5), cells=[TableCell(location=Location(line=26, column=7), value='context'), TableCell(location=Location(line=26, column=17), value='username')], id='753'), '754': TableRow(location=Location(line=27, column=5), cells=[TableCell(location=Location(line=27, column=7), value='tokyo'), TableCell(location=Location(line=27, column=17), value='godzilla')], id='754'), '755': TableRow(location=Location(line=28, column=5), cells=[TableCell(location=Location(line=28, column=7), value='tokyo'), TableCell(location=Location(line=28, column=17), value='tengu')], id='755'), '764': Scenario(location=Location(line=29, column=3), tags=[], keyword='Scenario', name='Create <host> resource and connects it to <username> user', description='', steps=[Step(location=Location(line=30, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='758'), Step(location=Location(line=31, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='759')], examples=[Examples(location=Location(line=33, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='username'), TableCell(location=Location(line=34, column=18), value='host')], id='760'), table_body=[TableRow(location=Location(line=35, column=5), cells=[TableCell(location=Location(line=35, column=7), value='godzilla'), TableCell(location=Location(line=35, column=18), value='laptop')], id='761'), TableRow(location=Location(line=36, column=5), cells=[TableCell(location=Location(line=36, column=7), value='tengu'), TableCell(location=Location(line=36, column=18), value='tablet')], id='762')], id='763')], id='764'), '758': Step(location=Location(line=30, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='758'), '759': Step(location=Location(line=31, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='759'), '763': Examples(location=Location(line=33, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='username'), TableCell(location=Location(line=34, column=18), value='host')], id='760'), table_body=[TableRow(location=Location(line=35, column=5), cells=[TableCell(location=Location(line=35, column=7), value='godzilla'), TableCell(location=Location(line=35, column=18), value='laptop')], id='761'), TableRow(location=Location(line=36, column=5), cells=[TableCell(location=Location(line=36, column=7), value='tengu'), TableCell(location=Location(line=36, column=18), value='tablet')], id='762')], id='763'), '760': TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='username'), TableCell(location=Location(line=34, column=18), value='host')], id='760'), '761': TableRow(location=Location(line=35, column=5), cells=[TableCell(location=Location(line=35, column=7), value='godzilla'), TableCell(location=Location(line=35, column=18), value='laptop')], id='761'), '762': TableRow(location=Location(line=36, column=5), cells=[TableCell(location=Location(line=36, column=7), value='tengu'), TableCell(location=Location(line=36, column=18), value='tablet')], id='762'), '780': Scenario(location=Location(line=38, column=3), tags=[], keyword='Scenario', name='Send iodocument via nats host: <host>, user: <username> and check that second user received graph update', description='', steps=[Step(location=Location(line=39, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='765'), Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='766'), Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='767'), Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='768'), Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=None, data_table=None, id='769'), Step(location=Location(line=44, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=DocString(location=Location(line=45, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='770'), Step(location=Location(line=54, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=55, column=7), rows=[TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='Deployment name')], id='771'), TableRow(location=Location(line=56, column=7), cells=[TableCell(location=Location(line=56, column=9), value='iocontext-00001-deployment')], id='772'), TableRow(location=Location(line=57, column=7), cells=[TableCell(location=Location(line=57, column=9), value='kafka-cdc-00001-deployment')], id='773')]), id='774'), Step(location=Location(line=59, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<dst_user>.<dst_host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='775')], examples=[Examples(location=Location(line=61, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=62, column=5), cells=[TableCell(location=Location(line=62, column=7), value='context'), TableCell(location=Location(line=62, column=17), value='src_user'), TableCell(location=Location(line=62, column=28), value='src_host'), TableCell(location=Location(line=62, column=39), value='dst_user'), TableCell(location=Location(line=62, column=50), value='dst_host')], id='776'), table_body=[TableRow(location=Location(line=63, column=5), cells=[TableCell(location=Location(line=63, column=7), value='tokyo'), TableCell(location=Location(line=63, column=17), value='godzilla'), TableCell(location=Location(line=63, column=28), value='laptop'), TableCell(location=Location(line=63, column=39), value='tengu'), TableCell(location=Location(line=63, column=50), value='tablet')], id='777'), TableRow(location=Location(line=64, column=5), cells=[TableCell(location=Location(line=64, column=7), value='tokyo'), TableCell(location=Location(line=64, column=17), value='tengu'), TableCell(location=Location(line=64, column=28), value='tablet'), TableCell(location=Location(line=64, column=39), value='godzilla'), TableCell(location=Location(line=64, column=50), value='laptop')], id='778')], id='779')], id='780'), '765': Step(location=Location(line=39, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='765'), '766': Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='766'), '767': Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='767'), '768': Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='768'), '769': Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=None, data_table=None, id='769'), '770': Step(location=Location(line=44, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=DocString(location=Location(line=45, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='770'), '774': Step(location=Location(line=54, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=55, column=7), rows=[TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='Deployment name')], id='771'), TableRow(location=Location(line=56, column=7), cells=[TableCell(location=Location(line=56, column=9), value='iocontext-00001-deployment')], id='772'), TableRow(location=Location(line=57, column=7), cells=[TableCell(location=Location(line=57, column=9), value='kafka-cdc-00001-deployment')], id='773')]), id='774'), '775': Step(location=Location(line=59, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<dst_user>.<dst_host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='775'), '779': Examples(location=Location(line=61, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=62, column=5), cells=[TableCell(location=Location(line=62, column=7), value='context'), TableCell(location=Location(line=62, column=17), value='src_user'), TableCell(location=Location(line=62, column=28), value='src_host'), TableCell(location=Location(line=62, column=39), value='dst_user'), TableCell(location=Location(line=62, column=50), value='dst_host')], id='776'), table_body=[TableRow(location=Location(line=63, column=5), cells=[TableCell(location=Location(line=63, column=7), value='tokyo'), TableCell(location=Location(line=63, column=17), value='godzilla'), TableCell(location=Location(line=63, column=28), value='laptop'), TableCell(location=Location(line=63, column=39), value='tengu'), TableCell(location=Location(line=63, column=50), value='tablet')], id='777'), TableRow(location=Location(line=64, column=5), cells=[TableCell(location=Location(line=64, column=7), value='tokyo'), TableCell(location=Location(line=64, column=17), value='tengu'), TableCell(location=Location(line=64, column=28), value='tablet'), TableCell(location=Location(line=64, column=39), value='godzilla'), TableCell(location=Location(line=64, column=50), value='laptop')], id='778')], id='779'), '776': TableRow(location=Location(line=62, column=5), cells=[TableCell(location=Location(line=62, column=7), value='context'), TableCell(location=Location(line=62, column=17), value='src_user'), TableCell(location=Location(line=62, column=28), value='src_host'), TableCell(location=Location(line=62, column=39), value='dst_user'), TableCell(location=Location(line=62, column=50), value='dst_host')], id='776'), '777': TableRow(location=Location(line=63, column=5), cells=[TableCell(location=Location(line=63, column=7), value='tokyo'), TableCell(location=Location(line=63, column=17), value='godzilla'), TableCell(location=Location(line=63, column=28), value='laptop'), TableCell(location=Location(line=63, column=39), value='tengu'), TableCell(location=Location(line=63, column=50), value='tablet')], id='777'), '778': TableRow(location=Location(line=64, column=5), cells=[TableCell(location=Location(line=64, column=7), value='tokyo'), TableCell(location=Location(line=64, column=17), value='tengu'), TableCell(location=Location(line=64, column=28), value='tablet'), TableCell(location=Location(line=64, column=39), value='godzilla'), TableCell(location=Location(line=64, column=50), value='laptop')], id='778'), '787': Scenario(location=Location(line=67, column=3), tags=[], keyword='Scenario', name='Cleanup <host> host for <username> username', description='', steps=[Step(location=Location(line=69, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='781'), Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='782')], examples=[Examples(location=Location(line=72, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=73, column=5), cells=[TableCell(location=Location(line=73, column=7), value='username'), TableCell(location=Location(line=73, column=18), value='host')], id='783'), table_body=[TableRow(location=Location(line=74, column=5), cells=[TableCell(location=Location(line=74, column=7), value='godzilla'), TableCell(location=Location(line=74, column=18), value='laptop')], id='784'), TableRow(location=Location(line=75, column=5), cells=[TableCell(location=Location(line=75, column=7), value='tengu'), TableCell(location=Location(line=75, column=18), value='tablet')], id='785')], id='786')], id='787'), '781': Step(location=Location(line=69, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='781'), '782': Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='782'), '786': Examples(location=Location(line=72, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=73, column=5), cells=[TableCell(location=Location(line=73, column=7), value='username'), TableCell(location=Location(line=73, column=18), value='host')], id='783'), table_body=[TableRow(location=Location(line=74, column=5), cells=[TableCell(location=Location(line=74, column=7), value='godzilla'), TableCell(location=Location(line=74, column=18), value='laptop')], id='784'), TableRow(location=Location(line=75, column=5), cells=[TableCell(location=Location(line=75, column=7), value='tengu'), TableCell(location=Location(line=75, column=18), value='tablet')], id='785')], id='786'), '783': TableRow(location=Location(line=73, column=5), cells=[TableCell(location=Location(line=73, column=7), value='username'), TableCell(location=Location(line=73, column=18), value='host')], id='783'), '784': TableRow(location=Location(line=74, column=5), cells=[TableCell(location=Location(line=74, column=7), value='godzilla'), TableCell(location=Location(line=74, column=18), value='laptop')], id='784'), '785': TableRow(location=Location(line=75, column=5), cells=[TableCell(location=Location(line=75, column=7), value='tengu'), TableCell(location=Location(line=75, column=18), value='tablet')], id='785'), '794': Scenario(location=Location(line=77, column=3), tags=[], keyword='Scenario', name='Cleanup <username> username', description='', steps=[Step(location=Location(line=78, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='788'), Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='789')], examples=[Examples(location=Location(line=81, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='username')], id='790'), table_body=[TableRow(location=Location(line=83, column=5), cells=[TableCell(location=Location(line=83, column=7), value='godzilla')], id='791'), TableRow(location=Location(line=84, column=5), cells=[TableCell(location=Location(line=84, column=7), value='tengu')], id='792')], id='793')], id='794'), '788': Step(location=Location(line=78, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='788'), '789': Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='789'), '793': Examples(location=Location(line=81, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='username')], id='790'), table_body=[TableRow(location=Location(line=83, column=5), cells=[TableCell(location=Location(line=83, column=7), value='godzilla')], id='791'), TableRow(location=Location(line=84, column=5), cells=[TableCell(location=Location(line=84, column=7), value='tengu')], id='792')], id='793'), '790': TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='username')], id='790'), '791': TableRow(location=Location(line=83, column=5), cells=[TableCell(location=Location(line=83, column=7), value='godzilla')], id='791'), '792': TableRow(location=Location(line=84, column=5), cells=[TableCell(location=Location(line=84, column=7), value='tengu')], id='792'), '800': Scenario(location=Location(line=86, column=3), tags=[], keyword='Scenario', name='Cleanup <context> context', description='', steps=[Step(location=Location(line=87, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='795'), Step(location=Location(line=88, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='796')], examples=[Examples(location=Location(line=90, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=91, column=5), cells=[TableCell(location=Location(line=91, column=7), value='context')], id='797'), table_body=[TableRow(location=Location(line=92, column=5), cells=[TableCell(location=Location(line=92, column=7), value='tokyo')], id='798')], id='799')], id='800'), '795': Step(location=Location(line=87, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='795'), '796': Step(location=Location(line=88, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='796'), '799': Examples(location=Location(line=90, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=91, column=5), cells=[TableCell(location=Location(line=91, column=7), value='context')], id='797'), table_body=[TableRow(location=Location(line=92, column=5), cells=[TableCell(location=Location(line=92, column=7), value='tokyo')], id='798')], id='799'), '797': TableRow(location=Location(line=91, column=5), cells=[TableCell(location=Location(line=91, column=7), value='context')], id='797'), '798': TableRow(location=Location(line=92, column=5), cells=[TableCell(location=Location(line=92, column=7), value='tokyo')], id='798')}, pickles=[Pickle(id='809', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create context tokyo', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='803', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='804', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['739', '748'], id='805', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"tokyo\"'), PickleStep(argument=None, ast_node_ids=['740', '748'], id='806', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext')]), PickleTableRow(cells=[PickleTableCell(value='pong')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')])])), ast_node_ids=['745', '748'], id='807', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-tokyo\" namespace'), PickleStep(argument=None, ast_node_ids=['746', '748'], id='808', type=<Type.outcome: 'Outcome'>, text='statefulset \"tokyo-neo4j\" in namespace \"context-tokyo\" is in ready state')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['750', '748']), Pickle(id='814', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create godzilla and connects it to tokyo', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='810', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='811', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['751', '754'], id='812', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"godzilla\" and connects it to the context \"tokyo\"'), PickleStep(argument=None, ast_node_ids=['752', '754'], id='813', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['757', '754']), Pickle(id='819', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create tengu and connects it to tokyo', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='815', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='816', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['751', '755'], id='817', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"tengu\" and connects it to the context \"tokyo\"'), PickleStep(argument=None, ast_node_ids=['752', '755'], id='818', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['757', '755']), Pickle(id='824', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create laptop resource and connects it to godzilla user', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='820', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='821', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['758', '761'], id='822', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"laptop\" and connects it to the user \"godzilla\"'), PickleStep(argument=None, ast_node_ids=['759', '761'], id='823', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['764', '761']), Pickle(id='829', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create tablet resource and connects it to tengu user', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='825', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='826', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['758', '762'], id='827', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"tablet\" and connects it to the user \"tengu\"'), PickleStep(argument=None, ast_node_ids=['759', '762'], id='828', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['764', '762']), Pickle(id='840', uri='file:features/7_mindwm_two_users_one_context.feature', name='Send iodocument via nats host: <host>, user: <username> and check that second user received graph update', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='830', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='831', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['765', '777'], id='832', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['766', '777'], id='833', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['767', '777'], id='834', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"id\"'), PickleStep(argument=None, ast_node_ids=['768', '777'], id='835', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['769', '777'], id='836', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.godzilla.laptop.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['770', '777'], id='837', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.godzilla.laptop.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-00001-deployment')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-00001-deployment')])])), ast_node_ids=['774', '777'], id='838', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-tokyo\" namespace'), PickleStep(argument=None, ast_node_ids=['775', '777'], id='839', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-tengu.tablet-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['780', '777']), Pickle(id='851', uri='file:features/7_mindwm_two_users_one_context.feature', name='Send iodocument via nats host: <host>, user: <username> and check that second user received graph update', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='841', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='842', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['765', '778'], id='843', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['766', '778'], id='844', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['767', '778'], id='845', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"id\"'), PickleStep(argument=None, ast_node_ids=['768', '778'], id='846', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['769', '778'], id='847', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.tengu.tablet.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['770', '778'], id='848', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.tengu.tablet.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-00001-deployment')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-00001-deployment')])])), ast_node_ids=['774', '778'], id='849', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-tokyo\" namespace'), PickleStep(argument=None, ast_node_ids=['775', '778'], id='850', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-godzilla.laptop-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['780', '778']), Pickle(id='856', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup laptop host for godzilla username', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='852', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='853', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['781', '784'], id='854', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"laptop\"'), PickleStep(argument=None, ast_node_ids=['782', '784'], id='855', type=<Type.outcome: 'Outcome'>, text='the host \"laptop\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['787', '784']), Pickle(id='861', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup tablet host for tengu username', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='857', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='858', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['781', '785'], id='859', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"tablet\"'), PickleStep(argument=None, ast_node_ids=['782', '785'], id='860', type=<Type.outcome: 'Outcome'>, text='the host \"tablet\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['787', '785']), Pickle(id='866', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup godzilla username', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='862', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='863', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['788', '791'], id='864', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"godzilla\"'), PickleStep(argument=None, ast_node_ids=['789', '791'], id='865', type=<Type.outcome: 'Outcome'>, text='the user \"godzilla\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['794', '791']), Pickle(id='871', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup tengu username', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='867', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='868', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['788', '792'], id='869', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"tengu\"'), PickleStep(argument=None, ast_node_ids=['789', '792'], id='870', type=<Type.outcome: 'Outcome'>, text='the user \"tengu\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['794', '792']), Pickle(id='876', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup tokyo context', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='872', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='873', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['795', '798'], id='874', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"tokyo\"'), PickleStep(argument=None, ast_node_ids=['796', '798'], id='875', type=<Type.outcome: 'Outcome'>, text='the context \"tokyo\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['800', '798'])])","Source(uri='file:features/7_mindwm_two_users_one_context.feature', data='@mindwm_two_users_one_context\\n@mindwm_test\\nFeature: MindWM two users one context function test\\n  Background:\\n    Given A MindWM environment\\n    Then all nodes in Kubernetes are ready\\n\\n  Scenario: Create context <context>\\n    When God creates a MindWM context with the name \"<context>\"\\n    Then the context should be ready and operable\\n\\n    Then the following knative services are in a ready state in the \"context-<context>\" namespace\\n      | Knative service name |\\n      | iocontext            |\\n      | pong                 |\\n      | kafka-cdc            |\\n    And statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state\\n    Examples:\\n    | context | \\n    | tokyo   | \\n    \\n  Scenario: Create <username> and connects it to <context>\\n    When God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"\\n    Then the user resource should be ready and operable\\n    Examples:\\n    | context | username |\\n    | tokyo   | godzilla |\\n    | tokyo   | tengu    |\\n  Scenario: Create <host> resource and connects it to <username> user\\n    When God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"\\n    Then the host resource should be ready and operable\\n\\n    Examples: \\n    | username | host   |\\n    | godzilla | laptop | \\n    | tengu    | tablet | \\n\\n  Scenario: Send iodocument via nats host: <host>, user: <username> and check that second user received graph update\\n    When God creates a new cloudevent \\n      And God starts reading message from NATS topic \">\"\\n      And sets cloudevent header \"ce-subject\" to \"id\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"\\n      And sends cloudevent to nats topic \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"\\n      \"\"\"\\n      {\\n        \"input\": \"id\",\\n        \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n        \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n        \"type\": \"org.mindwm.v1.iodocument\"\\n      } \\n      \"\"\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name            |\\n      | iocontext-00001-deployment |\\n      | kafka-cdc-00001-deployment |\\n\\n    And a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<dst_user>.<dst_host>-host-broker-kne-trigger._knative\"\\n\\n    Examples:\\n    | context | src_user | src_host | dst_user | dst_host |  \\n    | tokyo   | godzilla | laptop   | tengu    | tablet   |\\n    | tokyo   | tengu    | tablet   | godzilla | laptop   | \\n\\n\\n  Scenario: Cleanup <host> host for <username> username\\n\\n    When God deletes the MindWM host resource \"<host>\"\\n    Then the host \"<host>\" should be deleted\\n\\n    Examples:\\n    | username | host   |\\n    | godzilla | laptop | \\n    | tengu    | tablet | \\n\\n  Scenario: Cleanup <username> username\\n    When God deletes the MindWM user resource \"<username>\"\\n    Then the user \"<username>\" should be deleted\\n\\n    Examples:\\n    | username | \\n    | godzilla |\\n    | tengu    | \\n\\n  Scenario: Cleanup <context> context\\n    When God deletes the MindWM context resource \"<context>\"\\n    Then the context \"<context>\" should be deleted\\n\\n    Examples:\\n    | context | \\n    | tokyo   |\\n', media_type='text/x.cucumber.gherkin+plain')","Pickle(id='814', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create godzilla and connects it to tokyo', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='810', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='811', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['751', '754'], id='812', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"godzilla\" and connects it to the context \"tokyo\"'), PickleStep(argument=None, ast_node_ids=['752', '754'], id='813', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['757', '754'])"],"tags":["scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/7_mindwm_two_users_one_context.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=<FeaturePathType.PATH: 'path'>, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())","pytest_bdd_scenario","@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')","mindwm_test","mindwm_two_users_one_context","namespace(create=False, name='default')"]},{"name":"test_scenarios[file:features/6_mindwm_two_hosts_one_user.feature-MindWM two hosts one user function test-Create context varanasi and user shesha[table_rows:[line: 24]]]","uid":"d22c5f9ee4edec14","parentUid":"3961740595044ffd97a03e46799bfc30","status":"passed","time":{"start":1728404184074,"stop":1728404305746,"duration":121672},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["Feature(gherkin_document=GherkinDocument(uri='file:features/6_mindwm_two_hosts_one_user.feature', feature=Feature(location=Location(line=3, column=1), tags=[Tag(location=Location(line=1, column=1), name='@mindwm_two_hosts_one_user', id='666'), Tag(location=Location(line=2, column=1), name='@mindwm_test', id='667')], language='en', keyword='Feature', name='MindWM two hosts one user function test', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='598'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='599')], id='600'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Create context <context> and user <username>', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='601'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='602'), Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='603'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='iocontext')], id='604'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='pong')], id='605'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='kafka-cdc')], id='606')]), id='607'), Step(location=Location(line=16, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='608'), Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='609'), Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='610')], examples=[Examples(location=Location(line=22, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=23, column=5), cells=[TableCell(location=Location(line=23, column=7), value='context'), TableCell(location=Location(line=23, column=18), value='username')], id='611'), table_body=[TableRow(location=Location(line=24, column=5), cells=[TableCell(location=Location(line=24, column=7), value='varanasi'), TableCell(location=Location(line=24, column=18), value='shesha')], id='612')], id='613')], id='614')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=26, column=3), tags=[], keyword='Scenario', name='Create <host> for user <username>', description='', steps=[Step(location=Location(line=28, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='615'), Step(location=Location(line=29, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='616')], examples=[Examples(location=Location(line=31, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=32, column=5), cells=[TableCell(location=Location(line=32, column=7), value='username'), TableCell(location=Location(line=32, column=18), value='host')], id='617'), table_body=[TableRow(location=Location(line=33, column=5), cells=[TableCell(location=Location(line=33, column=7), value='shesha'), TableCell(location=Location(line=33, column=18), value='workstation01')], id='618'), TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='shesha'), TableCell(location=Location(line=34, column=18), value='travellaptop')], id='619')], id='620')], id='621')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=37, column=3), tags=[], keyword='Scenario', name='Send ping via nats host: <host>, user: <username>', description='', steps=[Step(location=Location(line=38, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='622'), Step(location=Location(line=39, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='623'), Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='624'), Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='625'), Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='626'), Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=44, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='627'), Step(location=Location(line=53, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=54, column=7), rows=[TableRow(location=Location(line=54, column=7), cells=[TableCell(location=Location(line=54, column=9), value='Deployment name')], id='628'), TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='pong-00001-deployment')], id='629')]), id='630'), Step(location=Location(line=57, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='631')], examples=[Examples(location=Location(line=59, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=60, column=6), cells=[TableCell(location=Location(line=60, column=8), value='context'), TableCell(location=Location(line=60, column=18), value='username'), TableCell(location=Location(line=60, column=31), value='host'), TableCell(location=Location(line=60, column=43), value='tmux_pane'), TableCell(location=Location(line=60, column=55), value='tmux_window'), TableCell(location=Location(line=60, column=69), value='uuid'), TableCell(location=Location(line=60, column=109), value='tmux_socket')], id='632'), table_body=[TableRow(location=Location(line=61, column=6), cells=[TableCell(location=Location(line=61, column=8), value='varanasi'), TableCell(location=Location(line=61, column=20), value='shesha'), TableCell(location=Location(line=61, column=31), value='workstation01'), TableCell(location=Location(line=61, column=48), value='23'), TableCell(location=Location(line=61, column=60), value='36'), TableCell(location=Location(line=61, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=61, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='633'), TableRow(location=Location(line=62, column=6), cells=[TableCell(location=Location(line=62, column=8), value='varanasi'), TableCell(location=Location(line=62, column=20), value='shesha'), TableCell(location=Location(line=62, column=31), value='travellaptop'), TableCell(location=Location(line=62, column=47), value='23'), TableCell(location=Location(line=62, column=59), value='36'), TableCell(location=Location(line=62, column=73), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=62, column=112), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='634')], id='635')], id='636')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=64, column=3), tags=[], keyword='Scenario', name='Send iodocument via nats host: <host>, user: <username> and check that second host received graph the update', description='', steps=[Step(location=Location(line=65, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='637'), Step(location=Location(line=66, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='638'), Step(location=Location(line=67, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='639'), Step(location=Location(line=68, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='640'), Step(location=Location(line=69, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=70, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='641'), Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=80, column=7), rows=[TableRow(location=Location(line=80, column=7), cells=[TableCell(location=Location(line=80, column=9), value='Deployment name')], id='642'), TableRow(location=Location(line=81, column=7), cells=[TableCell(location=Location(line=81, column=9), value='iocontext-00001-deployment')], id='643'), TableRow(location=Location(line=82, column=7), cells=[TableCell(location=Location(line=82, column=9), value='kafka-cdc-00001-deployment')], id='644')]), id='645'), Step(location=Location(line=84, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.travellaptop-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='646')], examples=[Examples(location=Location(line=86, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=87, column=6), cells=[TableCell(location=Location(line=87, column=8), value='context'), TableCell(location=Location(line=87, column=18), value='username'), TableCell(location=Location(line=87, column=31), value='host'), TableCell(location=Location(line=87, column=43), value='tmux_pane'), TableCell(location=Location(line=87, column=55), value='tmux_window'), TableCell(location=Location(line=87, column=69), value='uuid'), TableCell(location=Location(line=87, column=109), value='tmux_socket')], id='647'), table_body=[TableRow(location=Location(line=88, column=6), cells=[TableCell(location=Location(line=88, column=8), value='varanasi'), TableCell(location=Location(line=88, column=20), value='shesha'), TableCell(location=Location(line=88, column=31), value='workstation01'), TableCell(location=Location(line=88, column=48), value='23'), TableCell(location=Location(line=88, column=60), value='36'), TableCell(location=Location(line=88, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=88, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='648')], id='649')], id='650')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=92, column=3), tags=[], keyword='Scenario', name='Cleanup hosts <host> in user <username>', description='', steps=[Step(location=Location(line=93, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='651'), Step(location=Location(line=94, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='652')], examples=[Examples(location=Location(line=96, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=97, column=5), cells=[TableCell(location=Location(line=97, column=7), value='username'), TableCell(location=Location(line=97, column=18), value='host')], id='653'), table_body=[TableRow(location=Location(line=98, column=5), cells=[TableCell(location=Location(line=98, column=7), value='shesha'), TableCell(location=Location(line=98, column=18), value='workstation01')], id='654'), TableRow(location=Location(line=99, column=5), cells=[TableCell(location=Location(line=99, column=7), value='shesha'), TableCell(location=Location(line=99, column=18), value='travellaptop')], id='655')], id='656')], id='657')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=101, column=3), tags=[], keyword='Scenario', name='Cleanup user <username> and context <context>', description='', steps=[Step(location=Location(line=102, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='658'), Step(location=Location(line=103, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='659'), Step(location=Location(line=105, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='660'), Step(location=Location(line=106, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='661')], examples=[Examples(location=Location(line=108, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=109, column=5), cells=[TableCell(location=Location(line=109, column=7), value='context'), TableCell(location=Location(line=109, column=18), value='username')], id='662'), table_body=[TableRow(location=Location(line=110, column=5), cells=[TableCell(location=Location(line=110, column=7), value='varanasi'), TableCell(location=Location(line=110, column=18), value='shesha')], id='663')], id='664')], id='665'))]), comments=[Comment(location=Location(line=89, column=1), text='     #| varanasi  | shesha   | travellaptop  | 23        | 36          | 8d839f82-79da-11ef-bc9f-f74fac7543ac  |L3RtcC90bXV4LTEwMDAvZGVmYXVsdA== |')]), uri='file:features/6_mindwm_two_hosts_one_user.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/6_mindwm_two_hosts_one_user.feature', registry={'666': Tag(location=Location(line=1, column=1), name='@mindwm_two_hosts_one_user', id='666'), '667': Tag(location=Location(line=2, column=1), name='@mindwm_test', id='667'), '600': Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='598'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='599')], id='600'), '598': Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='598'), '599': Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='599'), '614': Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Create context <context> and user <username>', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='601'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='602'), Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='603'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='iocontext')], id='604'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='pong')], id='605'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='kafka-cdc')], id='606')]), id='607'), Step(location=Location(line=16, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='608'), Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='609'), Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='610')], examples=[Examples(location=Location(line=22, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=23, column=5), cells=[TableCell(location=Location(line=23, column=7), value='context'), TableCell(location=Location(line=23, column=18), value='username')], id='611'), table_body=[TableRow(location=Location(line=24, column=5), cells=[TableCell(location=Location(line=24, column=7), value='varanasi'), TableCell(location=Location(line=24, column=18), value='shesha')], id='612')], id='613')], id='614'), '601': Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='601'), '602': Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='602'), '607': Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='603'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='iocontext')], id='604'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='pong')], id='605'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='kafka-cdc')], id='606')]), id='607'), '608': Step(location=Location(line=16, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='608'), '609': Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='609'), '610': Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='610'), '613': Examples(location=Location(line=22, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=23, column=5), cells=[TableCell(location=Location(line=23, column=7), value='context'), TableCell(location=Location(line=23, column=18), value='username')], id='611'), table_body=[TableRow(location=Location(line=24, column=5), cells=[TableCell(location=Location(line=24, column=7), value='varanasi'), TableCell(location=Location(line=24, column=18), value='shesha')], id='612')], id='613'), '611': TableRow(location=Location(line=23, column=5), cells=[TableCell(location=Location(line=23, column=7), value='context'), TableCell(location=Location(line=23, column=18), value='username')], id='611'), '612': TableRow(location=Location(line=24, column=5), cells=[TableCell(location=Location(line=24, column=7), value='varanasi'), TableCell(location=Location(line=24, column=18), value='shesha')], id='612'), '621': Scenario(location=Location(line=26, column=3), tags=[], keyword='Scenario', name='Create <host> for user <username>', description='', steps=[Step(location=Location(line=28, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='615'), Step(location=Location(line=29, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='616')], examples=[Examples(location=Location(line=31, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=32, column=5), cells=[TableCell(location=Location(line=32, column=7), value='username'), TableCell(location=Location(line=32, column=18), value='host')], id='617'), table_body=[TableRow(location=Location(line=33, column=5), cells=[TableCell(location=Location(line=33, column=7), value='shesha'), TableCell(location=Location(line=33, column=18), value='workstation01')], id='618'), TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='shesha'), TableCell(location=Location(line=34, column=18), value='travellaptop')], id='619')], id='620')], id='621'), '615': Step(location=Location(line=28, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='615'), '616': Step(location=Location(line=29, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='616'), '620': Examples(location=Location(line=31, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=32, column=5), cells=[TableCell(location=Location(line=32, column=7), value='username'), TableCell(location=Location(line=32, column=18), value='host')], id='617'), table_body=[TableRow(location=Location(line=33, column=5), cells=[TableCell(location=Location(line=33, column=7), value='shesha'), TableCell(location=Location(line=33, column=18), value='workstation01')], id='618'), TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='shesha'), TableCell(location=Location(line=34, column=18), value='travellaptop')], id='619')], id='620'), '617': TableRow(location=Location(line=32, column=5), cells=[TableCell(location=Location(line=32, column=7), value='username'), TableCell(location=Location(line=32, column=18), value='host')], id='617'), '618': TableRow(location=Location(line=33, column=5), cells=[TableCell(location=Location(line=33, column=7), value='shesha'), TableCell(location=Location(line=33, column=18), value='workstation01')], id='618'), '619': TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='shesha'), TableCell(location=Location(line=34, column=18), value='travellaptop')], id='619'), '636': Scenario(location=Location(line=37, column=3), tags=[], keyword='Scenario', name='Send ping via nats host: <host>, user: <username>', description='', steps=[Step(location=Location(line=38, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='622'), Step(location=Location(line=39, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='623'), Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='624'), Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='625'), Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='626'), Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=44, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='627'), Step(location=Location(line=53, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=54, column=7), rows=[TableRow(location=Location(line=54, column=7), cells=[TableCell(location=Location(line=54, column=9), value='Deployment name')], id='628'), TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='pong-00001-deployment')], id='629')]), id='630'), Step(location=Location(line=57, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='631')], examples=[Examples(location=Location(line=59, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=60, column=6), cells=[TableCell(location=Location(line=60, column=8), value='context'), TableCell(location=Location(line=60, column=18), value='username'), TableCell(location=Location(line=60, column=31), value='host'), TableCell(location=Location(line=60, column=43), value='tmux_pane'), TableCell(location=Location(line=60, column=55), value='tmux_window'), TableCell(location=Location(line=60, column=69), value='uuid'), TableCell(location=Location(line=60, column=109), value='tmux_socket')], id='632'), table_body=[TableRow(location=Location(line=61, column=6), cells=[TableCell(location=Location(line=61, column=8), value='varanasi'), TableCell(location=Location(line=61, column=20), value='shesha'), TableCell(location=Location(line=61, column=31), value='workstation01'), TableCell(location=Location(line=61, column=48), value='23'), TableCell(location=Location(line=61, column=60), value='36'), TableCell(location=Location(line=61, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=61, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='633'), TableRow(location=Location(line=62, column=6), cells=[TableCell(location=Location(line=62, column=8), value='varanasi'), TableCell(location=Location(line=62, column=20), value='shesha'), TableCell(location=Location(line=62, column=31), value='travellaptop'), TableCell(location=Location(line=62, column=47), value='23'), TableCell(location=Location(line=62, column=59), value='36'), TableCell(location=Location(line=62, column=73), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=62, column=112), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='634')], id='635')], id='636'), '622': Step(location=Location(line=38, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='622'), '623': Step(location=Location(line=39, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='623'), '624': Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='624'), '625': Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='625'), '626': Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='626'), '627': Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=44, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='627'), '630': Step(location=Location(line=53, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=54, column=7), rows=[TableRow(location=Location(line=54, column=7), cells=[TableCell(location=Location(line=54, column=9), value='Deployment name')], id='628'), TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='pong-00001-deployment')], id='629')]), id='630'), '631': Step(location=Location(line=57, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='631'), '635': Examples(location=Location(line=59, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=60, column=6), cells=[TableCell(location=Location(line=60, column=8), value='context'), TableCell(location=Location(line=60, column=18), value='username'), TableCell(location=Location(line=60, column=31), value='host'), TableCell(location=Location(line=60, column=43), value='tmux_pane'), TableCell(location=Location(line=60, column=55), value='tmux_window'), TableCell(location=Location(line=60, column=69), value='uuid'), TableCell(location=Location(line=60, column=109), value='tmux_socket')], id='632'), table_body=[TableRow(location=Location(line=61, column=6), cells=[TableCell(location=Location(line=61, column=8), value='varanasi'), TableCell(location=Location(line=61, column=20), value='shesha'), TableCell(location=Location(line=61, column=31), value='workstation01'), TableCell(location=Location(line=61, column=48), value='23'), TableCell(location=Location(line=61, column=60), value='36'), TableCell(location=Location(line=61, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=61, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='633'), TableRow(location=Location(line=62, column=6), cells=[TableCell(location=Location(line=62, column=8), value='varanasi'), TableCell(location=Location(line=62, column=20), value='shesha'), TableCell(location=Location(line=62, column=31), value='travellaptop'), TableCell(location=Location(line=62, column=47), value='23'), TableCell(location=Location(line=62, column=59), value='36'), TableCell(location=Location(line=62, column=73), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=62, column=112), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='634')], id='635'), '632': TableRow(location=Location(line=60, column=6), cells=[TableCell(location=Location(line=60, column=8), value='context'), TableCell(location=Location(line=60, column=18), value='username'), TableCell(location=Location(line=60, column=31), value='host'), TableCell(location=Location(line=60, column=43), value='tmux_pane'), TableCell(location=Location(line=60, column=55), value='tmux_window'), TableCell(location=Location(line=60, column=69), value='uuid'), TableCell(location=Location(line=60, column=109), value='tmux_socket')], id='632'), '633': TableRow(location=Location(line=61, column=6), cells=[TableCell(location=Location(line=61, column=8), value='varanasi'), TableCell(location=Location(line=61, column=20), value='shesha'), TableCell(location=Location(line=61, column=31), value='workstation01'), TableCell(location=Location(line=61, column=48), value='23'), TableCell(location=Location(line=61, column=60), value='36'), TableCell(location=Location(line=61, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=61, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='633'), '634': TableRow(location=Location(line=62, column=6), cells=[TableCell(location=Location(line=62, column=8), value='varanasi'), TableCell(location=Location(line=62, column=20), value='shesha'), TableCell(location=Location(line=62, column=31), value='travellaptop'), TableCell(location=Location(line=62, column=47), value='23'), TableCell(location=Location(line=62, column=59), value='36'), TableCell(location=Location(line=62, column=73), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=62, column=112), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='634'), '650': Scenario(location=Location(line=64, column=3), tags=[], keyword='Scenario', name='Send iodocument via nats host: <host>, user: <username> and check that second host received graph the update', description='', steps=[Step(location=Location(line=65, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='637'), Step(location=Location(line=66, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='638'), Step(location=Location(line=67, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='639'), Step(location=Location(line=68, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='640'), Step(location=Location(line=69, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=70, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='641'), Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=80, column=7), rows=[TableRow(location=Location(line=80, column=7), cells=[TableCell(location=Location(line=80, column=9), value='Deployment name')], id='642'), TableRow(location=Location(line=81, column=7), cells=[TableCell(location=Location(line=81, column=9), value='iocontext-00001-deployment')], id='643'), TableRow(location=Location(line=82, column=7), cells=[TableCell(location=Location(line=82, column=9), value='kafka-cdc-00001-deployment')], id='644')]), id='645'), Step(location=Location(line=84, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.travellaptop-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='646')], examples=[Examples(location=Location(line=86, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=87, column=6), cells=[TableCell(location=Location(line=87, column=8), value='context'), TableCell(location=Location(line=87, column=18), value='username'), TableCell(location=Location(line=87, column=31), value='host'), TableCell(location=Location(line=87, column=43), value='tmux_pane'), TableCell(location=Location(line=87, column=55), value='tmux_window'), TableCell(location=Location(line=87, column=69), value='uuid'), TableCell(location=Location(line=87, column=109), value='tmux_socket')], id='647'), table_body=[TableRow(location=Location(line=88, column=6), cells=[TableCell(location=Location(line=88, column=8), value='varanasi'), TableCell(location=Location(line=88, column=20), value='shesha'), TableCell(location=Location(line=88, column=31), value='workstation01'), TableCell(location=Location(line=88, column=48), value='23'), TableCell(location=Location(line=88, column=60), value='36'), TableCell(location=Location(line=88, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=88, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='648')], id='649')], id='650'), '637': Step(location=Location(line=65, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='637'), '638': Step(location=Location(line=66, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='638'), '639': Step(location=Location(line=67, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='639'), '640': Step(location=Location(line=68, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='640'), '641': Step(location=Location(line=69, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=70, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='641'), '645': Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=80, column=7), rows=[TableRow(location=Location(line=80, column=7), cells=[TableCell(location=Location(line=80, column=9), value='Deployment name')], id='642'), TableRow(location=Location(line=81, column=7), cells=[TableCell(location=Location(line=81, column=9), value='iocontext-00001-deployment')], id='643'), TableRow(location=Location(line=82, column=7), cells=[TableCell(location=Location(line=82, column=9), value='kafka-cdc-00001-deployment')], id='644')]), id='645'), '646': Step(location=Location(line=84, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.travellaptop-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='646'), '649': Examples(location=Location(line=86, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=87, column=6), cells=[TableCell(location=Location(line=87, column=8), value='context'), TableCell(location=Location(line=87, column=18), value='username'), TableCell(location=Location(line=87, column=31), value='host'), TableCell(location=Location(line=87, column=43), value='tmux_pane'), TableCell(location=Location(line=87, column=55), value='tmux_window'), TableCell(location=Location(line=87, column=69), value='uuid'), TableCell(location=Location(line=87, column=109), value='tmux_socket')], id='647'), table_body=[TableRow(location=Location(line=88, column=6), cells=[TableCell(location=Location(line=88, column=8), value='varanasi'), TableCell(location=Location(line=88, column=20), value='shesha'), TableCell(location=Location(line=88, column=31), value='workstation01'), TableCell(location=Location(line=88, column=48), value='23'), TableCell(location=Location(line=88, column=60), value='36'), TableCell(location=Location(line=88, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=88, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='648')], id='649'), '647': TableRow(location=Location(line=87, column=6), cells=[TableCell(location=Location(line=87, column=8), value='context'), TableCell(location=Location(line=87, column=18), value='username'), TableCell(location=Location(line=87, column=31), value='host'), TableCell(location=Location(line=87, column=43), value='tmux_pane'), TableCell(location=Location(line=87, column=55), value='tmux_window'), TableCell(location=Location(line=87, column=69), value='uuid'), TableCell(location=Location(line=87, column=109), value='tmux_socket')], id='647'), '648': TableRow(location=Location(line=88, column=6), cells=[TableCell(location=Location(line=88, column=8), value='varanasi'), TableCell(location=Location(line=88, column=20), value='shesha'), TableCell(location=Location(line=88, column=31), value='workstation01'), TableCell(location=Location(line=88, column=48), value='23'), TableCell(location=Location(line=88, column=60), value='36'), TableCell(location=Location(line=88, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=88, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='648'), '657': Scenario(location=Location(line=92, column=3), tags=[], keyword='Scenario', name='Cleanup hosts <host> in user <username>', description='', steps=[Step(location=Location(line=93, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='651'), Step(location=Location(line=94, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='652')], examples=[Examples(location=Location(line=96, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=97, column=5), cells=[TableCell(location=Location(line=97, column=7), value='username'), TableCell(location=Location(line=97, column=18), value='host')], id='653'), table_body=[TableRow(location=Location(line=98, column=5), cells=[TableCell(location=Location(line=98, column=7), value='shesha'), TableCell(location=Location(line=98, column=18), value='workstation01')], id='654'), TableRow(location=Location(line=99, column=5), cells=[TableCell(location=Location(line=99, column=7), value='shesha'), TableCell(location=Location(line=99, column=18), value='travellaptop')], id='655')], id='656')], id='657'), '651': Step(location=Location(line=93, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='651'), '652': Step(location=Location(line=94, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='652'), '656': Examples(location=Location(line=96, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=97, column=5), cells=[TableCell(location=Location(line=97, column=7), value='username'), TableCell(location=Location(line=97, column=18), value='host')], id='653'), table_body=[TableRow(location=Location(line=98, column=5), cells=[TableCell(location=Location(line=98, column=7), value='shesha'), TableCell(location=Location(line=98, column=18), value='workstation01')], id='654'), TableRow(location=Location(line=99, column=5), cells=[TableCell(location=Location(line=99, column=7), value='shesha'), TableCell(location=Location(line=99, column=18), value='travellaptop')], id='655')], id='656'), '653': TableRow(location=Location(line=97, column=5), cells=[TableCell(location=Location(line=97, column=7), value='username'), TableCell(location=Location(line=97, column=18), value='host')], id='653'), '654': TableRow(location=Location(line=98, column=5), cells=[TableCell(location=Location(line=98, column=7), value='shesha'), TableCell(location=Location(line=98, column=18), value='workstation01')], id='654'), '655': TableRow(location=Location(line=99, column=5), cells=[TableCell(location=Location(line=99, column=7), value='shesha'), TableCell(location=Location(line=99, column=18), value='travellaptop')], id='655'), '665': Scenario(location=Location(line=101, column=3), tags=[], keyword='Scenario', name='Cleanup user <username> and context <context>', description='', steps=[Step(location=Location(line=102, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='658'), Step(location=Location(line=103, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='659'), Step(location=Location(line=105, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='660'), Step(location=Location(line=106, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='661')], examples=[Examples(location=Location(line=108, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=109, column=5), cells=[TableCell(location=Location(line=109, column=7), value='context'), TableCell(location=Location(line=109, column=18), value='username')], id='662'), table_body=[TableRow(location=Location(line=110, column=5), cells=[TableCell(location=Location(line=110, column=7), value='varanasi'), TableCell(location=Location(line=110, column=18), value='shesha')], id='663')], id='664')], id='665'), '658': Step(location=Location(line=102, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='658'), '659': Step(location=Location(line=103, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='659'), '660': Step(location=Location(line=105, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='660'), '661': Step(location=Location(line=106, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='661'), '664': Examples(location=Location(line=108, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=109, column=5), cells=[TableCell(location=Location(line=109, column=7), value='context'), TableCell(location=Location(line=109, column=18), value='username')], id='662'), table_body=[TableRow(location=Location(line=110, column=5), cells=[TableCell(location=Location(line=110, column=7), value='varanasi'), TableCell(location=Location(line=110, column=18), value='shesha')], id='663')], id='664'), '662': TableRow(location=Location(line=109, column=5), cells=[TableCell(location=Location(line=109, column=7), value='context'), TableCell(location=Location(line=109, column=18), value='username')], id='662'), '663': TableRow(location=Location(line=110, column=5), cells=[TableCell(location=Location(line=110, column=7), value='varanasi'), TableCell(location=Location(line=110, column=18), value='shesha')], id='663')}, pickles=[Pickle(id='676', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Create context varanasi and user shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='668', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='669', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['601', '612'], id='670', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"varanasi\"'), PickleStep(argument=None, ast_node_ids=['602', '612'], id='671', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext')]), PickleTableRow(cells=[PickleTableCell(value='pong')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')])])), ast_node_ids=['607', '612'], id='672', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-varanasi\" namespace'), PickleStep(argument=None, ast_node_ids=['608', '612'], id='673', type=<Type.outcome: 'Outcome'>, text='statefulset \"varanasi-neo4j\" in namespace \"context-varanasi\" is in ready state'), PickleStep(argument=None, ast_node_ids=['609', '612'], id='674', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"shesha\" and connects it to the context \"varanasi\"'), PickleStep(argument=None, ast_node_ids=['610', '612'], id='675', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['614', '612']), Pickle(id='681', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Create workstation01 for user shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='677', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='678', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['615', '618'], id='679', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"workstation01\" and connects it to the user \"shesha\"'), PickleStep(argument=None, ast_node_ids=['616', '618'], id='680', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['621', '618']), Pickle(id='686', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Create travellaptop for user shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='682', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='683', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['615', '619'], id='684', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"travellaptop\" and connects it to the user \"shesha\"'), PickleStep(argument=None, ast_node_ids=['616', '619'], id='685', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['621', '619']), Pickle(id='697', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Send ping via nats host: workstation01, user: shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='687', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='688', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['622', '633'], id='689', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['623', '633'], id='690', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['624', '633'], id='691', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['625', '633'], id='692', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['626', '633'], id='693', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.shesha.workstation01.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['627', '633'], id='694', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.shesha.workstation01.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='pong-00001-deployment')])])), ast_node_ids=['630', '633'], id='695', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-varanasi\" namespace'), PickleStep(argument=None, ast_node_ids=['631', '633'], id='696', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-shesha.workstation01-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['636', '633']), Pickle(id='708', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Send ping via nats host: travellaptop, user: shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='698', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='699', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['622', '634'], id='700', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['623', '634'], id='701', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['624', '634'], id='702', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['625', '634'], id='703', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['626', '634'], id='704', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.shesha.travellaptop.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['627', '634'], id='705', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.shesha.travellaptop.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='pong-00001-deployment')])])), ast_node_ids=['630', '634'], id='706', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-varanasi\" namespace'), PickleStep(argument=None, ast_node_ids=['631', '634'], id='707', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-shesha.travellaptop-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['636', '634']), Pickle(id='718', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Send iodocument via nats host: workstation01, user: shesha and check that second host received graph the update', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='709', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='710', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['637', '648'], id='711', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['638', '648'], id='712', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"id\"'), PickleStep(argument=None, ast_node_ids=['639', '648'], id='713', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['640', '648'], id='714', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.shesha.workstation01.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['641', '648'], id='715', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.shesha.workstation01.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.3623.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-00001-deployment')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-00001-deployment')])])), ast_node_ids=['645', '648'], id='716', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-varanasi\" namespace'), PickleStep(argument=None, ast_node_ids=['646', '648'], id='717', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-shesha.travellaptop-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['650', '648']), Pickle(id='723', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Cleanup hosts workstation01 in user shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='719', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='720', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['651', '654'], id='721', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"workstation01\"'), PickleStep(argument=None, ast_node_ids=['652', '654'], id='722', type=<Type.outcome: 'Outcome'>, text='the host \"workstation01\" should be deleted')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['657', '654']), Pickle(id='728', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Cleanup hosts travellaptop in user shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='724', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='725', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['651', '655'], id='726', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"travellaptop\"'), PickleStep(argument=None, ast_node_ids=['652', '655'], id='727', type=<Type.outcome: 'Outcome'>, text='the host \"travellaptop\" should be deleted')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['657', '655']), Pickle(id='735', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Cleanup user shesha and context varanasi', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='729', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='730', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['658', '663'], id='731', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"shesha\"'), PickleStep(argument=None, ast_node_ids=['659', '663'], id='732', type=<Type.outcome: 'Outcome'>, text='the user \"shesha\" should be deleted'), PickleStep(argument=None, ast_node_ids=['660', '663'], id='733', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"varanasi\"'), PickleStep(argument=None, ast_node_ids=['661', '663'], id='734', type=<Type.outcome: 'Outcome'>, text='the context \"varanasi\" should be deleted')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['665', '663'])])","Source(uri='file:features/6_mindwm_two_hosts_one_user.feature', data='@mindwm_two_hosts_one_user\\n@mindwm_test\\nFeature: MindWM two hosts one user function test\\n  Background:\\n    Given A MindWM environment\\n    Then all nodes in Kubernetes are ready\\n\\n  Scenario: Create context <context> and user <username>\\n    When God creates a MindWM context with the name \"<context>\"\\n    Then the context should be ready and operable\\n    Then the following knative services are in a ready state in the \"context-<context>\" namespace\\n      | Knative service name |\\n      | iocontext            |\\n      | pong                 |\\n      | kafka-cdc            |\\n    And statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state\\n\\n    When God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"\\n    Then the user resource should be ready and operable\\n\\n\\n    Examples:\\n    | context  | username |\\n    | varanasi | shesha   |\\n\\n  Scenario: Create <host> for user <username>\\n\\n    When God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"\\n    Then the host resource should be ready and operable\\n\\n    Examples:\\n    | username | host           |\\n    | shesha   | workstation01  |\\n    | shesha   | travellaptop   |\\n\\n\\n  Scenario: Send ping via nats host: <host>, user: <username>\\n    When God creates a new cloudevent \\n      And God starts reading message from NATS topic \">\"\\n      And sets cloudevent header \"ce-subject\" to \"#ping\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"\\n      And sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"\\n      \"\"\"\\n      {\\n        \"input\": \"#ping\",\\n        \"output\": \"\",\\n        \"ps1\": \"❯\",\\n        \"type\": \"org.mindwm.v1.iodocument\"\\n      } \\n      \"\"\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name       |\\n      | pong-00001-deployment |\\n\\n    And a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"\\n\\n    Examples:\\n     | context | username   | host      | tmux_pane | tmux_window | uuid                                  | tmux_socket                     |\\n     | varanasi  | shesha   | workstation01  | 23        | 36          | 8d839f82-79da-11ef-bc9f-f74fac7543ac  |L3RtcC90bXV4LTEwMDAvZGVmYXVsdA== |\\n     | varanasi  | shesha   | travellaptop  | 23        | 36          | 8d839f82-79da-11ef-bc9f-f74fac7543ac  |L3RtcC90bXV4LTEwMDAvZGVmYXVsdA== |\\n\\n  Scenario: Send iodocument via nats host: <host>, user: <username> and check that second host received graph the update\\n    When God creates a new cloudevent \\n      And sets cloudevent header \"ce-subject\" to \"id\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"\\n      And sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"\\n      \"\"\"\\n      {\\n        \"input\": \"id\",\\n        \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n        \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n        \"type\": \"org.mindwm.v1.iodocument\"\\n      } \\n      \"\"\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name       |\\n      | iocontext-00001-deployment |\\n      | kafka-cdc-00001-deployment |\\n\\n    And a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.travellaptop-host-broker-kne-trigger._knative\"\\n\\n    Examples:\\n     | context | username   | host      | tmux_pane | tmux_window | uuid                                  | tmux_socket                     |\\n     | varanasi  | shesha   | workstation01  | 23        | 36          | 8d839f82-79da-11ef-bc9f-f74fac7543ac  |L3RtcC90bXV4LTEwMDAvZGVmYXVsdA== |\\n     #| varanasi  | shesha   | travellaptop  | 23        | 36          | 8d839f82-79da-11ef-bc9f-f74fac7543ac  |L3RtcC90bXV4LTEwMDAvZGVmYXVsdA== |\\n\\n\\n  Scenario: Cleanup hosts <host> in user <username>\\n    When God deletes the MindWM host resource \"<host>\"\\n    Then the host \"<host>\" should be deleted\\n\\n    Examples:\\n    | username | host           |\\n    | shesha   | workstation01  |\\n    | shesha   | travellaptop   |\\n\\n  Scenario: Cleanup user <username> and context <context>\\n    When God deletes the MindWM user resource \"<username>\"\\n    Then the user \"<username>\" should be deleted\\n\\n    When God deletes the MindWM context resource \"<context>\"\\n    Then the context \"<context>\" should be deleted\\n\\n    Examples:\\n    | context  | username |\\n    | varanasi | shesha   |\\n', media_type='text/x.cucumber.gherkin+plain')","Pickle(id='676', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Create context varanasi and user shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='668', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='669', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['601', '612'], id='670', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"varanasi\"'), PickleStep(argument=None, ast_node_ids=['602', '612'], id='671', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext')]), PickleTableRow(cells=[PickleTableCell(value='pong')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')])])), ast_node_ids=['607', '612'], id='672', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-varanasi\" namespace'), PickleStep(argument=None, ast_node_ids=['608', '612'], id='673', type=<Type.outcome: 'Outcome'>, text='statefulset \"varanasi-neo4j\" in namespace \"context-varanasi\" is in ready state'), PickleStep(argument=None, ast_node_ids=['609', '612'], id='674', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"shesha\" and connects it to the context \"varanasi\"'), PickleStep(argument=None, ast_node_ids=['610', '612'], id='675', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['614', '612'])"],"tags":["scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/6_mindwm_two_hosts_one_user.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=<FeaturePathType.PATH: 'path'>, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())","mindwm_two_hosts_one_user","pytest_bdd_scenario","@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')","mindwm_test","namespace(create=False, name='default')"]},{"name":"test_scenarios[file:features/6_mindwm_two_hosts_one_user.feature-MindWM two hosts one user function test-Create travellaptop for user shesha[table_rows:[line: 34]]]","uid":"7f8b23d0578f7fd3","parentUid":"3961740595044ffd97a03e46799bfc30","status":"passed","time":{"start":1728404316978,"stop":1728404328153,"duration":11175},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["Feature(gherkin_document=GherkinDocument(uri='file:features/6_mindwm_two_hosts_one_user.feature', feature=Feature(location=Location(line=3, column=1), tags=[Tag(location=Location(line=1, column=1), name='@mindwm_two_hosts_one_user', id='666'), Tag(location=Location(line=2, column=1), name='@mindwm_test', id='667')], language='en', keyword='Feature', name='MindWM two hosts one user function test', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='598'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='599')], id='600'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Create context <context> and user <username>', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='601'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='602'), Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='603'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='iocontext')], id='604'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='pong')], id='605'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='kafka-cdc')], id='606')]), id='607'), Step(location=Location(line=16, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='608'), Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='609'), Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='610')], examples=[Examples(location=Location(line=22, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=23, column=5), cells=[TableCell(location=Location(line=23, column=7), value='context'), TableCell(location=Location(line=23, column=18), value='username')], id='611'), table_body=[TableRow(location=Location(line=24, column=5), cells=[TableCell(location=Location(line=24, column=7), value='varanasi'), TableCell(location=Location(line=24, column=18), value='shesha')], id='612')], id='613')], id='614')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=26, column=3), tags=[], keyword='Scenario', name='Create <host> for user <username>', description='', steps=[Step(location=Location(line=28, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='615'), Step(location=Location(line=29, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='616')], examples=[Examples(location=Location(line=31, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=32, column=5), cells=[TableCell(location=Location(line=32, column=7), value='username'), TableCell(location=Location(line=32, column=18), value='host')], id='617'), table_body=[TableRow(location=Location(line=33, column=5), cells=[TableCell(location=Location(line=33, column=7), value='shesha'), TableCell(location=Location(line=33, column=18), value='workstation01')], id='618'), TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='shesha'), TableCell(location=Location(line=34, column=18), value='travellaptop')], id='619')], id='620')], id='621')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=37, column=3), tags=[], keyword='Scenario', name='Send ping via nats host: <host>, user: <username>', description='', steps=[Step(location=Location(line=38, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='622'), Step(location=Location(line=39, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='623'), Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='624'), Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='625'), Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='626'), Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=44, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='627'), Step(location=Location(line=53, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=54, column=7), rows=[TableRow(location=Location(line=54, column=7), cells=[TableCell(location=Location(line=54, column=9), value='Deployment name')], id='628'), TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='pong-00001-deployment')], id='629')]), id='630'), Step(location=Location(line=57, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='631')], examples=[Examples(location=Location(line=59, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=60, column=6), cells=[TableCell(location=Location(line=60, column=8), value='context'), TableCell(location=Location(line=60, column=18), value='username'), TableCell(location=Location(line=60, column=31), value='host'), TableCell(location=Location(line=60, column=43), value='tmux_pane'), TableCell(location=Location(line=60, column=55), value='tmux_window'), TableCell(location=Location(line=60, column=69), value='uuid'), TableCell(location=Location(line=60, column=109), value='tmux_socket')], id='632'), table_body=[TableRow(location=Location(line=61, column=6), cells=[TableCell(location=Location(line=61, column=8), value='varanasi'), TableCell(location=Location(line=61, column=20), value='shesha'), TableCell(location=Location(line=61, column=31), value='workstation01'), TableCell(location=Location(line=61, column=48), value='23'), TableCell(location=Location(line=61, column=60), value='36'), TableCell(location=Location(line=61, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=61, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='633'), TableRow(location=Location(line=62, column=6), cells=[TableCell(location=Location(line=62, column=8), value='varanasi'), TableCell(location=Location(line=62, column=20), value='shesha'), TableCell(location=Location(line=62, column=31), value='travellaptop'), TableCell(location=Location(line=62, column=47), value='23'), TableCell(location=Location(line=62, column=59), value='36'), TableCell(location=Location(line=62, column=73), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=62, column=112), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='634')], id='635')], id='636')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=64, column=3), tags=[], keyword='Scenario', name='Send iodocument via nats host: <host>, user: <username> and check that second host received graph the update', description='', steps=[Step(location=Location(line=65, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='637'), Step(location=Location(line=66, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='638'), Step(location=Location(line=67, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='639'), Step(location=Location(line=68, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='640'), Step(location=Location(line=69, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=70, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='641'), Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=80, column=7), rows=[TableRow(location=Location(line=80, column=7), cells=[TableCell(location=Location(line=80, column=9), value='Deployment name')], id='642'), TableRow(location=Location(line=81, column=7), cells=[TableCell(location=Location(line=81, column=9), value='iocontext-00001-deployment')], id='643'), TableRow(location=Location(line=82, column=7), cells=[TableCell(location=Location(line=82, column=9), value='kafka-cdc-00001-deployment')], id='644')]), id='645'), Step(location=Location(line=84, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.travellaptop-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='646')], examples=[Examples(location=Location(line=86, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=87, column=6), cells=[TableCell(location=Location(line=87, column=8), value='context'), TableCell(location=Location(line=87, column=18), value='username'), TableCell(location=Location(line=87, column=31), value='host'), TableCell(location=Location(line=87, column=43), value='tmux_pane'), TableCell(location=Location(line=87, column=55), value='tmux_window'), TableCell(location=Location(line=87, column=69), value='uuid'), TableCell(location=Location(line=87, column=109), value='tmux_socket')], id='647'), table_body=[TableRow(location=Location(line=88, column=6), cells=[TableCell(location=Location(line=88, column=8), value='varanasi'), TableCell(location=Location(line=88, column=20), value='shesha'), TableCell(location=Location(line=88, column=31), value='workstation01'), TableCell(location=Location(line=88, column=48), value='23'), TableCell(location=Location(line=88, column=60), value='36'), TableCell(location=Location(line=88, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=88, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='648')], id='649')], id='650')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=92, column=3), tags=[], keyword='Scenario', name='Cleanup hosts <host> in user <username>', description='', steps=[Step(location=Location(line=93, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='651'), Step(location=Location(line=94, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='652')], examples=[Examples(location=Location(line=96, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=97, column=5), cells=[TableCell(location=Location(line=97, column=7), value='username'), TableCell(location=Location(line=97, column=18), value='host')], id='653'), table_body=[TableRow(location=Location(line=98, column=5), cells=[TableCell(location=Location(line=98, column=7), value='shesha'), TableCell(location=Location(line=98, column=18), value='workstation01')], id='654'), TableRow(location=Location(line=99, column=5), cells=[TableCell(location=Location(line=99, column=7), value='shesha'), TableCell(location=Location(line=99, column=18), value='travellaptop')], id='655')], id='656')], id='657')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=101, column=3), tags=[], keyword='Scenario', name='Cleanup user <username> and context <context>', description='', steps=[Step(location=Location(line=102, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='658'), Step(location=Location(line=103, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='659'), Step(location=Location(line=105, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='660'), Step(location=Location(line=106, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='661')], examples=[Examples(location=Location(line=108, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=109, column=5), cells=[TableCell(location=Location(line=109, column=7), value='context'), TableCell(location=Location(line=109, column=18), value='username')], id='662'), table_body=[TableRow(location=Location(line=110, column=5), cells=[TableCell(location=Location(line=110, column=7), value='varanasi'), TableCell(location=Location(line=110, column=18), value='shesha')], id='663')], id='664')], id='665'))]), comments=[Comment(location=Location(line=89, column=1), text='     #| varanasi  | shesha   | travellaptop  | 23        | 36          | 8d839f82-79da-11ef-bc9f-f74fac7543ac  |L3RtcC90bXV4LTEwMDAvZGVmYXVsdA== |')]), uri='file:features/6_mindwm_two_hosts_one_user.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/6_mindwm_two_hosts_one_user.feature', registry={'666': Tag(location=Location(line=1, column=1), name='@mindwm_two_hosts_one_user', id='666'), '667': Tag(location=Location(line=2, column=1), name='@mindwm_test', id='667'), '600': Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='598'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='599')], id='600'), '598': Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='598'), '599': Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='599'), '614': Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Create context <context> and user <username>', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='601'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='602'), Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='603'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='iocontext')], id='604'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='pong')], id='605'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='kafka-cdc')], id='606')]), id='607'), Step(location=Location(line=16, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='608'), Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='609'), Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='610')], examples=[Examples(location=Location(line=22, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=23, column=5), cells=[TableCell(location=Location(line=23, column=7), value='context'), TableCell(location=Location(line=23, column=18), value='username')], id='611'), table_body=[TableRow(location=Location(line=24, column=5), cells=[TableCell(location=Location(line=24, column=7), value='varanasi'), TableCell(location=Location(line=24, column=18), value='shesha')], id='612')], id='613')], id='614'), '601': Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='601'), '602': Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='602'), '607': Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='603'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='iocontext')], id='604'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='pong')], id='605'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='kafka-cdc')], id='606')]), id='607'), '608': Step(location=Location(line=16, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='608'), '609': Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='609'), '610': Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='610'), '613': Examples(location=Location(line=22, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=23, column=5), cells=[TableCell(location=Location(line=23, column=7), value='context'), TableCell(location=Location(line=23, column=18), value='username')], id='611'), table_body=[TableRow(location=Location(line=24, column=5), cells=[TableCell(location=Location(line=24, column=7), value='varanasi'), TableCell(location=Location(line=24, column=18), value='shesha')], id='612')], id='613'), '611': TableRow(location=Location(line=23, column=5), cells=[TableCell(location=Location(line=23, column=7), value='context'), TableCell(location=Location(line=23, column=18), value='username')], id='611'), '612': TableRow(location=Location(line=24, column=5), cells=[TableCell(location=Location(line=24, column=7), value='varanasi'), TableCell(location=Location(line=24, column=18), value='shesha')], id='612'), '621': Scenario(location=Location(line=26, column=3), tags=[], keyword='Scenario', name='Create <host> for user <username>', description='', steps=[Step(location=Location(line=28, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='615'), Step(location=Location(line=29, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='616')], examples=[Examples(location=Location(line=31, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=32, column=5), cells=[TableCell(location=Location(line=32, column=7), value='username'), TableCell(location=Location(line=32, column=18), value='host')], id='617'), table_body=[TableRow(location=Location(line=33, column=5), cells=[TableCell(location=Location(line=33, column=7), value='shesha'), TableCell(location=Location(line=33, column=18), value='workstation01')], id='618'), TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='shesha'), TableCell(location=Location(line=34, column=18), value='travellaptop')], id='619')], id='620')], id='621'), '615': Step(location=Location(line=28, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='615'), '616': Step(location=Location(line=29, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='616'), '620': Examples(location=Location(line=31, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=32, column=5), cells=[TableCell(location=Location(line=32, column=7), value='username'), TableCell(location=Location(line=32, column=18), value='host')], id='617'), table_body=[TableRow(location=Location(line=33, column=5), cells=[TableCell(location=Location(line=33, column=7), value='shesha'), TableCell(location=Location(line=33, column=18), value='workstation01')], id='618'), TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='shesha'), TableCell(location=Location(line=34, column=18), value='travellaptop')], id='619')], id='620'), '617': TableRow(location=Location(line=32, column=5), cells=[TableCell(location=Location(line=32, column=7), value='username'), TableCell(location=Location(line=32, column=18), value='host')], id='617'), '618': TableRow(location=Location(line=33, column=5), cells=[TableCell(location=Location(line=33, column=7), value='shesha'), TableCell(location=Location(line=33, column=18), value='workstation01')], id='618'), '619': TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='shesha'), TableCell(location=Location(line=34, column=18), value='travellaptop')], id='619'), '636': Scenario(location=Location(line=37, column=3), tags=[], keyword='Scenario', name='Send ping via nats host: <host>, user: <username>', description='', steps=[Step(location=Location(line=38, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='622'), Step(location=Location(line=39, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='623'), Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='624'), Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='625'), Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='626'), Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=44, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='627'), Step(location=Location(line=53, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=54, column=7), rows=[TableRow(location=Location(line=54, column=7), cells=[TableCell(location=Location(line=54, column=9), value='Deployment name')], id='628'), TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='pong-00001-deployment')], id='629')]), id='630'), Step(location=Location(line=57, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='631')], examples=[Examples(location=Location(line=59, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=60, column=6), cells=[TableCell(location=Location(line=60, column=8), value='context'), TableCell(location=Location(line=60, column=18), value='username'), TableCell(location=Location(line=60, column=31), value='host'), TableCell(location=Location(line=60, column=43), value='tmux_pane'), TableCell(location=Location(line=60, column=55), value='tmux_window'), TableCell(location=Location(line=60, column=69), value='uuid'), TableCell(location=Location(line=60, column=109), value='tmux_socket')], id='632'), table_body=[TableRow(location=Location(line=61, column=6), cells=[TableCell(location=Location(line=61, column=8), value='varanasi'), TableCell(location=Location(line=61, column=20), value='shesha'), TableCell(location=Location(line=61, column=31), value='workstation01'), TableCell(location=Location(line=61, column=48), value='23'), TableCell(location=Location(line=61, column=60), value='36'), TableCell(location=Location(line=61, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=61, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='633'), TableRow(location=Location(line=62, column=6), cells=[TableCell(location=Location(line=62, column=8), value='varanasi'), TableCell(location=Location(line=62, column=20), value='shesha'), TableCell(location=Location(line=62, column=31), value='travellaptop'), TableCell(location=Location(line=62, column=47), value='23'), TableCell(location=Location(line=62, column=59), value='36'), TableCell(location=Location(line=62, column=73), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=62, column=112), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='634')], id='635')], id='636'), '622': Step(location=Location(line=38, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='622'), '623': Step(location=Location(line=39, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='623'), '624': Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='624'), '625': Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='625'), '626': Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='626'), '627': Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=44, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='627'), '630': Step(location=Location(line=53, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=54, column=7), rows=[TableRow(location=Location(line=54, column=7), cells=[TableCell(location=Location(line=54, column=9), value='Deployment name')], id='628'), TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='pong-00001-deployment')], id='629')]), id='630'), '631': Step(location=Location(line=57, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='631'), '635': Examples(location=Location(line=59, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=60, column=6), cells=[TableCell(location=Location(line=60, column=8), value='context'), TableCell(location=Location(line=60, column=18), value='username'), TableCell(location=Location(line=60, column=31), value='host'), TableCell(location=Location(line=60, column=43), value='tmux_pane'), TableCell(location=Location(line=60, column=55), value='tmux_window'), TableCell(location=Location(line=60, column=69), value='uuid'), TableCell(location=Location(line=60, column=109), value='tmux_socket')], id='632'), table_body=[TableRow(location=Location(line=61, column=6), cells=[TableCell(location=Location(line=61, column=8), value='varanasi'), TableCell(location=Location(line=61, column=20), value='shesha'), TableCell(location=Location(line=61, column=31), value='workstation01'), TableCell(location=Location(line=61, column=48), value='23'), TableCell(location=Location(line=61, column=60), value='36'), TableCell(location=Location(line=61, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=61, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='633'), TableRow(location=Location(line=62, column=6), cells=[TableCell(location=Location(line=62, column=8), value='varanasi'), TableCell(location=Location(line=62, column=20), value='shesha'), TableCell(location=Location(line=62, column=31), value='travellaptop'), TableCell(location=Location(line=62, column=47), value='23'), TableCell(location=Location(line=62, column=59), value='36'), TableCell(location=Location(line=62, column=73), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=62, column=112), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='634')], id='635'), '632': TableRow(location=Location(line=60, column=6), cells=[TableCell(location=Location(line=60, column=8), value='context'), TableCell(location=Location(line=60, column=18), value='username'), TableCell(location=Location(line=60, column=31), value='host'), TableCell(location=Location(line=60, column=43), value='tmux_pane'), TableCell(location=Location(line=60, column=55), value='tmux_window'), TableCell(location=Location(line=60, column=69), value='uuid'), TableCell(location=Location(line=60, column=109), value='tmux_socket')], id='632'), '633': TableRow(location=Location(line=61, column=6), cells=[TableCell(location=Location(line=61, column=8), value='varanasi'), TableCell(location=Location(line=61, column=20), value='shesha'), TableCell(location=Location(line=61, column=31), value='workstation01'), TableCell(location=Location(line=61, column=48), value='23'), TableCell(location=Location(line=61, column=60), value='36'), TableCell(location=Location(line=61, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=61, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='633'), '634': TableRow(location=Location(line=62, column=6), cells=[TableCell(location=Location(line=62, column=8), value='varanasi'), TableCell(location=Location(line=62, column=20), value='shesha'), TableCell(location=Location(line=62, column=31), value='travellaptop'), TableCell(location=Location(line=62, column=47), value='23'), TableCell(location=Location(line=62, column=59), value='36'), TableCell(location=Location(line=62, column=73), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=62, column=112), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='634'), '650': Scenario(location=Location(line=64, column=3), tags=[], keyword='Scenario', name='Send iodocument via nats host: <host>, user: <username> and check that second host received graph the update', description='', steps=[Step(location=Location(line=65, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='637'), Step(location=Location(line=66, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='638'), Step(location=Location(line=67, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='639'), Step(location=Location(line=68, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='640'), Step(location=Location(line=69, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=70, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='641'), Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=80, column=7), rows=[TableRow(location=Location(line=80, column=7), cells=[TableCell(location=Location(line=80, column=9), value='Deployment name')], id='642'), TableRow(location=Location(line=81, column=7), cells=[TableCell(location=Location(line=81, column=9), value='iocontext-00001-deployment')], id='643'), TableRow(location=Location(line=82, column=7), cells=[TableCell(location=Location(line=82, column=9), value='kafka-cdc-00001-deployment')], id='644')]), id='645'), Step(location=Location(line=84, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.travellaptop-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='646')], examples=[Examples(location=Location(line=86, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=87, column=6), cells=[TableCell(location=Location(line=87, column=8), value='context'), TableCell(location=Location(line=87, column=18), value='username'), TableCell(location=Location(line=87, column=31), value='host'), TableCell(location=Location(line=87, column=43), value='tmux_pane'), TableCell(location=Location(line=87, column=55), value='tmux_window'), TableCell(location=Location(line=87, column=69), value='uuid'), TableCell(location=Location(line=87, column=109), value='tmux_socket')], id='647'), table_body=[TableRow(location=Location(line=88, column=6), cells=[TableCell(location=Location(line=88, column=8), value='varanasi'), TableCell(location=Location(line=88, column=20), value='shesha'), TableCell(location=Location(line=88, column=31), value='workstation01'), TableCell(location=Location(line=88, column=48), value='23'), TableCell(location=Location(line=88, column=60), value='36'), TableCell(location=Location(line=88, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=88, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='648')], id='649')], id='650'), '637': Step(location=Location(line=65, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='637'), '638': Step(location=Location(line=66, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='638'), '639': Step(location=Location(line=67, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='639'), '640': Step(location=Location(line=68, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='640'), '641': Step(location=Location(line=69, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=70, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='641'), '645': Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=80, column=7), rows=[TableRow(location=Location(line=80, column=7), cells=[TableCell(location=Location(line=80, column=9), value='Deployment name')], id='642'), TableRow(location=Location(line=81, column=7), cells=[TableCell(location=Location(line=81, column=9), value='iocontext-00001-deployment')], id='643'), TableRow(location=Location(line=82, column=7), cells=[TableCell(location=Location(line=82, column=9), value='kafka-cdc-00001-deployment')], id='644')]), id='645'), '646': Step(location=Location(line=84, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.travellaptop-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='646'), '649': Examples(location=Location(line=86, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=87, column=6), cells=[TableCell(location=Location(line=87, column=8), value='context'), TableCell(location=Location(line=87, column=18), value='username'), TableCell(location=Location(line=87, column=31), value='host'), TableCell(location=Location(line=87, column=43), value='tmux_pane'), TableCell(location=Location(line=87, column=55), value='tmux_window'), TableCell(location=Location(line=87, column=69), value='uuid'), TableCell(location=Location(line=87, column=109), value='tmux_socket')], id='647'), table_body=[TableRow(location=Location(line=88, column=6), cells=[TableCell(location=Location(line=88, column=8), value='varanasi'), TableCell(location=Location(line=88, column=20), value='shesha'), TableCell(location=Location(line=88, column=31), value='workstation01'), TableCell(location=Location(line=88, column=48), value='23'), TableCell(location=Location(line=88, column=60), value='36'), TableCell(location=Location(line=88, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=88, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='648')], id='649'), '647': TableRow(location=Location(line=87, column=6), cells=[TableCell(location=Location(line=87, column=8), value='context'), TableCell(location=Location(line=87, column=18), value='username'), TableCell(location=Location(line=87, column=31), value='host'), TableCell(location=Location(line=87, column=43), value='tmux_pane'), TableCell(location=Location(line=87, column=55), value='tmux_window'), TableCell(location=Location(line=87, column=69), value='uuid'), TableCell(location=Location(line=87, column=109), value='tmux_socket')], id='647'), '648': TableRow(location=Location(line=88, column=6), cells=[TableCell(location=Location(line=88, column=8), value='varanasi'), TableCell(location=Location(line=88, column=20), value='shesha'), TableCell(location=Location(line=88, column=31), value='workstation01'), TableCell(location=Location(line=88, column=48), value='23'), TableCell(location=Location(line=88, column=60), value='36'), TableCell(location=Location(line=88, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=88, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='648'), '657': Scenario(location=Location(line=92, column=3), tags=[], keyword='Scenario', name='Cleanup hosts <host> in user <username>', description='', steps=[Step(location=Location(line=93, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='651'), Step(location=Location(line=94, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='652')], examples=[Examples(location=Location(line=96, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=97, column=5), cells=[TableCell(location=Location(line=97, column=7), value='username'), TableCell(location=Location(line=97, column=18), value='host')], id='653'), table_body=[TableRow(location=Location(line=98, column=5), cells=[TableCell(location=Location(line=98, column=7), value='shesha'), TableCell(location=Location(line=98, column=18), value='workstation01')], id='654'), TableRow(location=Location(line=99, column=5), cells=[TableCell(location=Location(line=99, column=7), value='shesha'), TableCell(location=Location(line=99, column=18), value='travellaptop')], id='655')], id='656')], id='657'), '651': Step(location=Location(line=93, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='651'), '652': Step(location=Location(line=94, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='652'), '656': Examples(location=Location(line=96, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=97, column=5), cells=[TableCell(location=Location(line=97, column=7), value='username'), TableCell(location=Location(line=97, column=18), value='host')], id='653'), table_body=[TableRow(location=Location(line=98, column=5), cells=[TableCell(location=Location(line=98, column=7), value='shesha'), TableCell(location=Location(line=98, column=18), value='workstation01')], id='654'), TableRow(location=Location(line=99, column=5), cells=[TableCell(location=Location(line=99, column=7), value='shesha'), TableCell(location=Location(line=99, column=18), value='travellaptop')], id='655')], id='656'), '653': TableRow(location=Location(line=97, column=5), cells=[TableCell(location=Location(line=97, column=7), value='username'), TableCell(location=Location(line=97, column=18), value='host')], id='653'), '654': TableRow(location=Location(line=98, column=5), cells=[TableCell(location=Location(line=98, column=7), value='shesha'), TableCell(location=Location(line=98, column=18), value='workstation01')], id='654'), '655': TableRow(location=Location(line=99, column=5), cells=[TableCell(location=Location(line=99, column=7), value='shesha'), TableCell(location=Location(line=99, column=18), value='travellaptop')], id='655'), '665': Scenario(location=Location(line=101, column=3), tags=[], keyword='Scenario', name='Cleanup user <username> and context <context>', description='', steps=[Step(location=Location(line=102, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='658'), Step(location=Location(line=103, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='659'), Step(location=Location(line=105, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='660'), Step(location=Location(line=106, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='661')], examples=[Examples(location=Location(line=108, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=109, column=5), cells=[TableCell(location=Location(line=109, column=7), value='context'), TableCell(location=Location(line=109, column=18), value='username')], id='662'), table_body=[TableRow(location=Location(line=110, column=5), cells=[TableCell(location=Location(line=110, column=7), value='varanasi'), TableCell(location=Location(line=110, column=18), value='shesha')], id='663')], id='664')], id='665'), '658': Step(location=Location(line=102, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='658'), '659': Step(location=Location(line=103, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='659'), '660': Step(location=Location(line=105, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='660'), '661': Step(location=Location(line=106, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='661'), '664': Examples(location=Location(line=108, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=109, column=5), cells=[TableCell(location=Location(line=109, column=7), value='context'), TableCell(location=Location(line=109, column=18), value='username')], id='662'), table_body=[TableRow(location=Location(line=110, column=5), cells=[TableCell(location=Location(line=110, column=7), value='varanasi'), TableCell(location=Location(line=110, column=18), value='shesha')], id='663')], id='664'), '662': TableRow(location=Location(line=109, column=5), cells=[TableCell(location=Location(line=109, column=7), value='context'), TableCell(location=Location(line=109, column=18), value='username')], id='662'), '663': TableRow(location=Location(line=110, column=5), cells=[TableCell(location=Location(line=110, column=7), value='varanasi'), TableCell(location=Location(line=110, column=18), value='shesha')], id='663')}, pickles=[Pickle(id='676', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Create context varanasi and user shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='668', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='669', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['601', '612'], id='670', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"varanasi\"'), PickleStep(argument=None, ast_node_ids=['602', '612'], id='671', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext')]), PickleTableRow(cells=[PickleTableCell(value='pong')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')])])), ast_node_ids=['607', '612'], id='672', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-varanasi\" namespace'), PickleStep(argument=None, ast_node_ids=['608', '612'], id='673', type=<Type.outcome: 'Outcome'>, text='statefulset \"varanasi-neo4j\" in namespace \"context-varanasi\" is in ready state'), PickleStep(argument=None, ast_node_ids=['609', '612'], id='674', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"shesha\" and connects it to the context \"varanasi\"'), PickleStep(argument=None, ast_node_ids=['610', '612'], id='675', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['614', '612']), Pickle(id='681', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Create workstation01 for user shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='677', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='678', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['615', '618'], id='679', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"workstation01\" and connects it to the user \"shesha\"'), PickleStep(argument=None, ast_node_ids=['616', '618'], id='680', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['621', '618']), Pickle(id='686', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Create travellaptop for user shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='682', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='683', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['615', '619'], id='684', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"travellaptop\" and connects it to the user \"shesha\"'), PickleStep(argument=None, ast_node_ids=['616', '619'], id='685', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['621', '619']), Pickle(id='697', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Send ping via nats host: workstation01, user: shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='687', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='688', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['622', '633'], id='689', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['623', '633'], id='690', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['624', '633'], id='691', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['625', '633'], id='692', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['626', '633'], id='693', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.shesha.workstation01.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['627', '633'], id='694', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.shesha.workstation01.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='pong-00001-deployment')])])), ast_node_ids=['630', '633'], id='695', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-varanasi\" namespace'), PickleStep(argument=None, ast_node_ids=['631', '633'], id='696', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-shesha.workstation01-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['636', '633']), Pickle(id='708', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Send ping via nats host: travellaptop, user: shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='698', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='699', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['622', '634'], id='700', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['623', '634'], id='701', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['624', '634'], id='702', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['625', '634'], id='703', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['626', '634'], id='704', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.shesha.travellaptop.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['627', '634'], id='705', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.shesha.travellaptop.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='pong-00001-deployment')])])), ast_node_ids=['630', '634'], id='706', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-varanasi\" namespace'), PickleStep(argument=None, ast_node_ids=['631', '634'], id='707', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-shesha.travellaptop-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['636', '634']), Pickle(id='718', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Send iodocument via nats host: workstation01, user: shesha and check that second host received graph the update', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='709', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='710', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['637', '648'], id='711', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['638', '648'], id='712', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"id\"'), PickleStep(argument=None, ast_node_ids=['639', '648'], id='713', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['640', '648'], id='714', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.shesha.workstation01.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['641', '648'], id='715', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.shesha.workstation01.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.3623.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-00001-deployment')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-00001-deployment')])])), ast_node_ids=['645', '648'], id='716', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-varanasi\" namespace'), PickleStep(argument=None, ast_node_ids=['646', '648'], id='717', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-shesha.travellaptop-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['650', '648']), Pickle(id='723', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Cleanup hosts workstation01 in user shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='719', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='720', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['651', '654'], id='721', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"workstation01\"'), PickleStep(argument=None, ast_node_ids=['652', '654'], id='722', type=<Type.outcome: 'Outcome'>, text='the host \"workstation01\" should be deleted')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['657', '654']), Pickle(id='728', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Cleanup hosts travellaptop in user shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='724', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='725', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['651', '655'], id='726', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"travellaptop\"'), PickleStep(argument=None, ast_node_ids=['652', '655'], id='727', type=<Type.outcome: 'Outcome'>, text='the host \"travellaptop\" should be deleted')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['657', '655']), Pickle(id='735', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Cleanup user shesha and context varanasi', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='729', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='730', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['658', '663'], id='731', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"shesha\"'), PickleStep(argument=None, ast_node_ids=['659', '663'], id='732', type=<Type.outcome: 'Outcome'>, text='the user \"shesha\" should be deleted'), PickleStep(argument=None, ast_node_ids=['660', '663'], id='733', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"varanasi\"'), PickleStep(argument=None, ast_node_ids=['661', '663'], id='734', type=<Type.outcome: 'Outcome'>, text='the context \"varanasi\" should be deleted')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['665', '663'])])","Source(uri='file:features/6_mindwm_two_hosts_one_user.feature', data='@mindwm_two_hosts_one_user\\n@mindwm_test\\nFeature: MindWM two hosts one user function test\\n  Background:\\n    Given A MindWM environment\\n    Then all nodes in Kubernetes are ready\\n\\n  Scenario: Create context <context> and user <username>\\n    When God creates a MindWM context with the name \"<context>\"\\n    Then the context should be ready and operable\\n    Then the following knative services are in a ready state in the \"context-<context>\" namespace\\n      | Knative service name |\\n      | iocontext            |\\n      | pong                 |\\n      | kafka-cdc            |\\n    And statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state\\n\\n    When God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"\\n    Then the user resource should be ready and operable\\n\\n\\n    Examples:\\n    | context  | username |\\n    | varanasi | shesha   |\\n\\n  Scenario: Create <host> for user <username>\\n\\n    When God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"\\n    Then the host resource should be ready and operable\\n\\n    Examples:\\n    | username | host           |\\n    | shesha   | workstation01  |\\n    | shesha   | travellaptop   |\\n\\n\\n  Scenario: Send ping via nats host: <host>, user: <username>\\n    When God creates a new cloudevent \\n      And God starts reading message from NATS topic \">\"\\n      And sets cloudevent header \"ce-subject\" to \"#ping\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"\\n      And sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"\\n      \"\"\"\\n      {\\n        \"input\": \"#ping\",\\n        \"output\": \"\",\\n        \"ps1\": \"❯\",\\n        \"type\": \"org.mindwm.v1.iodocument\"\\n      } \\n      \"\"\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name       |\\n      | pong-00001-deployment |\\n\\n    And a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"\\n\\n    Examples:\\n     | context | username   | host      | tmux_pane | tmux_window | uuid                                  | tmux_socket                     |\\n     | varanasi  | shesha   | workstation01  | 23        | 36          | 8d839f82-79da-11ef-bc9f-f74fac7543ac  |L3RtcC90bXV4LTEwMDAvZGVmYXVsdA== |\\n     | varanasi  | shesha   | travellaptop  | 23        | 36          | 8d839f82-79da-11ef-bc9f-f74fac7543ac  |L3RtcC90bXV4LTEwMDAvZGVmYXVsdA== |\\n\\n  Scenario: Send iodocument via nats host: <host>, user: <username> and check that second host received graph the update\\n    When God creates a new cloudevent \\n      And sets cloudevent header \"ce-subject\" to \"id\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"\\n      And sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"\\n      \"\"\"\\n      {\\n        \"input\": \"id\",\\n        \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n        \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n        \"type\": \"org.mindwm.v1.iodocument\"\\n      } \\n      \"\"\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name       |\\n      | iocontext-00001-deployment |\\n      | kafka-cdc-00001-deployment |\\n\\n    And a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.travellaptop-host-broker-kne-trigger._knative\"\\n\\n    Examples:\\n     | context | username   | host      | tmux_pane | tmux_window | uuid                                  | tmux_socket                     |\\n     | varanasi  | shesha   | workstation01  | 23        | 36          | 8d839f82-79da-11ef-bc9f-f74fac7543ac  |L3RtcC90bXV4LTEwMDAvZGVmYXVsdA== |\\n     #| varanasi  | shesha   | travellaptop  | 23        | 36          | 8d839f82-79da-11ef-bc9f-f74fac7543ac  |L3RtcC90bXV4LTEwMDAvZGVmYXVsdA== |\\n\\n\\n  Scenario: Cleanup hosts <host> in user <username>\\n    When God deletes the MindWM host resource \"<host>\"\\n    Then the host \"<host>\" should be deleted\\n\\n    Examples:\\n    | username | host           |\\n    | shesha   | workstation01  |\\n    | shesha   | travellaptop   |\\n\\n  Scenario: Cleanup user <username> and context <context>\\n    When God deletes the MindWM user resource \"<username>\"\\n    Then the user \"<username>\" should be deleted\\n\\n    When God deletes the MindWM context resource \"<context>\"\\n    Then the context \"<context>\" should be deleted\\n\\n    Examples:\\n    | context  | username |\\n    | varanasi | shesha   |\\n', media_type='text/x.cucumber.gherkin+plain')","Pickle(id='686', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Create travellaptop for user shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='682', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='683', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['615', '619'], id='684', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"travellaptop\" and connects it to the user \"shesha\"'), PickleStep(argument=None, ast_node_ids=['616', '619'], id='685', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['621', '619'])"],"tags":["scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/6_mindwm_two_hosts_one_user.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=<FeaturePathType.PATH: 'path'>, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())","mindwm_two_hosts_one_user","pytest_bdd_scenario","@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')","mindwm_test","namespace(create=False, name='default')"]},{"name":"test_scenarios[file:features/6_mindwm_two_hosts_one_user.feature-MindWM two hosts one user function test-Cleanup hosts travellaptop in user shesha[table_rows:[line: 99]]]","uid":"61dc41fde74b95b1","parentUid":"3961740595044ffd97a03e46799bfc30","status":"passed","time":{"start":1728404381227,"stop":1728404382540,"duration":1313},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["Feature(gherkin_document=GherkinDocument(uri='file:features/6_mindwm_two_hosts_one_user.feature', feature=Feature(location=Location(line=3, column=1), tags=[Tag(location=Location(line=1, column=1), name='@mindwm_two_hosts_one_user', id='666'), Tag(location=Location(line=2, column=1), name='@mindwm_test', id='667')], language='en', keyword='Feature', name='MindWM two hosts one user function test', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='598'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='599')], id='600'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Create context <context> and user <username>', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='601'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='602'), Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='603'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='iocontext')], id='604'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='pong')], id='605'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='kafka-cdc')], id='606')]), id='607'), Step(location=Location(line=16, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='608'), Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='609'), Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='610')], examples=[Examples(location=Location(line=22, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=23, column=5), cells=[TableCell(location=Location(line=23, column=7), value='context'), TableCell(location=Location(line=23, column=18), value='username')], id='611'), table_body=[TableRow(location=Location(line=24, column=5), cells=[TableCell(location=Location(line=24, column=7), value='varanasi'), TableCell(location=Location(line=24, column=18), value='shesha')], id='612')], id='613')], id='614')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=26, column=3), tags=[], keyword='Scenario', name='Create <host> for user <username>', description='', steps=[Step(location=Location(line=28, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='615'), Step(location=Location(line=29, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='616')], examples=[Examples(location=Location(line=31, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=32, column=5), cells=[TableCell(location=Location(line=32, column=7), value='username'), TableCell(location=Location(line=32, column=18), value='host')], id='617'), table_body=[TableRow(location=Location(line=33, column=5), cells=[TableCell(location=Location(line=33, column=7), value='shesha'), TableCell(location=Location(line=33, column=18), value='workstation01')], id='618'), TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='shesha'), TableCell(location=Location(line=34, column=18), value='travellaptop')], id='619')], id='620')], id='621')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=37, column=3), tags=[], keyword='Scenario', name='Send ping via nats host: <host>, user: <username>', description='', steps=[Step(location=Location(line=38, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='622'), Step(location=Location(line=39, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='623'), Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='624'), Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='625'), Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='626'), Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=44, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='627'), Step(location=Location(line=53, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=54, column=7), rows=[TableRow(location=Location(line=54, column=7), cells=[TableCell(location=Location(line=54, column=9), value='Deployment name')], id='628'), TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='pong-00001-deployment')], id='629')]), id='630'), Step(location=Location(line=57, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='631')], examples=[Examples(location=Location(line=59, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=60, column=6), cells=[TableCell(location=Location(line=60, column=8), value='context'), TableCell(location=Location(line=60, column=18), value='username'), TableCell(location=Location(line=60, column=31), value='host'), TableCell(location=Location(line=60, column=43), value='tmux_pane'), TableCell(location=Location(line=60, column=55), value='tmux_window'), TableCell(location=Location(line=60, column=69), value='uuid'), TableCell(location=Location(line=60, column=109), value='tmux_socket')], id='632'), table_body=[TableRow(location=Location(line=61, column=6), cells=[TableCell(location=Location(line=61, column=8), value='varanasi'), TableCell(location=Location(line=61, column=20), value='shesha'), TableCell(location=Location(line=61, column=31), value='workstation01'), TableCell(location=Location(line=61, column=48), value='23'), TableCell(location=Location(line=61, column=60), value='36'), TableCell(location=Location(line=61, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=61, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='633'), TableRow(location=Location(line=62, column=6), cells=[TableCell(location=Location(line=62, column=8), value='varanasi'), TableCell(location=Location(line=62, column=20), value='shesha'), TableCell(location=Location(line=62, column=31), value='travellaptop'), TableCell(location=Location(line=62, column=47), value='23'), TableCell(location=Location(line=62, column=59), value='36'), TableCell(location=Location(line=62, column=73), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=62, column=112), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='634')], id='635')], id='636')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=64, column=3), tags=[], keyword='Scenario', name='Send iodocument via nats host: <host>, user: <username> and check that second host received graph the update', description='', steps=[Step(location=Location(line=65, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='637'), Step(location=Location(line=66, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='638'), Step(location=Location(line=67, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='639'), Step(location=Location(line=68, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='640'), Step(location=Location(line=69, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=70, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='641'), Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=80, column=7), rows=[TableRow(location=Location(line=80, column=7), cells=[TableCell(location=Location(line=80, column=9), value='Deployment name')], id='642'), TableRow(location=Location(line=81, column=7), cells=[TableCell(location=Location(line=81, column=9), value='iocontext-00001-deployment')], id='643'), TableRow(location=Location(line=82, column=7), cells=[TableCell(location=Location(line=82, column=9), value='kafka-cdc-00001-deployment')], id='644')]), id='645'), Step(location=Location(line=84, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.travellaptop-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='646')], examples=[Examples(location=Location(line=86, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=87, column=6), cells=[TableCell(location=Location(line=87, column=8), value='context'), TableCell(location=Location(line=87, column=18), value='username'), TableCell(location=Location(line=87, column=31), value='host'), TableCell(location=Location(line=87, column=43), value='tmux_pane'), TableCell(location=Location(line=87, column=55), value='tmux_window'), TableCell(location=Location(line=87, column=69), value='uuid'), TableCell(location=Location(line=87, column=109), value='tmux_socket')], id='647'), table_body=[TableRow(location=Location(line=88, column=6), cells=[TableCell(location=Location(line=88, column=8), value='varanasi'), TableCell(location=Location(line=88, column=20), value='shesha'), TableCell(location=Location(line=88, column=31), value='workstation01'), TableCell(location=Location(line=88, column=48), value='23'), TableCell(location=Location(line=88, column=60), value='36'), TableCell(location=Location(line=88, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=88, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='648')], id='649')], id='650')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=92, column=3), tags=[], keyword='Scenario', name='Cleanup hosts <host> in user <username>', description='', steps=[Step(location=Location(line=93, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='651'), Step(location=Location(line=94, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='652')], examples=[Examples(location=Location(line=96, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=97, column=5), cells=[TableCell(location=Location(line=97, column=7), value='username'), TableCell(location=Location(line=97, column=18), value='host')], id='653'), table_body=[TableRow(location=Location(line=98, column=5), cells=[TableCell(location=Location(line=98, column=7), value='shesha'), TableCell(location=Location(line=98, column=18), value='workstation01')], id='654'), TableRow(location=Location(line=99, column=5), cells=[TableCell(location=Location(line=99, column=7), value='shesha'), TableCell(location=Location(line=99, column=18), value='travellaptop')], id='655')], id='656')], id='657')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=101, column=3), tags=[], keyword='Scenario', name='Cleanup user <username> and context <context>', description='', steps=[Step(location=Location(line=102, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='658'), Step(location=Location(line=103, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='659'), Step(location=Location(line=105, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='660'), Step(location=Location(line=106, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='661')], examples=[Examples(location=Location(line=108, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=109, column=5), cells=[TableCell(location=Location(line=109, column=7), value='context'), TableCell(location=Location(line=109, column=18), value='username')], id='662'), table_body=[TableRow(location=Location(line=110, column=5), cells=[TableCell(location=Location(line=110, column=7), value='varanasi'), TableCell(location=Location(line=110, column=18), value='shesha')], id='663')], id='664')], id='665'))]), comments=[Comment(location=Location(line=89, column=1), text='     #| varanasi  | shesha   | travellaptop  | 23        | 36          | 8d839f82-79da-11ef-bc9f-f74fac7543ac  |L3RtcC90bXV4LTEwMDAvZGVmYXVsdA== |')]), uri='file:features/6_mindwm_two_hosts_one_user.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/6_mindwm_two_hosts_one_user.feature', registry={'666': Tag(location=Location(line=1, column=1), name='@mindwm_two_hosts_one_user', id='666'), '667': Tag(location=Location(line=2, column=1), name='@mindwm_test', id='667'), '600': Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='598'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='599')], id='600'), '598': Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='598'), '599': Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='599'), '614': Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Create context <context> and user <username>', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='601'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='602'), Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='603'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='iocontext')], id='604'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='pong')], id='605'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='kafka-cdc')], id='606')]), id='607'), Step(location=Location(line=16, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='608'), Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='609'), Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='610')], examples=[Examples(location=Location(line=22, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=23, column=5), cells=[TableCell(location=Location(line=23, column=7), value='context'), TableCell(location=Location(line=23, column=18), value='username')], id='611'), table_body=[TableRow(location=Location(line=24, column=5), cells=[TableCell(location=Location(line=24, column=7), value='varanasi'), TableCell(location=Location(line=24, column=18), value='shesha')], id='612')], id='613')], id='614'), '601': Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='601'), '602': Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='602'), '607': Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='603'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='iocontext')], id='604'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='pong')], id='605'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='kafka-cdc')], id='606')]), id='607'), '608': Step(location=Location(line=16, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='608'), '609': Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='609'), '610': Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='610'), '613': Examples(location=Location(line=22, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=23, column=5), cells=[TableCell(location=Location(line=23, column=7), value='context'), TableCell(location=Location(line=23, column=18), value='username')], id='611'), table_body=[TableRow(location=Location(line=24, column=5), cells=[TableCell(location=Location(line=24, column=7), value='varanasi'), TableCell(location=Location(line=24, column=18), value='shesha')], id='612')], id='613'), '611': TableRow(location=Location(line=23, column=5), cells=[TableCell(location=Location(line=23, column=7), value='context'), TableCell(location=Location(line=23, column=18), value='username')], id='611'), '612': TableRow(location=Location(line=24, column=5), cells=[TableCell(location=Location(line=24, column=7), value='varanasi'), TableCell(location=Location(line=24, column=18), value='shesha')], id='612'), '621': Scenario(location=Location(line=26, column=3), tags=[], keyword='Scenario', name='Create <host> for user <username>', description='', steps=[Step(location=Location(line=28, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='615'), Step(location=Location(line=29, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='616')], examples=[Examples(location=Location(line=31, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=32, column=5), cells=[TableCell(location=Location(line=32, column=7), value='username'), TableCell(location=Location(line=32, column=18), value='host')], id='617'), table_body=[TableRow(location=Location(line=33, column=5), cells=[TableCell(location=Location(line=33, column=7), value='shesha'), TableCell(location=Location(line=33, column=18), value='workstation01')], id='618'), TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='shesha'), TableCell(location=Location(line=34, column=18), value='travellaptop')], id='619')], id='620')], id='621'), '615': Step(location=Location(line=28, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='615'), '616': Step(location=Location(line=29, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='616'), '620': Examples(location=Location(line=31, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=32, column=5), cells=[TableCell(location=Location(line=32, column=7), value='username'), TableCell(location=Location(line=32, column=18), value='host')], id='617'), table_body=[TableRow(location=Location(line=33, column=5), cells=[TableCell(location=Location(line=33, column=7), value='shesha'), TableCell(location=Location(line=33, column=18), value='workstation01')], id='618'), TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='shesha'), TableCell(location=Location(line=34, column=18), value='travellaptop')], id='619')], id='620'), '617': TableRow(location=Location(line=32, column=5), cells=[TableCell(location=Location(line=32, column=7), value='username'), TableCell(location=Location(line=32, column=18), value='host')], id='617'), '618': TableRow(location=Location(line=33, column=5), cells=[TableCell(location=Location(line=33, column=7), value='shesha'), TableCell(location=Location(line=33, column=18), value='workstation01')], id='618'), '619': TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='shesha'), TableCell(location=Location(line=34, column=18), value='travellaptop')], id='619'), '636': Scenario(location=Location(line=37, column=3), tags=[], keyword='Scenario', name='Send ping via nats host: <host>, user: <username>', description='', steps=[Step(location=Location(line=38, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='622'), Step(location=Location(line=39, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='623'), Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='624'), Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='625'), Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='626'), Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=44, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='627'), Step(location=Location(line=53, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=54, column=7), rows=[TableRow(location=Location(line=54, column=7), cells=[TableCell(location=Location(line=54, column=9), value='Deployment name')], id='628'), TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='pong-00001-deployment')], id='629')]), id='630'), Step(location=Location(line=57, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='631')], examples=[Examples(location=Location(line=59, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=60, column=6), cells=[TableCell(location=Location(line=60, column=8), value='context'), TableCell(location=Location(line=60, column=18), value='username'), TableCell(location=Location(line=60, column=31), value='host'), TableCell(location=Location(line=60, column=43), value='tmux_pane'), TableCell(location=Location(line=60, column=55), value='tmux_window'), TableCell(location=Location(line=60, column=69), value='uuid'), TableCell(location=Location(line=60, column=109), value='tmux_socket')], id='632'), table_body=[TableRow(location=Location(line=61, column=6), cells=[TableCell(location=Location(line=61, column=8), value='varanasi'), TableCell(location=Location(line=61, column=20), value='shesha'), TableCell(location=Location(line=61, column=31), value='workstation01'), TableCell(location=Location(line=61, column=48), value='23'), TableCell(location=Location(line=61, column=60), value='36'), TableCell(location=Location(line=61, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=61, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='633'), TableRow(location=Location(line=62, column=6), cells=[TableCell(location=Location(line=62, column=8), value='varanasi'), TableCell(location=Location(line=62, column=20), value='shesha'), TableCell(location=Location(line=62, column=31), value='travellaptop'), TableCell(location=Location(line=62, column=47), value='23'), TableCell(location=Location(line=62, column=59), value='36'), TableCell(location=Location(line=62, column=73), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=62, column=112), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='634')], id='635')], id='636'), '622': Step(location=Location(line=38, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='622'), '623': Step(location=Location(line=39, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='623'), '624': Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='624'), '625': Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='625'), '626': Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='626'), '627': Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=44, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='627'), '630': Step(location=Location(line=53, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=54, column=7), rows=[TableRow(location=Location(line=54, column=7), cells=[TableCell(location=Location(line=54, column=9), value='Deployment name')], id='628'), TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='pong-00001-deployment')], id='629')]), id='630'), '631': Step(location=Location(line=57, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='631'), '635': Examples(location=Location(line=59, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=60, column=6), cells=[TableCell(location=Location(line=60, column=8), value='context'), TableCell(location=Location(line=60, column=18), value='username'), TableCell(location=Location(line=60, column=31), value='host'), TableCell(location=Location(line=60, column=43), value='tmux_pane'), TableCell(location=Location(line=60, column=55), value='tmux_window'), TableCell(location=Location(line=60, column=69), value='uuid'), TableCell(location=Location(line=60, column=109), value='tmux_socket')], id='632'), table_body=[TableRow(location=Location(line=61, column=6), cells=[TableCell(location=Location(line=61, column=8), value='varanasi'), TableCell(location=Location(line=61, column=20), value='shesha'), TableCell(location=Location(line=61, column=31), value='workstation01'), TableCell(location=Location(line=61, column=48), value='23'), TableCell(location=Location(line=61, column=60), value='36'), TableCell(location=Location(line=61, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=61, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='633'), TableRow(location=Location(line=62, column=6), cells=[TableCell(location=Location(line=62, column=8), value='varanasi'), TableCell(location=Location(line=62, column=20), value='shesha'), TableCell(location=Location(line=62, column=31), value='travellaptop'), TableCell(location=Location(line=62, column=47), value='23'), TableCell(location=Location(line=62, column=59), value='36'), TableCell(location=Location(line=62, column=73), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=62, column=112), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='634')], id='635'), '632': TableRow(location=Location(line=60, column=6), cells=[TableCell(location=Location(line=60, column=8), value='context'), TableCell(location=Location(line=60, column=18), value='username'), TableCell(location=Location(line=60, column=31), value='host'), TableCell(location=Location(line=60, column=43), value='tmux_pane'), TableCell(location=Location(line=60, column=55), value='tmux_window'), TableCell(location=Location(line=60, column=69), value='uuid'), TableCell(location=Location(line=60, column=109), value='tmux_socket')], id='632'), '633': TableRow(location=Location(line=61, column=6), cells=[TableCell(location=Location(line=61, column=8), value='varanasi'), TableCell(location=Location(line=61, column=20), value='shesha'), TableCell(location=Location(line=61, column=31), value='workstation01'), TableCell(location=Location(line=61, column=48), value='23'), TableCell(location=Location(line=61, column=60), value='36'), TableCell(location=Location(line=61, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=61, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='633'), '634': TableRow(location=Location(line=62, column=6), cells=[TableCell(location=Location(line=62, column=8), value='varanasi'), TableCell(location=Location(line=62, column=20), value='shesha'), TableCell(location=Location(line=62, column=31), value='travellaptop'), TableCell(location=Location(line=62, column=47), value='23'), TableCell(location=Location(line=62, column=59), value='36'), TableCell(location=Location(line=62, column=73), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=62, column=112), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='634'), '650': Scenario(location=Location(line=64, column=3), tags=[], keyword='Scenario', name='Send iodocument via nats host: <host>, user: <username> and check that second host received graph the update', description='', steps=[Step(location=Location(line=65, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='637'), Step(location=Location(line=66, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='638'), Step(location=Location(line=67, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='639'), Step(location=Location(line=68, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='640'), Step(location=Location(line=69, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=70, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='641'), Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=80, column=7), rows=[TableRow(location=Location(line=80, column=7), cells=[TableCell(location=Location(line=80, column=9), value='Deployment name')], id='642'), TableRow(location=Location(line=81, column=7), cells=[TableCell(location=Location(line=81, column=9), value='iocontext-00001-deployment')], id='643'), TableRow(location=Location(line=82, column=7), cells=[TableCell(location=Location(line=82, column=9), value='kafka-cdc-00001-deployment')], id='644')]), id='645'), Step(location=Location(line=84, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.travellaptop-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='646')], examples=[Examples(location=Location(line=86, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=87, column=6), cells=[TableCell(location=Location(line=87, column=8), value='context'), TableCell(location=Location(line=87, column=18), value='username'), TableCell(location=Location(line=87, column=31), value='host'), TableCell(location=Location(line=87, column=43), value='tmux_pane'), TableCell(location=Location(line=87, column=55), value='tmux_window'), TableCell(location=Location(line=87, column=69), value='uuid'), TableCell(location=Location(line=87, column=109), value='tmux_socket')], id='647'), table_body=[TableRow(location=Location(line=88, column=6), cells=[TableCell(location=Location(line=88, column=8), value='varanasi'), TableCell(location=Location(line=88, column=20), value='shesha'), TableCell(location=Location(line=88, column=31), value='workstation01'), TableCell(location=Location(line=88, column=48), value='23'), TableCell(location=Location(line=88, column=60), value='36'), TableCell(location=Location(line=88, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=88, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='648')], id='649')], id='650'), '637': Step(location=Location(line=65, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='637'), '638': Step(location=Location(line=66, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='638'), '639': Step(location=Location(line=67, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='639'), '640': Step(location=Location(line=68, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='640'), '641': Step(location=Location(line=69, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=70, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='641'), '645': Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=80, column=7), rows=[TableRow(location=Location(line=80, column=7), cells=[TableCell(location=Location(line=80, column=9), value='Deployment name')], id='642'), TableRow(location=Location(line=81, column=7), cells=[TableCell(location=Location(line=81, column=9), value='iocontext-00001-deployment')], id='643'), TableRow(location=Location(line=82, column=7), cells=[TableCell(location=Location(line=82, column=9), value='kafka-cdc-00001-deployment')], id='644')]), id='645'), '646': Step(location=Location(line=84, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.travellaptop-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='646'), '649': Examples(location=Location(line=86, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=87, column=6), cells=[TableCell(location=Location(line=87, column=8), value='context'), TableCell(location=Location(line=87, column=18), value='username'), TableCell(location=Location(line=87, column=31), value='host'), TableCell(location=Location(line=87, column=43), value='tmux_pane'), TableCell(location=Location(line=87, column=55), value='tmux_window'), TableCell(location=Location(line=87, column=69), value='uuid'), TableCell(location=Location(line=87, column=109), value='tmux_socket')], id='647'), table_body=[TableRow(location=Location(line=88, column=6), cells=[TableCell(location=Location(line=88, column=8), value='varanasi'), TableCell(location=Location(line=88, column=20), value='shesha'), TableCell(location=Location(line=88, column=31), value='workstation01'), TableCell(location=Location(line=88, column=48), value='23'), TableCell(location=Location(line=88, column=60), value='36'), TableCell(location=Location(line=88, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=88, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='648')], id='649'), '647': TableRow(location=Location(line=87, column=6), cells=[TableCell(location=Location(line=87, column=8), value='context'), TableCell(location=Location(line=87, column=18), value='username'), TableCell(location=Location(line=87, column=31), value='host'), TableCell(location=Location(line=87, column=43), value='tmux_pane'), TableCell(location=Location(line=87, column=55), value='tmux_window'), TableCell(location=Location(line=87, column=69), value='uuid'), TableCell(location=Location(line=87, column=109), value='tmux_socket')], id='647'), '648': TableRow(location=Location(line=88, column=6), cells=[TableCell(location=Location(line=88, column=8), value='varanasi'), TableCell(location=Location(line=88, column=20), value='shesha'), TableCell(location=Location(line=88, column=31), value='workstation01'), TableCell(location=Location(line=88, column=48), value='23'), TableCell(location=Location(line=88, column=60), value='36'), TableCell(location=Location(line=88, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=88, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='648'), '657': Scenario(location=Location(line=92, column=3), tags=[], keyword='Scenario', name='Cleanup hosts <host> in user <username>', description='', steps=[Step(location=Location(line=93, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='651'), Step(location=Location(line=94, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='652')], examples=[Examples(location=Location(line=96, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=97, column=5), cells=[TableCell(location=Location(line=97, column=7), value='username'), TableCell(location=Location(line=97, column=18), value='host')], id='653'), table_body=[TableRow(location=Location(line=98, column=5), cells=[TableCell(location=Location(line=98, column=7), value='shesha'), TableCell(location=Location(line=98, column=18), value='workstation01')], id='654'), TableRow(location=Location(line=99, column=5), cells=[TableCell(location=Location(line=99, column=7), value='shesha'), TableCell(location=Location(line=99, column=18), value='travellaptop')], id='655')], id='656')], id='657'), '651': Step(location=Location(line=93, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='651'), '652': Step(location=Location(line=94, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='652'), '656': Examples(location=Location(line=96, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=97, column=5), cells=[TableCell(location=Location(line=97, column=7), value='username'), TableCell(location=Location(line=97, column=18), value='host')], id='653'), table_body=[TableRow(location=Location(line=98, column=5), cells=[TableCell(location=Location(line=98, column=7), value='shesha'), TableCell(location=Location(line=98, column=18), value='workstation01')], id='654'), TableRow(location=Location(line=99, column=5), cells=[TableCell(location=Location(line=99, column=7), value='shesha'), TableCell(location=Location(line=99, column=18), value='travellaptop')], id='655')], id='656'), '653': TableRow(location=Location(line=97, column=5), cells=[TableCell(location=Location(line=97, column=7), value='username'), TableCell(location=Location(line=97, column=18), value='host')], id='653'), '654': TableRow(location=Location(line=98, column=5), cells=[TableCell(location=Location(line=98, column=7), value='shesha'), TableCell(location=Location(line=98, column=18), value='workstation01')], id='654'), '655': TableRow(location=Location(line=99, column=5), cells=[TableCell(location=Location(line=99, column=7), value='shesha'), TableCell(location=Location(line=99, column=18), value='travellaptop')], id='655'), '665': Scenario(location=Location(line=101, column=3), tags=[], keyword='Scenario', name='Cleanup user <username> and context <context>', description='', steps=[Step(location=Location(line=102, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='658'), Step(location=Location(line=103, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='659'), Step(location=Location(line=105, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='660'), Step(location=Location(line=106, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='661')], examples=[Examples(location=Location(line=108, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=109, column=5), cells=[TableCell(location=Location(line=109, column=7), value='context'), TableCell(location=Location(line=109, column=18), value='username')], id='662'), table_body=[TableRow(location=Location(line=110, column=5), cells=[TableCell(location=Location(line=110, column=7), value='varanasi'), TableCell(location=Location(line=110, column=18), value='shesha')], id='663')], id='664')], id='665'), '658': Step(location=Location(line=102, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='658'), '659': Step(location=Location(line=103, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='659'), '660': Step(location=Location(line=105, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='660'), '661': Step(location=Location(line=106, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='661'), '664': Examples(location=Location(line=108, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=109, column=5), cells=[TableCell(location=Location(line=109, column=7), value='context'), TableCell(location=Location(line=109, column=18), value='username')], id='662'), table_body=[TableRow(location=Location(line=110, column=5), cells=[TableCell(location=Location(line=110, column=7), value='varanasi'), TableCell(location=Location(line=110, column=18), value='shesha')], id='663')], id='664'), '662': TableRow(location=Location(line=109, column=5), cells=[TableCell(location=Location(line=109, column=7), value='context'), TableCell(location=Location(line=109, column=18), value='username')], id='662'), '663': TableRow(location=Location(line=110, column=5), cells=[TableCell(location=Location(line=110, column=7), value='varanasi'), TableCell(location=Location(line=110, column=18), value='shesha')], id='663')}, pickles=[Pickle(id='676', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Create context varanasi and user shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='668', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='669', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['601', '612'], id='670', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"varanasi\"'), PickleStep(argument=None, ast_node_ids=['602', '612'], id='671', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext')]), PickleTableRow(cells=[PickleTableCell(value='pong')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')])])), ast_node_ids=['607', '612'], id='672', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-varanasi\" namespace'), PickleStep(argument=None, ast_node_ids=['608', '612'], id='673', type=<Type.outcome: 'Outcome'>, text='statefulset \"varanasi-neo4j\" in namespace \"context-varanasi\" is in ready state'), PickleStep(argument=None, ast_node_ids=['609', '612'], id='674', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"shesha\" and connects it to the context \"varanasi\"'), PickleStep(argument=None, ast_node_ids=['610', '612'], id='675', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['614', '612']), Pickle(id='681', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Create workstation01 for user shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='677', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='678', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['615', '618'], id='679', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"workstation01\" and connects it to the user \"shesha\"'), PickleStep(argument=None, ast_node_ids=['616', '618'], id='680', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['621', '618']), Pickle(id='686', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Create travellaptop for user shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='682', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='683', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['615', '619'], id='684', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"travellaptop\" and connects it to the user \"shesha\"'), PickleStep(argument=None, ast_node_ids=['616', '619'], id='685', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['621', '619']), Pickle(id='697', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Send ping via nats host: workstation01, user: shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='687', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='688', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['622', '633'], id='689', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['623', '633'], id='690', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['624', '633'], id='691', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['625', '633'], id='692', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['626', '633'], id='693', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.shesha.workstation01.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['627', '633'], id='694', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.shesha.workstation01.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='pong-00001-deployment')])])), ast_node_ids=['630', '633'], id='695', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-varanasi\" namespace'), PickleStep(argument=None, ast_node_ids=['631', '633'], id='696', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-shesha.workstation01-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['636', '633']), Pickle(id='708', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Send ping via nats host: travellaptop, user: shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='698', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='699', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['622', '634'], id='700', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['623', '634'], id='701', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['624', '634'], id='702', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['625', '634'], id='703', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['626', '634'], id='704', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.shesha.travellaptop.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['627', '634'], id='705', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.shesha.travellaptop.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='pong-00001-deployment')])])), ast_node_ids=['630', '634'], id='706', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-varanasi\" namespace'), PickleStep(argument=None, ast_node_ids=['631', '634'], id='707', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-shesha.travellaptop-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['636', '634']), Pickle(id='718', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Send iodocument via nats host: workstation01, user: shesha and check that second host received graph the update', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='709', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='710', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['637', '648'], id='711', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['638', '648'], id='712', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"id\"'), PickleStep(argument=None, ast_node_ids=['639', '648'], id='713', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['640', '648'], id='714', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.shesha.workstation01.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['641', '648'], id='715', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.shesha.workstation01.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.3623.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-00001-deployment')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-00001-deployment')])])), ast_node_ids=['645', '648'], id='716', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-varanasi\" namespace'), PickleStep(argument=None, ast_node_ids=['646', '648'], id='717', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-shesha.travellaptop-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['650', '648']), Pickle(id='723', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Cleanup hosts workstation01 in user shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='719', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='720', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['651', '654'], id='721', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"workstation01\"'), PickleStep(argument=None, ast_node_ids=['652', '654'], id='722', type=<Type.outcome: 'Outcome'>, text='the host \"workstation01\" should be deleted')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['657', '654']), Pickle(id='728', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Cleanup hosts travellaptop in user shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='724', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='725', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['651', '655'], id='726', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"travellaptop\"'), PickleStep(argument=None, ast_node_ids=['652', '655'], id='727', type=<Type.outcome: 'Outcome'>, text='the host \"travellaptop\" should be deleted')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['657', '655']), Pickle(id='735', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Cleanup user shesha and context varanasi', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='729', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='730', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['658', '663'], id='731', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"shesha\"'), PickleStep(argument=None, ast_node_ids=['659', '663'], id='732', type=<Type.outcome: 'Outcome'>, text='the user \"shesha\" should be deleted'), PickleStep(argument=None, ast_node_ids=['660', '663'], id='733', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"varanasi\"'), PickleStep(argument=None, ast_node_ids=['661', '663'], id='734', type=<Type.outcome: 'Outcome'>, text='the context \"varanasi\" should be deleted')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['665', '663'])])","Source(uri='file:features/6_mindwm_two_hosts_one_user.feature', data='@mindwm_two_hosts_one_user\\n@mindwm_test\\nFeature: MindWM two hosts one user function test\\n  Background:\\n    Given A MindWM environment\\n    Then all nodes in Kubernetes are ready\\n\\n  Scenario: Create context <context> and user <username>\\n    When God creates a MindWM context with the name \"<context>\"\\n    Then the context should be ready and operable\\n    Then the following knative services are in a ready state in the \"context-<context>\" namespace\\n      | Knative service name |\\n      | iocontext            |\\n      | pong                 |\\n      | kafka-cdc            |\\n    And statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state\\n\\n    When God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"\\n    Then the user resource should be ready and operable\\n\\n\\n    Examples:\\n    | context  | username |\\n    | varanasi | shesha   |\\n\\n  Scenario: Create <host> for user <username>\\n\\n    When God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"\\n    Then the host resource should be ready and operable\\n\\n    Examples:\\n    | username | host           |\\n    | shesha   | workstation01  |\\n    | shesha   | travellaptop   |\\n\\n\\n  Scenario: Send ping via nats host: <host>, user: <username>\\n    When God creates a new cloudevent \\n      And God starts reading message from NATS topic \">\"\\n      And sets cloudevent header \"ce-subject\" to \"#ping\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"\\n      And sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"\\n      \"\"\"\\n      {\\n        \"input\": \"#ping\",\\n        \"output\": \"\",\\n        \"ps1\": \"❯\",\\n        \"type\": \"org.mindwm.v1.iodocument\"\\n      } \\n      \"\"\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name       |\\n      | pong-00001-deployment |\\n\\n    And a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"\\n\\n    Examples:\\n     | context | username   | host      | tmux_pane | tmux_window | uuid                                  | tmux_socket                     |\\n     | varanasi  | shesha   | workstation01  | 23        | 36          | 8d839f82-79da-11ef-bc9f-f74fac7543ac  |L3RtcC90bXV4LTEwMDAvZGVmYXVsdA== |\\n     | varanasi  | shesha   | travellaptop  | 23        | 36          | 8d839f82-79da-11ef-bc9f-f74fac7543ac  |L3RtcC90bXV4LTEwMDAvZGVmYXVsdA== |\\n\\n  Scenario: Send iodocument via nats host: <host>, user: <username> and check that second host received graph the update\\n    When God creates a new cloudevent \\n      And sets cloudevent header \"ce-subject\" to \"id\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"\\n      And sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"\\n      \"\"\"\\n      {\\n        \"input\": \"id\",\\n        \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n        \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n        \"type\": \"org.mindwm.v1.iodocument\"\\n      } \\n      \"\"\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name       |\\n      | iocontext-00001-deployment |\\n      | kafka-cdc-00001-deployment |\\n\\n    And a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.travellaptop-host-broker-kne-trigger._knative\"\\n\\n    Examples:\\n     | context | username   | host      | tmux_pane | tmux_window | uuid                                  | tmux_socket                     |\\n     | varanasi  | shesha   | workstation01  | 23        | 36          | 8d839f82-79da-11ef-bc9f-f74fac7543ac  |L3RtcC90bXV4LTEwMDAvZGVmYXVsdA== |\\n     #| varanasi  | shesha   | travellaptop  | 23        | 36          | 8d839f82-79da-11ef-bc9f-f74fac7543ac  |L3RtcC90bXV4LTEwMDAvZGVmYXVsdA== |\\n\\n\\n  Scenario: Cleanup hosts <host> in user <username>\\n    When God deletes the MindWM host resource \"<host>\"\\n    Then the host \"<host>\" should be deleted\\n\\n    Examples:\\n    | username | host           |\\n    | shesha   | workstation01  |\\n    | shesha   | travellaptop   |\\n\\n  Scenario: Cleanup user <username> and context <context>\\n    When God deletes the MindWM user resource \"<username>\"\\n    Then the user \"<username>\" should be deleted\\n\\n    When God deletes the MindWM context resource \"<context>\"\\n    Then the context \"<context>\" should be deleted\\n\\n    Examples:\\n    | context  | username |\\n    | varanasi | shesha   |\\n', media_type='text/x.cucumber.gherkin+plain')","Pickle(id='728', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Cleanup hosts travellaptop in user shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='724', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='725', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['651', '655'], id='726', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"travellaptop\"'), PickleStep(argument=None, ast_node_ids=['652', '655'], id='727', type=<Type.outcome: 'Outcome'>, text='the host \"travellaptop\" should be deleted')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['657', '655'])"],"tags":["scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/6_mindwm_two_hosts_one_user.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=<FeaturePathType.PATH: 'path'>, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())","mindwm_two_hosts_one_user","pytest_bdd_scenario","@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')","mindwm_test","namespace(create=False, name='default')"]},{"name":"test_scenarios[file:features/9_mindwm_clipboard.feature-MindWM clipboard EDA test-Send ping directly to function broker-ingress.knative-eventing/user-flukeman/user-broker[table_rows:[line: 84]]]","uid":"88872bf8773d0082","parentUid":"3961740595044ffd97a03e46799bfc30","status":"passed","time":{"start":1728404973377,"stop":1728404996044,"duration":22667},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["Feature(gherkin_document=GherkinDocument(uri='file:features/9_mindwm_clipboard.feature', feature=Feature(location=Location(line=3, column=1), tags=[Tag(location=Location(line=1, column=1), name='@mindwm_clipboard', id='1036'), Tag(location=Location(line=2, column=1), name='@mindwm_test', id='1037')], language='en', keyword='Feature', name='MindWM clipboard EDA test', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='957'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='958')], id='959'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Prepare environment for ping tests', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='960'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='961'), Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='962'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='clipboard')], id='963')]), id='964'), Step(location=Location(line=14, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='965'), Step(location=Location(line=16, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='966'), Step(location=Location(line=17, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='967'), Step(location=Location(line=19, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='968'), Step(location=Location(line=20, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='969'), Step(location=Location(line=21, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace', doc_string=None, data_table=None, id='970'), Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='971')], examples=[Examples(location=Location(line=25, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='context'), TableCell(location=Location(line=26, column=18), value='username'), TableCell(location=Location(line=26, column=31), value='host')], id='972'), table_body=[TableRow(location=Location(line=27, column=6), cells=[TableCell(location=Location(line=27, column=8), value='philadelphia'), TableCell(location=Location(line=27, column=25), value='flukeman'), TableCell(location=Location(line=27, column=38), value='the-host')], id='973')], id='974')], id='975')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=29, column=3), tags=[], keyword='Scenario', name='Send clipboard to knative ping service', description='', steps=[Step(location=Location(line=30, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='976'), Step(location=Location(line=31, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='977'), Step(location=Location(line=32, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='978'), Step(location=Location(line=33, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='979'), Step(location=Location(line=34, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='980'), Step(location=Location(line=35, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to knative service \"clipboard\" in \"context-<context>\" namespace', doc_string=DocString(location=Location(line=36, column=7), media_type=None, content='{\\n  \"uuid\": \"6ca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325473,\\n  \"data\": \"clipboard primary data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='981'), Step(location=Location(line=43, column=7), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"200\"', doc_string=None, data_table=None, id='982'), Step(location=Location(line=45, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=46, column=7), rows=[TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='Deployment name')], id='983'), TableRow(location=Location(line=47, column=7), cells=[TableCell(location=Location(line=47, column=9), value='clipboard-00001-deployment')], id='984')]), id='985')], examples=[Examples(location=Location(line=49, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='context'), TableCell(location=Location(line=50, column=18), value='username'), TableCell(location=Location(line=50, column=31), value='host'), TableCell(location=Location(line=50, column=43), value='traceparent')], id='986'), table_body=[TableRow(location=Location(line=51, column=6), cells=[TableCell(location=Location(line=51, column=8), value='philadelphia'), TableCell(location=Location(line=51, column=25), value='flukeman'), TableCell(location=Location(line=51, column=38), value='the-host'), TableCell(location=Location(line=51, column=50), value='00-6ef92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='987')], id='988')], id='989')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=53, column=3), tags=[], keyword='Scenario', name='Send ping directly to function <endpoint>', description='', steps=[Step(location=Location(line=54, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='990'), Step(location=Location(line=55, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='991'), Step(location=Location(line=56, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='992'), Step(location=Location(line=57, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='993'), Step(location=Location(line=58, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='994'), Step(location=Location(line=59, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='995'), Step(location=Location(line=60, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to \"<endpoint>\"', doc_string=DocString(location=Location(line=61, column=7), media_type=None, content='{\\n  \"uuid\": \"4bca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard secondary data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='996'), Step(location=Location(line=68, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"202\"', doc_string=None, data_table=None, id='997'), Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=71, column=7), rows=[TableRow(location=Location(line=71, column=7), cells=[TableCell(location=Location(line=71, column=9), value='Deployment name')], id='998'), TableRow(location=Location(line=72, column=7), cells=[TableCell(location=Location(line=72, column=9), value='clipboard-00001-deployment')], id='999')]), id='1000'), Step(location=Location(line=73, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the trace with \"<traceparent>\" should appear in TraceQL', doc_string=None, data_table=None, id='1001'), Step(location=Location(line=74, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the trace should contains', doc_string=None, data_table=DataTable(location=Location(line=75, column=7), rows=[TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='service name')], id='1002'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='broker-ingress.knative-eventing')], id='1003'), TableRow(location=Location(line=77, column=7), cells=[TableCell(location=Location(line=77, column=9), value='unknown_service')], id='1004'), TableRow(location=Location(line=78, column=7), cells=[TableCell(location=Location(line=78, column=9), value='jetstream-ch-dispatcher')], id='1005')]), id='1006'), Step(location=Location(line=79, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='1007')], examples=[Examples(location=Location(line=81, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='context'), TableCell(location=Location(line=82, column=18), value='username'), TableCell(location=Location(line=82, column=31), value='host'), TableCell(location=Location(line=82, column=43), value='endpoint'), TableCell(location=Location(line=82, column=54), value='traceparent')], id='1008'), table_body=[TableRow(location=Location(line=83, column=6), cells=[TableCell(location=Location(line=83, column=8), value='philadelphia'), TableCell(location=Location(line=83, column=25), value='flukeman'), TableCell(location=Location(line=83, column=38), value='the-host'), TableCell(location=Location(line=83, column=50), value='broker-ingress.knative-eventing/context-philadelphia/context-broker'), TableCell(location=Location(line=83, column=122), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='1009'), TableRow(location=Location(line=84, column=6), cells=[TableCell(location=Location(line=84, column=8), value='philadelphia'), TableCell(location=Location(line=84, column=25), value='flukeman'), TableCell(location=Location(line=84, column=38), value='the-host'), TableCell(location=Location(line=84, column=50), value='broker-ingress.knative-eventing/user-flukeman/user-broker'), TableCell(location=Location(line=84, column=110), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1010')], id='1011')], id='1012')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=87, column=3), tags=[], keyword='Scenario', name='Send ping via nats', description='', steps=[Step(location=Location(line=88, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='1013'), Step(location=Location(line=89, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-id\" to \"<uuid>\"', doc_string=None, data_table=None, id='1014'), Step(location=Location(line=90, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='1015'), Step(location=Location(line=91, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='1016'), Step(location=Location(line=92, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='1017'), Step(location=Location(line=93, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='1018'), Step(location=Location(line=94, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.clipboard\"', doc_string=DocString(location=Location(line=95, column=7), media_type=None, content='{\\n  \"uuid\": \"3bca8a133-aba6-4f7f-ab95-242802fcac3c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard #3 data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='1019'), Step(location=Location(line=103, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=104, column=7), rows=[TableRow(location=Location(line=104, column=7), cells=[TableCell(location=Location(line=104, column=9), value='Deployment name')], id='1020'), TableRow(location=Location(line=105, column=7), cells=[TableCell(location=Location(line=105, column=9), value='clipboard-00001-deployment')], id='1021')]), id='1022'), Step(location=Location(line=107, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='1023')], examples=[Examples(location=Location(line=110, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=111, column=6), cells=[TableCell(location=Location(line=111, column=8), value='context'), TableCell(location=Location(line=111, column=18), value='username'), TableCell(location=Location(line=111, column=31), value='host'), TableCell(location=Location(line=111, column=43), value='uuid'), TableCell(location=Location(line=111, column=83), value='traceparent')], id='1024'), table_body=[TableRow(location=Location(line=112, column=6), cells=[TableCell(location=Location(line=112, column=8), value='philadelphia'), TableCell(location=Location(line=112, column=25), value='flukeman'), TableCell(location=Location(line=112, column=38), value='the-host'), TableCell(location=Location(line=112, column=50), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=112, column=89), value='00-8af92f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1025')], id='1026')], id='1027')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=115, column=3), tags=[], keyword='Scenario', name='Cleanup <username>@<host> in <context>', description='', steps=[Step(location=Location(line=116, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='1028'), Step(location=Location(line=117, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='1029'), Step(location=Location(line=119, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='1030'), Step(location=Location(line=121, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='1031')], examples=[Examples(location=Location(line=123, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=124, column=5), cells=[TableCell(location=Location(line=124, column=7), value='context'), TableCell(location=Location(line=124, column=17), value='username'), TableCell(location=Location(line=124, column=28), value='host')], id='1032'), table_body=[TableRow(location=Location(line=125, column=5), cells=[TableCell(location=Location(line=125, column=7), value='philadelphia'), TableCell(location=Location(line=125, column=24), value='flukeman'), TableCell(location=Location(line=125, column=37), value='the-host')], id='1033')], id='1034')], id='1035'))]), comments=[]), uri='file:features/9_mindwm_clipboard.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/9_mindwm_clipboard.feature', registry={'1036': Tag(location=Location(line=1, column=1), name='@mindwm_clipboard', id='1036'), '1037': Tag(location=Location(line=2, column=1), name='@mindwm_test', id='1037'), '959': Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='957'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='958')], id='959'), '957': Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='957'), '958': Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='958'), '975': Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Prepare environment for ping tests', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='960'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='961'), Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='962'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='clipboard')], id='963')]), id='964'), Step(location=Location(line=14, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='965'), Step(location=Location(line=16, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='966'), Step(location=Location(line=17, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='967'), Step(location=Location(line=19, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='968'), Step(location=Location(line=20, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='969'), Step(location=Location(line=21, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace', doc_string=None, data_table=None, id='970'), Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='971')], examples=[Examples(location=Location(line=25, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='context'), TableCell(location=Location(line=26, column=18), value='username'), TableCell(location=Location(line=26, column=31), value='host')], id='972'), table_body=[TableRow(location=Location(line=27, column=6), cells=[TableCell(location=Location(line=27, column=8), value='philadelphia'), TableCell(location=Location(line=27, column=25), value='flukeman'), TableCell(location=Location(line=27, column=38), value='the-host')], id='973')], id='974')], id='975'), '960': Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='960'), '961': Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='961'), '964': Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='962'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='clipboard')], id='963')]), id='964'), '965': Step(location=Location(line=14, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='965'), '966': Step(location=Location(line=16, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='966'), '967': Step(location=Location(line=17, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='967'), '968': Step(location=Location(line=19, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='968'), '969': Step(location=Location(line=20, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='969'), '970': Step(location=Location(line=21, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace', doc_string=None, data_table=None, id='970'), '971': Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='971'), '974': Examples(location=Location(line=25, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='context'), TableCell(location=Location(line=26, column=18), value='username'), TableCell(location=Location(line=26, column=31), value='host')], id='972'), table_body=[TableRow(location=Location(line=27, column=6), cells=[TableCell(location=Location(line=27, column=8), value='philadelphia'), TableCell(location=Location(line=27, column=25), value='flukeman'), TableCell(location=Location(line=27, column=38), value='the-host')], id='973')], id='974'), '972': TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='context'), TableCell(location=Location(line=26, column=18), value='username'), TableCell(location=Location(line=26, column=31), value='host')], id='972'), '973': TableRow(location=Location(line=27, column=6), cells=[TableCell(location=Location(line=27, column=8), value='philadelphia'), TableCell(location=Location(line=27, column=25), value='flukeman'), TableCell(location=Location(line=27, column=38), value='the-host')], id='973'), '989': Scenario(location=Location(line=29, column=3), tags=[], keyword='Scenario', name='Send clipboard to knative ping service', description='', steps=[Step(location=Location(line=30, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='976'), Step(location=Location(line=31, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='977'), Step(location=Location(line=32, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='978'), Step(location=Location(line=33, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='979'), Step(location=Location(line=34, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='980'), Step(location=Location(line=35, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to knative service \"clipboard\" in \"context-<context>\" namespace', doc_string=DocString(location=Location(line=36, column=7), media_type=None, content='{\\n  \"uuid\": \"6ca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325473,\\n  \"data\": \"clipboard primary data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='981'), Step(location=Location(line=43, column=7), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"200\"', doc_string=None, data_table=None, id='982'), Step(location=Location(line=45, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=46, column=7), rows=[TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='Deployment name')], id='983'), TableRow(location=Location(line=47, column=7), cells=[TableCell(location=Location(line=47, column=9), value='clipboard-00001-deployment')], id='984')]), id='985')], examples=[Examples(location=Location(line=49, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='context'), TableCell(location=Location(line=50, column=18), value='username'), TableCell(location=Location(line=50, column=31), value='host'), TableCell(location=Location(line=50, column=43), value='traceparent')], id='986'), table_body=[TableRow(location=Location(line=51, column=6), cells=[TableCell(location=Location(line=51, column=8), value='philadelphia'), TableCell(location=Location(line=51, column=25), value='flukeman'), TableCell(location=Location(line=51, column=38), value='the-host'), TableCell(location=Location(line=51, column=50), value='00-6ef92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='987')], id='988')], id='989'), '976': Step(location=Location(line=30, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='976'), '977': Step(location=Location(line=31, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='977'), '978': Step(location=Location(line=32, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='978'), '979': Step(location=Location(line=33, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='979'), '980': Step(location=Location(line=34, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='980'), '981': Step(location=Location(line=35, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to knative service \"clipboard\" in \"context-<context>\" namespace', doc_string=DocString(location=Location(line=36, column=7), media_type=None, content='{\\n  \"uuid\": \"6ca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325473,\\n  \"data\": \"clipboard primary data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='981'), '982': Step(location=Location(line=43, column=7), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"200\"', doc_string=None, data_table=None, id='982'), '985': Step(location=Location(line=45, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=46, column=7), rows=[TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='Deployment name')], id='983'), TableRow(location=Location(line=47, column=7), cells=[TableCell(location=Location(line=47, column=9), value='clipboard-00001-deployment')], id='984')]), id='985'), '988': Examples(location=Location(line=49, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='context'), TableCell(location=Location(line=50, column=18), value='username'), TableCell(location=Location(line=50, column=31), value='host'), TableCell(location=Location(line=50, column=43), value='traceparent')], id='986'), table_body=[TableRow(location=Location(line=51, column=6), cells=[TableCell(location=Location(line=51, column=8), value='philadelphia'), TableCell(location=Location(line=51, column=25), value='flukeman'), TableCell(location=Location(line=51, column=38), value='the-host'), TableCell(location=Location(line=51, column=50), value='00-6ef92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='987')], id='988'), '986': TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='context'), TableCell(location=Location(line=50, column=18), value='username'), TableCell(location=Location(line=50, column=31), value='host'), TableCell(location=Location(line=50, column=43), value='traceparent')], id='986'), '987': TableRow(location=Location(line=51, column=6), cells=[TableCell(location=Location(line=51, column=8), value='philadelphia'), TableCell(location=Location(line=51, column=25), value='flukeman'), TableCell(location=Location(line=51, column=38), value='the-host'), TableCell(location=Location(line=51, column=50), value='00-6ef92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='987'), '1012': Scenario(location=Location(line=53, column=3), tags=[], keyword='Scenario', name='Send ping directly to function <endpoint>', description='', steps=[Step(location=Location(line=54, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='990'), Step(location=Location(line=55, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='991'), Step(location=Location(line=56, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='992'), Step(location=Location(line=57, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='993'), Step(location=Location(line=58, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='994'), Step(location=Location(line=59, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='995'), Step(location=Location(line=60, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to \"<endpoint>\"', doc_string=DocString(location=Location(line=61, column=7), media_type=None, content='{\\n  \"uuid\": \"4bca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard secondary data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='996'), Step(location=Location(line=68, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"202\"', doc_string=None, data_table=None, id='997'), Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=71, column=7), rows=[TableRow(location=Location(line=71, column=7), cells=[TableCell(location=Location(line=71, column=9), value='Deployment name')], id='998'), TableRow(location=Location(line=72, column=7), cells=[TableCell(location=Location(line=72, column=9), value='clipboard-00001-deployment')], id='999')]), id='1000'), Step(location=Location(line=73, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the trace with \"<traceparent>\" should appear in TraceQL', doc_string=None, data_table=None, id='1001'), Step(location=Location(line=74, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the trace should contains', doc_string=None, data_table=DataTable(location=Location(line=75, column=7), rows=[TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='service name')], id='1002'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='broker-ingress.knative-eventing')], id='1003'), TableRow(location=Location(line=77, column=7), cells=[TableCell(location=Location(line=77, column=9), value='unknown_service')], id='1004'), TableRow(location=Location(line=78, column=7), cells=[TableCell(location=Location(line=78, column=9), value='jetstream-ch-dispatcher')], id='1005')]), id='1006'), Step(location=Location(line=79, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='1007')], examples=[Examples(location=Location(line=81, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='context'), TableCell(location=Location(line=82, column=18), value='username'), TableCell(location=Location(line=82, column=31), value='host'), TableCell(location=Location(line=82, column=43), value='endpoint'), TableCell(location=Location(line=82, column=54), value='traceparent')], id='1008'), table_body=[TableRow(location=Location(line=83, column=6), cells=[TableCell(location=Location(line=83, column=8), value='philadelphia'), TableCell(location=Location(line=83, column=25), value='flukeman'), TableCell(location=Location(line=83, column=38), value='the-host'), TableCell(location=Location(line=83, column=50), value='broker-ingress.knative-eventing/context-philadelphia/context-broker'), TableCell(location=Location(line=83, column=122), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='1009'), TableRow(location=Location(line=84, column=6), cells=[TableCell(location=Location(line=84, column=8), value='philadelphia'), TableCell(location=Location(line=84, column=25), value='flukeman'), TableCell(location=Location(line=84, column=38), value='the-host'), TableCell(location=Location(line=84, column=50), value='broker-ingress.knative-eventing/user-flukeman/user-broker'), TableCell(location=Location(line=84, column=110), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1010')], id='1011')], id='1012'), '990': Step(location=Location(line=54, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='990'), '991': Step(location=Location(line=55, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='991'), '992': Step(location=Location(line=56, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='992'), '993': Step(location=Location(line=57, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='993'), '994': Step(location=Location(line=58, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='994'), '995': Step(location=Location(line=59, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='995'), '996': Step(location=Location(line=60, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to \"<endpoint>\"', doc_string=DocString(location=Location(line=61, column=7), media_type=None, content='{\\n  \"uuid\": \"4bca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard secondary data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='996'), '997': Step(location=Location(line=68, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"202\"', doc_string=None, data_table=None, id='997'), '1000': Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=71, column=7), rows=[TableRow(location=Location(line=71, column=7), cells=[TableCell(location=Location(line=71, column=9), value='Deployment name')], id='998'), TableRow(location=Location(line=72, column=7), cells=[TableCell(location=Location(line=72, column=9), value='clipboard-00001-deployment')], id='999')]), id='1000'), '1001': Step(location=Location(line=73, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the trace with \"<traceparent>\" should appear in TraceQL', doc_string=None, data_table=None, id='1001'), '1006': Step(location=Location(line=74, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the trace should contains', doc_string=None, data_table=DataTable(location=Location(line=75, column=7), rows=[TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='service name')], id='1002'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='broker-ingress.knative-eventing')], id='1003'), TableRow(location=Location(line=77, column=7), cells=[TableCell(location=Location(line=77, column=9), value='unknown_service')], id='1004'), TableRow(location=Location(line=78, column=7), cells=[TableCell(location=Location(line=78, column=9), value='jetstream-ch-dispatcher')], id='1005')]), id='1006'), '1007': Step(location=Location(line=79, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='1007'), '1011': Examples(location=Location(line=81, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='context'), TableCell(location=Location(line=82, column=18), value='username'), TableCell(location=Location(line=82, column=31), value='host'), TableCell(location=Location(line=82, column=43), value='endpoint'), TableCell(location=Location(line=82, column=54), value='traceparent')], id='1008'), table_body=[TableRow(location=Location(line=83, column=6), cells=[TableCell(location=Location(line=83, column=8), value='philadelphia'), TableCell(location=Location(line=83, column=25), value='flukeman'), TableCell(location=Location(line=83, column=38), value='the-host'), TableCell(location=Location(line=83, column=50), value='broker-ingress.knative-eventing/context-philadelphia/context-broker'), TableCell(location=Location(line=83, column=122), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='1009'), TableRow(location=Location(line=84, column=6), cells=[TableCell(location=Location(line=84, column=8), value='philadelphia'), TableCell(location=Location(line=84, column=25), value='flukeman'), TableCell(location=Location(line=84, column=38), value='the-host'), TableCell(location=Location(line=84, column=50), value='broker-ingress.knative-eventing/user-flukeman/user-broker'), TableCell(location=Location(line=84, column=110), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1010')], id='1011'), '1008': TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='context'), TableCell(location=Location(line=82, column=18), value='username'), TableCell(location=Location(line=82, column=31), value='host'), TableCell(location=Location(line=82, column=43), value='endpoint'), TableCell(location=Location(line=82, column=54), value='traceparent')], id='1008'), '1009': TableRow(location=Location(line=83, column=6), cells=[TableCell(location=Location(line=83, column=8), value='philadelphia'), TableCell(location=Location(line=83, column=25), value='flukeman'), TableCell(location=Location(line=83, column=38), value='the-host'), TableCell(location=Location(line=83, column=50), value='broker-ingress.knative-eventing/context-philadelphia/context-broker'), TableCell(location=Location(line=83, column=122), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='1009'), '1010': TableRow(location=Location(line=84, column=6), cells=[TableCell(location=Location(line=84, column=8), value='philadelphia'), TableCell(location=Location(line=84, column=25), value='flukeman'), TableCell(location=Location(line=84, column=38), value='the-host'), TableCell(location=Location(line=84, column=50), value='broker-ingress.knative-eventing/user-flukeman/user-broker'), TableCell(location=Location(line=84, column=110), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1010'), '1027': Scenario(location=Location(line=87, column=3), tags=[], keyword='Scenario', name='Send ping via nats', description='', steps=[Step(location=Location(line=88, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='1013'), Step(location=Location(line=89, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-id\" to \"<uuid>\"', doc_string=None, data_table=None, id='1014'), Step(location=Location(line=90, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='1015'), Step(location=Location(line=91, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='1016'), Step(location=Location(line=92, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='1017'), Step(location=Location(line=93, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='1018'), Step(location=Location(line=94, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.clipboard\"', doc_string=DocString(location=Location(line=95, column=7), media_type=None, content='{\\n  \"uuid\": \"3bca8a133-aba6-4f7f-ab95-242802fcac3c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard #3 data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='1019'), Step(location=Location(line=103, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=104, column=7), rows=[TableRow(location=Location(line=104, column=7), cells=[TableCell(location=Location(line=104, column=9), value='Deployment name')], id='1020'), TableRow(location=Location(line=105, column=7), cells=[TableCell(location=Location(line=105, column=9), value='clipboard-00001-deployment')], id='1021')]), id='1022'), Step(location=Location(line=107, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='1023')], examples=[Examples(location=Location(line=110, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=111, column=6), cells=[TableCell(location=Location(line=111, column=8), value='context'), TableCell(location=Location(line=111, column=18), value='username'), TableCell(location=Location(line=111, column=31), value='host'), TableCell(location=Location(line=111, column=43), value='uuid'), TableCell(location=Location(line=111, column=83), value='traceparent')], id='1024'), table_body=[TableRow(location=Location(line=112, column=6), cells=[TableCell(location=Location(line=112, column=8), value='philadelphia'), TableCell(location=Location(line=112, column=25), value='flukeman'), TableCell(location=Location(line=112, column=38), value='the-host'), TableCell(location=Location(line=112, column=50), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=112, column=89), value='00-8af92f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1025')], id='1026')], id='1027'), '1013': Step(location=Location(line=88, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='1013'), '1014': Step(location=Location(line=89, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-id\" to \"<uuid>\"', doc_string=None, data_table=None, id='1014'), '1015': Step(location=Location(line=90, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='1015'), '1016': Step(location=Location(line=91, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='1016'), '1017': Step(location=Location(line=92, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='1017'), '1018': Step(location=Location(line=93, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='1018'), '1019': Step(location=Location(line=94, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.clipboard\"', doc_string=DocString(location=Location(line=95, column=7), media_type=None, content='{\\n  \"uuid\": \"3bca8a133-aba6-4f7f-ab95-242802fcac3c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard #3 data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='1019'), '1022': Step(location=Location(line=103, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=104, column=7), rows=[TableRow(location=Location(line=104, column=7), cells=[TableCell(location=Location(line=104, column=9), value='Deployment name')], id='1020'), TableRow(location=Location(line=105, column=7), cells=[TableCell(location=Location(line=105, column=9), value='clipboard-00001-deployment')], id='1021')]), id='1022'), '1023': Step(location=Location(line=107, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='1023'), '1026': Examples(location=Location(line=110, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=111, column=6), cells=[TableCell(location=Location(line=111, column=8), value='context'), TableCell(location=Location(line=111, column=18), value='username'), TableCell(location=Location(line=111, column=31), value='host'), TableCell(location=Location(line=111, column=43), value='uuid'), TableCell(location=Location(line=111, column=83), value='traceparent')], id='1024'), table_body=[TableRow(location=Location(line=112, column=6), cells=[TableCell(location=Location(line=112, column=8), value='philadelphia'), TableCell(location=Location(line=112, column=25), value='flukeman'), TableCell(location=Location(line=112, column=38), value='the-host'), TableCell(location=Location(line=112, column=50), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=112, column=89), value='00-8af92f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1025')], id='1026'), '1024': TableRow(location=Location(line=111, column=6), cells=[TableCell(location=Location(line=111, column=8), value='context'), TableCell(location=Location(line=111, column=18), value='username'), TableCell(location=Location(line=111, column=31), value='host'), TableCell(location=Location(line=111, column=43), value='uuid'), TableCell(location=Location(line=111, column=83), value='traceparent')], id='1024'), '1025': TableRow(location=Location(line=112, column=6), cells=[TableCell(location=Location(line=112, column=8), value='philadelphia'), TableCell(location=Location(line=112, column=25), value='flukeman'), TableCell(location=Location(line=112, column=38), value='the-host'), TableCell(location=Location(line=112, column=50), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=112, column=89), value='00-8af92f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1025'), '1035': Scenario(location=Location(line=115, column=3), tags=[], keyword='Scenario', name='Cleanup <username>@<host> in <context>', description='', steps=[Step(location=Location(line=116, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='1028'), Step(location=Location(line=117, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='1029'), Step(location=Location(line=119, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='1030'), Step(location=Location(line=121, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='1031')], examples=[Examples(location=Location(line=123, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=124, column=5), cells=[TableCell(location=Location(line=124, column=7), value='context'), TableCell(location=Location(line=124, column=17), value='username'), TableCell(location=Location(line=124, column=28), value='host')], id='1032'), table_body=[TableRow(location=Location(line=125, column=5), cells=[TableCell(location=Location(line=125, column=7), value='philadelphia'), TableCell(location=Location(line=125, column=24), value='flukeman'), TableCell(location=Location(line=125, column=37), value='the-host')], id='1033')], id='1034')], id='1035'), '1028': Step(location=Location(line=116, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='1028'), '1029': Step(location=Location(line=117, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='1029'), '1030': Step(location=Location(line=119, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='1030'), '1031': Step(location=Location(line=121, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='1031'), '1034': Examples(location=Location(line=123, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=124, column=5), cells=[TableCell(location=Location(line=124, column=7), value='context'), TableCell(location=Location(line=124, column=17), value='username'), TableCell(location=Location(line=124, column=28), value='host')], id='1032'), table_body=[TableRow(location=Location(line=125, column=5), cells=[TableCell(location=Location(line=125, column=7), value='philadelphia'), TableCell(location=Location(line=125, column=24), value='flukeman'), TableCell(location=Location(line=125, column=37), value='the-host')], id='1033')], id='1034'), '1032': TableRow(location=Location(line=124, column=5), cells=[TableCell(location=Location(line=124, column=7), value='context'), TableCell(location=Location(line=124, column=17), value='username'), TableCell(location=Location(line=124, column=28), value='host')], id='1032'), '1033': TableRow(location=Location(line=125, column=5), cells=[TableCell(location=Location(line=125, column=7), value='philadelphia'), TableCell(location=Location(line=125, column=24), value='flukeman'), TableCell(location=Location(line=125, column=37), value='the-host')], id='1033')}, pickles=[Pickle(id='1050', uri='file:features/9_mindwm_clipboard.feature', name='Prepare environment for ping tests', language='en', steps=[PickleStep(argument=None, ast_node_ids=['957'], id='1038', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['958'], id='1039', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['960', '973'], id='1040', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"philadelphia\"'), PickleStep(argument=None, ast_node_ids=['961', '973'], id='1041', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='clipboard')])])), ast_node_ids=['964', '973'], id='1042', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-philadelphia\" namespace'), PickleStep(argument=None, ast_node_ids=['965', '973'], id='1043', type=<Type.outcome: 'Outcome'>, text='statefulset \"philadelphia-neo4j\" in namespace \"context-philadelphia\" is in ready state'), PickleStep(argument=None, ast_node_ids=['966', '973'], id='1044', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"flukeman\" and connects it to the context \"philadelphia\"'), PickleStep(argument=None, ast_node_ids=['967', '973'], id='1045', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['968', '973'], id='1046', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"the-host\" and connects it to the user \"flukeman\"'), PickleStep(argument=None, ast_node_ids=['969', '973'], id='1047', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['970', '973'], id='1048', type=<Type.outcome: 'Outcome'>, text='NatsJetStreamChannel \"the-host-host-broker-kne-trigger\" is ready in \"user-flukeman\" namespace'), PickleStep(argument=None, ast_node_ids=['971', '973'], id='1049', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"')], tags=[PickleTag(name='@mindwm_clipboard', ast_node_id='1036'), PickleTag(name='@mindwm_test', ast_node_id='1037')], ast_node_ids=['975', '973']), Pickle(id='1061', uri='file:features/9_mindwm_clipboard.feature', name='Send clipboard to knative ping service', language='en', steps=[PickleStep(argument=None, ast_node_ids=['957'], id='1051', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['958'], id='1052', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['976', '987'], id='1053', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['977', '987'], id='1054', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"'), PickleStep(argument=None, ast_node_ids=['978', '987'], id='1055', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"'), PickleStep(argument=None, ast_node_ids=['979', '987'], id='1056', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.flukeman.the-host.clipboard\"'), PickleStep(argument=None, ast_node_ids=['980', '987'], id='1057', type=<Type.action: 'Action'>, text='sets cloudevent header \"traceparent\" to \"00-6ef92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"uuid\": \"6ca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325473,\\n  \"data\": \"clipboard primary data\"\\n} '), data_table=None), ast_node_ids=['981', '987'], id='1058', type=<Type.action: 'Action'>, text='sends cloudevent to knative service \"clipboard\" in \"context-philadelphia\" namespace'), PickleStep(argument=None, ast_node_ids=['982', '987'], id='1059', type=<Type.outcome: 'Outcome'>, text='the response http code should be \"200\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='clipboard-00001-deployment')])])), ast_node_ids=['985', '987'], id='1060', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-philadelphia\" namespace')], tags=[PickleTag(name='@mindwm_clipboard', ast_node_id='1036'), PickleTag(name='@mindwm_test', ast_node_id='1037')], ast_node_ids=['989', '987']), Pickle(id='1076', uri='file:features/9_mindwm_clipboard.feature', name='Send ping directly to function broker-ingress.knative-eventing/context-philadelphia/context-broker', language='en', steps=[PickleStep(argument=None, ast_node_ids=['957'], id='1062', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['958'], id='1063', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['990', '1009'], id='1064', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['991', '1009'], id='1065', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['992', '1009'], id='1066', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"'), PickleStep(argument=None, ast_node_ids=['993', '1009'], id='1067', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"'), PickleStep(argument=None, ast_node_ids=['994', '1009'], id='1068', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.flukeman.the-host.clipboard\"'), PickleStep(argument=None, ast_node_ids=['995', '1009'], id='1069', type=<Type.action: 'Action'>, text='sets cloudevent header \"traceparent\" to \"00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"uuid\": \"4bca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard secondary data\"\\n} '), data_table=None), ast_node_ids=['996', '1009'], id='1070', type=<Type.action: 'Action'>, text='sends cloudevent to \"broker-ingress.knative-eventing/context-philadelphia/context-broker\"'), PickleStep(argument=None, ast_node_ids=['997', '1009'], id='1071', type=<Type.outcome: 'Outcome'>, text='the response http code should be \"202\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='clipboard-00001-deployment')])])), ast_node_ids=['1000', '1009'], id='1072', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-philadelphia\" namespace'), PickleStep(argument=None, ast_node_ids=['1001', '1009'], id='1073', type=<Type.outcome: 'Outcome'>, text='the trace with \"00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00\" should appear in TraceQL'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='service name')]), PickleTableRow(cells=[PickleTableCell(value='broker-ingress.knative-eventing')]), PickleTableRow(cells=[PickleTableCell(value='unknown_service')]), PickleTableRow(cells=[PickleTableCell(value='jetstream-ch-dispatcher')])])), ast_node_ids=['1006', '1009'], id='1074', type=<Type.outcome: 'Outcome'>, text='the trace should contains'), PickleStep(argument=None, ast_node_ids=['1007', '1009'], id='1075', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-flukeman.the-host-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_clipboard', ast_node_id='1036'), PickleTag(name='@mindwm_test', ast_node_id='1037')], ast_node_ids=['1012', '1009']), Pickle(id='1091', uri='file:features/9_mindwm_clipboard.feature', name='Send ping directly to function broker-ingress.knative-eventing/user-flukeman/user-broker', language='en', steps=[PickleStep(argument=None, ast_node_ids=['957'], id='1077', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['958'], id='1078', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['990', '1010'], id='1079', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['991', '1010'], id='1080', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['992', '1010'], id='1081', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"'), PickleStep(argument=None, ast_node_ids=['993', '1010'], id='1082', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"'), PickleStep(argument=None, ast_node_ids=['994', '1010'], id='1083', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.flukeman.the-host.clipboard\"'), PickleStep(argument=None, ast_node_ids=['995', '1010'], id='1084', type=<Type.action: 'Action'>, text='sets cloudevent header \"traceparent\" to \"00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"uuid\": \"4bca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard secondary data\"\\n} '), data_table=None), ast_node_ids=['996', '1010'], id='1085', type=<Type.action: 'Action'>, text='sends cloudevent to \"broker-ingress.knative-eventing/user-flukeman/user-broker\"'), PickleStep(argument=None, ast_node_ids=['997', '1010'], id='1086', type=<Type.outcome: 'Outcome'>, text='the response http code should be \"202\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='clipboard-00001-deployment')])])), ast_node_ids=['1000', '1010'], id='1087', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-philadelphia\" namespace'), PickleStep(argument=None, ast_node_ids=['1001', '1010'], id='1088', type=<Type.outcome: 'Outcome'>, text='the trace with \"00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00\" should appear in TraceQL'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='service name')]), PickleTableRow(cells=[PickleTableCell(value='broker-ingress.knative-eventing')]), PickleTableRow(cells=[PickleTableCell(value='unknown_service')]), PickleTableRow(cells=[PickleTableCell(value='jetstream-ch-dispatcher')])])), ast_node_ids=['1006', '1010'], id='1089', type=<Type.outcome: 'Outcome'>, text='the trace should contains'), PickleStep(argument=None, ast_node_ids=['1007', '1010'], id='1090', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-flukeman.the-host-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_clipboard', ast_node_id='1036'), PickleTag(name='@mindwm_test', ast_node_id='1037')], ast_node_ids=['1012', '1010']), Pickle(id='1103', uri='file:features/9_mindwm_clipboard.feature', name='Send ping via nats', language='en', steps=[PickleStep(argument=None, ast_node_ids=['957'], id='1092', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['958'], id='1093', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['1013', '1025'], id='1094', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['1014', '1025'], id='1095', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-id\" to \"09fb195c-c419-6d62-15e0-51b6ee990922\"'), PickleStep(argument=None, ast_node_ids=['1015', '1025'], id='1096', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"'), PickleStep(argument=None, ast_node_ids=['1016', '1025'], id='1097', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"'), PickleStep(argument=None, ast_node_ids=['1017', '1025'], id='1098', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.flukeman.the-host.clipboard\"'), PickleStep(argument=None, ast_node_ids=['1018', '1025'], id='1099', type=<Type.action: 'Action'>, text='sets cloudevent header \"traceparent\" to \"00-8af92f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"uuid\": \"3bca8a133-aba6-4f7f-ab95-242802fcac3c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard #3 data\"\\n} '), data_table=None), ast_node_ids=['1019', '1025'], id='1100', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.flukeman.the-host.clipboard\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='clipboard-00001-deployment')])])), ast_node_ids=['1022', '1025'], id='1101', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-philadelphia\" namespace'), PickleStep(argument=None, ast_node_ids=['1023', '1025'], id='1102', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-flukeman.the-host-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_clipboard', ast_node_id='1036'), PickleTag(name='@mindwm_test', ast_node_id='1037')], ast_node_ids=['1027', '1025']), Pickle(id='1110', uri='file:features/9_mindwm_clipboard.feature', name='Cleanup flukeman@the-host in philadelphia', language='en', steps=[PickleStep(argument=None, ast_node_ids=['957'], id='1104', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['958'], id='1105', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['1028', '1033'], id='1106', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"the-host\"'), PickleStep(argument=None, ast_node_ids=['1029', '1033'], id='1107', type=<Type.outcome: 'Outcome'>, text='the host \"the-host\" should be deleted'), PickleStep(argument=None, ast_node_ids=['1030', '1033'], id='1108', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"flukeman\"'), PickleStep(argument=None, ast_node_ids=['1031', '1033'], id='1109', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"philadelphia\"')], tags=[PickleTag(name='@mindwm_clipboard', ast_node_id='1036'), PickleTag(name='@mindwm_test', ast_node_id='1037')], ast_node_ids=['1035', '1033'])])","Source(uri='file:features/9_mindwm_clipboard.feature', data='@mindwm_clipboard\\n@mindwm_test\\nFeature: MindWM clipboard EDA test\\n  Background:\\n    Given A MindWM environment\\n    Then all nodes in Kubernetes are ready\\n\\n  Scenario: Prepare environment for ping tests \\n    When God creates a MindWM context with the name \"<context>\"\\n    Then the context should be ready and operable\\n    And the following knative services are in a ready state in the \"context-<context>\" namespace\\n      | Knative service name |\\n      | clipboard            |\\n    And statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state\\n\\n    When God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"\\n    Then the user resource should be ready and operable\\n\\n    When God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"\\n    Then the host resource should be ready and operable\\n    And NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace\\n\\n    When God starts reading message from NATS topic \">\"\\n\\n    Examples:\\n     | context | username   | host      |\\n     | philadelphia   | flukeman   | the-host  | \\n\\n  Scenario: Send clipboard to knative ping service\\n    When God creates a new cloudevent \\n      And sets cloudevent header \"ce-subject\" to \"clipboard\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"\\n      And sets cloudevent header \"traceparent\" to \"<traceparent>\"\\n      And sends cloudevent to knative service \"clipboard\" in \"context-<context>\" namespace\\n      \"\"\"\\n      {\\n        \"uuid\": \"6ca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n        \"time\": 1728325473,\\n        \"data\": \"clipboard primary data\"\\n      } \\n      \"\"\"\\n      Then the response http code should be \"200\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name       |\\n      | clipboard-00001-deployment |\\n\\n    Examples:\\n     | context | username   | host      | traceparent                                             |\\n     | philadelphia   | flukeman   | the-host  | 00-6ef92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00 |\\n\\n  Scenario: Send ping directly to function <endpoint>\\n    When God creates a new cloudevent \\n      And God starts reading message from NATS topic \">\"\\n      And sets cloudevent header \"ce-subject\" to \"clipboard\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"\\n      And sets cloudevent header \"traceparent\" to \"<traceparent>\"\\n      And sends cloudevent to \"<endpoint>\"\\n      \"\"\"\\n      {\\n        \"uuid\": \"4bca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n        \"time\": 1728325474,\\n        \"data\": \"clipboard secondary data\"\\n      } \\n      \"\"\"\\n    Then the response http code should be \"202\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name            |\\n      | clipboard-00001-deployment |\\n    Then the trace with \"<traceparent>\" should appear in TraceQL\\n    And the trace should contains \\n      | service name                    | \\n      | broker-ingress.knative-eventing | \\n      | unknown_service                 | \\n      | jetstream-ch-dispatcher         |\\n    And a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"\\n\\n    Examples:\\n     | context | username   | host      | endpoint | traceparent \\t\\t\\t\\t\\t         |\\n     | philadelphia   | flukeman   | the-host  | broker-ingress.knative-eventing/context-philadelphia/context-broker   | 00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00 |\\n     | philadelphia   | flukeman   | the-host  | broker-ingress.knative-eventing/user-flukeman/user-broker | 00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00 |\\n\\n\\n  Scenario: Send ping via nats\\n    When God creates a new cloudevent \\n      And sets cloudevent header \"ce-id\" to \"<uuid>\"\\n      And sets cloudevent header \"ce-subject\" to \"clipboard\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"\\n      And sets cloudevent header \"traceparent\" to \"<traceparent>\"\\n      And sends cloudevent to nats topic \"org.mindwm.<username>.<host>.clipboard\"\\n      \"\"\"\\n      {\\n        \"uuid\": \"3bca8a133-aba6-4f7f-ab95-242802fcac3c\",\\n        \"time\": 1728325474,\\n        \"data\": \"clipboard #3 data\"\\n      } \\n      \"\"\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name       |\\n      | clipboard-00001-deployment |\\n\\n    And a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"\\n\\n\\n    Examples:\\n     | context | username   | host      | uuid                                  | traceparent |\\n     | philadelphia   | flukeman   | the-host  | 09fb195c-c419-6d62-15e0-51b6ee990922 | 00-8af92f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00 |\\n\\n\\n  Scenario: Cleanup <username>@<host> in <context>\\n    When God deletes the MindWM host resource \"<host>\"\\n    Then the host \"<host>\" should be deleted\\n\\n    When God deletes the MindWM user resource \"<username>\"\\n\\n    When God deletes the MindWM context resource \"<context>\"\\n\\n    Examples:\\n    | context | username | host        | \\n    | philadelphia   | flukeman   | the-host         |\\n\\n', media_type='text/x.cucumber.gherkin+plain')","Pickle(id='1091', uri='file:features/9_mindwm_clipboard.feature', name='Send ping directly to function broker-ingress.knative-eventing/user-flukeman/user-broker', language='en', steps=[PickleStep(argument=None, ast_node_ids=['957'], id='1077', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['958'], id='1078', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['990', '1010'], id='1079', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['991', '1010'], id='1080', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['992', '1010'], id='1081', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"'), PickleStep(argument=None, ast_node_ids=['993', '1010'], id='1082', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"'), PickleStep(argument=None, ast_node_ids=['994', '1010'], id='1083', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.flukeman.the-host.clipboard\"'), PickleStep(argument=None, ast_node_ids=['995', '1010'], id='1084', type=<Type.action: 'Action'>, text='sets cloudevent header \"traceparent\" to \"00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"uuid\": \"4bca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard secondary data\"\\n} '), data_table=None), ast_node_ids=['996', '1010'], id='1085', type=<Type.action: 'Action'>, text='sends cloudevent to \"broker-ingress.knative-eventing/user-flukeman/user-broker\"'), PickleStep(argument=None, ast_node_ids=['997', '1010'], id='1086', type=<Type.outcome: 'Outcome'>, text='the response http code should be \"202\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='clipboard-00001-deployment')])])), ast_node_ids=['1000', '1010'], id='1087', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-philadelphia\" namespace'), PickleStep(argument=None, ast_node_ids=['1001', '1010'], id='1088', type=<Type.outcome: 'Outcome'>, text='the trace with \"00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00\" should appear in TraceQL'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='service name')]), PickleTableRow(cells=[PickleTableCell(value='broker-ingress.knative-eventing')]), PickleTableRow(cells=[PickleTableCell(value='unknown_service')]), PickleTableRow(cells=[PickleTableCell(value='jetstream-ch-dispatcher')])])), ast_node_ids=['1006', '1010'], id='1089', type=<Type.outcome: 'Outcome'>, text='the trace should contains'), PickleStep(argument=None, ast_node_ids=['1007', '1010'], id='1090', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-flukeman.the-host-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_clipboard', ast_node_id='1036'), PickleTag(name='@mindwm_test', ast_node_id='1037')], ast_node_ids=['1012', '1010'])"],"tags":["scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/9_mindwm_clipboard.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=<FeaturePathType.PATH: 'path'>, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())","pytest_bdd_scenario","@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')","mindwm_clipboard","mindwm_test","namespace(create=False, name='default')"]},{"name":"test_scenarios[file:features/9_mindwm_clipboard.feature-MindWM clipboard EDA test-Send clipboard to knative ping service[table_rows:[line: 51]]]","uid":"58b422c9c81721b5","parentUid":"3961740595044ffd97a03e46799bfc30","status":"passed","time":{"start":1728404939005,"stop":1728404951090,"duration":12085},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["Feature(gherkin_document=GherkinDocument(uri='file:features/9_mindwm_clipboard.feature', feature=Feature(location=Location(line=3, column=1), tags=[Tag(location=Location(line=1, column=1), name='@mindwm_clipboard', id='1036'), Tag(location=Location(line=2, column=1), name='@mindwm_test', id='1037')], language='en', keyword='Feature', name='MindWM clipboard EDA test', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='957'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='958')], id='959'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Prepare environment for ping tests', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='960'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='961'), Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='962'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='clipboard')], id='963')]), id='964'), Step(location=Location(line=14, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='965'), Step(location=Location(line=16, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='966'), Step(location=Location(line=17, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='967'), Step(location=Location(line=19, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='968'), Step(location=Location(line=20, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='969'), Step(location=Location(line=21, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace', doc_string=None, data_table=None, id='970'), Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='971')], examples=[Examples(location=Location(line=25, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='context'), TableCell(location=Location(line=26, column=18), value='username'), TableCell(location=Location(line=26, column=31), value='host')], id='972'), table_body=[TableRow(location=Location(line=27, column=6), cells=[TableCell(location=Location(line=27, column=8), value='philadelphia'), TableCell(location=Location(line=27, column=25), value='flukeman'), TableCell(location=Location(line=27, column=38), value='the-host')], id='973')], id='974')], id='975')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=29, column=3), tags=[], keyword='Scenario', name='Send clipboard to knative ping service', description='', steps=[Step(location=Location(line=30, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='976'), Step(location=Location(line=31, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='977'), Step(location=Location(line=32, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='978'), Step(location=Location(line=33, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='979'), Step(location=Location(line=34, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='980'), Step(location=Location(line=35, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to knative service \"clipboard\" in \"context-<context>\" namespace', doc_string=DocString(location=Location(line=36, column=7), media_type=None, content='{\\n  \"uuid\": \"6ca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325473,\\n  \"data\": \"clipboard primary data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='981'), Step(location=Location(line=43, column=7), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"200\"', doc_string=None, data_table=None, id='982'), Step(location=Location(line=45, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=46, column=7), rows=[TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='Deployment name')], id='983'), TableRow(location=Location(line=47, column=7), cells=[TableCell(location=Location(line=47, column=9), value='clipboard-00001-deployment')], id='984')]), id='985')], examples=[Examples(location=Location(line=49, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='context'), TableCell(location=Location(line=50, column=18), value='username'), TableCell(location=Location(line=50, column=31), value='host'), TableCell(location=Location(line=50, column=43), value='traceparent')], id='986'), table_body=[TableRow(location=Location(line=51, column=6), cells=[TableCell(location=Location(line=51, column=8), value='philadelphia'), TableCell(location=Location(line=51, column=25), value='flukeman'), TableCell(location=Location(line=51, column=38), value='the-host'), TableCell(location=Location(line=51, column=50), value='00-6ef92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='987')], id='988')], id='989')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=53, column=3), tags=[], keyword='Scenario', name='Send ping directly to function <endpoint>', description='', steps=[Step(location=Location(line=54, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='990'), Step(location=Location(line=55, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='991'), Step(location=Location(line=56, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='992'), Step(location=Location(line=57, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='993'), Step(location=Location(line=58, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='994'), Step(location=Location(line=59, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='995'), Step(location=Location(line=60, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to \"<endpoint>\"', doc_string=DocString(location=Location(line=61, column=7), media_type=None, content='{\\n  \"uuid\": \"4bca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard secondary data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='996'), Step(location=Location(line=68, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"202\"', doc_string=None, data_table=None, id='997'), Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=71, column=7), rows=[TableRow(location=Location(line=71, column=7), cells=[TableCell(location=Location(line=71, column=9), value='Deployment name')], id='998'), TableRow(location=Location(line=72, column=7), cells=[TableCell(location=Location(line=72, column=9), value='clipboard-00001-deployment')], id='999')]), id='1000'), Step(location=Location(line=73, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the trace with \"<traceparent>\" should appear in TraceQL', doc_string=None, data_table=None, id='1001'), Step(location=Location(line=74, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the trace should contains', doc_string=None, data_table=DataTable(location=Location(line=75, column=7), rows=[TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='service name')], id='1002'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='broker-ingress.knative-eventing')], id='1003'), TableRow(location=Location(line=77, column=7), cells=[TableCell(location=Location(line=77, column=9), value='unknown_service')], id='1004'), TableRow(location=Location(line=78, column=7), cells=[TableCell(location=Location(line=78, column=9), value='jetstream-ch-dispatcher')], id='1005')]), id='1006'), Step(location=Location(line=79, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='1007')], examples=[Examples(location=Location(line=81, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='context'), TableCell(location=Location(line=82, column=18), value='username'), TableCell(location=Location(line=82, column=31), value='host'), TableCell(location=Location(line=82, column=43), value='endpoint'), TableCell(location=Location(line=82, column=54), value='traceparent')], id='1008'), table_body=[TableRow(location=Location(line=83, column=6), cells=[TableCell(location=Location(line=83, column=8), value='philadelphia'), TableCell(location=Location(line=83, column=25), value='flukeman'), TableCell(location=Location(line=83, column=38), value='the-host'), TableCell(location=Location(line=83, column=50), value='broker-ingress.knative-eventing/context-philadelphia/context-broker'), TableCell(location=Location(line=83, column=122), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='1009'), TableRow(location=Location(line=84, column=6), cells=[TableCell(location=Location(line=84, column=8), value='philadelphia'), TableCell(location=Location(line=84, column=25), value='flukeman'), TableCell(location=Location(line=84, column=38), value='the-host'), TableCell(location=Location(line=84, column=50), value='broker-ingress.knative-eventing/user-flukeman/user-broker'), TableCell(location=Location(line=84, column=110), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1010')], id='1011')], id='1012')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=87, column=3), tags=[], keyword='Scenario', name='Send ping via nats', description='', steps=[Step(location=Location(line=88, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='1013'), Step(location=Location(line=89, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-id\" to \"<uuid>\"', doc_string=None, data_table=None, id='1014'), Step(location=Location(line=90, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='1015'), Step(location=Location(line=91, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='1016'), Step(location=Location(line=92, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='1017'), Step(location=Location(line=93, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='1018'), Step(location=Location(line=94, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.clipboard\"', doc_string=DocString(location=Location(line=95, column=7), media_type=None, content='{\\n  \"uuid\": \"3bca8a133-aba6-4f7f-ab95-242802fcac3c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard #3 data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='1019'), Step(location=Location(line=103, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=104, column=7), rows=[TableRow(location=Location(line=104, column=7), cells=[TableCell(location=Location(line=104, column=9), value='Deployment name')], id='1020'), TableRow(location=Location(line=105, column=7), cells=[TableCell(location=Location(line=105, column=9), value='clipboard-00001-deployment')], id='1021')]), id='1022'), Step(location=Location(line=107, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='1023')], examples=[Examples(location=Location(line=110, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=111, column=6), cells=[TableCell(location=Location(line=111, column=8), value='context'), TableCell(location=Location(line=111, column=18), value='username'), TableCell(location=Location(line=111, column=31), value='host'), TableCell(location=Location(line=111, column=43), value='uuid'), TableCell(location=Location(line=111, column=83), value='traceparent')], id='1024'), table_body=[TableRow(location=Location(line=112, column=6), cells=[TableCell(location=Location(line=112, column=8), value='philadelphia'), TableCell(location=Location(line=112, column=25), value='flukeman'), TableCell(location=Location(line=112, column=38), value='the-host'), TableCell(location=Location(line=112, column=50), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=112, column=89), value='00-8af92f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1025')], id='1026')], id='1027')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=115, column=3), tags=[], keyword='Scenario', name='Cleanup <username>@<host> in <context>', description='', steps=[Step(location=Location(line=116, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='1028'), Step(location=Location(line=117, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='1029'), Step(location=Location(line=119, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='1030'), Step(location=Location(line=121, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='1031')], examples=[Examples(location=Location(line=123, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=124, column=5), cells=[TableCell(location=Location(line=124, column=7), value='context'), TableCell(location=Location(line=124, column=17), value='username'), TableCell(location=Location(line=124, column=28), value='host')], id='1032'), table_body=[TableRow(location=Location(line=125, column=5), cells=[TableCell(location=Location(line=125, column=7), value='philadelphia'), TableCell(location=Location(line=125, column=24), value='flukeman'), TableCell(location=Location(line=125, column=37), value='the-host')], id='1033')], id='1034')], id='1035'))]), comments=[]), uri='file:features/9_mindwm_clipboard.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/9_mindwm_clipboard.feature', registry={'1036': Tag(location=Location(line=1, column=1), name='@mindwm_clipboard', id='1036'), '1037': Tag(location=Location(line=2, column=1), name='@mindwm_test', id='1037'), '959': Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='957'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='958')], id='959'), '957': Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='957'), '958': Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='958'), '975': Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Prepare environment for ping tests', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='960'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='961'), Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='962'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='clipboard')], id='963')]), id='964'), Step(location=Location(line=14, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='965'), Step(location=Location(line=16, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='966'), Step(location=Location(line=17, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='967'), Step(location=Location(line=19, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='968'), Step(location=Location(line=20, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='969'), Step(location=Location(line=21, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace', doc_string=None, data_table=None, id='970'), Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='971')], examples=[Examples(location=Location(line=25, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='context'), TableCell(location=Location(line=26, column=18), value='username'), TableCell(location=Location(line=26, column=31), value='host')], id='972'), table_body=[TableRow(location=Location(line=27, column=6), cells=[TableCell(location=Location(line=27, column=8), value='philadelphia'), TableCell(location=Location(line=27, column=25), value='flukeman'), TableCell(location=Location(line=27, column=38), value='the-host')], id='973')], id='974')], id='975'), '960': Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='960'), '961': Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='961'), '964': Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='962'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='clipboard')], id='963')]), id='964'), '965': Step(location=Location(line=14, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='965'), '966': Step(location=Location(line=16, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='966'), '967': Step(location=Location(line=17, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='967'), '968': Step(location=Location(line=19, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='968'), '969': Step(location=Location(line=20, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='969'), '970': Step(location=Location(line=21, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace', doc_string=None, data_table=None, id='970'), '971': Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='971'), '974': Examples(location=Location(line=25, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='context'), TableCell(location=Location(line=26, column=18), value='username'), TableCell(location=Location(line=26, column=31), value='host')], id='972'), table_body=[TableRow(location=Location(line=27, column=6), cells=[TableCell(location=Location(line=27, column=8), value='philadelphia'), TableCell(location=Location(line=27, column=25), value='flukeman'), TableCell(location=Location(line=27, column=38), value='the-host')], id='973')], id='974'), '972': TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='context'), TableCell(location=Location(line=26, column=18), value='username'), TableCell(location=Location(line=26, column=31), value='host')], id='972'), '973': TableRow(location=Location(line=27, column=6), cells=[TableCell(location=Location(line=27, column=8), value='philadelphia'), TableCell(location=Location(line=27, column=25), value='flukeman'), TableCell(location=Location(line=27, column=38), value='the-host')], id='973'), '989': Scenario(location=Location(line=29, column=3), tags=[], keyword='Scenario', name='Send clipboard to knative ping service', description='', steps=[Step(location=Location(line=30, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='976'), Step(location=Location(line=31, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='977'), Step(location=Location(line=32, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='978'), Step(location=Location(line=33, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='979'), Step(location=Location(line=34, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='980'), Step(location=Location(line=35, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to knative service \"clipboard\" in \"context-<context>\" namespace', doc_string=DocString(location=Location(line=36, column=7), media_type=None, content='{\\n  \"uuid\": \"6ca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325473,\\n  \"data\": \"clipboard primary data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='981'), Step(location=Location(line=43, column=7), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"200\"', doc_string=None, data_table=None, id='982'), Step(location=Location(line=45, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=46, column=7), rows=[TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='Deployment name')], id='983'), TableRow(location=Location(line=47, column=7), cells=[TableCell(location=Location(line=47, column=9), value='clipboard-00001-deployment')], id='984')]), id='985')], examples=[Examples(location=Location(line=49, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='context'), TableCell(location=Location(line=50, column=18), value='username'), TableCell(location=Location(line=50, column=31), value='host'), TableCell(location=Location(line=50, column=43), value='traceparent')], id='986'), table_body=[TableRow(location=Location(line=51, column=6), cells=[TableCell(location=Location(line=51, column=8), value='philadelphia'), TableCell(location=Location(line=51, column=25), value='flukeman'), TableCell(location=Location(line=51, column=38), value='the-host'), TableCell(location=Location(line=51, column=50), value='00-6ef92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='987')], id='988')], id='989'), '976': Step(location=Location(line=30, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='976'), '977': Step(location=Location(line=31, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='977'), '978': Step(location=Location(line=32, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='978'), '979': Step(location=Location(line=33, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='979'), '980': Step(location=Location(line=34, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='980'), '981': Step(location=Location(line=35, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to knative service \"clipboard\" in \"context-<context>\" namespace', doc_string=DocString(location=Location(line=36, column=7), media_type=None, content='{\\n  \"uuid\": \"6ca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325473,\\n  \"data\": \"clipboard primary data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='981'), '982': Step(location=Location(line=43, column=7), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"200\"', doc_string=None, data_table=None, id='982'), '985': Step(location=Location(line=45, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=46, column=7), rows=[TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='Deployment name')], id='983'), TableRow(location=Location(line=47, column=7), cells=[TableCell(location=Location(line=47, column=9), value='clipboard-00001-deployment')], id='984')]), id='985'), '988': Examples(location=Location(line=49, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='context'), TableCell(location=Location(line=50, column=18), value='username'), TableCell(location=Location(line=50, column=31), value='host'), TableCell(location=Location(line=50, column=43), value='traceparent')], id='986'), table_body=[TableRow(location=Location(line=51, column=6), cells=[TableCell(location=Location(line=51, column=8), value='philadelphia'), TableCell(location=Location(line=51, column=25), value='flukeman'), TableCell(location=Location(line=51, column=38), value='the-host'), TableCell(location=Location(line=51, column=50), value='00-6ef92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='987')], id='988'), '986': TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='context'), TableCell(location=Location(line=50, column=18), value='username'), TableCell(location=Location(line=50, column=31), value='host'), TableCell(location=Location(line=50, column=43), value='traceparent')], id='986'), '987': TableRow(location=Location(line=51, column=6), cells=[TableCell(location=Location(line=51, column=8), value='philadelphia'), TableCell(location=Location(line=51, column=25), value='flukeman'), TableCell(location=Location(line=51, column=38), value='the-host'), TableCell(location=Location(line=51, column=50), value='00-6ef92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='987'), '1012': Scenario(location=Location(line=53, column=3), tags=[], keyword='Scenario', name='Send ping directly to function <endpoint>', description='', steps=[Step(location=Location(line=54, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='990'), Step(location=Location(line=55, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='991'), Step(location=Location(line=56, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='992'), Step(location=Location(line=57, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='993'), Step(location=Location(line=58, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='994'), Step(location=Location(line=59, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='995'), Step(location=Location(line=60, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to \"<endpoint>\"', doc_string=DocString(location=Location(line=61, column=7), media_type=None, content='{\\n  \"uuid\": \"4bca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard secondary data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='996'), Step(location=Location(line=68, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"202\"', doc_string=None, data_table=None, id='997'), Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=71, column=7), rows=[TableRow(location=Location(line=71, column=7), cells=[TableCell(location=Location(line=71, column=9), value='Deployment name')], id='998'), TableRow(location=Location(line=72, column=7), cells=[TableCell(location=Location(line=72, column=9), value='clipboard-00001-deployment')], id='999')]), id='1000'), Step(location=Location(line=73, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the trace with \"<traceparent>\" should appear in TraceQL', doc_string=None, data_table=None, id='1001'), Step(location=Location(line=74, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the trace should contains', doc_string=None, data_table=DataTable(location=Location(line=75, column=7), rows=[TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='service name')], id='1002'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='broker-ingress.knative-eventing')], id='1003'), TableRow(location=Location(line=77, column=7), cells=[TableCell(location=Location(line=77, column=9), value='unknown_service')], id='1004'), TableRow(location=Location(line=78, column=7), cells=[TableCell(location=Location(line=78, column=9), value='jetstream-ch-dispatcher')], id='1005')]), id='1006'), Step(location=Location(line=79, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='1007')], examples=[Examples(location=Location(line=81, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='context'), TableCell(location=Location(line=82, column=18), value='username'), TableCell(location=Location(line=82, column=31), value='host'), TableCell(location=Location(line=82, column=43), value='endpoint'), TableCell(location=Location(line=82, column=54), value='traceparent')], id='1008'), table_body=[TableRow(location=Location(line=83, column=6), cells=[TableCell(location=Location(line=83, column=8), value='philadelphia'), TableCell(location=Location(line=83, column=25), value='flukeman'), TableCell(location=Location(line=83, column=38), value='the-host'), TableCell(location=Location(line=83, column=50), value='broker-ingress.knative-eventing/context-philadelphia/context-broker'), TableCell(location=Location(line=83, column=122), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='1009'), TableRow(location=Location(line=84, column=6), cells=[TableCell(location=Location(line=84, column=8), value='philadelphia'), TableCell(location=Location(line=84, column=25), value='flukeman'), TableCell(location=Location(line=84, column=38), value='the-host'), TableCell(location=Location(line=84, column=50), value='broker-ingress.knative-eventing/user-flukeman/user-broker'), TableCell(location=Location(line=84, column=110), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1010')], id='1011')], id='1012'), '990': Step(location=Location(line=54, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='990'), '991': Step(location=Location(line=55, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='991'), '992': Step(location=Location(line=56, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='992'), '993': Step(location=Location(line=57, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='993'), '994': Step(location=Location(line=58, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='994'), '995': Step(location=Location(line=59, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='995'), '996': Step(location=Location(line=60, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to \"<endpoint>\"', doc_string=DocString(location=Location(line=61, column=7), media_type=None, content='{\\n  \"uuid\": \"4bca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard secondary data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='996'), '997': Step(location=Location(line=68, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"202\"', doc_string=None, data_table=None, id='997'), '1000': Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=71, column=7), rows=[TableRow(location=Location(line=71, column=7), cells=[TableCell(location=Location(line=71, column=9), value='Deployment name')], id='998'), TableRow(location=Location(line=72, column=7), cells=[TableCell(location=Location(line=72, column=9), value='clipboard-00001-deployment')], id='999')]), id='1000'), '1001': Step(location=Location(line=73, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the trace with \"<traceparent>\" should appear in TraceQL', doc_string=None, data_table=None, id='1001'), '1006': Step(location=Location(line=74, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the trace should contains', doc_string=None, data_table=DataTable(location=Location(line=75, column=7), rows=[TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='service name')], id='1002'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='broker-ingress.knative-eventing')], id='1003'), TableRow(location=Location(line=77, column=7), cells=[TableCell(location=Location(line=77, column=9), value='unknown_service')], id='1004'), TableRow(location=Location(line=78, column=7), cells=[TableCell(location=Location(line=78, column=9), value='jetstream-ch-dispatcher')], id='1005')]), id='1006'), '1007': Step(location=Location(line=79, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='1007'), '1011': Examples(location=Location(line=81, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='context'), TableCell(location=Location(line=82, column=18), value='username'), TableCell(location=Location(line=82, column=31), value='host'), TableCell(location=Location(line=82, column=43), value='endpoint'), TableCell(location=Location(line=82, column=54), value='traceparent')], id='1008'), table_body=[TableRow(location=Location(line=83, column=6), cells=[TableCell(location=Location(line=83, column=8), value='philadelphia'), TableCell(location=Location(line=83, column=25), value='flukeman'), TableCell(location=Location(line=83, column=38), value='the-host'), TableCell(location=Location(line=83, column=50), value='broker-ingress.knative-eventing/context-philadelphia/context-broker'), TableCell(location=Location(line=83, column=122), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='1009'), TableRow(location=Location(line=84, column=6), cells=[TableCell(location=Location(line=84, column=8), value='philadelphia'), TableCell(location=Location(line=84, column=25), value='flukeman'), TableCell(location=Location(line=84, column=38), value='the-host'), TableCell(location=Location(line=84, column=50), value='broker-ingress.knative-eventing/user-flukeman/user-broker'), TableCell(location=Location(line=84, column=110), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1010')], id='1011'), '1008': TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='context'), TableCell(location=Location(line=82, column=18), value='username'), TableCell(location=Location(line=82, column=31), value='host'), TableCell(location=Location(line=82, column=43), value='endpoint'), TableCell(location=Location(line=82, column=54), value='traceparent')], id='1008'), '1009': TableRow(location=Location(line=83, column=6), cells=[TableCell(location=Location(line=83, column=8), value='philadelphia'), TableCell(location=Location(line=83, column=25), value='flukeman'), TableCell(location=Location(line=83, column=38), value='the-host'), TableCell(location=Location(line=83, column=50), value='broker-ingress.knative-eventing/context-philadelphia/context-broker'), TableCell(location=Location(line=83, column=122), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='1009'), '1010': TableRow(location=Location(line=84, column=6), cells=[TableCell(location=Location(line=84, column=8), value='philadelphia'), TableCell(location=Location(line=84, column=25), value='flukeman'), TableCell(location=Location(line=84, column=38), value='the-host'), TableCell(location=Location(line=84, column=50), value='broker-ingress.knative-eventing/user-flukeman/user-broker'), TableCell(location=Location(line=84, column=110), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1010'), '1027': Scenario(location=Location(line=87, column=3), tags=[], keyword='Scenario', name='Send ping via nats', description='', steps=[Step(location=Location(line=88, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='1013'), Step(location=Location(line=89, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-id\" to \"<uuid>\"', doc_string=None, data_table=None, id='1014'), Step(location=Location(line=90, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='1015'), Step(location=Location(line=91, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='1016'), Step(location=Location(line=92, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='1017'), Step(location=Location(line=93, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='1018'), Step(location=Location(line=94, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.clipboard\"', doc_string=DocString(location=Location(line=95, column=7), media_type=None, content='{\\n  \"uuid\": \"3bca8a133-aba6-4f7f-ab95-242802fcac3c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard #3 data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='1019'), Step(location=Location(line=103, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=104, column=7), rows=[TableRow(location=Location(line=104, column=7), cells=[TableCell(location=Location(line=104, column=9), value='Deployment name')], id='1020'), TableRow(location=Location(line=105, column=7), cells=[TableCell(location=Location(line=105, column=9), value='clipboard-00001-deployment')], id='1021')]), id='1022'), Step(location=Location(line=107, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='1023')], examples=[Examples(location=Location(line=110, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=111, column=6), cells=[TableCell(location=Location(line=111, column=8), value='context'), TableCell(location=Location(line=111, column=18), value='username'), TableCell(location=Location(line=111, column=31), value='host'), TableCell(location=Location(line=111, column=43), value='uuid'), TableCell(location=Location(line=111, column=83), value='traceparent')], id='1024'), table_body=[TableRow(location=Location(line=112, column=6), cells=[TableCell(location=Location(line=112, column=8), value='philadelphia'), TableCell(location=Location(line=112, column=25), value='flukeman'), TableCell(location=Location(line=112, column=38), value='the-host'), TableCell(location=Location(line=112, column=50), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=112, column=89), value='00-8af92f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1025')], id='1026')], id='1027'), '1013': Step(location=Location(line=88, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='1013'), '1014': Step(location=Location(line=89, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-id\" to \"<uuid>\"', doc_string=None, data_table=None, id='1014'), '1015': Step(location=Location(line=90, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='1015'), '1016': Step(location=Location(line=91, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='1016'), '1017': Step(location=Location(line=92, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='1017'), '1018': Step(location=Location(line=93, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='1018'), '1019': Step(location=Location(line=94, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.clipboard\"', doc_string=DocString(location=Location(line=95, column=7), media_type=None, content='{\\n  \"uuid\": \"3bca8a133-aba6-4f7f-ab95-242802fcac3c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard #3 data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='1019'), '1022': Step(location=Location(line=103, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=104, column=7), rows=[TableRow(location=Location(line=104, column=7), cells=[TableCell(location=Location(line=104, column=9), value='Deployment name')], id='1020'), TableRow(location=Location(line=105, column=7), cells=[TableCell(location=Location(line=105, column=9), value='clipboard-00001-deployment')], id='1021')]), id='1022'), '1023': Step(location=Location(line=107, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='1023'), '1026': Examples(location=Location(line=110, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=111, column=6), cells=[TableCell(location=Location(line=111, column=8), value='context'), TableCell(location=Location(line=111, column=18), value='username'), TableCell(location=Location(line=111, column=31), value='host'), TableCell(location=Location(line=111, column=43), value='uuid'), TableCell(location=Location(line=111, column=83), value='traceparent')], id='1024'), table_body=[TableRow(location=Location(line=112, column=6), cells=[TableCell(location=Location(line=112, column=8), value='philadelphia'), TableCell(location=Location(line=112, column=25), value='flukeman'), TableCell(location=Location(line=112, column=38), value='the-host'), TableCell(location=Location(line=112, column=50), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=112, column=89), value='00-8af92f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1025')], id='1026'), '1024': TableRow(location=Location(line=111, column=6), cells=[TableCell(location=Location(line=111, column=8), value='context'), TableCell(location=Location(line=111, column=18), value='username'), TableCell(location=Location(line=111, column=31), value='host'), TableCell(location=Location(line=111, column=43), value='uuid'), TableCell(location=Location(line=111, column=83), value='traceparent')], id='1024'), '1025': TableRow(location=Location(line=112, column=6), cells=[TableCell(location=Location(line=112, column=8), value='philadelphia'), TableCell(location=Location(line=112, column=25), value='flukeman'), TableCell(location=Location(line=112, column=38), value='the-host'), TableCell(location=Location(line=112, column=50), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=112, column=89), value='00-8af92f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1025'), '1035': Scenario(location=Location(line=115, column=3), tags=[], keyword='Scenario', name='Cleanup <username>@<host> in <context>', description='', steps=[Step(location=Location(line=116, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='1028'), Step(location=Location(line=117, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='1029'), Step(location=Location(line=119, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='1030'), Step(location=Location(line=121, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='1031')], examples=[Examples(location=Location(line=123, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=124, column=5), cells=[TableCell(location=Location(line=124, column=7), value='context'), TableCell(location=Location(line=124, column=17), value='username'), TableCell(location=Location(line=124, column=28), value='host')], id='1032'), table_body=[TableRow(location=Location(line=125, column=5), cells=[TableCell(location=Location(line=125, column=7), value='philadelphia'), TableCell(location=Location(line=125, column=24), value='flukeman'), TableCell(location=Location(line=125, column=37), value='the-host')], id='1033')], id='1034')], id='1035'), '1028': Step(location=Location(line=116, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='1028'), '1029': Step(location=Location(line=117, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='1029'), '1030': Step(location=Location(line=119, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='1030'), '1031': Step(location=Location(line=121, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='1031'), '1034': Examples(location=Location(line=123, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=124, column=5), cells=[TableCell(location=Location(line=124, column=7), value='context'), TableCell(location=Location(line=124, column=17), value='username'), TableCell(location=Location(line=124, column=28), value='host')], id='1032'), table_body=[TableRow(location=Location(line=125, column=5), cells=[TableCell(location=Location(line=125, column=7), value='philadelphia'), TableCell(location=Location(line=125, column=24), value='flukeman'), TableCell(location=Location(line=125, column=37), value='the-host')], id='1033')], id='1034'), '1032': TableRow(location=Location(line=124, column=5), cells=[TableCell(location=Location(line=124, column=7), value='context'), TableCell(location=Location(line=124, column=17), value='username'), TableCell(location=Location(line=124, column=28), value='host')], id='1032'), '1033': TableRow(location=Location(line=125, column=5), cells=[TableCell(location=Location(line=125, column=7), value='philadelphia'), TableCell(location=Location(line=125, column=24), value='flukeman'), TableCell(location=Location(line=125, column=37), value='the-host')], id='1033')}, pickles=[Pickle(id='1050', uri='file:features/9_mindwm_clipboard.feature', name='Prepare environment for ping tests', language='en', steps=[PickleStep(argument=None, ast_node_ids=['957'], id='1038', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['958'], id='1039', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['960', '973'], id='1040', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"philadelphia\"'), PickleStep(argument=None, ast_node_ids=['961', '973'], id='1041', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='clipboard')])])), ast_node_ids=['964', '973'], id='1042', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-philadelphia\" namespace'), PickleStep(argument=None, ast_node_ids=['965', '973'], id='1043', type=<Type.outcome: 'Outcome'>, text='statefulset \"philadelphia-neo4j\" in namespace \"context-philadelphia\" is in ready state'), PickleStep(argument=None, ast_node_ids=['966', '973'], id='1044', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"flukeman\" and connects it to the context \"philadelphia\"'), PickleStep(argument=None, ast_node_ids=['967', '973'], id='1045', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['968', '973'], id='1046', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"the-host\" and connects it to the user \"flukeman\"'), PickleStep(argument=None, ast_node_ids=['969', '973'], id='1047', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['970', '973'], id='1048', type=<Type.outcome: 'Outcome'>, text='NatsJetStreamChannel \"the-host-host-broker-kne-trigger\" is ready in \"user-flukeman\" namespace'), PickleStep(argument=None, ast_node_ids=['971', '973'], id='1049', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"')], tags=[PickleTag(name='@mindwm_clipboard', ast_node_id='1036'), PickleTag(name='@mindwm_test', ast_node_id='1037')], ast_node_ids=['975', '973']), Pickle(id='1061', uri='file:features/9_mindwm_clipboard.feature', name='Send clipboard to knative ping service', language='en', steps=[PickleStep(argument=None, ast_node_ids=['957'], id='1051', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['958'], id='1052', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['976', '987'], id='1053', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['977', '987'], id='1054', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"'), PickleStep(argument=None, ast_node_ids=['978', '987'], id='1055', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"'), PickleStep(argument=None, ast_node_ids=['979', '987'], id='1056', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.flukeman.the-host.clipboard\"'), PickleStep(argument=None, ast_node_ids=['980', '987'], id='1057', type=<Type.action: 'Action'>, text='sets cloudevent header \"traceparent\" to \"00-6ef92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"uuid\": \"6ca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325473,\\n  \"data\": \"clipboard primary data\"\\n} '), data_table=None), ast_node_ids=['981', '987'], id='1058', type=<Type.action: 'Action'>, text='sends cloudevent to knative service \"clipboard\" in \"context-philadelphia\" namespace'), PickleStep(argument=None, ast_node_ids=['982', '987'], id='1059', type=<Type.outcome: 'Outcome'>, text='the response http code should be \"200\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='clipboard-00001-deployment')])])), ast_node_ids=['985', '987'], id='1060', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-philadelphia\" namespace')], tags=[PickleTag(name='@mindwm_clipboard', ast_node_id='1036'), PickleTag(name='@mindwm_test', ast_node_id='1037')], ast_node_ids=['989', '987']), Pickle(id='1076', uri='file:features/9_mindwm_clipboard.feature', name='Send ping directly to function broker-ingress.knative-eventing/context-philadelphia/context-broker', language='en', steps=[PickleStep(argument=None, ast_node_ids=['957'], id='1062', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['958'], id='1063', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['990', '1009'], id='1064', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['991', '1009'], id='1065', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['992', '1009'], id='1066', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"'), PickleStep(argument=None, ast_node_ids=['993', '1009'], id='1067', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"'), PickleStep(argument=None, ast_node_ids=['994', '1009'], id='1068', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.flukeman.the-host.clipboard\"'), PickleStep(argument=None, ast_node_ids=['995', '1009'], id='1069', type=<Type.action: 'Action'>, text='sets cloudevent header \"traceparent\" to \"00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"uuid\": \"4bca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard secondary data\"\\n} '), data_table=None), ast_node_ids=['996', '1009'], id='1070', type=<Type.action: 'Action'>, text='sends cloudevent to \"broker-ingress.knative-eventing/context-philadelphia/context-broker\"'), PickleStep(argument=None, ast_node_ids=['997', '1009'], id='1071', type=<Type.outcome: 'Outcome'>, text='the response http code should be \"202\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='clipboard-00001-deployment')])])), ast_node_ids=['1000', '1009'], id='1072', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-philadelphia\" namespace'), PickleStep(argument=None, ast_node_ids=['1001', '1009'], id='1073', type=<Type.outcome: 'Outcome'>, text='the trace with \"00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00\" should appear in TraceQL'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='service name')]), PickleTableRow(cells=[PickleTableCell(value='broker-ingress.knative-eventing')]), PickleTableRow(cells=[PickleTableCell(value='unknown_service')]), PickleTableRow(cells=[PickleTableCell(value='jetstream-ch-dispatcher')])])), ast_node_ids=['1006', '1009'], id='1074', type=<Type.outcome: 'Outcome'>, text='the trace should contains'), PickleStep(argument=None, ast_node_ids=['1007', '1009'], id='1075', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-flukeman.the-host-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_clipboard', ast_node_id='1036'), PickleTag(name='@mindwm_test', ast_node_id='1037')], ast_node_ids=['1012', '1009']), Pickle(id='1091', uri='file:features/9_mindwm_clipboard.feature', name='Send ping directly to function broker-ingress.knative-eventing/user-flukeman/user-broker', language='en', steps=[PickleStep(argument=None, ast_node_ids=['957'], id='1077', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['958'], id='1078', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['990', '1010'], id='1079', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['991', '1010'], id='1080', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['992', '1010'], id='1081', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"'), PickleStep(argument=None, ast_node_ids=['993', '1010'], id='1082', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"'), PickleStep(argument=None, ast_node_ids=['994', '1010'], id='1083', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.flukeman.the-host.clipboard\"'), PickleStep(argument=None, ast_node_ids=['995', '1010'], id='1084', type=<Type.action: 'Action'>, text='sets cloudevent header \"traceparent\" to \"00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"uuid\": \"4bca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard secondary data\"\\n} '), data_table=None), ast_node_ids=['996', '1010'], id='1085', type=<Type.action: 'Action'>, text='sends cloudevent to \"broker-ingress.knative-eventing/user-flukeman/user-broker\"'), PickleStep(argument=None, ast_node_ids=['997', '1010'], id='1086', type=<Type.outcome: 'Outcome'>, text='the response http code should be \"202\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='clipboard-00001-deployment')])])), ast_node_ids=['1000', '1010'], id='1087', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-philadelphia\" namespace'), PickleStep(argument=None, ast_node_ids=['1001', '1010'], id='1088', type=<Type.outcome: 'Outcome'>, text='the trace with \"00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00\" should appear in TraceQL'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='service name')]), PickleTableRow(cells=[PickleTableCell(value='broker-ingress.knative-eventing')]), PickleTableRow(cells=[PickleTableCell(value='unknown_service')]), PickleTableRow(cells=[PickleTableCell(value='jetstream-ch-dispatcher')])])), ast_node_ids=['1006', '1010'], id='1089', type=<Type.outcome: 'Outcome'>, text='the trace should contains'), PickleStep(argument=None, ast_node_ids=['1007', '1010'], id='1090', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-flukeman.the-host-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_clipboard', ast_node_id='1036'), PickleTag(name='@mindwm_test', ast_node_id='1037')], ast_node_ids=['1012', '1010']), Pickle(id='1103', uri='file:features/9_mindwm_clipboard.feature', name='Send ping via nats', language='en', steps=[PickleStep(argument=None, ast_node_ids=['957'], id='1092', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['958'], id='1093', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['1013', '1025'], id='1094', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['1014', '1025'], id='1095', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-id\" to \"09fb195c-c419-6d62-15e0-51b6ee990922\"'), PickleStep(argument=None, ast_node_ids=['1015', '1025'], id='1096', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"'), PickleStep(argument=None, ast_node_ids=['1016', '1025'], id='1097', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"'), PickleStep(argument=None, ast_node_ids=['1017', '1025'], id='1098', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.flukeman.the-host.clipboard\"'), PickleStep(argument=None, ast_node_ids=['1018', '1025'], id='1099', type=<Type.action: 'Action'>, text='sets cloudevent header \"traceparent\" to \"00-8af92f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"uuid\": \"3bca8a133-aba6-4f7f-ab95-242802fcac3c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard #3 data\"\\n} '), data_table=None), ast_node_ids=['1019', '1025'], id='1100', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.flukeman.the-host.clipboard\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='clipboard-00001-deployment')])])), ast_node_ids=['1022', '1025'], id='1101', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-philadelphia\" namespace'), PickleStep(argument=None, ast_node_ids=['1023', '1025'], id='1102', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-flukeman.the-host-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_clipboard', ast_node_id='1036'), PickleTag(name='@mindwm_test', ast_node_id='1037')], ast_node_ids=['1027', '1025']), Pickle(id='1110', uri='file:features/9_mindwm_clipboard.feature', name='Cleanup flukeman@the-host in philadelphia', language='en', steps=[PickleStep(argument=None, ast_node_ids=['957'], id='1104', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['958'], id='1105', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['1028', '1033'], id='1106', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"the-host\"'), PickleStep(argument=None, ast_node_ids=['1029', '1033'], id='1107', type=<Type.outcome: 'Outcome'>, text='the host \"the-host\" should be deleted'), PickleStep(argument=None, ast_node_ids=['1030', '1033'], id='1108', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"flukeman\"'), PickleStep(argument=None, ast_node_ids=['1031', '1033'], id='1109', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"philadelphia\"')], tags=[PickleTag(name='@mindwm_clipboard', ast_node_id='1036'), PickleTag(name='@mindwm_test', ast_node_id='1037')], ast_node_ids=['1035', '1033'])])","Source(uri='file:features/9_mindwm_clipboard.feature', data='@mindwm_clipboard\\n@mindwm_test\\nFeature: MindWM clipboard EDA test\\n  Background:\\n    Given A MindWM environment\\n    Then all nodes in Kubernetes are ready\\n\\n  Scenario: Prepare environment for ping tests \\n    When God creates a MindWM context with the name \"<context>\"\\n    Then the context should be ready and operable\\n    And the following knative services are in a ready state in the \"context-<context>\" namespace\\n      | Knative service name |\\n      | clipboard            |\\n    And statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state\\n\\n    When God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"\\n    Then the user resource should be ready and operable\\n\\n    When God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"\\n    Then the host resource should be ready and operable\\n    And NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace\\n\\n    When God starts reading message from NATS topic \">\"\\n\\n    Examples:\\n     | context | username   | host      |\\n     | philadelphia   | flukeman   | the-host  | \\n\\n  Scenario: Send clipboard to knative ping service\\n    When God creates a new cloudevent \\n      And sets cloudevent header \"ce-subject\" to \"clipboard\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"\\n      And sets cloudevent header \"traceparent\" to \"<traceparent>\"\\n      And sends cloudevent to knative service \"clipboard\" in \"context-<context>\" namespace\\n      \"\"\"\\n      {\\n        \"uuid\": \"6ca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n        \"time\": 1728325473,\\n        \"data\": \"clipboard primary data\"\\n      } \\n      \"\"\"\\n      Then the response http code should be \"200\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name       |\\n      | clipboard-00001-deployment |\\n\\n    Examples:\\n     | context | username   | host      | traceparent                                             |\\n     | philadelphia   | flukeman   | the-host  | 00-6ef92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00 |\\n\\n  Scenario: Send ping directly to function <endpoint>\\n    When God creates a new cloudevent \\n      And God starts reading message from NATS topic \">\"\\n      And sets cloudevent header \"ce-subject\" to \"clipboard\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"\\n      And sets cloudevent header \"traceparent\" to \"<traceparent>\"\\n      And sends cloudevent to \"<endpoint>\"\\n      \"\"\"\\n      {\\n        \"uuid\": \"4bca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n        \"time\": 1728325474,\\n        \"data\": \"clipboard secondary data\"\\n      } \\n      \"\"\"\\n    Then the response http code should be \"202\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name            |\\n      | clipboard-00001-deployment |\\n    Then the trace with \"<traceparent>\" should appear in TraceQL\\n    And the trace should contains \\n      | service name                    | \\n      | broker-ingress.knative-eventing | \\n      | unknown_service                 | \\n      | jetstream-ch-dispatcher         |\\n    And a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"\\n\\n    Examples:\\n     | context | username   | host      | endpoint | traceparent \\t\\t\\t\\t\\t         |\\n     | philadelphia   | flukeman   | the-host  | broker-ingress.knative-eventing/context-philadelphia/context-broker   | 00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00 |\\n     | philadelphia   | flukeman   | the-host  | broker-ingress.knative-eventing/user-flukeman/user-broker | 00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00 |\\n\\n\\n  Scenario: Send ping via nats\\n    When God creates a new cloudevent \\n      And sets cloudevent header \"ce-id\" to \"<uuid>\"\\n      And sets cloudevent header \"ce-subject\" to \"clipboard\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"\\n      And sets cloudevent header \"traceparent\" to \"<traceparent>\"\\n      And sends cloudevent to nats topic \"org.mindwm.<username>.<host>.clipboard\"\\n      \"\"\"\\n      {\\n        \"uuid\": \"3bca8a133-aba6-4f7f-ab95-242802fcac3c\",\\n        \"time\": 1728325474,\\n        \"data\": \"clipboard #3 data\"\\n      } \\n      \"\"\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name       |\\n      | clipboard-00001-deployment |\\n\\n    And a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"\\n\\n\\n    Examples:\\n     | context | username   | host      | uuid                                  | traceparent |\\n     | philadelphia   | flukeman   | the-host  | 09fb195c-c419-6d62-15e0-51b6ee990922 | 00-8af92f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00 |\\n\\n\\n  Scenario: Cleanup <username>@<host> in <context>\\n    When God deletes the MindWM host resource \"<host>\"\\n    Then the host \"<host>\" should be deleted\\n\\n    When God deletes the MindWM user resource \"<username>\"\\n\\n    When God deletes the MindWM context resource \"<context>\"\\n\\n    Examples:\\n    | context | username | host        | \\n    | philadelphia   | flukeman   | the-host         |\\n\\n', media_type='text/x.cucumber.gherkin+plain')","Pickle(id='1061', uri='file:features/9_mindwm_clipboard.feature', name='Send clipboard to knative ping service', language='en', steps=[PickleStep(argument=None, ast_node_ids=['957'], id='1051', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['958'], id='1052', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['976', '987'], id='1053', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['977', '987'], id='1054', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"'), PickleStep(argument=None, ast_node_ids=['978', '987'], id='1055', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"'), PickleStep(argument=None, ast_node_ids=['979', '987'], id='1056', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.flukeman.the-host.clipboard\"'), PickleStep(argument=None, ast_node_ids=['980', '987'], id='1057', type=<Type.action: 'Action'>, text='sets cloudevent header \"traceparent\" to \"00-6ef92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"uuid\": \"6ca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325473,\\n  \"data\": \"clipboard primary data\"\\n} '), data_table=None), ast_node_ids=['981', '987'], id='1058', type=<Type.action: 'Action'>, text='sends cloudevent to knative service \"clipboard\" in \"context-philadelphia\" namespace'), PickleStep(argument=None, ast_node_ids=['982', '987'], id='1059', type=<Type.outcome: 'Outcome'>, text='the response http code should be \"200\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='clipboard-00001-deployment')])])), ast_node_ids=['985', '987'], id='1060', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-philadelphia\" namespace')], tags=[PickleTag(name='@mindwm_clipboard', ast_node_id='1036'), PickleTag(name='@mindwm_test', ast_node_id='1037')], ast_node_ids=['989', '987'])"],"tags":["scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/9_mindwm_clipboard.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=<FeaturePathType.PATH: 'path'>, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())","pytest_bdd_scenario","@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')","mindwm_clipboard","mindwm_test","namespace(create=False, name='default')"]},{"name":"test_scenarios[file:features/7_mindwm_two_users_one_context.feature-MindWM two users one context function test-Create tengu and connects it to tokyo[table_rows:[line: 28]]]","uid":"3eb8cb741144e285","parentUid":"3961740595044ffd97a03e46799bfc30","status":"passed","time":{"start":1728404509989,"stop":1728404521165,"duration":11176},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["Feature(gherkin_document=GherkinDocument(uri='file:features/7_mindwm_two_users_one_context.feature', feature=Feature(location=Location(line=3, column=1), tags=[Tag(location=Location(line=1, column=1), name='@mindwm_two_users_one_context', id='801'), Tag(location=Location(line=2, column=1), name='@mindwm_test', id='802')], language='en', keyword='Feature', name='MindWM two users one context function test', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='736'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='737')], id='738'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Create context <context>', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='739'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='740'), Step(location=Location(line=12, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=13, column=7), rows=[TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='Knative service name')], id='741'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='iocontext')], id='742'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='pong')], id='743'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='kafka-cdc')], id='744')]), id='745'), Step(location=Location(line=17, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='746')], examples=[Examples(location=Location(line=18, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=19, column=5), cells=[TableCell(location=Location(line=19, column=7), value='context')], id='747'), table_body=[TableRow(location=Location(line=20, column=5), cells=[TableCell(location=Location(line=20, column=7), value='tokyo')], id='748')], id='749')], id='750')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=22, column=3), tags=[], keyword='Scenario', name='Create <username> and connects it to <context>', description='', steps=[Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='751'), Step(location=Location(line=24, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='752')], examples=[Examples(location=Location(line=25, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=26, column=5), cells=[TableCell(location=Location(line=26, column=7), value='context'), TableCell(location=Location(line=26, column=17), value='username')], id='753'), table_body=[TableRow(location=Location(line=27, column=5), cells=[TableCell(location=Location(line=27, column=7), value='tokyo'), TableCell(location=Location(line=27, column=17), value='godzilla')], id='754'), TableRow(location=Location(line=28, column=5), cells=[TableCell(location=Location(line=28, column=7), value='tokyo'), TableCell(location=Location(line=28, column=17), value='tengu')], id='755')], id='756')], id='757')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=29, column=3), tags=[], keyword='Scenario', name='Create <host> resource and connects it to <username> user', description='', steps=[Step(location=Location(line=30, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='758'), Step(location=Location(line=31, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='759')], examples=[Examples(location=Location(line=33, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='username'), TableCell(location=Location(line=34, column=18), value='host')], id='760'), table_body=[TableRow(location=Location(line=35, column=5), cells=[TableCell(location=Location(line=35, column=7), value='godzilla'), TableCell(location=Location(line=35, column=18), value='laptop')], id='761'), TableRow(location=Location(line=36, column=5), cells=[TableCell(location=Location(line=36, column=7), value='tengu'), TableCell(location=Location(line=36, column=18), value='tablet')], id='762')], id='763')], id='764')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=38, column=3), tags=[], keyword='Scenario', name='Send iodocument via nats host: <host>, user: <username> and check that second user received graph update', description='', steps=[Step(location=Location(line=39, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='765'), Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='766'), Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='767'), Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='768'), Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=None, data_table=None, id='769'), Step(location=Location(line=44, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=DocString(location=Location(line=45, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='770'), Step(location=Location(line=54, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=55, column=7), rows=[TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='Deployment name')], id='771'), TableRow(location=Location(line=56, column=7), cells=[TableCell(location=Location(line=56, column=9), value='iocontext-00001-deployment')], id='772'), TableRow(location=Location(line=57, column=7), cells=[TableCell(location=Location(line=57, column=9), value='kafka-cdc-00001-deployment')], id='773')]), id='774'), Step(location=Location(line=59, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<dst_user>.<dst_host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='775')], examples=[Examples(location=Location(line=61, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=62, column=5), cells=[TableCell(location=Location(line=62, column=7), value='context'), TableCell(location=Location(line=62, column=17), value='src_user'), TableCell(location=Location(line=62, column=28), value='src_host'), TableCell(location=Location(line=62, column=39), value='dst_user'), TableCell(location=Location(line=62, column=50), value='dst_host')], id='776'), table_body=[TableRow(location=Location(line=63, column=5), cells=[TableCell(location=Location(line=63, column=7), value='tokyo'), TableCell(location=Location(line=63, column=17), value='godzilla'), TableCell(location=Location(line=63, column=28), value='laptop'), TableCell(location=Location(line=63, column=39), value='tengu'), TableCell(location=Location(line=63, column=50), value='tablet')], id='777'), TableRow(location=Location(line=64, column=5), cells=[TableCell(location=Location(line=64, column=7), value='tokyo'), TableCell(location=Location(line=64, column=17), value='tengu'), TableCell(location=Location(line=64, column=28), value='tablet'), TableCell(location=Location(line=64, column=39), value='godzilla'), TableCell(location=Location(line=64, column=50), value='laptop')], id='778')], id='779')], id='780')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=67, column=3), tags=[], keyword='Scenario', name='Cleanup <host> host for <username> username', description='', steps=[Step(location=Location(line=69, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='781'), Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='782')], examples=[Examples(location=Location(line=72, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=73, column=5), cells=[TableCell(location=Location(line=73, column=7), value='username'), TableCell(location=Location(line=73, column=18), value='host')], id='783'), table_body=[TableRow(location=Location(line=74, column=5), cells=[TableCell(location=Location(line=74, column=7), value='godzilla'), TableCell(location=Location(line=74, column=18), value='laptop')], id='784'), TableRow(location=Location(line=75, column=5), cells=[TableCell(location=Location(line=75, column=7), value='tengu'), TableCell(location=Location(line=75, column=18), value='tablet')], id='785')], id='786')], id='787')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=77, column=3), tags=[], keyword='Scenario', name='Cleanup <username> username', description='', steps=[Step(location=Location(line=78, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='788'), Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='789')], examples=[Examples(location=Location(line=81, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='username')], id='790'), table_body=[TableRow(location=Location(line=83, column=5), cells=[TableCell(location=Location(line=83, column=7), value='godzilla')], id='791'), TableRow(location=Location(line=84, column=5), cells=[TableCell(location=Location(line=84, column=7), value='tengu')], id='792')], id='793')], id='794')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=86, column=3), tags=[], keyword='Scenario', name='Cleanup <context> context', description='', steps=[Step(location=Location(line=87, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='795'), Step(location=Location(line=88, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='796')], examples=[Examples(location=Location(line=90, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=91, column=5), cells=[TableCell(location=Location(line=91, column=7), value='context')], id='797'), table_body=[TableRow(location=Location(line=92, column=5), cells=[TableCell(location=Location(line=92, column=7), value='tokyo')], id='798')], id='799')], id='800'))]), comments=[]), uri='file:features/7_mindwm_two_users_one_context.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/7_mindwm_two_users_one_context.feature', registry={'801': Tag(location=Location(line=1, column=1), name='@mindwm_two_users_one_context', id='801'), '802': Tag(location=Location(line=2, column=1), name='@mindwm_test', id='802'), '738': Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='736'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='737')], id='738'), '736': Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='736'), '737': Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='737'), '750': Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Create context <context>', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='739'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='740'), Step(location=Location(line=12, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=13, column=7), rows=[TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='Knative service name')], id='741'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='iocontext')], id='742'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='pong')], id='743'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='kafka-cdc')], id='744')]), id='745'), Step(location=Location(line=17, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='746')], examples=[Examples(location=Location(line=18, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=19, column=5), cells=[TableCell(location=Location(line=19, column=7), value='context')], id='747'), table_body=[TableRow(location=Location(line=20, column=5), cells=[TableCell(location=Location(line=20, column=7), value='tokyo')], id='748')], id='749')], id='750'), '739': Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='739'), '740': Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='740'), '745': Step(location=Location(line=12, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=13, column=7), rows=[TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='Knative service name')], id='741'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='iocontext')], id='742'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='pong')], id='743'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='kafka-cdc')], id='744')]), id='745'), '746': Step(location=Location(line=17, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='746'), '749': Examples(location=Location(line=18, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=19, column=5), cells=[TableCell(location=Location(line=19, column=7), value='context')], id='747'), table_body=[TableRow(location=Location(line=20, column=5), cells=[TableCell(location=Location(line=20, column=7), value='tokyo')], id='748')], id='749'), '747': TableRow(location=Location(line=19, column=5), cells=[TableCell(location=Location(line=19, column=7), value='context')], id='747'), '748': TableRow(location=Location(line=20, column=5), cells=[TableCell(location=Location(line=20, column=7), value='tokyo')], id='748'), '757': Scenario(location=Location(line=22, column=3), tags=[], keyword='Scenario', name='Create <username> and connects it to <context>', description='', steps=[Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='751'), Step(location=Location(line=24, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='752')], examples=[Examples(location=Location(line=25, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=26, column=5), cells=[TableCell(location=Location(line=26, column=7), value='context'), TableCell(location=Location(line=26, column=17), value='username')], id='753'), table_body=[TableRow(location=Location(line=27, column=5), cells=[TableCell(location=Location(line=27, column=7), value='tokyo'), TableCell(location=Location(line=27, column=17), value='godzilla')], id='754'), TableRow(location=Location(line=28, column=5), cells=[TableCell(location=Location(line=28, column=7), value='tokyo'), TableCell(location=Location(line=28, column=17), value='tengu')], id='755')], id='756')], id='757'), '751': Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='751'), '752': Step(location=Location(line=24, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='752'), '756': Examples(location=Location(line=25, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=26, column=5), cells=[TableCell(location=Location(line=26, column=7), value='context'), TableCell(location=Location(line=26, column=17), value='username')], id='753'), table_body=[TableRow(location=Location(line=27, column=5), cells=[TableCell(location=Location(line=27, column=7), value='tokyo'), TableCell(location=Location(line=27, column=17), value='godzilla')], id='754'), TableRow(location=Location(line=28, column=5), cells=[TableCell(location=Location(line=28, column=7), value='tokyo'), TableCell(location=Location(line=28, column=17), value='tengu')], id='755')], id='756'), '753': TableRow(location=Location(line=26, column=5), cells=[TableCell(location=Location(line=26, column=7), value='context'), TableCell(location=Location(line=26, column=17), value='username')], id='753'), '754': TableRow(location=Location(line=27, column=5), cells=[TableCell(location=Location(line=27, column=7), value='tokyo'), TableCell(location=Location(line=27, column=17), value='godzilla')], id='754'), '755': TableRow(location=Location(line=28, column=5), cells=[TableCell(location=Location(line=28, column=7), value='tokyo'), TableCell(location=Location(line=28, column=17), value='tengu')], id='755'), '764': Scenario(location=Location(line=29, column=3), tags=[], keyword='Scenario', name='Create <host> resource and connects it to <username> user', description='', steps=[Step(location=Location(line=30, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='758'), Step(location=Location(line=31, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='759')], examples=[Examples(location=Location(line=33, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='username'), TableCell(location=Location(line=34, column=18), value='host')], id='760'), table_body=[TableRow(location=Location(line=35, column=5), cells=[TableCell(location=Location(line=35, column=7), value='godzilla'), TableCell(location=Location(line=35, column=18), value='laptop')], id='761'), TableRow(location=Location(line=36, column=5), cells=[TableCell(location=Location(line=36, column=7), value='tengu'), TableCell(location=Location(line=36, column=18), value='tablet')], id='762')], id='763')], id='764'), '758': Step(location=Location(line=30, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='758'), '759': Step(location=Location(line=31, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='759'), '763': Examples(location=Location(line=33, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='username'), TableCell(location=Location(line=34, column=18), value='host')], id='760'), table_body=[TableRow(location=Location(line=35, column=5), cells=[TableCell(location=Location(line=35, column=7), value='godzilla'), TableCell(location=Location(line=35, column=18), value='laptop')], id='761'), TableRow(location=Location(line=36, column=5), cells=[TableCell(location=Location(line=36, column=7), value='tengu'), TableCell(location=Location(line=36, column=18), value='tablet')], id='762')], id='763'), '760': TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='username'), TableCell(location=Location(line=34, column=18), value='host')], id='760'), '761': TableRow(location=Location(line=35, column=5), cells=[TableCell(location=Location(line=35, column=7), value='godzilla'), TableCell(location=Location(line=35, column=18), value='laptop')], id='761'), '762': TableRow(location=Location(line=36, column=5), cells=[TableCell(location=Location(line=36, column=7), value='tengu'), TableCell(location=Location(line=36, column=18), value='tablet')], id='762'), '780': Scenario(location=Location(line=38, column=3), tags=[], keyword='Scenario', name='Send iodocument via nats host: <host>, user: <username> and check that second user received graph update', description='', steps=[Step(location=Location(line=39, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='765'), Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='766'), Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='767'), Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='768'), Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=None, data_table=None, id='769'), Step(location=Location(line=44, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=DocString(location=Location(line=45, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='770'), Step(location=Location(line=54, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=55, column=7), rows=[TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='Deployment name')], id='771'), TableRow(location=Location(line=56, column=7), cells=[TableCell(location=Location(line=56, column=9), value='iocontext-00001-deployment')], id='772'), TableRow(location=Location(line=57, column=7), cells=[TableCell(location=Location(line=57, column=9), value='kafka-cdc-00001-deployment')], id='773')]), id='774'), Step(location=Location(line=59, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<dst_user>.<dst_host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='775')], examples=[Examples(location=Location(line=61, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=62, column=5), cells=[TableCell(location=Location(line=62, column=7), value='context'), TableCell(location=Location(line=62, column=17), value='src_user'), TableCell(location=Location(line=62, column=28), value='src_host'), TableCell(location=Location(line=62, column=39), value='dst_user'), TableCell(location=Location(line=62, column=50), value='dst_host')], id='776'), table_body=[TableRow(location=Location(line=63, column=5), cells=[TableCell(location=Location(line=63, column=7), value='tokyo'), TableCell(location=Location(line=63, column=17), value='godzilla'), TableCell(location=Location(line=63, column=28), value='laptop'), TableCell(location=Location(line=63, column=39), value='tengu'), TableCell(location=Location(line=63, column=50), value='tablet')], id='777'), TableRow(location=Location(line=64, column=5), cells=[TableCell(location=Location(line=64, column=7), value='tokyo'), TableCell(location=Location(line=64, column=17), value='tengu'), TableCell(location=Location(line=64, column=28), value='tablet'), TableCell(location=Location(line=64, column=39), value='godzilla'), TableCell(location=Location(line=64, column=50), value='laptop')], id='778')], id='779')], id='780'), '765': Step(location=Location(line=39, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='765'), '766': Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='766'), '767': Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='767'), '768': Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='768'), '769': Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=None, data_table=None, id='769'), '770': Step(location=Location(line=44, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=DocString(location=Location(line=45, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='770'), '774': Step(location=Location(line=54, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=55, column=7), rows=[TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='Deployment name')], id='771'), TableRow(location=Location(line=56, column=7), cells=[TableCell(location=Location(line=56, column=9), value='iocontext-00001-deployment')], id='772'), TableRow(location=Location(line=57, column=7), cells=[TableCell(location=Location(line=57, column=9), value='kafka-cdc-00001-deployment')], id='773')]), id='774'), '775': Step(location=Location(line=59, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<dst_user>.<dst_host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='775'), '779': Examples(location=Location(line=61, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=62, column=5), cells=[TableCell(location=Location(line=62, column=7), value='context'), TableCell(location=Location(line=62, column=17), value='src_user'), TableCell(location=Location(line=62, column=28), value='src_host'), TableCell(location=Location(line=62, column=39), value='dst_user'), TableCell(location=Location(line=62, column=50), value='dst_host')], id='776'), table_body=[TableRow(location=Location(line=63, column=5), cells=[TableCell(location=Location(line=63, column=7), value='tokyo'), TableCell(location=Location(line=63, column=17), value='godzilla'), TableCell(location=Location(line=63, column=28), value='laptop'), TableCell(location=Location(line=63, column=39), value='tengu'), TableCell(location=Location(line=63, column=50), value='tablet')], id='777'), TableRow(location=Location(line=64, column=5), cells=[TableCell(location=Location(line=64, column=7), value='tokyo'), TableCell(location=Location(line=64, column=17), value='tengu'), TableCell(location=Location(line=64, column=28), value='tablet'), TableCell(location=Location(line=64, column=39), value='godzilla'), TableCell(location=Location(line=64, column=50), value='laptop')], id='778')], id='779'), '776': TableRow(location=Location(line=62, column=5), cells=[TableCell(location=Location(line=62, column=7), value='context'), TableCell(location=Location(line=62, column=17), value='src_user'), TableCell(location=Location(line=62, column=28), value='src_host'), TableCell(location=Location(line=62, column=39), value='dst_user'), TableCell(location=Location(line=62, column=50), value='dst_host')], id='776'), '777': TableRow(location=Location(line=63, column=5), cells=[TableCell(location=Location(line=63, column=7), value='tokyo'), TableCell(location=Location(line=63, column=17), value='godzilla'), TableCell(location=Location(line=63, column=28), value='laptop'), TableCell(location=Location(line=63, column=39), value='tengu'), TableCell(location=Location(line=63, column=50), value='tablet')], id='777'), '778': TableRow(location=Location(line=64, column=5), cells=[TableCell(location=Location(line=64, column=7), value='tokyo'), TableCell(location=Location(line=64, column=17), value='tengu'), TableCell(location=Location(line=64, column=28), value='tablet'), TableCell(location=Location(line=64, column=39), value='godzilla'), TableCell(location=Location(line=64, column=50), value='laptop')], id='778'), '787': Scenario(location=Location(line=67, column=3), tags=[], keyword='Scenario', name='Cleanup <host> host for <username> username', description='', steps=[Step(location=Location(line=69, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='781'), Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='782')], examples=[Examples(location=Location(line=72, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=73, column=5), cells=[TableCell(location=Location(line=73, column=7), value='username'), TableCell(location=Location(line=73, column=18), value='host')], id='783'), table_body=[TableRow(location=Location(line=74, column=5), cells=[TableCell(location=Location(line=74, column=7), value='godzilla'), TableCell(location=Location(line=74, column=18), value='laptop')], id='784'), TableRow(location=Location(line=75, column=5), cells=[TableCell(location=Location(line=75, column=7), value='tengu'), TableCell(location=Location(line=75, column=18), value='tablet')], id='785')], id='786')], id='787'), '781': Step(location=Location(line=69, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='781'), '782': Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='782'), '786': Examples(location=Location(line=72, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=73, column=5), cells=[TableCell(location=Location(line=73, column=7), value='username'), TableCell(location=Location(line=73, column=18), value='host')], id='783'), table_body=[TableRow(location=Location(line=74, column=5), cells=[TableCell(location=Location(line=74, column=7), value='godzilla'), TableCell(location=Location(line=74, column=18), value='laptop')], id='784'), TableRow(location=Location(line=75, column=5), cells=[TableCell(location=Location(line=75, column=7), value='tengu'), TableCell(location=Location(line=75, column=18), value='tablet')], id='785')], id='786'), '783': TableRow(location=Location(line=73, column=5), cells=[TableCell(location=Location(line=73, column=7), value='username'), TableCell(location=Location(line=73, column=18), value='host')], id='783'), '784': TableRow(location=Location(line=74, column=5), cells=[TableCell(location=Location(line=74, column=7), value='godzilla'), TableCell(location=Location(line=74, column=18), value='laptop')], id='784'), '785': TableRow(location=Location(line=75, column=5), cells=[TableCell(location=Location(line=75, column=7), value='tengu'), TableCell(location=Location(line=75, column=18), value='tablet')], id='785'), '794': Scenario(location=Location(line=77, column=3), tags=[], keyword='Scenario', name='Cleanup <username> username', description='', steps=[Step(location=Location(line=78, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='788'), Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='789')], examples=[Examples(location=Location(line=81, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='username')], id='790'), table_body=[TableRow(location=Location(line=83, column=5), cells=[TableCell(location=Location(line=83, column=7), value='godzilla')], id='791'), TableRow(location=Location(line=84, column=5), cells=[TableCell(location=Location(line=84, column=7), value='tengu')], id='792')], id='793')], id='794'), '788': Step(location=Location(line=78, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='788'), '789': Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='789'), '793': Examples(location=Location(line=81, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='username')], id='790'), table_body=[TableRow(location=Location(line=83, column=5), cells=[TableCell(location=Location(line=83, column=7), value='godzilla')], id='791'), TableRow(location=Location(line=84, column=5), cells=[TableCell(location=Location(line=84, column=7), value='tengu')], id='792')], id='793'), '790': TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='username')], id='790'), '791': TableRow(location=Location(line=83, column=5), cells=[TableCell(location=Location(line=83, column=7), value='godzilla')], id='791'), '792': TableRow(location=Location(line=84, column=5), cells=[TableCell(location=Location(line=84, column=7), value='tengu')], id='792'), '800': Scenario(location=Location(line=86, column=3), tags=[], keyword='Scenario', name='Cleanup <context> context', description='', steps=[Step(location=Location(line=87, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='795'), Step(location=Location(line=88, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='796')], examples=[Examples(location=Location(line=90, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=91, column=5), cells=[TableCell(location=Location(line=91, column=7), value='context')], id='797'), table_body=[TableRow(location=Location(line=92, column=5), cells=[TableCell(location=Location(line=92, column=7), value='tokyo')], id='798')], id='799')], id='800'), '795': Step(location=Location(line=87, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='795'), '796': Step(location=Location(line=88, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='796'), '799': Examples(location=Location(line=90, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=91, column=5), cells=[TableCell(location=Location(line=91, column=7), value='context')], id='797'), table_body=[TableRow(location=Location(line=92, column=5), cells=[TableCell(location=Location(line=92, column=7), value='tokyo')], id='798')], id='799'), '797': TableRow(location=Location(line=91, column=5), cells=[TableCell(location=Location(line=91, column=7), value='context')], id='797'), '798': TableRow(location=Location(line=92, column=5), cells=[TableCell(location=Location(line=92, column=7), value='tokyo')], id='798')}, pickles=[Pickle(id='809', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create context tokyo', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='803', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='804', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['739', '748'], id='805', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"tokyo\"'), PickleStep(argument=None, ast_node_ids=['740', '748'], id='806', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext')]), PickleTableRow(cells=[PickleTableCell(value='pong')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')])])), ast_node_ids=['745', '748'], id='807', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-tokyo\" namespace'), PickleStep(argument=None, ast_node_ids=['746', '748'], id='808', type=<Type.outcome: 'Outcome'>, text='statefulset \"tokyo-neo4j\" in namespace \"context-tokyo\" is in ready state')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['750', '748']), Pickle(id='814', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create godzilla and connects it to tokyo', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='810', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='811', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['751', '754'], id='812', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"godzilla\" and connects it to the context \"tokyo\"'), PickleStep(argument=None, ast_node_ids=['752', '754'], id='813', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['757', '754']), Pickle(id='819', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create tengu and connects it to tokyo', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='815', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='816', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['751', '755'], id='817', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"tengu\" and connects it to the context \"tokyo\"'), PickleStep(argument=None, ast_node_ids=['752', '755'], id='818', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['757', '755']), Pickle(id='824', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create laptop resource and connects it to godzilla user', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='820', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='821', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['758', '761'], id='822', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"laptop\" and connects it to the user \"godzilla\"'), PickleStep(argument=None, ast_node_ids=['759', '761'], id='823', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['764', '761']), Pickle(id='829', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create tablet resource and connects it to tengu user', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='825', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='826', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['758', '762'], id='827', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"tablet\" and connects it to the user \"tengu\"'), PickleStep(argument=None, ast_node_ids=['759', '762'], id='828', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['764', '762']), Pickle(id='840', uri='file:features/7_mindwm_two_users_one_context.feature', name='Send iodocument via nats host: <host>, user: <username> and check that second user received graph update', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='830', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='831', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['765', '777'], id='832', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['766', '777'], id='833', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['767', '777'], id='834', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"id\"'), PickleStep(argument=None, ast_node_ids=['768', '777'], id='835', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['769', '777'], id='836', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.godzilla.laptop.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['770', '777'], id='837', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.godzilla.laptop.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-00001-deployment')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-00001-deployment')])])), ast_node_ids=['774', '777'], id='838', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-tokyo\" namespace'), PickleStep(argument=None, ast_node_ids=['775', '777'], id='839', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-tengu.tablet-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['780', '777']), Pickle(id='851', uri='file:features/7_mindwm_two_users_one_context.feature', name='Send iodocument via nats host: <host>, user: <username> and check that second user received graph update', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='841', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='842', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['765', '778'], id='843', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['766', '778'], id='844', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['767', '778'], id='845', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"id\"'), PickleStep(argument=None, ast_node_ids=['768', '778'], id='846', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['769', '778'], id='847', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.tengu.tablet.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['770', '778'], id='848', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.tengu.tablet.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-00001-deployment')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-00001-deployment')])])), ast_node_ids=['774', '778'], id='849', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-tokyo\" namespace'), PickleStep(argument=None, ast_node_ids=['775', '778'], id='850', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-godzilla.laptop-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['780', '778']), Pickle(id='856', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup laptop host for godzilla username', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='852', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='853', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['781', '784'], id='854', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"laptop\"'), PickleStep(argument=None, ast_node_ids=['782', '784'], id='855', type=<Type.outcome: 'Outcome'>, text='the host \"laptop\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['787', '784']), Pickle(id='861', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup tablet host for tengu username', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='857', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='858', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['781', '785'], id='859', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"tablet\"'), PickleStep(argument=None, ast_node_ids=['782', '785'], id='860', type=<Type.outcome: 'Outcome'>, text='the host \"tablet\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['787', '785']), Pickle(id='866', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup godzilla username', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='862', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='863', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['788', '791'], id='864', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"godzilla\"'), PickleStep(argument=None, ast_node_ids=['789', '791'], id='865', type=<Type.outcome: 'Outcome'>, text='the user \"godzilla\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['794', '791']), Pickle(id='871', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup tengu username', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='867', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='868', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['788', '792'], id='869', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"tengu\"'), PickleStep(argument=None, ast_node_ids=['789', '792'], id='870', type=<Type.outcome: 'Outcome'>, text='the user \"tengu\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['794', '792']), Pickle(id='876', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup tokyo context', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='872', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='873', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['795', '798'], id='874', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"tokyo\"'), PickleStep(argument=None, ast_node_ids=['796', '798'], id='875', type=<Type.outcome: 'Outcome'>, text='the context \"tokyo\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['800', '798'])])","Source(uri='file:features/7_mindwm_two_users_one_context.feature', data='@mindwm_two_users_one_context\\n@mindwm_test\\nFeature: MindWM two users one context function test\\n  Background:\\n    Given A MindWM environment\\n    Then all nodes in Kubernetes are ready\\n\\n  Scenario: Create context <context>\\n    When God creates a MindWM context with the name \"<context>\"\\n    Then the context should be ready and operable\\n\\n    Then the following knative services are in a ready state in the \"context-<context>\" namespace\\n      | Knative service name |\\n      | iocontext            |\\n      | pong                 |\\n      | kafka-cdc            |\\n    And statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state\\n    Examples:\\n    | context | \\n    | tokyo   | \\n    \\n  Scenario: Create <username> and connects it to <context>\\n    When God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"\\n    Then the user resource should be ready and operable\\n    Examples:\\n    | context | username |\\n    | tokyo   | godzilla |\\n    | tokyo   | tengu    |\\n  Scenario: Create <host> resource and connects it to <username> user\\n    When God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"\\n    Then the host resource should be ready and operable\\n\\n    Examples: \\n    | username | host   |\\n    | godzilla | laptop | \\n    | tengu    | tablet | \\n\\n  Scenario: Send iodocument via nats host: <host>, user: <username> and check that second user received graph update\\n    When God creates a new cloudevent \\n      And God starts reading message from NATS topic \">\"\\n      And sets cloudevent header \"ce-subject\" to \"id\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"\\n      And sends cloudevent to nats topic \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"\\n      \"\"\"\\n      {\\n        \"input\": \"id\",\\n        \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n        \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n        \"type\": \"org.mindwm.v1.iodocument\"\\n      } \\n      \"\"\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name            |\\n      | iocontext-00001-deployment |\\n      | kafka-cdc-00001-deployment |\\n\\n    And a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<dst_user>.<dst_host>-host-broker-kne-trigger._knative\"\\n\\n    Examples:\\n    | context | src_user | src_host | dst_user | dst_host |  \\n    | tokyo   | godzilla | laptop   | tengu    | tablet   |\\n    | tokyo   | tengu    | tablet   | godzilla | laptop   | \\n\\n\\n  Scenario: Cleanup <host> host for <username> username\\n\\n    When God deletes the MindWM host resource \"<host>\"\\n    Then the host \"<host>\" should be deleted\\n\\n    Examples:\\n    | username | host   |\\n    | godzilla | laptop | \\n    | tengu    | tablet | \\n\\n  Scenario: Cleanup <username> username\\n    When God deletes the MindWM user resource \"<username>\"\\n    Then the user \"<username>\" should be deleted\\n\\n    Examples:\\n    | username | \\n    | godzilla |\\n    | tengu    | \\n\\n  Scenario: Cleanup <context> context\\n    When God deletes the MindWM context resource \"<context>\"\\n    Then the context \"<context>\" should be deleted\\n\\n    Examples:\\n    | context | \\n    | tokyo   |\\n', media_type='text/x.cucumber.gherkin+plain')","Pickle(id='819', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create tengu and connects it to tokyo', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='815', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='816', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['751', '755'], id='817', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"tengu\" and connects it to the context \"tokyo\"'), PickleStep(argument=None, ast_node_ids=['752', '755'], id='818', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['757', '755'])"],"tags":["scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/7_mindwm_two_users_one_context.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=<FeaturePathType.PATH: 'path'>, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())","pytest_bdd_scenario","@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')","mindwm_test","mindwm_two_users_one_context","namespace(create=False, name='default')"]},{"name":"test_scenarios[file:features/1_mindwm_crd.feature-MindWM Custom Resource Definition-Delete Resources and Verify Cleanup]","uid":"240cf6737ff5134d","parentUid":"3961740595044ffd97a03e46799bfc30","status":"passed","time":{"start":1728403448818,"stop":1728403451801,"duration":2983},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["Feature(gherkin_document=GherkinDocument(uri='file:features/1_mindwm_crd.feature', feature=Feature(location=Location(line=3, column=1), tags=[Tag(location=Location(line=1, column=1), name='@mindwm_crd', id='183'), Tag(location=Location(line=2, column=1), name='@mindwm_test', id='184')], language='en', keyword='Feature', name='MindWM Custom Resource Definition', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=5, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=6, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='165')], id='166'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Create Context', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"xxx3\"', doc_string=None, data_table=None, id='167'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='168')], examples=[], id='169')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=12, column=3), tags=[], keyword='Scenario', name='Create User', description='', steps=[Step(location=Location(line=13, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"alice\" and connects it to the context \"xxx3\"', doc_string=None, data_table=None, id='170'), Step(location=Location(line=14, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='171')], examples=[], id='172')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=16, column=3), tags=[], keyword='Scenario', name='Create Host', description='', steps=[Step(location=Location(line=17, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"laptop\" and connects it to the user \"alice\"', doc_string=None, data_table=None, id='173'), Step(location=Location(line=18, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='174')], examples=[], id='175')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=20, column=3), tags=[], keyword='Scenario', name='Delete Resources and Verify Cleanup', description='', steps=[Step(location=Location(line=21, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"laptop\"', doc_string=None, data_table=None, id='176'), Step(location=Location(line=22, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"laptop\" should be deleted', doc_string=None, data_table=None, id='177'), Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"alice\"', doc_string=None, data_table=None, id='178'), Step(location=Location(line=24, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"alice\" should be deleted', doc_string=None, data_table=None, id='179'), Step(location=Location(line=25, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"xxx3\"', doc_string=None, data_table=None, id='180'), Step(location=Location(line=26, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"xxx3\" should be deleted', doc_string=None, data_table=None, id='181')], examples=[], id='182'))]), comments=[]), uri='file:features/1_mindwm_crd.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/1_mindwm_crd.feature', registry={'183': Tag(location=Location(line=1, column=1), name='@mindwm_crd', id='183'), '184': Tag(location=Location(line=2, column=1), name='@mindwm_test', id='184'), '166': Background(location=Location(line=5, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=6, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='165')], id='166'), '165': Step(location=Location(line=6, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='165'), '169': Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Create Context', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"xxx3\"', doc_string=None, data_table=None, id='167'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='168')], examples=[], id='169'), '167': Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"xxx3\"', doc_string=None, data_table=None, id='167'), '168': Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='168'), '172': Scenario(location=Location(line=12, column=3), tags=[], keyword='Scenario', name='Create User', description='', steps=[Step(location=Location(line=13, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"alice\" and connects it to the context \"xxx3\"', doc_string=None, data_table=None, id='170'), Step(location=Location(line=14, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='171')], examples=[], id='172'), '170': Step(location=Location(line=13, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"alice\" and connects it to the context \"xxx3\"', doc_string=None, data_table=None, id='170'), '171': Step(location=Location(line=14, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='171'), '175': Scenario(location=Location(line=16, column=3), tags=[], keyword='Scenario', name='Create Host', description='', steps=[Step(location=Location(line=17, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"laptop\" and connects it to the user \"alice\"', doc_string=None, data_table=None, id='173'), Step(location=Location(line=18, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='174')], examples=[], id='175'), '173': Step(location=Location(line=17, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"laptop\" and connects it to the user \"alice\"', doc_string=None, data_table=None, id='173'), '174': Step(location=Location(line=18, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='174'), '182': Scenario(location=Location(line=20, column=3), tags=[], keyword='Scenario', name='Delete Resources and Verify Cleanup', description='', steps=[Step(location=Location(line=21, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"laptop\"', doc_string=None, data_table=None, id='176'), Step(location=Location(line=22, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"laptop\" should be deleted', doc_string=None, data_table=None, id='177'), Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"alice\"', doc_string=None, data_table=None, id='178'), Step(location=Location(line=24, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"alice\" should be deleted', doc_string=None, data_table=None, id='179'), Step(location=Location(line=25, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"xxx3\"', doc_string=None, data_table=None, id='180'), Step(location=Location(line=26, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"xxx3\" should be deleted', doc_string=None, data_table=None, id='181')], examples=[], id='182'), '176': Step(location=Location(line=21, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"laptop\"', doc_string=None, data_table=None, id='176'), '177': Step(location=Location(line=22, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"laptop\" should be deleted', doc_string=None, data_table=None, id='177'), '178': Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"alice\"', doc_string=None, data_table=None, id='178'), '179': Step(location=Location(line=24, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"alice\" should be deleted', doc_string=None, data_table=None, id='179'), '180': Step(location=Location(line=25, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"xxx3\"', doc_string=None, data_table=None, id='180'), '181': Step(location=Location(line=26, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"xxx3\" should be deleted', doc_string=None, data_table=None, id='181')}, pickles=[Pickle(id='188', uri='file:features/1_mindwm_crd.feature', name='Create Context', language='en', steps=[PickleStep(argument=None, ast_node_ids=['165'], id='185', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['167'], id='186', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"xxx3\"'), PickleStep(argument=None, ast_node_ids=['168'], id='187', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable')], tags=[PickleTag(name='@mindwm_crd', ast_node_id='183'), PickleTag(name='@mindwm_test', ast_node_id='184')], ast_node_ids=['169']), Pickle(id='192', uri='file:features/1_mindwm_crd.feature', name='Create User', language='en', steps=[PickleStep(argument=None, ast_node_ids=['165'], id='189', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['170'], id='190', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"alice\" and connects it to the context \"xxx3\"'), PickleStep(argument=None, ast_node_ids=['171'], id='191', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable')], tags=[PickleTag(name='@mindwm_crd', ast_node_id='183'), PickleTag(name='@mindwm_test', ast_node_id='184')], ast_node_ids=['172']), Pickle(id='196', uri='file:features/1_mindwm_crd.feature', name='Create Host', language='en', steps=[PickleStep(argument=None, ast_node_ids=['165'], id='193', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['173'], id='194', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"laptop\" and connects it to the user \"alice\"'), PickleStep(argument=None, ast_node_ids=['174'], id='195', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable')], tags=[PickleTag(name='@mindwm_crd', ast_node_id='183'), PickleTag(name='@mindwm_test', ast_node_id='184')], ast_node_ids=['175']), Pickle(id='204', uri='file:features/1_mindwm_crd.feature', name='Delete Resources and Verify Cleanup', language='en', steps=[PickleStep(argument=None, ast_node_ids=['165'], id='197', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['176'], id='198', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"laptop\"'), PickleStep(argument=None, ast_node_ids=['177'], id='199', type=<Type.outcome: 'Outcome'>, text='the host \"laptop\" should be deleted'), PickleStep(argument=None, ast_node_ids=['178'], id='200', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"alice\"'), PickleStep(argument=None, ast_node_ids=['179'], id='201', type=<Type.outcome: 'Outcome'>, text='the user \"alice\" should be deleted'), PickleStep(argument=None, ast_node_ids=['180'], id='202', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"xxx3\"'), PickleStep(argument=None, ast_node_ids=['181'], id='203', type=<Type.outcome: 'Outcome'>, text='the context \"xxx3\" should be deleted')], tags=[PickleTag(name='@mindwm_crd', ast_node_id='183'), PickleTag(name='@mindwm_test', ast_node_id='184')], ast_node_ids=['182'])])","Source(uri='file:features/1_mindwm_crd.feature', data='@mindwm_crd\\n@mindwm_test\\nFeature: MindWM Custom Resource Definition\\n\\n  Background:\\n    Given a MindWM environment\\n    \\n  Scenario: Create Context \\n    When God creates a MindWM context with the name \"xxx3\"\\n    Then the context should be ready and operable\\n\\n  Scenario: Create User \\n    When God creates a MindWM user resource with the name \"alice\" and connects it to the context \"xxx3\"\\n    Then the user resource should be ready and operable\\n\\n  Scenario: Create Host\\n    When God creates a MindWM host resource with the name \"laptop\" and connects it to the user \"alice\"\\n    Then the host resource should be ready and operable\\n\\n  Scenario: Delete Resources and Verify Cleanup\\n    When God deletes the MindWM host resource \"laptop\"\\n    Then the host \"laptop\" should be deleted\\n    When God deletes the MindWM user resource \"alice\"\\n    Then the user \"alice\" should be deleted\\n    When God deletes the MindWM context resource \"xxx3\"\\n    Then the context \"xxx3\" should be deleted\\n   \\t \\n', media_type='text/x.cucumber.gherkin+plain')","Pickle(id='204', uri='file:features/1_mindwm_crd.feature', name='Delete Resources and Verify Cleanup', language='en', steps=[PickleStep(argument=None, ast_node_ids=['165'], id='197', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['176'], id='198', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"laptop\"'), PickleStep(argument=None, ast_node_ids=['177'], id='199', type=<Type.outcome: 'Outcome'>, text='the host \"laptop\" should be deleted'), PickleStep(argument=None, ast_node_ids=['178'], id='200', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"alice\"'), PickleStep(argument=None, ast_node_ids=['179'], id='201', type=<Type.outcome: 'Outcome'>, text='the user \"alice\" should be deleted'), PickleStep(argument=None, ast_node_ids=['180'], id='202', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"xxx3\"'), PickleStep(argument=None, ast_node_ids=['181'], id='203', type=<Type.outcome: 'Outcome'>, text='the context \"xxx3\" should be deleted')], tags=[PickleTag(name='@mindwm_crd', ast_node_id='183'), PickleTag(name='@mindwm_test', ast_node_id='184')], ast_node_ids=['182'])"],"tags":["pytest_bdd_scenario","@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')","mindwm_crd","mindwm_test","scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/1_mindwm_crd.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=<FeaturePathType.PATH: 'path'>, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())","namespace(create=False, name='default')"]},{"name":"test_scenarios[file:features/7_mindwm_two_users_one_context.feature-MindWM two users one context function test-Cleanup laptop host for godzilla username[table_rows:[line: 74]]]","uid":"9643924004c8595d","parentUid":"3961740595044ffd97a03e46799bfc30","status":"passed","time":{"start":1728404580438,"stop":1728404580540,"duration":102},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["Feature(gherkin_document=GherkinDocument(uri='file:features/7_mindwm_two_users_one_context.feature', feature=Feature(location=Location(line=3, column=1), tags=[Tag(location=Location(line=1, column=1), name='@mindwm_two_users_one_context', id='801'), Tag(location=Location(line=2, column=1), name='@mindwm_test', id='802')], language='en', keyword='Feature', name='MindWM two users one context function test', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='736'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='737')], id='738'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Create context <context>', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='739'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='740'), Step(location=Location(line=12, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=13, column=7), rows=[TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='Knative service name')], id='741'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='iocontext')], id='742'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='pong')], id='743'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='kafka-cdc')], id='744')]), id='745'), Step(location=Location(line=17, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='746')], examples=[Examples(location=Location(line=18, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=19, column=5), cells=[TableCell(location=Location(line=19, column=7), value='context')], id='747'), table_body=[TableRow(location=Location(line=20, column=5), cells=[TableCell(location=Location(line=20, column=7), value='tokyo')], id='748')], id='749')], id='750')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=22, column=3), tags=[], keyword='Scenario', name='Create <username> and connects it to <context>', description='', steps=[Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='751'), Step(location=Location(line=24, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='752')], examples=[Examples(location=Location(line=25, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=26, column=5), cells=[TableCell(location=Location(line=26, column=7), value='context'), TableCell(location=Location(line=26, column=17), value='username')], id='753'), table_body=[TableRow(location=Location(line=27, column=5), cells=[TableCell(location=Location(line=27, column=7), value='tokyo'), TableCell(location=Location(line=27, column=17), value='godzilla')], id='754'), TableRow(location=Location(line=28, column=5), cells=[TableCell(location=Location(line=28, column=7), value='tokyo'), TableCell(location=Location(line=28, column=17), value='tengu')], id='755')], id='756')], id='757')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=29, column=3), tags=[], keyword='Scenario', name='Create <host> resource and connects it to <username> user', description='', steps=[Step(location=Location(line=30, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='758'), Step(location=Location(line=31, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='759')], examples=[Examples(location=Location(line=33, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='username'), TableCell(location=Location(line=34, column=18), value='host')], id='760'), table_body=[TableRow(location=Location(line=35, column=5), cells=[TableCell(location=Location(line=35, column=7), value='godzilla'), TableCell(location=Location(line=35, column=18), value='laptop')], id='761'), TableRow(location=Location(line=36, column=5), cells=[TableCell(location=Location(line=36, column=7), value='tengu'), TableCell(location=Location(line=36, column=18), value='tablet')], id='762')], id='763')], id='764')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=38, column=3), tags=[], keyword='Scenario', name='Send iodocument via nats host: <host>, user: <username> and check that second user received graph update', description='', steps=[Step(location=Location(line=39, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='765'), Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='766'), Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='767'), Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='768'), Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=None, data_table=None, id='769'), Step(location=Location(line=44, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=DocString(location=Location(line=45, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='770'), Step(location=Location(line=54, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=55, column=7), rows=[TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='Deployment name')], id='771'), TableRow(location=Location(line=56, column=7), cells=[TableCell(location=Location(line=56, column=9), value='iocontext-00001-deployment')], id='772'), TableRow(location=Location(line=57, column=7), cells=[TableCell(location=Location(line=57, column=9), value='kafka-cdc-00001-deployment')], id='773')]), id='774'), Step(location=Location(line=59, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<dst_user>.<dst_host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='775')], examples=[Examples(location=Location(line=61, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=62, column=5), cells=[TableCell(location=Location(line=62, column=7), value='context'), TableCell(location=Location(line=62, column=17), value='src_user'), TableCell(location=Location(line=62, column=28), value='src_host'), TableCell(location=Location(line=62, column=39), value='dst_user'), TableCell(location=Location(line=62, column=50), value='dst_host')], id='776'), table_body=[TableRow(location=Location(line=63, column=5), cells=[TableCell(location=Location(line=63, column=7), value='tokyo'), TableCell(location=Location(line=63, column=17), value='godzilla'), TableCell(location=Location(line=63, column=28), value='laptop'), TableCell(location=Location(line=63, column=39), value='tengu'), TableCell(location=Location(line=63, column=50), value='tablet')], id='777'), TableRow(location=Location(line=64, column=5), cells=[TableCell(location=Location(line=64, column=7), value='tokyo'), TableCell(location=Location(line=64, column=17), value='tengu'), TableCell(location=Location(line=64, column=28), value='tablet'), TableCell(location=Location(line=64, column=39), value='godzilla'), TableCell(location=Location(line=64, column=50), value='laptop')], id='778')], id='779')], id='780')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=67, column=3), tags=[], keyword='Scenario', name='Cleanup <host> host for <username> username', description='', steps=[Step(location=Location(line=69, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='781'), Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='782')], examples=[Examples(location=Location(line=72, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=73, column=5), cells=[TableCell(location=Location(line=73, column=7), value='username'), TableCell(location=Location(line=73, column=18), value='host')], id='783'), table_body=[TableRow(location=Location(line=74, column=5), cells=[TableCell(location=Location(line=74, column=7), value='godzilla'), TableCell(location=Location(line=74, column=18), value='laptop')], id='784'), TableRow(location=Location(line=75, column=5), cells=[TableCell(location=Location(line=75, column=7), value='tengu'), TableCell(location=Location(line=75, column=18), value='tablet')], id='785')], id='786')], id='787')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=77, column=3), tags=[], keyword='Scenario', name='Cleanup <username> username', description='', steps=[Step(location=Location(line=78, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='788'), Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='789')], examples=[Examples(location=Location(line=81, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='username')], id='790'), table_body=[TableRow(location=Location(line=83, column=5), cells=[TableCell(location=Location(line=83, column=7), value='godzilla')], id='791'), TableRow(location=Location(line=84, column=5), cells=[TableCell(location=Location(line=84, column=7), value='tengu')], id='792')], id='793')], id='794')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=86, column=3), tags=[], keyword='Scenario', name='Cleanup <context> context', description='', steps=[Step(location=Location(line=87, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='795'), Step(location=Location(line=88, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='796')], examples=[Examples(location=Location(line=90, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=91, column=5), cells=[TableCell(location=Location(line=91, column=7), value='context')], id='797'), table_body=[TableRow(location=Location(line=92, column=5), cells=[TableCell(location=Location(line=92, column=7), value='tokyo')], id='798')], id='799')], id='800'))]), comments=[]), uri='file:features/7_mindwm_two_users_one_context.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/7_mindwm_two_users_one_context.feature', registry={'801': Tag(location=Location(line=1, column=1), name='@mindwm_two_users_one_context', id='801'), '802': Tag(location=Location(line=2, column=1), name='@mindwm_test', id='802'), '738': Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='736'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='737')], id='738'), '736': Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='736'), '737': Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='737'), '750': Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Create context <context>', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='739'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='740'), Step(location=Location(line=12, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=13, column=7), rows=[TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='Knative service name')], id='741'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='iocontext')], id='742'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='pong')], id='743'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='kafka-cdc')], id='744')]), id='745'), Step(location=Location(line=17, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='746')], examples=[Examples(location=Location(line=18, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=19, column=5), cells=[TableCell(location=Location(line=19, column=7), value='context')], id='747'), table_body=[TableRow(location=Location(line=20, column=5), cells=[TableCell(location=Location(line=20, column=7), value='tokyo')], id='748')], id='749')], id='750'), '739': Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='739'), '740': Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='740'), '745': Step(location=Location(line=12, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=13, column=7), rows=[TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='Knative service name')], id='741'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='iocontext')], id='742'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='pong')], id='743'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='kafka-cdc')], id='744')]), id='745'), '746': Step(location=Location(line=17, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='746'), '749': Examples(location=Location(line=18, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=19, column=5), cells=[TableCell(location=Location(line=19, column=7), value='context')], id='747'), table_body=[TableRow(location=Location(line=20, column=5), cells=[TableCell(location=Location(line=20, column=7), value='tokyo')], id='748')], id='749'), '747': TableRow(location=Location(line=19, column=5), cells=[TableCell(location=Location(line=19, column=7), value='context')], id='747'), '748': TableRow(location=Location(line=20, column=5), cells=[TableCell(location=Location(line=20, column=7), value='tokyo')], id='748'), '757': Scenario(location=Location(line=22, column=3), tags=[], keyword='Scenario', name='Create <username> and connects it to <context>', description='', steps=[Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='751'), Step(location=Location(line=24, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='752')], examples=[Examples(location=Location(line=25, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=26, column=5), cells=[TableCell(location=Location(line=26, column=7), value='context'), TableCell(location=Location(line=26, column=17), value='username')], id='753'), table_body=[TableRow(location=Location(line=27, column=5), cells=[TableCell(location=Location(line=27, column=7), value='tokyo'), TableCell(location=Location(line=27, column=17), value='godzilla')], id='754'), TableRow(location=Location(line=28, column=5), cells=[TableCell(location=Location(line=28, column=7), value='tokyo'), TableCell(location=Location(line=28, column=17), value='tengu')], id='755')], id='756')], id='757'), '751': Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='751'), '752': Step(location=Location(line=24, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='752'), '756': Examples(location=Location(line=25, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=26, column=5), cells=[TableCell(location=Location(line=26, column=7), value='context'), TableCell(location=Location(line=26, column=17), value='username')], id='753'), table_body=[TableRow(location=Location(line=27, column=5), cells=[TableCell(location=Location(line=27, column=7), value='tokyo'), TableCell(location=Location(line=27, column=17), value='godzilla')], id='754'), TableRow(location=Location(line=28, column=5), cells=[TableCell(location=Location(line=28, column=7), value='tokyo'), TableCell(location=Location(line=28, column=17), value='tengu')], id='755')], id='756'), '753': TableRow(location=Location(line=26, column=5), cells=[TableCell(location=Location(line=26, column=7), value='context'), TableCell(location=Location(line=26, column=17), value='username')], id='753'), '754': TableRow(location=Location(line=27, column=5), cells=[TableCell(location=Location(line=27, column=7), value='tokyo'), TableCell(location=Location(line=27, column=17), value='godzilla')], id='754'), '755': TableRow(location=Location(line=28, column=5), cells=[TableCell(location=Location(line=28, column=7), value='tokyo'), TableCell(location=Location(line=28, column=17), value='tengu')], id='755'), '764': Scenario(location=Location(line=29, column=3), tags=[], keyword='Scenario', name='Create <host> resource and connects it to <username> user', description='', steps=[Step(location=Location(line=30, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='758'), Step(location=Location(line=31, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='759')], examples=[Examples(location=Location(line=33, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='username'), TableCell(location=Location(line=34, column=18), value='host')], id='760'), table_body=[TableRow(location=Location(line=35, column=5), cells=[TableCell(location=Location(line=35, column=7), value='godzilla'), TableCell(location=Location(line=35, column=18), value='laptop')], id='761'), TableRow(location=Location(line=36, column=5), cells=[TableCell(location=Location(line=36, column=7), value='tengu'), TableCell(location=Location(line=36, column=18), value='tablet')], id='762')], id='763')], id='764'), '758': Step(location=Location(line=30, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='758'), '759': Step(location=Location(line=31, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='759'), '763': Examples(location=Location(line=33, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='username'), TableCell(location=Location(line=34, column=18), value='host')], id='760'), table_body=[TableRow(location=Location(line=35, column=5), cells=[TableCell(location=Location(line=35, column=7), value='godzilla'), TableCell(location=Location(line=35, column=18), value='laptop')], id='761'), TableRow(location=Location(line=36, column=5), cells=[TableCell(location=Location(line=36, column=7), value='tengu'), TableCell(location=Location(line=36, column=18), value='tablet')], id='762')], id='763'), '760': TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='username'), TableCell(location=Location(line=34, column=18), value='host')], id='760'), '761': TableRow(location=Location(line=35, column=5), cells=[TableCell(location=Location(line=35, column=7), value='godzilla'), TableCell(location=Location(line=35, column=18), value='laptop')], id='761'), '762': TableRow(location=Location(line=36, column=5), cells=[TableCell(location=Location(line=36, column=7), value='tengu'), TableCell(location=Location(line=36, column=18), value='tablet')], id='762'), '780': Scenario(location=Location(line=38, column=3), tags=[], keyword='Scenario', name='Send iodocument via nats host: <host>, user: <username> and check that second user received graph update', description='', steps=[Step(location=Location(line=39, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='765'), Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='766'), Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='767'), Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='768'), Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=None, data_table=None, id='769'), Step(location=Location(line=44, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=DocString(location=Location(line=45, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='770'), Step(location=Location(line=54, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=55, column=7), rows=[TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='Deployment name')], id='771'), TableRow(location=Location(line=56, column=7), cells=[TableCell(location=Location(line=56, column=9), value='iocontext-00001-deployment')], id='772'), TableRow(location=Location(line=57, column=7), cells=[TableCell(location=Location(line=57, column=9), value='kafka-cdc-00001-deployment')], id='773')]), id='774'), Step(location=Location(line=59, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<dst_user>.<dst_host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='775')], examples=[Examples(location=Location(line=61, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=62, column=5), cells=[TableCell(location=Location(line=62, column=7), value='context'), TableCell(location=Location(line=62, column=17), value='src_user'), TableCell(location=Location(line=62, column=28), value='src_host'), TableCell(location=Location(line=62, column=39), value='dst_user'), TableCell(location=Location(line=62, column=50), value='dst_host')], id='776'), table_body=[TableRow(location=Location(line=63, column=5), cells=[TableCell(location=Location(line=63, column=7), value='tokyo'), TableCell(location=Location(line=63, column=17), value='godzilla'), TableCell(location=Location(line=63, column=28), value='laptop'), TableCell(location=Location(line=63, column=39), value='tengu'), TableCell(location=Location(line=63, column=50), value='tablet')], id='777'), TableRow(location=Location(line=64, column=5), cells=[TableCell(location=Location(line=64, column=7), value='tokyo'), TableCell(location=Location(line=64, column=17), value='tengu'), TableCell(location=Location(line=64, column=28), value='tablet'), TableCell(location=Location(line=64, column=39), value='godzilla'), TableCell(location=Location(line=64, column=50), value='laptop')], id='778')], id='779')], id='780'), '765': Step(location=Location(line=39, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='765'), '766': Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='766'), '767': Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='767'), '768': Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='768'), '769': Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=None, data_table=None, id='769'), '770': Step(location=Location(line=44, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=DocString(location=Location(line=45, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='770'), '774': Step(location=Location(line=54, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=55, column=7), rows=[TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='Deployment name')], id='771'), TableRow(location=Location(line=56, column=7), cells=[TableCell(location=Location(line=56, column=9), value='iocontext-00001-deployment')], id='772'), TableRow(location=Location(line=57, column=7), cells=[TableCell(location=Location(line=57, column=9), value='kafka-cdc-00001-deployment')], id='773')]), id='774'), '775': Step(location=Location(line=59, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<dst_user>.<dst_host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='775'), '779': Examples(location=Location(line=61, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=62, column=5), cells=[TableCell(location=Location(line=62, column=7), value='context'), TableCell(location=Location(line=62, column=17), value='src_user'), TableCell(location=Location(line=62, column=28), value='src_host'), TableCell(location=Location(line=62, column=39), value='dst_user'), TableCell(location=Location(line=62, column=50), value='dst_host')], id='776'), table_body=[TableRow(location=Location(line=63, column=5), cells=[TableCell(location=Location(line=63, column=7), value='tokyo'), TableCell(location=Location(line=63, column=17), value='godzilla'), TableCell(location=Location(line=63, column=28), value='laptop'), TableCell(location=Location(line=63, column=39), value='tengu'), TableCell(location=Location(line=63, column=50), value='tablet')], id='777'), TableRow(location=Location(line=64, column=5), cells=[TableCell(location=Location(line=64, column=7), value='tokyo'), TableCell(location=Location(line=64, column=17), value='tengu'), TableCell(location=Location(line=64, column=28), value='tablet'), TableCell(location=Location(line=64, column=39), value='godzilla'), TableCell(location=Location(line=64, column=50), value='laptop')], id='778')], id='779'), '776': TableRow(location=Location(line=62, column=5), cells=[TableCell(location=Location(line=62, column=7), value='context'), TableCell(location=Location(line=62, column=17), value='src_user'), TableCell(location=Location(line=62, column=28), value='src_host'), TableCell(location=Location(line=62, column=39), value='dst_user'), TableCell(location=Location(line=62, column=50), value='dst_host')], id='776'), '777': TableRow(location=Location(line=63, column=5), cells=[TableCell(location=Location(line=63, column=7), value='tokyo'), TableCell(location=Location(line=63, column=17), value='godzilla'), TableCell(location=Location(line=63, column=28), value='laptop'), TableCell(location=Location(line=63, column=39), value='tengu'), TableCell(location=Location(line=63, column=50), value='tablet')], id='777'), '778': TableRow(location=Location(line=64, column=5), cells=[TableCell(location=Location(line=64, column=7), value='tokyo'), TableCell(location=Location(line=64, column=17), value='tengu'), TableCell(location=Location(line=64, column=28), value='tablet'), TableCell(location=Location(line=64, column=39), value='godzilla'), TableCell(location=Location(line=64, column=50), value='laptop')], id='778'), '787': Scenario(location=Location(line=67, column=3), tags=[], keyword='Scenario', name='Cleanup <host> host for <username> username', description='', steps=[Step(location=Location(line=69, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='781'), Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='782')], examples=[Examples(location=Location(line=72, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=73, column=5), cells=[TableCell(location=Location(line=73, column=7), value='username'), TableCell(location=Location(line=73, column=18), value='host')], id='783'), table_body=[TableRow(location=Location(line=74, column=5), cells=[TableCell(location=Location(line=74, column=7), value='godzilla'), TableCell(location=Location(line=74, column=18), value='laptop')], id='784'), TableRow(location=Location(line=75, column=5), cells=[TableCell(location=Location(line=75, column=7), value='tengu'), TableCell(location=Location(line=75, column=18), value='tablet')], id='785')], id='786')], id='787'), '781': Step(location=Location(line=69, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='781'), '782': Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='782'), '786': Examples(location=Location(line=72, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=73, column=5), cells=[TableCell(location=Location(line=73, column=7), value='username'), TableCell(location=Location(line=73, column=18), value='host')], id='783'), table_body=[TableRow(location=Location(line=74, column=5), cells=[TableCell(location=Location(line=74, column=7), value='godzilla'), TableCell(location=Location(line=74, column=18), value='laptop')], id='784'), TableRow(location=Location(line=75, column=5), cells=[TableCell(location=Location(line=75, column=7), value='tengu'), TableCell(location=Location(line=75, column=18), value='tablet')], id='785')], id='786'), '783': TableRow(location=Location(line=73, column=5), cells=[TableCell(location=Location(line=73, column=7), value='username'), TableCell(location=Location(line=73, column=18), value='host')], id='783'), '784': TableRow(location=Location(line=74, column=5), cells=[TableCell(location=Location(line=74, column=7), value='godzilla'), TableCell(location=Location(line=74, column=18), value='laptop')], id='784'), '785': TableRow(location=Location(line=75, column=5), cells=[TableCell(location=Location(line=75, column=7), value='tengu'), TableCell(location=Location(line=75, column=18), value='tablet')], id='785'), '794': Scenario(location=Location(line=77, column=3), tags=[], keyword='Scenario', name='Cleanup <username> username', description='', steps=[Step(location=Location(line=78, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='788'), Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='789')], examples=[Examples(location=Location(line=81, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='username')], id='790'), table_body=[TableRow(location=Location(line=83, column=5), cells=[TableCell(location=Location(line=83, column=7), value='godzilla')], id='791'), TableRow(location=Location(line=84, column=5), cells=[TableCell(location=Location(line=84, column=7), value='tengu')], id='792')], id='793')], id='794'), '788': Step(location=Location(line=78, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='788'), '789': Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='789'), '793': Examples(location=Location(line=81, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='username')], id='790'), table_body=[TableRow(location=Location(line=83, column=5), cells=[TableCell(location=Location(line=83, column=7), value='godzilla')], id='791'), TableRow(location=Location(line=84, column=5), cells=[TableCell(location=Location(line=84, column=7), value='tengu')], id='792')], id='793'), '790': TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='username')], id='790'), '791': TableRow(location=Location(line=83, column=5), cells=[TableCell(location=Location(line=83, column=7), value='godzilla')], id='791'), '792': TableRow(location=Location(line=84, column=5), cells=[TableCell(location=Location(line=84, column=7), value='tengu')], id='792'), '800': Scenario(location=Location(line=86, column=3), tags=[], keyword='Scenario', name='Cleanup <context> context', description='', steps=[Step(location=Location(line=87, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='795'), Step(location=Location(line=88, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='796')], examples=[Examples(location=Location(line=90, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=91, column=5), cells=[TableCell(location=Location(line=91, column=7), value='context')], id='797'), table_body=[TableRow(location=Location(line=92, column=5), cells=[TableCell(location=Location(line=92, column=7), value='tokyo')], id='798')], id='799')], id='800'), '795': Step(location=Location(line=87, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='795'), '796': Step(location=Location(line=88, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='796'), '799': Examples(location=Location(line=90, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=91, column=5), cells=[TableCell(location=Location(line=91, column=7), value='context')], id='797'), table_body=[TableRow(location=Location(line=92, column=5), cells=[TableCell(location=Location(line=92, column=7), value='tokyo')], id='798')], id='799'), '797': TableRow(location=Location(line=91, column=5), cells=[TableCell(location=Location(line=91, column=7), value='context')], id='797'), '798': TableRow(location=Location(line=92, column=5), cells=[TableCell(location=Location(line=92, column=7), value='tokyo')], id='798')}, pickles=[Pickle(id='809', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create context tokyo', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='803', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='804', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['739', '748'], id='805', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"tokyo\"'), PickleStep(argument=None, ast_node_ids=['740', '748'], id='806', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext')]), PickleTableRow(cells=[PickleTableCell(value='pong')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')])])), ast_node_ids=['745', '748'], id='807', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-tokyo\" namespace'), PickleStep(argument=None, ast_node_ids=['746', '748'], id='808', type=<Type.outcome: 'Outcome'>, text='statefulset \"tokyo-neo4j\" in namespace \"context-tokyo\" is in ready state')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['750', '748']), Pickle(id='814', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create godzilla and connects it to tokyo', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='810', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='811', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['751', '754'], id='812', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"godzilla\" and connects it to the context \"tokyo\"'), PickleStep(argument=None, ast_node_ids=['752', '754'], id='813', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['757', '754']), Pickle(id='819', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create tengu and connects it to tokyo', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='815', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='816', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['751', '755'], id='817', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"tengu\" and connects it to the context \"tokyo\"'), PickleStep(argument=None, ast_node_ids=['752', '755'], id='818', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['757', '755']), Pickle(id='824', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create laptop resource and connects it to godzilla user', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='820', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='821', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['758', '761'], id='822', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"laptop\" and connects it to the user \"godzilla\"'), PickleStep(argument=None, ast_node_ids=['759', '761'], id='823', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['764', '761']), Pickle(id='829', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create tablet resource and connects it to tengu user', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='825', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='826', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['758', '762'], id='827', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"tablet\" and connects it to the user \"tengu\"'), PickleStep(argument=None, ast_node_ids=['759', '762'], id='828', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['764', '762']), Pickle(id='840', uri='file:features/7_mindwm_two_users_one_context.feature', name='Send iodocument via nats host: <host>, user: <username> and check that second user received graph update', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='830', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='831', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['765', '777'], id='832', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['766', '777'], id='833', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['767', '777'], id='834', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"id\"'), PickleStep(argument=None, ast_node_ids=['768', '777'], id='835', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['769', '777'], id='836', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.godzilla.laptop.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['770', '777'], id='837', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.godzilla.laptop.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-00001-deployment')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-00001-deployment')])])), ast_node_ids=['774', '777'], id='838', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-tokyo\" namespace'), PickleStep(argument=None, ast_node_ids=['775', '777'], id='839', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-tengu.tablet-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['780', '777']), Pickle(id='851', uri='file:features/7_mindwm_two_users_one_context.feature', name='Send iodocument via nats host: <host>, user: <username> and check that second user received graph update', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='841', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='842', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['765', '778'], id='843', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['766', '778'], id='844', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['767', '778'], id='845', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"id\"'), PickleStep(argument=None, ast_node_ids=['768', '778'], id='846', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['769', '778'], id='847', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.tengu.tablet.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['770', '778'], id='848', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.tengu.tablet.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-00001-deployment')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-00001-deployment')])])), ast_node_ids=['774', '778'], id='849', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-tokyo\" namespace'), PickleStep(argument=None, ast_node_ids=['775', '778'], id='850', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-godzilla.laptop-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['780', '778']), Pickle(id='856', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup laptop host for godzilla username', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='852', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='853', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['781', '784'], id='854', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"laptop\"'), PickleStep(argument=None, ast_node_ids=['782', '784'], id='855', type=<Type.outcome: 'Outcome'>, text='the host \"laptop\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['787', '784']), Pickle(id='861', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup tablet host for tengu username', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='857', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='858', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['781', '785'], id='859', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"tablet\"'), PickleStep(argument=None, ast_node_ids=['782', '785'], id='860', type=<Type.outcome: 'Outcome'>, text='the host \"tablet\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['787', '785']), Pickle(id='866', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup godzilla username', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='862', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='863', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['788', '791'], id='864', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"godzilla\"'), PickleStep(argument=None, ast_node_ids=['789', '791'], id='865', type=<Type.outcome: 'Outcome'>, text='the user \"godzilla\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['794', '791']), Pickle(id='871', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup tengu username', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='867', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='868', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['788', '792'], id='869', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"tengu\"'), PickleStep(argument=None, ast_node_ids=['789', '792'], id='870', type=<Type.outcome: 'Outcome'>, text='the user \"tengu\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['794', '792']), Pickle(id='876', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup tokyo context', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='872', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='873', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['795', '798'], id='874', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"tokyo\"'), PickleStep(argument=None, ast_node_ids=['796', '798'], id='875', type=<Type.outcome: 'Outcome'>, text='the context \"tokyo\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['800', '798'])])","Source(uri='file:features/7_mindwm_two_users_one_context.feature', data='@mindwm_two_users_one_context\\n@mindwm_test\\nFeature: MindWM two users one context function test\\n  Background:\\n    Given A MindWM environment\\n    Then all nodes in Kubernetes are ready\\n\\n  Scenario: Create context <context>\\n    When God creates a MindWM context with the name \"<context>\"\\n    Then the context should be ready and operable\\n\\n    Then the following knative services are in a ready state in the \"context-<context>\" namespace\\n      | Knative service name |\\n      | iocontext            |\\n      | pong                 |\\n      | kafka-cdc            |\\n    And statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state\\n    Examples:\\n    | context | \\n    | tokyo   | \\n    \\n  Scenario: Create <username> and connects it to <context>\\n    When God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"\\n    Then the user resource should be ready and operable\\n    Examples:\\n    | context | username |\\n    | tokyo   | godzilla |\\n    | tokyo   | tengu    |\\n  Scenario: Create <host> resource and connects it to <username> user\\n    When God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"\\n    Then the host resource should be ready and operable\\n\\n    Examples: \\n    | username | host   |\\n    | godzilla | laptop | \\n    | tengu    | tablet | \\n\\n  Scenario: Send iodocument via nats host: <host>, user: <username> and check that second user received graph update\\n    When God creates a new cloudevent \\n      And God starts reading message from NATS topic \">\"\\n      And sets cloudevent header \"ce-subject\" to \"id\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"\\n      And sends cloudevent to nats topic \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"\\n      \"\"\"\\n      {\\n        \"input\": \"id\",\\n        \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n        \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n        \"type\": \"org.mindwm.v1.iodocument\"\\n      } \\n      \"\"\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name            |\\n      | iocontext-00001-deployment |\\n      | kafka-cdc-00001-deployment |\\n\\n    And a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<dst_user>.<dst_host>-host-broker-kne-trigger._knative\"\\n\\n    Examples:\\n    | context | src_user | src_host | dst_user | dst_host |  \\n    | tokyo   | godzilla | laptop   | tengu    | tablet   |\\n    | tokyo   | tengu    | tablet   | godzilla | laptop   | \\n\\n\\n  Scenario: Cleanup <host> host for <username> username\\n\\n    When God deletes the MindWM host resource \"<host>\"\\n    Then the host \"<host>\" should be deleted\\n\\n    Examples:\\n    | username | host   |\\n    | godzilla | laptop | \\n    | tengu    | tablet | \\n\\n  Scenario: Cleanup <username> username\\n    When God deletes the MindWM user resource \"<username>\"\\n    Then the user \"<username>\" should be deleted\\n\\n    Examples:\\n    | username | \\n    | godzilla |\\n    | tengu    | \\n\\n  Scenario: Cleanup <context> context\\n    When God deletes the MindWM context resource \"<context>\"\\n    Then the context \"<context>\" should be deleted\\n\\n    Examples:\\n    | context | \\n    | tokyo   |\\n', media_type='text/x.cucumber.gherkin+plain')","Pickle(id='856', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup laptop host for godzilla username', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='852', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='853', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['781', '784'], id='854', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"laptop\"'), PickleStep(argument=None, ast_node_ids=['782', '784'], id='855', type=<Type.outcome: 'Outcome'>, text='the host \"laptop\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['787', '784'])"],"tags":["scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/7_mindwm_two_users_one_context.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=<FeaturePathType.PATH: 'path'>, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())","pytest_bdd_scenario","@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')","mindwm_test","mindwm_two_users_one_context","namespace(create=False, name='default')"]},{"name":"test_scenarios[file:features/0_1_mindwm_eda.feature-Mindwm event driven architecture-Istio]","uid":"788b745828f43409","parentUid":"3961740595044ffd97a03e46799bfc30","status":"passed","time":{"start":1728403418195,"stop":1728403418605,"duration":410},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["Feature(gherkin_document=GherkinDocument(uri='file:features/0_1_mindwm_eda.feature', feature=Feature(location=Location(line=2, column=1), tags=[Tag(location=Location(line=1, column=1), name='@eda', id='124')], language='en', keyword='Feature', name='Mindwm event driven architecture', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=3, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=4, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='50'), Step(location=Location(line=5, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='51')], id='52'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=7, column=3), tags=[], keyword='Scenario', name='Knative', description='', steps=[Step(location=Location(line=8, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"knative-serving\" should exist', doc_string=None, data_table=None, id='53'), Step(location=Location(line=9, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"knative-eventing\" should exist', doc_string=None, data_table=None, id='54'), Step(location=Location(line=10, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"knative-operator\" should exist', doc_string=None, data_table=None, id='55'), Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"knative-serving\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Deployment name')], id='56'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='activator')], id='57'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='autoscaler')], id='58'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='autoscaler-hpa')], id='59'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='controller')], id='60'), TableRow(location=Location(line=17, column=7), cells=[TableCell(location=Location(line=17, column=9), value='net-istio-controller')], id='61'), TableRow(location=Location(line=18, column=7), cells=[TableCell(location=Location(line=18, column=9), value='net-istio-webhook')], id='62'), TableRow(location=Location(line=19, column=7), cells=[TableCell(location=Location(line=19, column=9), value='webhook')], id='63')]), id='64'), Step(location=Location(line=20, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"knative-eventing\" namespace', doc_string=None, data_table=DataTable(location=Location(line=21, column=7), rows=[TableRow(location=Location(line=21, column=7), cells=[TableCell(location=Location(line=21, column=9), value='Deployment name')], id='65'), TableRow(location=Location(line=22, column=7), cells=[TableCell(location=Location(line=22, column=9), value='eventing-controller')], id='66'), TableRow(location=Location(line=23, column=7), cells=[TableCell(location=Location(line=23, column=9), value='eventing-webhook')], id='67'), TableRow(location=Location(line=24, column=7), cells=[TableCell(location=Location(line=24, column=9), value='imc-dispatcher')], id='68'), TableRow(location=Location(line=25, column=7), cells=[TableCell(location=Location(line=25, column=9), value='imc-controller')], id='69'), TableRow(location=Location(line=26, column=7), cells=[TableCell(location=Location(line=26, column=9), value='jetstream-ch-controller')], id='70'), TableRow(location=Location(line=27, column=7), cells=[TableCell(location=Location(line=27, column=9), value='job-sink')], id='71'), TableRow(location=Location(line=28, column=7), cells=[TableCell(location=Location(line=28, column=9), value='kafka-controller')], id='72'), TableRow(location=Location(line=29, column=7), cells=[TableCell(location=Location(line=29, column=9), value='kafka-webhook-eventing')], id='73'), TableRow(location=Location(line=30, column=7), cells=[TableCell(location=Location(line=30, column=9), value='mt-broker-controller')], id='74'), TableRow(location=Location(line=31, column=7), cells=[TableCell(location=Location(line=31, column=9), value='mt-broker-filter')], id='75'), TableRow(location=Location(line=32, column=7), cells=[TableCell(location=Location(line=32, column=9), value='mt-broker-ingress')], id='76'), TableRow(location=Location(line=33, column=7), cells=[TableCell(location=Location(line=33, column=9), value='nats-webhook')], id='77')]), id='78')], examples=[], id='79')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=36, column=3), tags=[], keyword='Scenario', name='Istio', description='', steps=[Step(location=Location(line=37, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"istio-system\" should exist', doc_string=None, data_table=None, id='80'), Step(location=Location(line=38, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"istio-system\" namespace', doc_string=None, data_table=DataTable(location=Location(line=39, column=7), rows=[TableRow(location=Location(line=39, column=7), cells=[TableCell(location=Location(line=39, column=9), value='Deployment name')], id='81'), TableRow(location=Location(line=40, column=7), cells=[TableCell(location=Location(line=40, column=9), value='istiod')], id='82'), TableRow(location=Location(line=41, column=7), cells=[TableCell(location=Location(line=41, column=9), value='istio-ingressgateway')], id='83')]), id='84')], examples=[], id='85')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=43, column=3), tags=[], keyword='Scenario', name='Redpanda', description='', steps=[Step(location=Location(line=44, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"redpanda\" should exist', doc_string=None, data_table=None, id='86'), Step(location=Location(line=45, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"redpanda\" namespace', doc_string=None, data_table=DataTable(location=Location(line=46, column=7), rows=[TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='Deployment name')], id='87'), TableRow(location=Location(line=47, column=7), cells=[TableCell(location=Location(line=47, column=9), value='redpanda-operator')], id='88')]), id='89'), Step(location=Location(line=48, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='helm release \"neo4j-cdc\" is deployed in \"redpanda\" namespace', doc_string=None, data_table=None, id='90'), Step(location=Location(line=49, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"neo4j-cdc\" in namespace \"redpanda\" is in ready state', doc_string=None, data_table=None, id='91'), Step(location=Location(line=50, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"redpanda\" namespace', doc_string=None, data_table=DataTable(location=Location(line=51, column=7), rows=[TableRow(location=Location(line=51, column=7), cells=[TableCell(location=Location(line=51, column=9), value='Deployment name')], id='92'), TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='neo4j-cdc-console')], id='93')]), id='94')], examples=[], id='95')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=54, column=3), tags=[], keyword='Scenario', name='Cert manager', description='', steps=[Step(location=Location(line=55, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"cert-manager\" should exist', doc_string=None, data_table=None, id='96'), Step(location=Location(line=56, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"cert-manager\" namespace', doc_string=None, data_table=DataTable(location=Location(line=57, column=7), rows=[TableRow(location=Location(line=57, column=7), cells=[TableCell(location=Location(line=57, column=9), value='Deployment name')], id='97'), TableRow(location=Location(line=58, column=7), cells=[TableCell(location=Location(line=58, column=9), value='cert-manager')], id='98'), TableRow(location=Location(line=59, column=7), cells=[TableCell(location=Location(line=59, column=9), value='cert-manager-cainjector')], id='99'), TableRow(location=Location(line=60, column=7), cells=[TableCell(location=Location(line=60, column=9), value='cert-manager-webhook')], id='100')]), id='101')], examples=[], id='102')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=62, column=3), tags=[], keyword='Scenario', name='Nats', description='', steps=[Step(location=Location(line=63, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"nats\" should exist', doc_string=None, data_table=None, id='103'), Step(location=Location(line=64, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"nats\" namespace', doc_string=None, data_table=DataTable(location=Location(line=65, column=7), rows=[TableRow(location=Location(line=65, column=7), cells=[TableCell(location=Location(line=65, column=9), value='Deployment name')], id='104'), TableRow(location=Location(line=66, column=7), cells=[TableCell(location=Location(line=66, column=9), value='nats-box')], id='105')]), id='106'), Step(location=Location(line=67, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"nats\" in namespace \"nats\" is in ready state', doc_string=None, data_table=None, id='107')], examples=[], id='108')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=69, column=3), tags=[], keyword='Scenario', name='Monitoring', description='', steps=[Step(location=Location(line=70, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"monitoring\" should exist', doc_string=None, data_table=None, id='109'), Step(location=Location(line=71, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"monitoring\" namespace', doc_string=None, data_table=DataTable(location=Location(line=72, column=7), rows=[TableRow(location=Location(line=72, column=7), cells=[TableCell(location=Location(line=72, column=9), value='Deployment name')], id='110'), TableRow(location=Location(line=73, column=7), cells=[TableCell(location=Location(line=73, column=9), value='loki-gateway')], id='111'), TableRow(location=Location(line=74, column=7), cells=[TableCell(location=Location(line=74, column=9), value='otel-collector-opentelemetry-collector')], id='112'), TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='vm-aio-grafana')], id='113'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='vm-aio-kube-state-metrics')], id='114'), TableRow(location=Location(line=77, column=7), cells=[TableCell(location=Location(line=77, column=9), value='vm-aio-victoria-metrics-operator')], id='115'), TableRow(location=Location(line=78, column=7), cells=[TableCell(location=Location(line=78, column=9), value='vmagent-vm-aio-victoria-metrics-k8s-stack')], id='116'), TableRow(location=Location(line=79, column=7), cells=[TableCell(location=Location(line=79, column=9), value='vmalert-vm-aio-victoria-metrics-k8s-stack')], id='117'), TableRow(location=Location(line=80, column=7), cells=[TableCell(location=Location(line=80, column=9), value='vmsingle-vm-aio-victoria-metrics-k8s-stack')], id='118')]), id='119'), Step(location=Location(line=81, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"loki\" in namespace \"monitoring\" is in ready state', doc_string=None, data_table=None, id='120'), Step(location=Location(line=82, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"tempo\" in namespace \"monitoring\" is in ready state', doc_string=None, data_table=None, id='121'), Step(location=Location(line=83, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"vmalertmanager-vm-aio-victoria-metrics-k8s-stack\" in namespace \"monitoring\" is in ready state', doc_string=None, data_table=None, id='122')], examples=[], id='123'))]), comments=[]), uri='file:features/0_1_mindwm_eda.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/0_1_mindwm_eda.feature', registry={'124': Tag(location=Location(line=1, column=1), name='@eda', id='124'), '52': Background(location=Location(line=3, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=4, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='50'), Step(location=Location(line=5, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='51')], id='52'), '50': Step(location=Location(line=4, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='50'), '51': Step(location=Location(line=5, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='51'), '79': Scenario(location=Location(line=7, column=3), tags=[], keyword='Scenario', name='Knative', description='', steps=[Step(location=Location(line=8, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"knative-serving\" should exist', doc_string=None, data_table=None, id='53'), Step(location=Location(line=9, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"knative-eventing\" should exist', doc_string=None, data_table=None, id='54'), Step(location=Location(line=10, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"knative-operator\" should exist', doc_string=None, data_table=None, id='55'), Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"knative-serving\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Deployment name')], id='56'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='activator')], id='57'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='autoscaler')], id='58'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='autoscaler-hpa')], id='59'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='controller')], id='60'), TableRow(location=Location(line=17, column=7), cells=[TableCell(location=Location(line=17, column=9), value='net-istio-controller')], id='61'), TableRow(location=Location(line=18, column=7), cells=[TableCell(location=Location(line=18, column=9), value='net-istio-webhook')], id='62'), TableRow(location=Location(line=19, column=7), cells=[TableCell(location=Location(line=19, column=9), value='webhook')], id='63')]), id='64'), Step(location=Location(line=20, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"knative-eventing\" namespace', doc_string=None, data_table=DataTable(location=Location(line=21, column=7), rows=[TableRow(location=Location(line=21, column=7), cells=[TableCell(location=Location(line=21, column=9), value='Deployment name')], id='65'), TableRow(location=Location(line=22, column=7), cells=[TableCell(location=Location(line=22, column=9), value='eventing-controller')], id='66'), TableRow(location=Location(line=23, column=7), cells=[TableCell(location=Location(line=23, column=9), value='eventing-webhook')], id='67'), TableRow(location=Location(line=24, column=7), cells=[TableCell(location=Location(line=24, column=9), value='imc-dispatcher')], id='68'), TableRow(location=Location(line=25, column=7), cells=[TableCell(location=Location(line=25, column=9), value='imc-controller')], id='69'), TableRow(location=Location(line=26, column=7), cells=[TableCell(location=Location(line=26, column=9), value='jetstream-ch-controller')], id='70'), TableRow(location=Location(line=27, column=7), cells=[TableCell(location=Location(line=27, column=9), value='job-sink')], id='71'), TableRow(location=Location(line=28, column=7), cells=[TableCell(location=Location(line=28, column=9), value='kafka-controller')], id='72'), TableRow(location=Location(line=29, column=7), cells=[TableCell(location=Location(line=29, column=9), value='kafka-webhook-eventing')], id='73'), TableRow(location=Location(line=30, column=7), cells=[TableCell(location=Location(line=30, column=9), value='mt-broker-controller')], id='74'), TableRow(location=Location(line=31, column=7), cells=[TableCell(location=Location(line=31, column=9), value='mt-broker-filter')], id='75'), TableRow(location=Location(line=32, column=7), cells=[TableCell(location=Location(line=32, column=9), value='mt-broker-ingress')], id='76'), TableRow(location=Location(line=33, column=7), cells=[TableCell(location=Location(line=33, column=9), value='nats-webhook')], id='77')]), id='78')], examples=[], id='79'), '53': Step(location=Location(line=8, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"knative-serving\" should exist', doc_string=None, data_table=None, id='53'), '54': Step(location=Location(line=9, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"knative-eventing\" should exist', doc_string=None, data_table=None, id='54'), '55': Step(location=Location(line=10, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"knative-operator\" should exist', doc_string=None, data_table=None, id='55'), '64': Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"knative-serving\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Deployment name')], id='56'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='activator')], id='57'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='autoscaler')], id='58'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='autoscaler-hpa')], id='59'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='controller')], id='60'), TableRow(location=Location(line=17, column=7), cells=[TableCell(location=Location(line=17, column=9), value='net-istio-controller')], id='61'), TableRow(location=Location(line=18, column=7), cells=[TableCell(location=Location(line=18, column=9), value='net-istio-webhook')], id='62'), TableRow(location=Location(line=19, column=7), cells=[TableCell(location=Location(line=19, column=9), value='webhook')], id='63')]), id='64'), '78': Step(location=Location(line=20, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"knative-eventing\" namespace', doc_string=None, data_table=DataTable(location=Location(line=21, column=7), rows=[TableRow(location=Location(line=21, column=7), cells=[TableCell(location=Location(line=21, column=9), value='Deployment name')], id='65'), TableRow(location=Location(line=22, column=7), cells=[TableCell(location=Location(line=22, column=9), value='eventing-controller')], id='66'), TableRow(location=Location(line=23, column=7), cells=[TableCell(location=Location(line=23, column=9), value='eventing-webhook')], id='67'), TableRow(location=Location(line=24, column=7), cells=[TableCell(location=Location(line=24, column=9), value='imc-dispatcher')], id='68'), TableRow(location=Location(line=25, column=7), cells=[TableCell(location=Location(line=25, column=9), value='imc-controller')], id='69'), TableRow(location=Location(line=26, column=7), cells=[TableCell(location=Location(line=26, column=9), value='jetstream-ch-controller')], id='70'), TableRow(location=Location(line=27, column=7), cells=[TableCell(location=Location(line=27, column=9), value='job-sink')], id='71'), TableRow(location=Location(line=28, column=7), cells=[TableCell(location=Location(line=28, column=9), value='kafka-controller')], id='72'), TableRow(location=Location(line=29, column=7), cells=[TableCell(location=Location(line=29, column=9), value='kafka-webhook-eventing')], id='73'), TableRow(location=Location(line=30, column=7), cells=[TableCell(location=Location(line=30, column=9), value='mt-broker-controller')], id='74'), TableRow(location=Location(line=31, column=7), cells=[TableCell(location=Location(line=31, column=9), value='mt-broker-filter')], id='75'), TableRow(location=Location(line=32, column=7), cells=[TableCell(location=Location(line=32, column=9), value='mt-broker-ingress')], id='76'), TableRow(location=Location(line=33, column=7), cells=[TableCell(location=Location(line=33, column=9), value='nats-webhook')], id='77')]), id='78'), '85': Scenario(location=Location(line=36, column=3), tags=[], keyword='Scenario', name='Istio', description='', steps=[Step(location=Location(line=37, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"istio-system\" should exist', doc_string=None, data_table=None, id='80'), Step(location=Location(line=38, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"istio-system\" namespace', doc_string=None, data_table=DataTable(location=Location(line=39, column=7), rows=[TableRow(location=Location(line=39, column=7), cells=[TableCell(location=Location(line=39, column=9), value='Deployment name')], id='81'), TableRow(location=Location(line=40, column=7), cells=[TableCell(location=Location(line=40, column=9), value='istiod')], id='82'), TableRow(location=Location(line=41, column=7), cells=[TableCell(location=Location(line=41, column=9), value='istio-ingressgateway')], id='83')]), id='84')], examples=[], id='85'), '80': Step(location=Location(line=37, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"istio-system\" should exist', doc_string=None, data_table=None, id='80'), '84': Step(location=Location(line=38, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"istio-system\" namespace', doc_string=None, data_table=DataTable(location=Location(line=39, column=7), rows=[TableRow(location=Location(line=39, column=7), cells=[TableCell(location=Location(line=39, column=9), value='Deployment name')], id='81'), TableRow(location=Location(line=40, column=7), cells=[TableCell(location=Location(line=40, column=9), value='istiod')], id='82'), TableRow(location=Location(line=41, column=7), cells=[TableCell(location=Location(line=41, column=9), value='istio-ingressgateway')], id='83')]), id='84'), '95': Scenario(location=Location(line=43, column=3), tags=[], keyword='Scenario', name='Redpanda', description='', steps=[Step(location=Location(line=44, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"redpanda\" should exist', doc_string=None, data_table=None, id='86'), Step(location=Location(line=45, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"redpanda\" namespace', doc_string=None, data_table=DataTable(location=Location(line=46, column=7), rows=[TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='Deployment name')], id='87'), TableRow(location=Location(line=47, column=7), cells=[TableCell(location=Location(line=47, column=9), value='redpanda-operator')], id='88')]), id='89'), Step(location=Location(line=48, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='helm release \"neo4j-cdc\" is deployed in \"redpanda\" namespace', doc_string=None, data_table=None, id='90'), Step(location=Location(line=49, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"neo4j-cdc\" in namespace \"redpanda\" is in ready state', doc_string=None, data_table=None, id='91'), Step(location=Location(line=50, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"redpanda\" namespace', doc_string=None, data_table=DataTable(location=Location(line=51, column=7), rows=[TableRow(location=Location(line=51, column=7), cells=[TableCell(location=Location(line=51, column=9), value='Deployment name')], id='92'), TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='neo4j-cdc-console')], id='93')]), id='94')], examples=[], id='95'), '86': Step(location=Location(line=44, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"redpanda\" should exist', doc_string=None, data_table=None, id='86'), '89': Step(location=Location(line=45, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"redpanda\" namespace', doc_string=None, data_table=DataTable(location=Location(line=46, column=7), rows=[TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='Deployment name')], id='87'), TableRow(location=Location(line=47, column=7), cells=[TableCell(location=Location(line=47, column=9), value='redpanda-operator')], id='88')]), id='89'), '90': Step(location=Location(line=48, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='helm release \"neo4j-cdc\" is deployed in \"redpanda\" namespace', doc_string=None, data_table=None, id='90'), '91': Step(location=Location(line=49, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"neo4j-cdc\" in namespace \"redpanda\" is in ready state', doc_string=None, data_table=None, id='91'), '94': Step(location=Location(line=50, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"redpanda\" namespace', doc_string=None, data_table=DataTable(location=Location(line=51, column=7), rows=[TableRow(location=Location(line=51, column=7), cells=[TableCell(location=Location(line=51, column=9), value='Deployment name')], id='92'), TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='neo4j-cdc-console')], id='93')]), id='94'), '102': Scenario(location=Location(line=54, column=3), tags=[], keyword='Scenario', name='Cert manager', description='', steps=[Step(location=Location(line=55, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"cert-manager\" should exist', doc_string=None, data_table=None, id='96'), Step(location=Location(line=56, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"cert-manager\" namespace', doc_string=None, data_table=DataTable(location=Location(line=57, column=7), rows=[TableRow(location=Location(line=57, column=7), cells=[TableCell(location=Location(line=57, column=9), value='Deployment name')], id='97'), TableRow(location=Location(line=58, column=7), cells=[TableCell(location=Location(line=58, column=9), value='cert-manager')], id='98'), TableRow(location=Location(line=59, column=7), cells=[TableCell(location=Location(line=59, column=9), value='cert-manager-cainjector')], id='99'), TableRow(location=Location(line=60, column=7), cells=[TableCell(location=Location(line=60, column=9), value='cert-manager-webhook')], id='100')]), id='101')], examples=[], id='102'), '96': Step(location=Location(line=55, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"cert-manager\" should exist', doc_string=None, data_table=None, id='96'), '101': Step(location=Location(line=56, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"cert-manager\" namespace', doc_string=None, data_table=DataTable(location=Location(line=57, column=7), rows=[TableRow(location=Location(line=57, column=7), cells=[TableCell(location=Location(line=57, column=9), value='Deployment name')], id='97'), TableRow(location=Location(line=58, column=7), cells=[TableCell(location=Location(line=58, column=9), value='cert-manager')], id='98'), TableRow(location=Location(line=59, column=7), cells=[TableCell(location=Location(line=59, column=9), value='cert-manager-cainjector')], id='99'), TableRow(location=Location(line=60, column=7), cells=[TableCell(location=Location(line=60, column=9), value='cert-manager-webhook')], id='100')]), id='101'), '108': Scenario(location=Location(line=62, column=3), tags=[], keyword='Scenario', name='Nats', description='', steps=[Step(location=Location(line=63, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"nats\" should exist', doc_string=None, data_table=None, id='103'), Step(location=Location(line=64, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"nats\" namespace', doc_string=None, data_table=DataTable(location=Location(line=65, column=7), rows=[TableRow(location=Location(line=65, column=7), cells=[TableCell(location=Location(line=65, column=9), value='Deployment name')], id='104'), TableRow(location=Location(line=66, column=7), cells=[TableCell(location=Location(line=66, column=9), value='nats-box')], id='105')]), id='106'), Step(location=Location(line=67, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"nats\" in namespace \"nats\" is in ready state', doc_string=None, data_table=None, id='107')], examples=[], id='108'), '103': Step(location=Location(line=63, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"nats\" should exist', doc_string=None, data_table=None, id='103'), '106': Step(location=Location(line=64, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"nats\" namespace', doc_string=None, data_table=DataTable(location=Location(line=65, column=7), rows=[TableRow(location=Location(line=65, column=7), cells=[TableCell(location=Location(line=65, column=9), value='Deployment name')], id='104'), TableRow(location=Location(line=66, column=7), cells=[TableCell(location=Location(line=66, column=9), value='nats-box')], id='105')]), id='106'), '107': Step(location=Location(line=67, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"nats\" in namespace \"nats\" is in ready state', doc_string=None, data_table=None, id='107'), '123': Scenario(location=Location(line=69, column=3), tags=[], keyword='Scenario', name='Monitoring', description='', steps=[Step(location=Location(line=70, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"monitoring\" should exist', doc_string=None, data_table=None, id='109'), Step(location=Location(line=71, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"monitoring\" namespace', doc_string=None, data_table=DataTable(location=Location(line=72, column=7), rows=[TableRow(location=Location(line=72, column=7), cells=[TableCell(location=Location(line=72, column=9), value='Deployment name')], id='110'), TableRow(location=Location(line=73, column=7), cells=[TableCell(location=Location(line=73, column=9), value='loki-gateway')], id='111'), TableRow(location=Location(line=74, column=7), cells=[TableCell(location=Location(line=74, column=9), value='otel-collector-opentelemetry-collector')], id='112'), TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='vm-aio-grafana')], id='113'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='vm-aio-kube-state-metrics')], id='114'), TableRow(location=Location(line=77, column=7), cells=[TableCell(location=Location(line=77, column=9), value='vm-aio-victoria-metrics-operator')], id='115'), TableRow(location=Location(line=78, column=7), cells=[TableCell(location=Location(line=78, column=9), value='vmagent-vm-aio-victoria-metrics-k8s-stack')], id='116'), TableRow(location=Location(line=79, column=7), cells=[TableCell(location=Location(line=79, column=9), value='vmalert-vm-aio-victoria-metrics-k8s-stack')], id='117'), TableRow(location=Location(line=80, column=7), cells=[TableCell(location=Location(line=80, column=9), value='vmsingle-vm-aio-victoria-metrics-k8s-stack')], id='118')]), id='119'), Step(location=Location(line=81, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"loki\" in namespace \"monitoring\" is in ready state', doc_string=None, data_table=None, id='120'), Step(location=Location(line=82, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"tempo\" in namespace \"monitoring\" is in ready state', doc_string=None, data_table=None, id='121'), Step(location=Location(line=83, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"vmalertmanager-vm-aio-victoria-metrics-k8s-stack\" in namespace \"monitoring\" is in ready state', doc_string=None, data_table=None, id='122')], examples=[], id='123'), '109': Step(location=Location(line=70, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"monitoring\" should exist', doc_string=None, data_table=None, id='109'), '119': Step(location=Location(line=71, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"monitoring\" namespace', doc_string=None, data_table=DataTable(location=Location(line=72, column=7), rows=[TableRow(location=Location(line=72, column=7), cells=[TableCell(location=Location(line=72, column=9), value='Deployment name')], id='110'), TableRow(location=Location(line=73, column=7), cells=[TableCell(location=Location(line=73, column=9), value='loki-gateway')], id='111'), TableRow(location=Location(line=74, column=7), cells=[TableCell(location=Location(line=74, column=9), value='otel-collector-opentelemetry-collector')], id='112'), TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='vm-aio-grafana')], id='113'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='vm-aio-kube-state-metrics')], id='114'), TableRow(location=Location(line=77, column=7), cells=[TableCell(location=Location(line=77, column=9), value='vm-aio-victoria-metrics-operator')], id='115'), TableRow(location=Location(line=78, column=7), cells=[TableCell(location=Location(line=78, column=9), value='vmagent-vm-aio-victoria-metrics-k8s-stack')], id='116'), TableRow(location=Location(line=79, column=7), cells=[TableCell(location=Location(line=79, column=9), value='vmalert-vm-aio-victoria-metrics-k8s-stack')], id='117'), TableRow(location=Location(line=80, column=7), cells=[TableCell(location=Location(line=80, column=9), value='vmsingle-vm-aio-victoria-metrics-k8s-stack')], id='118')]), id='119'), '120': Step(location=Location(line=81, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"loki\" in namespace \"monitoring\" is in ready state', doc_string=None, data_table=None, id='120'), '121': Step(location=Location(line=82, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"tempo\" in namespace \"monitoring\" is in ready state', doc_string=None, data_table=None, id='121'), '122': Step(location=Location(line=83, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"vmalertmanager-vm-aio-victoria-metrics-k8s-stack\" in namespace \"monitoring\" is in ready state', doc_string=None, data_table=None, id='122')}, pickles=[Pickle(id='132', uri='file:features/0_1_mindwm_eda.feature', name='Knative', language='en', steps=[PickleStep(argument=None, ast_node_ids=['50'], id='125', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['51'], id='126', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['53'], id='127', type=<Type.outcome: 'Outcome'>, text='namespace \"knative-serving\" should exist'), PickleStep(argument=None, ast_node_ids=['54'], id='128', type=<Type.outcome: 'Outcome'>, text='namespace \"knative-eventing\" should exist'), PickleStep(argument=None, ast_node_ids=['55'], id='129', type=<Type.outcome: 'Outcome'>, text='namespace \"knative-operator\" should exist'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='activator')]), PickleTableRow(cells=[PickleTableCell(value='autoscaler')]), PickleTableRow(cells=[PickleTableCell(value='autoscaler-hpa')]), PickleTableRow(cells=[PickleTableCell(value='controller')]), PickleTableRow(cells=[PickleTableCell(value='net-istio-controller')]), PickleTableRow(cells=[PickleTableCell(value='net-istio-webhook')]), PickleTableRow(cells=[PickleTableCell(value='webhook')])])), ast_node_ids=['64'], id='130', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"knative-serving\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='eventing-controller')]), PickleTableRow(cells=[PickleTableCell(value='eventing-webhook')]), PickleTableRow(cells=[PickleTableCell(value='imc-dispatcher')]), PickleTableRow(cells=[PickleTableCell(value='imc-controller')]), PickleTableRow(cells=[PickleTableCell(value='jetstream-ch-controller')]), PickleTableRow(cells=[PickleTableCell(value='job-sink')]), PickleTableRow(cells=[PickleTableCell(value='kafka-controller')]), PickleTableRow(cells=[PickleTableCell(value='kafka-webhook-eventing')]), PickleTableRow(cells=[PickleTableCell(value='mt-broker-controller')]), PickleTableRow(cells=[PickleTableCell(value='mt-broker-filter')]), PickleTableRow(cells=[PickleTableCell(value='mt-broker-ingress')]), PickleTableRow(cells=[PickleTableCell(value='nats-webhook')])])), ast_node_ids=['78'], id='131', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"knative-eventing\" namespace')], tags=[PickleTag(name='@eda', ast_node_id='124')], ast_node_ids=['79']), Pickle(id='137', uri='file:features/0_1_mindwm_eda.feature', name='Istio', language='en', steps=[PickleStep(argument=None, ast_node_ids=['50'], id='133', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['51'], id='134', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['80'], id='135', type=<Type.outcome: 'Outcome'>, text='namespace \"istio-system\" should exist'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='istiod')]), PickleTableRow(cells=[PickleTableCell(value='istio-ingressgateway')])])), ast_node_ids=['84'], id='136', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"istio-system\" namespace')], tags=[PickleTag(name='@eda', ast_node_id='124')], ast_node_ids=['85']), Pickle(id='145', uri='file:features/0_1_mindwm_eda.feature', name='Redpanda', language='en', steps=[PickleStep(argument=None, ast_node_ids=['50'], id='138', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['51'], id='139', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['86'], id='140', type=<Type.outcome: 'Outcome'>, text='namespace \"redpanda\" should exist'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='redpanda-operator')])])), ast_node_ids=['89'], id='141', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"redpanda\" namespace'), PickleStep(argument=None, ast_node_ids=['90'], id='142', type=<Type.outcome: 'Outcome'>, text='helm release \"neo4j-cdc\" is deployed in \"redpanda\" namespace'), PickleStep(argument=None, ast_node_ids=['91'], id='143', type=<Type.outcome: 'Outcome'>, text='statefulset \"neo4j-cdc\" in namespace \"redpanda\" is in ready state'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='neo4j-cdc-console')])])), ast_node_ids=['94'], id='144', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"redpanda\" namespace')], tags=[PickleTag(name='@eda', ast_node_id='124')], ast_node_ids=['95']), Pickle(id='150', uri='file:features/0_1_mindwm_eda.feature', name='Cert manager', language='en', steps=[PickleStep(argument=None, ast_node_ids=['50'], id='146', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['51'], id='147', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['96'], id='148', type=<Type.outcome: 'Outcome'>, text='namespace \"cert-manager\" should exist'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='cert-manager')]), PickleTableRow(cells=[PickleTableCell(value='cert-manager-cainjector')]), PickleTableRow(cells=[PickleTableCell(value='cert-manager-webhook')])])), ast_node_ids=['101'], id='149', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"cert-manager\" namespace')], tags=[PickleTag(name='@eda', ast_node_id='124')], ast_node_ids=['102']), Pickle(id='156', uri='file:features/0_1_mindwm_eda.feature', name='Nats', language='en', steps=[PickleStep(argument=None, ast_node_ids=['50'], id='151', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['51'], id='152', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['103'], id='153', type=<Type.outcome: 'Outcome'>, text='namespace \"nats\" should exist'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='nats-box')])])), ast_node_ids=['106'], id='154', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"nats\" namespace'), PickleStep(argument=None, ast_node_ids=['107'], id='155', type=<Type.outcome: 'Outcome'>, text='statefulset \"nats\" in namespace \"nats\" is in ready state')], tags=[PickleTag(name='@eda', ast_node_id='124')], ast_node_ids=['108']), Pickle(id='164', uri='file:features/0_1_mindwm_eda.feature', name='Monitoring', language='en', steps=[PickleStep(argument=None, ast_node_ids=['50'], id='157', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['51'], id='158', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['109'], id='159', type=<Type.outcome: 'Outcome'>, text='namespace \"monitoring\" should exist'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='loki-gateway')]), PickleTableRow(cells=[PickleTableCell(value='otel-collector-opentelemetry-collector')]), PickleTableRow(cells=[PickleTableCell(value='vm-aio-grafana')]), PickleTableRow(cells=[PickleTableCell(value='vm-aio-kube-state-metrics')]), PickleTableRow(cells=[PickleTableCell(value='vm-aio-victoria-metrics-operator')]), PickleTableRow(cells=[PickleTableCell(value='vmagent-vm-aio-victoria-metrics-k8s-stack')]), PickleTableRow(cells=[PickleTableCell(value='vmalert-vm-aio-victoria-metrics-k8s-stack')]), PickleTableRow(cells=[PickleTableCell(value='vmsingle-vm-aio-victoria-metrics-k8s-stack')])])), ast_node_ids=['119'], id='160', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"monitoring\" namespace'), PickleStep(argument=None, ast_node_ids=['120'], id='161', type=<Type.outcome: 'Outcome'>, text='statefulset \"loki\" in namespace \"monitoring\" is in ready state'), PickleStep(argument=None, ast_node_ids=['121'], id='162', type=<Type.outcome: 'Outcome'>, text='statefulset \"tempo\" in namespace \"monitoring\" is in ready state'), PickleStep(argument=None, ast_node_ids=['122'], id='163', type=<Type.outcome: 'Outcome'>, text='statefulset \"vmalertmanager-vm-aio-victoria-metrics-k8s-stack\" in namespace \"monitoring\" is in ready state')], tags=[PickleTag(name='@eda', ast_node_id='124')], ast_node_ids=['123'])])","Source(uri='file:features/0_1_mindwm_eda.feature', data='@eda\\nFeature: Mindwm event driven architecture\\n  Background:\\n    Given a MindWM environment\\n    Then all nodes in Kubernetes are ready\\n\\n  Scenario: Knative\\n    And namespace \"knative-serving\" should exist\\n    And namespace \"knative-eventing\" should exist\\n    And namespace \"knative-operator\" should exist\\n    And the following deployments are in a ready state in the \"knative-serving\" namespace\\n      | Deployment name      | \\n      | activator            |\\n      | autoscaler           |\\n      | autoscaler-hpa       | \\n      | controller           |\\n      | net-istio-controller |\\n      | net-istio-webhook    |\\n      | webhook              |\\n    And the following deployments are in a ready state in the \"knative-eventing\" namespace\\n      | Deployment name         | \\n      | eventing-controller     |\\n      | eventing-webhook        |\\n      | imc-dispatcher          |\\n      | imc-controller          |\\n      | jetstream-ch-controller |\\n      | job-sink \\t\\t|\\n      | kafka-controller        |\\n      | kafka-webhook-eventing  |\\n      | mt-broker-controller    |\\n      | mt-broker-filter        |\\n      | mt-broker-ingress       |\\n      | nats-webhook            |\\n   \\n\\n  Scenario: Istio\\n    And namespace \"istio-system\" should exist\\n    And the following deployments are in a ready state in the \"istio-system\" namespace\\n      | Deployment name         | \\n      | istiod                  |\\n      | istio-ingressgateway    |\\n\\n  Scenario: Redpanda\\n    And namespace \"redpanda\" should exist\\n    And the following deployments are in a ready state in the \"redpanda\" namespace\\n      | Deployment name         | \\n      | redpanda-operator       |\\n    And helm release \"neo4j-cdc\" is deployed in \"redpanda\" namespace\\n    And statefulset \"neo4j-cdc\" in namespace \"redpanda\" is in ready state\\n    And the following deployments are in a ready state in the \"redpanda\" namespace\\n      | Deployment name         | \\n      | neo4j-cdc-console       |\\n\\n  Scenario: Cert manager\\n    And namespace \"cert-manager\" should exist\\n    And the following deployments are in a ready state in the \"cert-manager\" namespace\\n      | Deployment name          | \\n      | cert-manager             |\\n      | cert-manager-cainjector |\\n      | cert-manager-webhook     |\\n\\n  Scenario: Nats\\n    And namespace \"nats\" should exist\\n    And the following deployments are in a ready state in the \"nats\" namespace\\n      | Deployment name         | \\n      | nats-box                |\\n    And statefulset \"nats\" in namespace \"nats\" is in ready state\\n\\n  Scenario: Monitoring\\n    And namespace \"monitoring\" should exist\\n    And the following deployments are in a ready state in the \"monitoring\" namespace\\n      | Deployment name         | \\n      | loki-gateway | \\n      | otel-collector-opentelemetry-collector | \\n      | vm-aio-grafana | \\n      | vm-aio-kube-state-metrics | \\n      | vm-aio-victoria-metrics-operator | \\n      | vmagent-vm-aio-victoria-metrics-k8s-stack | \\n      | vmalert-vm-aio-victoria-metrics-k8s-stack | \\n      | vmsingle-vm-aio-victoria-metrics-k8s-stack | \\n    And statefulset \"loki\" in namespace \"monitoring\" is in ready state\\n    And statefulset \"tempo\" in namespace \"monitoring\" is in ready state\\n    And statefulset \"vmalertmanager-vm-aio-victoria-metrics-k8s-stack\" in namespace \"monitoring\" is in ready state\\n', media_type='text/x.cucumber.gherkin+plain')","Pickle(id='137', uri='file:features/0_1_mindwm_eda.feature', name='Istio', language='en', steps=[PickleStep(argument=None, ast_node_ids=['50'], id='133', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['51'], id='134', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['80'], id='135', type=<Type.outcome: 'Outcome'>, text='namespace \"istio-system\" should exist'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='istiod')]), PickleTableRow(cells=[PickleTableCell(value='istio-ingressgateway')])])), ast_node_ids=['84'], id='136', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"istio-system\" namespace')], tags=[PickleTag(name='@eda', ast_node_id='124')], ast_node_ids=['85'])"],"tags":["eda","pytest_bdd_scenario","@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')","scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/0_1_mindwm_eda.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=<FeaturePathType.PATH: 'path'>, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())","namespace(create=False, name='default')"]},{"name":"test_scenarios[file:features/3_mindwm_ping_pong.feature-MindWM Ping-pong EDA test-Cleanup amanda4@pi6-host in green4[table_rows:[line: 123]]]","uid":"16939a011145e4b8","parentUid":"3961740595044ffd97a03e46799bfc30","status":"passed","time":{"start":1728403861840,"stop":1728403862017,"duration":177},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["Feature(gherkin_document=GherkinDocument(uri='file:features/3_mindwm_ping_pong.feature', feature=Feature(location=Location(line=3, column=1), tags=[Tag(location=Location(line=1, column=1), name='@mindwm_ping_pong', id='380'), Tag(location=Location(line=2, column=1), name='@mindwm_test', id='381')], language='en', keyword='Feature', name='MindWM Ping-pong EDA test', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='306'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='307')], id='308'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Prepare environment for ping tests', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='309'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='310'), Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='311'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='pong')], id='312')]), id='313'), Step(location=Location(line=15, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='314'), Step(location=Location(line=16, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='315'), Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='316'), Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='317'), Step(location=Location(line=20, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace', doc_string=None, data_table=None, id='318'), Step(location=Location(line=22, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='319')], examples=[Examples(location=Location(line=24, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=25, column=6), cells=[TableCell(location=Location(line=25, column=8), value='context'), TableCell(location=Location(line=25, column=18), value='username'), TableCell(location=Location(line=25, column=31), value='host')], id='320'), table_body=[TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='green4'), TableCell(location=Location(line=26, column=19), value='amanda4'), TableCell(location=Location(line=26, column=31), value='pi6-host')], id='321')], id='322')], id='323')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=28, column=3), tags=[], keyword='Scenario', name='Send pind to knative ping service', description='', steps=[Step(location=Location(line=29, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='324'), Step(location=Location(line=30, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='325'), Step(location=Location(line=31, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='326'), Step(location=Location(line=32, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"', doc_string=None, data_table=None, id='327'), Step(location=Location(line=33, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to knative service \"pong\" in \"context-<context>\" namespace', doc_string=DocString(location=Location(line=34, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='328'), Step(location=Location(line=42, column=7), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"200\"', doc_string=None, data_table=None, id='329'), Step(location=Location(line=44, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=45, column=7), rows=[TableRow(location=Location(line=45, column=7), cells=[TableCell(location=Location(line=45, column=9), value='Deployment name')], id='330'), TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='pong-00001-deployment')], id='331')]), id='332')], examples=[Examples(location=Location(line=48, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=49, column=6), cells=[TableCell(location=Location(line=49, column=8), value='context'), TableCell(location=Location(line=49, column=18), value='username'), TableCell(location=Location(line=49, column=31), value='host')], id='333'), table_body=[TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='green4'), TableCell(location=Location(line=50, column=19), value='amanda4'), TableCell(location=Location(line=50, column=31), value='pi6-host')], id='334')], id='335')], id='336')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=52, column=3), tags=[], keyword='Scenario', name='Send ping via <endpoint>', description='', steps=[Step(location=Location(line=53, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='337'), Step(location=Location(line=54, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='338'), Step(location=Location(line=55, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='339'), Step(location=Location(line=56, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='340'), Step(location=Location(line=57, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"', doc_string=None, data_table=None, id='341'), Step(location=Location(line=58, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to \"<endpoint>\"', doc_string=DocString(location=Location(line=59, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='342'), Step(location=Location(line=67, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"202\"', doc_string=None, data_table=None, id='343'), Step(location=Location(line=69, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=70, column=7), rows=[TableRow(location=Location(line=70, column=7), cells=[TableCell(location=Location(line=70, column=9), value='Deployment name')], id='344'), TableRow(location=Location(line=71, column=7), cells=[TableCell(location=Location(line=71, column=9), value='pong-00001-deployment')], id='345')]), id='346'), Step(location=Location(line=72, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the trace with \"<traceparent>\" should appear in TraceQL', doc_string=None, data_table=None, id='347'), Step(location=Location(line=73, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the trace should contains', doc_string=None, data_table=DataTable(location=Location(line=74, column=7), rows=[TableRow(location=Location(line=74, column=7), cells=[TableCell(location=Location(line=74, column=9), value='service name')], id='348'), TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='broker-ingress.knative-eventing')], id='349'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='unknown_service')], id='350'), TableRow(location=Location(line=77, column=7), cells=[TableCell(location=Location(line=77, column=9), value='jetstream-ch-dispatcher')], id='351')]), id='352'), Step(location=Location(line=78, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='353')], examples=[Examples(location=Location(line=80, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=81, column=6), cells=[TableCell(location=Location(line=81, column=8), value='context'), TableCell(location=Location(line=81, column=18), value='username'), TableCell(location=Location(line=81, column=31), value='host'), TableCell(location=Location(line=81, column=43), value='endpoint'), TableCell(location=Location(line=81, column=54), value='traceparent')], id='354'), table_body=[TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='green4'), TableCell(location=Location(line=82, column=19), value='amanda4'), TableCell(location=Location(line=82, column=31), value='pi6-host'), TableCell(location=Location(line=82, column=43), value='broker-ingress.knative-eventing/context-green4/context-broker'), TableCell(location=Location(line=82, column=109), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='355'), TableRow(location=Location(line=83, column=6), cells=[TableCell(location=Location(line=83, column=8), value='green4'), TableCell(location=Location(line=83, column=19), value='amanda4'), TableCell(location=Location(line=83, column=31), value='pi6-host'), TableCell(location=Location(line=83, column=43), value='broker-ingress.knative-eventing/user-amanda4/user-broker'), TableCell(location=Location(line=83, column=102), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='356')], id='357')], id='358')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=86, column=3), tags=[], keyword='Scenario', name='Send ping via nats', description='', steps=[Step(location=Location(line=87, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='359'), Step(location=Location(line=88, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='360'), Step(location=Location(line=89, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='361'), Step(location=Location(line=90, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='362'), Step(location=Location(line=91, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=92, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='363'), Step(location=Location(line=101, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=102, column=7), rows=[TableRow(location=Location(line=102, column=7), cells=[TableCell(location=Location(line=102, column=9), value='Deployment name')], id='364'), TableRow(location=Location(line=103, column=7), cells=[TableCell(location=Location(line=103, column=9), value='pong-00001-deployment')], id='365')]), id='366'), Step(location=Location(line=105, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='367')], examples=[Examples(location=Location(line=108, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=109, column=6), cells=[TableCell(location=Location(line=109, column=8), value='context'), TableCell(location=Location(line=109, column=18), value='username'), TableCell(location=Location(line=109, column=31), value='host'), TableCell(location=Location(line=109, column=43), value='tmux_pane'), TableCell(location=Location(line=109, column=55), value='tmux_window'), TableCell(location=Location(line=109, column=69), value='uuid'), TableCell(location=Location(line=109, column=109), value='tmux_socket')], id='368'), table_body=[TableRow(location=Location(line=110, column=6), cells=[TableCell(location=Location(line=110, column=8), value='green4'), TableCell(location=Location(line=110, column=19), value='amanda4'), TableCell(location=Location(line=110, column=31), value='pi6-host'), TableCell(location=Location(line=110, column=43), value='23'), TableCell(location=Location(line=110, column=55), value='36'), TableCell(location=Location(line=110, column=69), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=110, column=108), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='369')], id='370')], id='371')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=113, column=4), tags=[], keyword='Scenario', name='Cleanup <username>@<host> in <context>', description='', steps=[Step(location=Location(line=114, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='372'), Step(location=Location(line=115, column=6), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='373'), Step(location=Location(line=117, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='374'), Step(location=Location(line=119, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='375')], examples=[Examples(location=Location(line=121, column=6), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=122, column=6), cells=[TableCell(location=Location(line=122, column=8), value='context'), TableCell(location=Location(line=122, column=18), value='username'), TableCell(location=Location(line=122, column=29), value='host')], id='376'), table_body=[TableRow(location=Location(line=123, column=6), cells=[TableCell(location=Location(line=123, column=8), value='green4'), TableCell(location=Location(line=123, column=19), value='amanda4'), TableCell(location=Location(line=123, column=31), value='pi6-host')], id='377')], id='378')], id='379'))]), comments=[]), uri='file:features/3_mindwm_ping_pong.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/3_mindwm_ping_pong.feature', registry={'380': Tag(location=Location(line=1, column=1), name='@mindwm_ping_pong', id='380'), '381': Tag(location=Location(line=2, column=1), name='@mindwm_test', id='381'), '308': Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='306'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='307')], id='308'), '306': Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='306'), '307': Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='307'), '323': Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Prepare environment for ping tests', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='309'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='310'), Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='311'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='pong')], id='312')]), id='313'), Step(location=Location(line=15, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='314'), Step(location=Location(line=16, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='315'), Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='316'), Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='317'), Step(location=Location(line=20, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace', doc_string=None, data_table=None, id='318'), Step(location=Location(line=22, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='319')], examples=[Examples(location=Location(line=24, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=25, column=6), cells=[TableCell(location=Location(line=25, column=8), value='context'), TableCell(location=Location(line=25, column=18), value='username'), TableCell(location=Location(line=25, column=31), value='host')], id='320'), table_body=[TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='green4'), TableCell(location=Location(line=26, column=19), value='amanda4'), TableCell(location=Location(line=26, column=31), value='pi6-host')], id='321')], id='322')], id='323'), '309': Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='309'), '310': Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='310'), '313': Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='311'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='pong')], id='312')]), id='313'), '314': Step(location=Location(line=15, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='314'), '315': Step(location=Location(line=16, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='315'), '316': Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='316'), '317': Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='317'), '318': Step(location=Location(line=20, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace', doc_string=None, data_table=None, id='318'), '319': Step(location=Location(line=22, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='319'), '322': Examples(location=Location(line=24, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=25, column=6), cells=[TableCell(location=Location(line=25, column=8), value='context'), TableCell(location=Location(line=25, column=18), value='username'), TableCell(location=Location(line=25, column=31), value='host')], id='320'), table_body=[TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='green4'), TableCell(location=Location(line=26, column=19), value='amanda4'), TableCell(location=Location(line=26, column=31), value='pi6-host')], id='321')], id='322'), '320': TableRow(location=Location(line=25, column=6), cells=[TableCell(location=Location(line=25, column=8), value='context'), TableCell(location=Location(line=25, column=18), value='username'), TableCell(location=Location(line=25, column=31), value='host')], id='320'), '321': TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='green4'), TableCell(location=Location(line=26, column=19), value='amanda4'), TableCell(location=Location(line=26, column=31), value='pi6-host')], id='321'), '336': Scenario(location=Location(line=28, column=3), tags=[], keyword='Scenario', name='Send pind to knative ping service', description='', steps=[Step(location=Location(line=29, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='324'), Step(location=Location(line=30, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='325'), Step(location=Location(line=31, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='326'), Step(location=Location(line=32, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"', doc_string=None, data_table=None, id='327'), Step(location=Location(line=33, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to knative service \"pong\" in \"context-<context>\" namespace', doc_string=DocString(location=Location(line=34, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='328'), Step(location=Location(line=42, column=7), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"200\"', doc_string=None, data_table=None, id='329'), Step(location=Location(line=44, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=45, column=7), rows=[TableRow(location=Location(line=45, column=7), cells=[TableCell(location=Location(line=45, column=9), value='Deployment name')], id='330'), TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='pong-00001-deployment')], id='331')]), id='332')], examples=[Examples(location=Location(line=48, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=49, column=6), cells=[TableCell(location=Location(line=49, column=8), value='context'), TableCell(location=Location(line=49, column=18), value='username'), TableCell(location=Location(line=49, column=31), value='host')], id='333'), table_body=[TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='green4'), TableCell(location=Location(line=50, column=19), value='amanda4'), TableCell(location=Location(line=50, column=31), value='pi6-host')], id='334')], id='335')], id='336'), '324': Step(location=Location(line=29, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='324'), '325': Step(location=Location(line=30, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='325'), '326': Step(location=Location(line=31, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='326'), '327': Step(location=Location(line=32, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"', doc_string=None, data_table=None, id='327'), '328': Step(location=Location(line=33, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to knative service \"pong\" in \"context-<context>\" namespace', doc_string=DocString(location=Location(line=34, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='328'), '329': Step(location=Location(line=42, column=7), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"200\"', doc_string=None, data_table=None, id='329'), '332': Step(location=Location(line=44, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=45, column=7), rows=[TableRow(location=Location(line=45, column=7), cells=[TableCell(location=Location(line=45, column=9), value='Deployment name')], id='330'), TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='pong-00001-deployment')], id='331')]), id='332'), '335': Examples(location=Location(line=48, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=49, column=6), cells=[TableCell(location=Location(line=49, column=8), value='context'), TableCell(location=Location(line=49, column=18), value='username'), TableCell(location=Location(line=49, column=31), value='host')], id='333'), table_body=[TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='green4'), TableCell(location=Location(line=50, column=19), value='amanda4'), TableCell(location=Location(line=50, column=31), value='pi6-host')], id='334')], id='335'), '333': TableRow(location=Location(line=49, column=6), cells=[TableCell(location=Location(line=49, column=8), value='context'), TableCell(location=Location(line=49, column=18), value='username'), TableCell(location=Location(line=49, column=31), value='host')], id='333'), '334': TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='green4'), TableCell(location=Location(line=50, column=19), value='amanda4'), TableCell(location=Location(line=50, column=31), value='pi6-host')], id='334'), '358': Scenario(location=Location(line=52, column=3), tags=[], keyword='Scenario', name='Send ping via <endpoint>', description='', steps=[Step(location=Location(line=53, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='337'), Step(location=Location(line=54, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='338'), Step(location=Location(line=55, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='339'), Step(location=Location(line=56, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='340'), Step(location=Location(line=57, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"', doc_string=None, data_table=None, id='341'), Step(location=Location(line=58, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to \"<endpoint>\"', doc_string=DocString(location=Location(line=59, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='342'), Step(location=Location(line=67, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"202\"', doc_string=None, data_table=None, id='343'), Step(location=Location(line=69, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=70, column=7), rows=[TableRow(location=Location(line=70, column=7), cells=[TableCell(location=Location(line=70, column=9), value='Deployment name')], id='344'), TableRow(location=Location(line=71, column=7), cells=[TableCell(location=Location(line=71, column=9), value='pong-00001-deployment')], id='345')]), id='346'), Step(location=Location(line=72, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the trace with \"<traceparent>\" should appear in TraceQL', doc_string=None, data_table=None, id='347'), Step(location=Location(line=73, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the trace should contains', doc_string=None, data_table=DataTable(location=Location(line=74, column=7), rows=[TableRow(location=Location(line=74, column=7), cells=[TableCell(location=Location(line=74, column=9), value='service name')], id='348'), TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='broker-ingress.knative-eventing')], id='349'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='unknown_service')], id='350'), TableRow(location=Location(line=77, column=7), cells=[TableCell(location=Location(line=77, column=9), value='jetstream-ch-dispatcher')], id='351')]), id='352'), Step(location=Location(line=78, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='353')], examples=[Examples(location=Location(line=80, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=81, column=6), cells=[TableCell(location=Location(line=81, column=8), value='context'), TableCell(location=Location(line=81, column=18), value='username'), TableCell(location=Location(line=81, column=31), value='host'), TableCell(location=Location(line=81, column=43), value='endpoint'), TableCell(location=Location(line=81, column=54), value='traceparent')], id='354'), table_body=[TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='green4'), TableCell(location=Location(line=82, column=19), value='amanda4'), TableCell(location=Location(line=82, column=31), value='pi6-host'), TableCell(location=Location(line=82, column=43), value='broker-ingress.knative-eventing/context-green4/context-broker'), TableCell(location=Location(line=82, column=109), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='355'), TableRow(location=Location(line=83, column=6), cells=[TableCell(location=Location(line=83, column=8), value='green4'), TableCell(location=Location(line=83, column=19), value='amanda4'), TableCell(location=Location(line=83, column=31), value='pi6-host'), TableCell(location=Location(line=83, column=43), value='broker-ingress.knative-eventing/user-amanda4/user-broker'), TableCell(location=Location(line=83, column=102), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='356')], id='357')], id='358'), '337': Step(location=Location(line=53, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='337'), '338': Step(location=Location(line=54, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='338'), '339': Step(location=Location(line=55, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='339'), '340': Step(location=Location(line=56, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='340'), '341': Step(location=Location(line=57, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"', doc_string=None, data_table=None, id='341'), '342': Step(location=Location(line=58, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to \"<endpoint>\"', doc_string=DocString(location=Location(line=59, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='342'), '343': Step(location=Location(line=67, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"202\"', doc_string=None, data_table=None, id='343'), '346': Step(location=Location(line=69, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=70, column=7), rows=[TableRow(location=Location(line=70, column=7), cells=[TableCell(location=Location(line=70, column=9), value='Deployment name')], id='344'), TableRow(location=Location(line=71, column=7), cells=[TableCell(location=Location(line=71, column=9), value='pong-00001-deployment')], id='345')]), id='346'), '347': Step(location=Location(line=72, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the trace with \"<traceparent>\" should appear in TraceQL', doc_string=None, data_table=None, id='347'), '352': Step(location=Location(line=73, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the trace should contains', doc_string=None, data_table=DataTable(location=Location(line=74, column=7), rows=[TableRow(location=Location(line=74, column=7), cells=[TableCell(location=Location(line=74, column=9), value='service name')], id='348'), TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='broker-ingress.knative-eventing')], id='349'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='unknown_service')], id='350'), TableRow(location=Location(line=77, column=7), cells=[TableCell(location=Location(line=77, column=9), value='jetstream-ch-dispatcher')], id='351')]), id='352'), '353': Step(location=Location(line=78, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='353'), '357': Examples(location=Location(line=80, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=81, column=6), cells=[TableCell(location=Location(line=81, column=8), value='context'), TableCell(location=Location(line=81, column=18), value='username'), TableCell(location=Location(line=81, column=31), value='host'), TableCell(location=Location(line=81, column=43), value='endpoint'), TableCell(location=Location(line=81, column=54), value='traceparent')], id='354'), table_body=[TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='green4'), TableCell(location=Location(line=82, column=19), value='amanda4'), TableCell(location=Location(line=82, column=31), value='pi6-host'), TableCell(location=Location(line=82, column=43), value='broker-ingress.knative-eventing/context-green4/context-broker'), TableCell(location=Location(line=82, column=109), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='355'), TableRow(location=Location(line=83, column=6), cells=[TableCell(location=Location(line=83, column=8), value='green4'), TableCell(location=Location(line=83, column=19), value='amanda4'), TableCell(location=Location(line=83, column=31), value='pi6-host'), TableCell(location=Location(line=83, column=43), value='broker-ingress.knative-eventing/user-amanda4/user-broker'), TableCell(location=Location(line=83, column=102), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='356')], id='357'), '354': TableRow(location=Location(line=81, column=6), cells=[TableCell(location=Location(line=81, column=8), value='context'), TableCell(location=Location(line=81, column=18), value='username'), TableCell(location=Location(line=81, column=31), value='host'), TableCell(location=Location(line=81, column=43), value='endpoint'), TableCell(location=Location(line=81, column=54), value='traceparent')], id='354'), '355': TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='green4'), TableCell(location=Location(line=82, column=19), value='amanda4'), TableCell(location=Location(line=82, column=31), value='pi6-host'), TableCell(location=Location(line=82, column=43), value='broker-ingress.knative-eventing/context-green4/context-broker'), TableCell(location=Location(line=82, column=109), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='355'), '356': TableRow(location=Location(line=83, column=6), cells=[TableCell(location=Location(line=83, column=8), value='green4'), TableCell(location=Location(line=83, column=19), value='amanda4'), TableCell(location=Location(line=83, column=31), value='pi6-host'), TableCell(location=Location(line=83, column=43), value='broker-ingress.knative-eventing/user-amanda4/user-broker'), TableCell(location=Location(line=83, column=102), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='356'), '371': Scenario(location=Location(line=86, column=3), tags=[], keyword='Scenario', name='Send ping via nats', description='', steps=[Step(location=Location(line=87, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='359'), Step(location=Location(line=88, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='360'), Step(location=Location(line=89, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='361'), Step(location=Location(line=90, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='362'), Step(location=Location(line=91, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=92, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='363'), Step(location=Location(line=101, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=102, column=7), rows=[TableRow(location=Location(line=102, column=7), cells=[TableCell(location=Location(line=102, column=9), value='Deployment name')], id='364'), TableRow(location=Location(line=103, column=7), cells=[TableCell(location=Location(line=103, column=9), value='pong-00001-deployment')], id='365')]), id='366'), Step(location=Location(line=105, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='367')], examples=[Examples(location=Location(line=108, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=109, column=6), cells=[TableCell(location=Location(line=109, column=8), value='context'), TableCell(location=Location(line=109, column=18), value='username'), TableCell(location=Location(line=109, column=31), value='host'), TableCell(location=Location(line=109, column=43), value='tmux_pane'), TableCell(location=Location(line=109, column=55), value='tmux_window'), TableCell(location=Location(line=109, column=69), value='uuid'), TableCell(location=Location(line=109, column=109), value='tmux_socket')], id='368'), table_body=[TableRow(location=Location(line=110, column=6), cells=[TableCell(location=Location(line=110, column=8), value='green4'), TableCell(location=Location(line=110, column=19), value='amanda4'), TableCell(location=Location(line=110, column=31), value='pi6-host'), TableCell(location=Location(line=110, column=43), value='23'), TableCell(location=Location(line=110, column=55), value='36'), TableCell(location=Location(line=110, column=69), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=110, column=108), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='369')], id='370')], id='371'), '359': Step(location=Location(line=87, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='359'), '360': Step(location=Location(line=88, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='360'), '361': Step(location=Location(line=89, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='361'), '362': Step(location=Location(line=90, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='362'), '363': Step(location=Location(line=91, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=92, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='363'), '366': Step(location=Location(line=101, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=102, column=7), rows=[TableRow(location=Location(line=102, column=7), cells=[TableCell(location=Location(line=102, column=9), value='Deployment name')], id='364'), TableRow(location=Location(line=103, column=7), cells=[TableCell(location=Location(line=103, column=9), value='pong-00001-deployment')], id='365')]), id='366'), '367': Step(location=Location(line=105, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='367'), '370': Examples(location=Location(line=108, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=109, column=6), cells=[TableCell(location=Location(line=109, column=8), value='context'), TableCell(location=Location(line=109, column=18), value='username'), TableCell(location=Location(line=109, column=31), value='host'), TableCell(location=Location(line=109, column=43), value='tmux_pane'), TableCell(location=Location(line=109, column=55), value='tmux_window'), TableCell(location=Location(line=109, column=69), value='uuid'), TableCell(location=Location(line=109, column=109), value='tmux_socket')], id='368'), table_body=[TableRow(location=Location(line=110, column=6), cells=[TableCell(location=Location(line=110, column=8), value='green4'), TableCell(location=Location(line=110, column=19), value='amanda4'), TableCell(location=Location(line=110, column=31), value='pi6-host'), TableCell(location=Location(line=110, column=43), value='23'), TableCell(location=Location(line=110, column=55), value='36'), TableCell(location=Location(line=110, column=69), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=110, column=108), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='369')], id='370'), '368': TableRow(location=Location(line=109, column=6), cells=[TableCell(location=Location(line=109, column=8), value='context'), TableCell(location=Location(line=109, column=18), value='username'), TableCell(location=Location(line=109, column=31), value='host'), TableCell(location=Location(line=109, column=43), value='tmux_pane'), TableCell(location=Location(line=109, column=55), value='tmux_window'), TableCell(location=Location(line=109, column=69), value='uuid'), TableCell(location=Location(line=109, column=109), value='tmux_socket')], id='368'), '369': TableRow(location=Location(line=110, column=6), cells=[TableCell(location=Location(line=110, column=8), value='green4'), TableCell(location=Location(line=110, column=19), value='amanda4'), TableCell(location=Location(line=110, column=31), value='pi6-host'), TableCell(location=Location(line=110, column=43), value='23'), TableCell(location=Location(line=110, column=55), value='36'), TableCell(location=Location(line=110, column=69), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=110, column=108), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='369'), '379': Scenario(location=Location(line=113, column=4), tags=[], keyword='Scenario', name='Cleanup <username>@<host> in <context>', description='', steps=[Step(location=Location(line=114, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='372'), Step(location=Location(line=115, column=6), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='373'), Step(location=Location(line=117, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='374'), Step(location=Location(line=119, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='375')], examples=[Examples(location=Location(line=121, column=6), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=122, column=6), cells=[TableCell(location=Location(line=122, column=8), value='context'), TableCell(location=Location(line=122, column=18), value='username'), TableCell(location=Location(line=122, column=29), value='host')], id='376'), table_body=[TableRow(location=Location(line=123, column=6), cells=[TableCell(location=Location(line=123, column=8), value='green4'), TableCell(location=Location(line=123, column=19), value='amanda4'), TableCell(location=Location(line=123, column=31), value='pi6-host')], id='377')], id='378')], id='379'), '372': Step(location=Location(line=114, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='372'), '373': Step(location=Location(line=115, column=6), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='373'), '374': Step(location=Location(line=117, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='374'), '375': Step(location=Location(line=119, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='375'), '378': Examples(location=Location(line=121, column=6), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=122, column=6), cells=[TableCell(location=Location(line=122, column=8), value='context'), TableCell(location=Location(line=122, column=18), value='username'), TableCell(location=Location(line=122, column=29), value='host')], id='376'), table_body=[TableRow(location=Location(line=123, column=6), cells=[TableCell(location=Location(line=123, column=8), value='green4'), TableCell(location=Location(line=123, column=19), value='amanda4'), TableCell(location=Location(line=123, column=31), value='pi6-host')], id='377')], id='378'), '376': TableRow(location=Location(line=122, column=6), cells=[TableCell(location=Location(line=122, column=8), value='context'), TableCell(location=Location(line=122, column=18), value='username'), TableCell(location=Location(line=122, column=29), value='host')], id='376'), '377': TableRow(location=Location(line=123, column=6), cells=[TableCell(location=Location(line=123, column=8), value='green4'), TableCell(location=Location(line=123, column=19), value='amanda4'), TableCell(location=Location(line=123, column=31), value='pi6-host')], id='377')}, pickles=[Pickle(id='393', uri='file:features/3_mindwm_ping_pong.feature', name='Prepare environment for ping tests', language='en', steps=[PickleStep(argument=None, ast_node_ids=['306'], id='382', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['307'], id='383', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['309', '321'], id='384', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"green4\"'), PickleStep(argument=None, ast_node_ids=['310', '321'], id='385', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='pong')])])), ast_node_ids=['313', '321'], id='386', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-green4\" namespace'), PickleStep(argument=None, ast_node_ids=['314', '321'], id='387', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"amanda4\" and connects it to the context \"green4\"'), PickleStep(argument=None, ast_node_ids=['315', '321'], id='388', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['316', '321'], id='389', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"pi6-host\" and connects it to the user \"amanda4\"'), PickleStep(argument=None, ast_node_ids=['317', '321'], id='390', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['318', '321'], id='391', type=<Type.outcome: 'Outcome'>, text='NatsJetStreamChannel \"pi6-host-host-broker-kne-trigger\" is ready in \"user-amanda4\" namespace'), PickleStep(argument=None, ast_node_ids=['319', '321'], id='392', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"')], tags=[PickleTag(name='@mindwm_ping_pong', ast_node_id='380'), PickleTag(name='@mindwm_test', ast_node_id='381')], ast_node_ids=['323', '321']), Pickle(id='403', uri='file:features/3_mindwm_ping_pong.feature', name='Send pind to knative ping service', language='en', steps=[PickleStep(argument=None, ast_node_ids=['306'], id='394', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['307'], id='395', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['324', '334'], id='396', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['325', '334'], id='397', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['326', '334'], id='398', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['327', '334'], id='399', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.amanda4.pi6-host.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['328', '334'], id='400', type=<Type.action: 'Action'>, text='sends cloudevent to knative service \"pong\" in \"context-green4\" namespace'), PickleStep(argument=None, ast_node_ids=['329', '334'], id='401', type=<Type.outcome: 'Outcome'>, text='the response http code should be \"200\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='pong-00001-deployment')])])), ast_node_ids=['332', '334'], id='402', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-green4\" namespace')], tags=[PickleTag(name='@mindwm_ping_pong', ast_node_id='380'), PickleTag(name='@mindwm_test', ast_node_id='381')], ast_node_ids=['336', '334']), Pickle(id='417', uri='file:features/3_mindwm_ping_pong.feature', name='Send ping via broker-ingress.knative-eventing/context-green4/context-broker', language='en', steps=[PickleStep(argument=None, ast_node_ids=['306'], id='404', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['307'], id='405', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['337', '355'], id='406', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['338', '355'], id='407', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['339', '355'], id='408', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['340', '355'], id='409', type=<Type.action: 'Action'>, text='sets cloudevent header \"traceparent\" to \"00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00\"'), PickleStep(argument=None, ast_node_ids=['341', '355'], id='410', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.amanda4.pi6-host.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['342', '355'], id='411', type=<Type.action: 'Action'>, text='sends cloudevent to \"broker-ingress.knative-eventing/context-green4/context-broker\"'), PickleStep(argument=None, ast_node_ids=['343', '355'], id='412', type=<Type.outcome: 'Outcome'>, text='the response http code should be \"202\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='pong-00001-deployment')])])), ast_node_ids=['346', '355'], id='413', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-green4\" namespace'), PickleStep(argument=None, ast_node_ids=['347', '355'], id='414', type=<Type.outcome: 'Outcome'>, text='the trace with \"00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00\" should appear in TraceQL'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='service name')]), PickleTableRow(cells=[PickleTableCell(value='broker-ingress.knative-eventing')]), PickleTableRow(cells=[PickleTableCell(value='unknown_service')]), PickleTableRow(cells=[PickleTableCell(value='jetstream-ch-dispatcher')])])), ast_node_ids=['352', '355'], id='415', type=<Type.outcome: 'Outcome'>, text='the trace should contains'), PickleStep(argument=None, ast_node_ids=['353', '355'], id='416', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-amanda4.pi6-host-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_ping_pong', ast_node_id='380'), PickleTag(name='@mindwm_test', ast_node_id='381')], ast_node_ids=['358', '355']), Pickle(id='431', uri='file:features/3_mindwm_ping_pong.feature', name='Send ping via broker-ingress.knative-eventing/user-amanda4/user-broker', language='en', steps=[PickleStep(argument=None, ast_node_ids=['306'], id='418', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['307'], id='419', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['337', '356'], id='420', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['338', '356'], id='421', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['339', '356'], id='422', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['340', '356'], id='423', type=<Type.action: 'Action'>, text='sets cloudevent header \"traceparent\" to \"00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00\"'), PickleStep(argument=None, ast_node_ids=['341', '356'], id='424', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.amanda4.pi6-host.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['342', '356'], id='425', type=<Type.action: 'Action'>, text='sends cloudevent to \"broker-ingress.knative-eventing/user-amanda4/user-broker\"'), PickleStep(argument=None, ast_node_ids=['343', '356'], id='426', type=<Type.outcome: 'Outcome'>, text='the response http code should be \"202\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='pong-00001-deployment')])])), ast_node_ids=['346', '356'], id='427', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-green4\" namespace'), PickleStep(argument=None, ast_node_ids=['347', '356'], id='428', type=<Type.outcome: 'Outcome'>, text='the trace with \"00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00\" should appear in TraceQL'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='service name')]), PickleTableRow(cells=[PickleTableCell(value='broker-ingress.knative-eventing')]), PickleTableRow(cells=[PickleTableCell(value='unknown_service')]), PickleTableRow(cells=[PickleTableCell(value='jetstream-ch-dispatcher')])])), ast_node_ids=['352', '356'], id='429', type=<Type.outcome: 'Outcome'>, text='the trace should contains'), PickleStep(argument=None, ast_node_ids=['353', '356'], id='430', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-amanda4.pi6-host-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_ping_pong', ast_node_id='380'), PickleTag(name='@mindwm_test', ast_node_id='381')], ast_node_ids=['358', '356']), Pickle(id='441', uri='file:features/3_mindwm_ping_pong.feature', name='Send ping via nats', language='en', steps=[PickleStep(argument=None, ast_node_ids=['306'], id='432', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['307'], id='433', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['359', '369'], id='434', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['360', '369'], id='435', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['361', '369'], id='436', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['362', '369'], id='437', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.amanda4.pi6-host.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['363', '369'], id='438', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.amanda4.pi6-host.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.3623.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='pong-00001-deployment')])])), ast_node_ids=['366', '369'], id='439', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-green4\" namespace'), PickleStep(argument=None, ast_node_ids=['367', '369'], id='440', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-amanda4.pi6-host-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_ping_pong', ast_node_id='380'), PickleTag(name='@mindwm_test', ast_node_id='381')], ast_node_ids=['371', '369']), Pickle(id='448', uri='file:features/3_mindwm_ping_pong.feature', name='Cleanup amanda4@pi6-host in green4', language='en', steps=[PickleStep(argument=None, ast_node_ids=['306'], id='442', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['307'], id='443', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['372', '377'], id='444', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"pi6-host\"'), PickleStep(argument=None, ast_node_ids=['373', '377'], id='445', type=<Type.outcome: 'Outcome'>, text='the host \"pi6-host\" should be deleted'), PickleStep(argument=None, ast_node_ids=['374', '377'], id='446', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"amanda4\"'), PickleStep(argument=None, ast_node_ids=['375', '377'], id='447', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"green4\"')], tags=[PickleTag(name='@mindwm_ping_pong', ast_node_id='380'), PickleTag(name='@mindwm_test', ast_node_id='381')], ast_node_ids=['379', '377'])])","Source(uri='file:features/3_mindwm_ping_pong.feature', data='@mindwm_ping_pong\\n@mindwm_test\\nFeature: MindWM Ping-pong EDA test\\n  Background:\\n    Given A MindWM environment\\n    Then all nodes in Kubernetes are ready\\n\\n  Scenario: Prepare environment for ping tests \\n    When God creates a MindWM context with the name \"<context>\"\\n    Then the context should be ready and operable\\n    And the following knative services are in a ready state in the \"context-<context>\" namespace\\n      | Knative service name |\\n      | pong                 |\\n\\n    When God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"\\n    Then the user resource should be ready and operable\\n\\n    When God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"\\n    Then the host resource should be ready and operable\\n    And NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace\\n\\n    When God starts reading message from NATS topic \">\"\\n\\n    Examples:\\n     | context | username   | host      |\\n     | green4   | amanda4   | pi6-host  | \\n\\n  Scenario: Send pind to knative ping service\\n    When God creates a new cloudevent \\n      And sets cloudevent header \"ce-subject\" to \"#ping\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"\\n      And sends cloudevent to knative service \"pong\" in \"context-<context>\" namespace\\n      \"\"\"\\n      {\\n        \"input\": \"#ping\",\\n        \"output\": \"\",\\n        \"ps1\": \"❯\",\\n        \"type\": \"org.mindwm.v1.iodocument\"\\n      } \\n      \"\"\"\\n      Then the response http code should be \"200\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name       |\\n      | pong-00001-deployment |\\n\\n    Examples:\\n     | context | username   | host      |\\n     | green4   | amanda4   | pi6-host  | \\n\\n  Scenario: Send ping via <endpoint>\\n    When God creates a new cloudevent \\n      And sets cloudevent header \"ce-subject\" to \"#ping\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"\\n      And sets cloudevent header \"traceparent\" to \"<traceparent>\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"\\n      And sends cloudevent to \"<endpoint>\"\\n      \"\"\"\\n      {\\n        \"input\": \"#ping\",\\n        \"output\": \"\",\\n        \"ps1\": \"❯\",\\n        \"type\": \"org.mindwm.v1.iodocument\"\\n      } \\n      \"\"\"\\n    Then the response http code should be \"202\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name            |\\n      | pong-00001-deployment |\\n    Then the trace with \"<traceparent>\" should appear in TraceQL\\n    And the trace should contains \\n      | service name                    | \\n      | broker-ingress.knative-eventing | \\n      | unknown_service                 | \\n      | jetstream-ch-dispatcher         |\\n    And a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"\\n\\n    Examples:\\n     | context | username   | host      | endpoint | traceparent \\t\\t\\t\\t\\t         |\\n     | green4   | amanda4   | pi6-host  | broker-ingress.knative-eventing/context-green4/context-broker   | 00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00 |\\n     | green4   | amanda4   | pi6-host  | broker-ingress.knative-eventing/user-amanda4/user-broker | 00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00 |\\n\\n\\n  Scenario: Send ping via nats\\n    When God creates a new cloudevent \\n      And sets cloudevent header \"ce-subject\" to \"#ping\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"\\n      And sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"\\n      \"\"\"\\n      {\\n        \"input\": \"#ping\",\\n        \"output\": \"\",\\n        \"ps1\": \"❯\",\\n        \"type\": \"org.mindwm.v1.iodocument\"\\n      } \\n      \"\"\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name       |\\n      | pong-00001-deployment |\\n\\n    And a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"\\n\\n\\n    Examples:\\n     | context | username   | host      | tmux_pane | tmux_window | uuid                                  | tmux_socket                     |\\n     | green4   | amanda4   | pi6-host  | 23        | 36          | 09fb195c-c419-6d62-15e0-51b6ee990922  |L3RtcC90bXV4LTEwMDAvZGVmYXVsdA== |\\n\\n\\n   Scenario: Cleanup <username>@<host> in <context>\\n     When God deletes the MindWM host resource \"<host>\"\\n     Then the host \"<host>\" should be deleted\\n\\n     When God deletes the MindWM user resource \"<username>\"\\n\\n     When God deletes the MindWM context resource \"<context>\"\\n\\n     Examples:\\n     | context | username | host        | \\n     | green4   | amanda4   | pi6-host         |\\n\\n', media_type='text/x.cucumber.gherkin+plain')","Pickle(id='448', uri='file:features/3_mindwm_ping_pong.feature', name='Cleanup amanda4@pi6-host in green4', language='en', steps=[PickleStep(argument=None, ast_node_ids=['306'], id='442', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['307'], id='443', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['372', '377'], id='444', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"pi6-host\"'), PickleStep(argument=None, ast_node_ids=['373', '377'], id='445', type=<Type.outcome: 'Outcome'>, text='the host \"pi6-host\" should be deleted'), PickleStep(argument=None, ast_node_ids=['374', '377'], id='446', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"amanda4\"'), PickleStep(argument=None, ast_node_ids=['375', '377'], id='447', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"green4\"')], tags=[PickleTag(name='@mindwm_ping_pong', ast_node_id='380'), PickleTag(name='@mindwm_test', ast_node_id='381')], ast_node_ids=['379', '377'])"],"tags":["pytest_bdd_scenario","scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/3_mindwm_ping_pong.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=<FeaturePathType.PATH: 'path'>, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())","@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')","mindwm_ping_pong","mindwm_test","namespace(create=False, name='default')"]},{"name":"test_scenarios[file:features/7_mindwm_two_users_one_context.feature-MindWM two users one context function test-Cleanup tokyo context[table_rows:[line: 92]]]","uid":"eb7703b1aa86d719","parentUid":"3961740595044ffd97a03e46799bfc30","status":"passed","time":{"start":1728404583494,"stop":1728404584739,"duration":1245},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["Feature(gherkin_document=GherkinDocument(uri='file:features/7_mindwm_two_users_one_context.feature', feature=Feature(location=Location(line=3, column=1), tags=[Tag(location=Location(line=1, column=1), name='@mindwm_two_users_one_context', id='801'), Tag(location=Location(line=2, column=1), name='@mindwm_test', id='802')], language='en', keyword='Feature', name='MindWM two users one context function test', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='736'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='737')], id='738'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Create context <context>', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='739'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='740'), Step(location=Location(line=12, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=13, column=7), rows=[TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='Knative service name')], id='741'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='iocontext')], id='742'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='pong')], id='743'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='kafka-cdc')], id='744')]), id='745'), Step(location=Location(line=17, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='746')], examples=[Examples(location=Location(line=18, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=19, column=5), cells=[TableCell(location=Location(line=19, column=7), value='context')], id='747'), table_body=[TableRow(location=Location(line=20, column=5), cells=[TableCell(location=Location(line=20, column=7), value='tokyo')], id='748')], id='749')], id='750')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=22, column=3), tags=[], keyword='Scenario', name='Create <username> and connects it to <context>', description='', steps=[Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='751'), Step(location=Location(line=24, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='752')], examples=[Examples(location=Location(line=25, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=26, column=5), cells=[TableCell(location=Location(line=26, column=7), value='context'), TableCell(location=Location(line=26, column=17), value='username')], id='753'), table_body=[TableRow(location=Location(line=27, column=5), cells=[TableCell(location=Location(line=27, column=7), value='tokyo'), TableCell(location=Location(line=27, column=17), value='godzilla')], id='754'), TableRow(location=Location(line=28, column=5), cells=[TableCell(location=Location(line=28, column=7), value='tokyo'), TableCell(location=Location(line=28, column=17), value='tengu')], id='755')], id='756')], id='757')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=29, column=3), tags=[], keyword='Scenario', name='Create <host> resource and connects it to <username> user', description='', steps=[Step(location=Location(line=30, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='758'), Step(location=Location(line=31, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='759')], examples=[Examples(location=Location(line=33, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='username'), TableCell(location=Location(line=34, column=18), value='host')], id='760'), table_body=[TableRow(location=Location(line=35, column=5), cells=[TableCell(location=Location(line=35, column=7), value='godzilla'), TableCell(location=Location(line=35, column=18), value='laptop')], id='761'), TableRow(location=Location(line=36, column=5), cells=[TableCell(location=Location(line=36, column=7), value='tengu'), TableCell(location=Location(line=36, column=18), value='tablet')], id='762')], id='763')], id='764')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=38, column=3), tags=[], keyword='Scenario', name='Send iodocument via nats host: <host>, user: <username> and check that second user received graph update', description='', steps=[Step(location=Location(line=39, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='765'), Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='766'), Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='767'), Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='768'), Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=None, data_table=None, id='769'), Step(location=Location(line=44, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=DocString(location=Location(line=45, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='770'), Step(location=Location(line=54, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=55, column=7), rows=[TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='Deployment name')], id='771'), TableRow(location=Location(line=56, column=7), cells=[TableCell(location=Location(line=56, column=9), value='iocontext-00001-deployment')], id='772'), TableRow(location=Location(line=57, column=7), cells=[TableCell(location=Location(line=57, column=9), value='kafka-cdc-00001-deployment')], id='773')]), id='774'), Step(location=Location(line=59, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<dst_user>.<dst_host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='775')], examples=[Examples(location=Location(line=61, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=62, column=5), cells=[TableCell(location=Location(line=62, column=7), value='context'), TableCell(location=Location(line=62, column=17), value='src_user'), TableCell(location=Location(line=62, column=28), value='src_host'), TableCell(location=Location(line=62, column=39), value='dst_user'), TableCell(location=Location(line=62, column=50), value='dst_host')], id='776'), table_body=[TableRow(location=Location(line=63, column=5), cells=[TableCell(location=Location(line=63, column=7), value='tokyo'), TableCell(location=Location(line=63, column=17), value='godzilla'), TableCell(location=Location(line=63, column=28), value='laptop'), TableCell(location=Location(line=63, column=39), value='tengu'), TableCell(location=Location(line=63, column=50), value='tablet')], id='777'), TableRow(location=Location(line=64, column=5), cells=[TableCell(location=Location(line=64, column=7), value='tokyo'), TableCell(location=Location(line=64, column=17), value='tengu'), TableCell(location=Location(line=64, column=28), value='tablet'), TableCell(location=Location(line=64, column=39), value='godzilla'), TableCell(location=Location(line=64, column=50), value='laptop')], id='778')], id='779')], id='780')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=67, column=3), tags=[], keyword='Scenario', name='Cleanup <host> host for <username> username', description='', steps=[Step(location=Location(line=69, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='781'), Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='782')], examples=[Examples(location=Location(line=72, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=73, column=5), cells=[TableCell(location=Location(line=73, column=7), value='username'), TableCell(location=Location(line=73, column=18), value='host')], id='783'), table_body=[TableRow(location=Location(line=74, column=5), cells=[TableCell(location=Location(line=74, column=7), value='godzilla'), TableCell(location=Location(line=74, column=18), value='laptop')], id='784'), TableRow(location=Location(line=75, column=5), cells=[TableCell(location=Location(line=75, column=7), value='tengu'), TableCell(location=Location(line=75, column=18), value='tablet')], id='785')], id='786')], id='787')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=77, column=3), tags=[], keyword='Scenario', name='Cleanup <username> username', description='', steps=[Step(location=Location(line=78, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='788'), Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='789')], examples=[Examples(location=Location(line=81, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='username')], id='790'), table_body=[TableRow(location=Location(line=83, column=5), cells=[TableCell(location=Location(line=83, column=7), value='godzilla')], id='791'), TableRow(location=Location(line=84, column=5), cells=[TableCell(location=Location(line=84, column=7), value='tengu')], id='792')], id='793')], id='794')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=86, column=3), tags=[], keyword='Scenario', name='Cleanup <context> context', description='', steps=[Step(location=Location(line=87, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='795'), Step(location=Location(line=88, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='796')], examples=[Examples(location=Location(line=90, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=91, column=5), cells=[TableCell(location=Location(line=91, column=7), value='context')], id='797'), table_body=[TableRow(location=Location(line=92, column=5), cells=[TableCell(location=Location(line=92, column=7), value='tokyo')], id='798')], id='799')], id='800'))]), comments=[]), uri='file:features/7_mindwm_two_users_one_context.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/7_mindwm_two_users_one_context.feature', registry={'801': Tag(location=Location(line=1, column=1), name='@mindwm_two_users_one_context', id='801'), '802': Tag(location=Location(line=2, column=1), name='@mindwm_test', id='802'), '738': Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='736'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='737')], id='738'), '736': Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='736'), '737': Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='737'), '750': Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Create context <context>', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='739'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='740'), Step(location=Location(line=12, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=13, column=7), rows=[TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='Knative service name')], id='741'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='iocontext')], id='742'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='pong')], id='743'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='kafka-cdc')], id='744')]), id='745'), Step(location=Location(line=17, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='746')], examples=[Examples(location=Location(line=18, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=19, column=5), cells=[TableCell(location=Location(line=19, column=7), value='context')], id='747'), table_body=[TableRow(location=Location(line=20, column=5), cells=[TableCell(location=Location(line=20, column=7), value='tokyo')], id='748')], id='749')], id='750'), '739': Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='739'), '740': Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='740'), '745': Step(location=Location(line=12, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=13, column=7), rows=[TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='Knative service name')], id='741'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='iocontext')], id='742'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='pong')], id='743'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='kafka-cdc')], id='744')]), id='745'), '746': Step(location=Location(line=17, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='746'), '749': Examples(location=Location(line=18, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=19, column=5), cells=[TableCell(location=Location(line=19, column=7), value='context')], id='747'), table_body=[TableRow(location=Location(line=20, column=5), cells=[TableCell(location=Location(line=20, column=7), value='tokyo')], id='748')], id='749'), '747': TableRow(location=Location(line=19, column=5), cells=[TableCell(location=Location(line=19, column=7), value='context')], id='747'), '748': TableRow(location=Location(line=20, column=5), cells=[TableCell(location=Location(line=20, column=7), value='tokyo')], id='748'), '757': Scenario(location=Location(line=22, column=3), tags=[], keyword='Scenario', name='Create <username> and connects it to <context>', description='', steps=[Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='751'), Step(location=Location(line=24, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='752')], examples=[Examples(location=Location(line=25, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=26, column=5), cells=[TableCell(location=Location(line=26, column=7), value='context'), TableCell(location=Location(line=26, column=17), value='username')], id='753'), table_body=[TableRow(location=Location(line=27, column=5), cells=[TableCell(location=Location(line=27, column=7), value='tokyo'), TableCell(location=Location(line=27, column=17), value='godzilla')], id='754'), TableRow(location=Location(line=28, column=5), cells=[TableCell(location=Location(line=28, column=7), value='tokyo'), TableCell(location=Location(line=28, column=17), value='tengu')], id='755')], id='756')], id='757'), '751': Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='751'), '752': Step(location=Location(line=24, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='752'), '756': Examples(location=Location(line=25, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=26, column=5), cells=[TableCell(location=Location(line=26, column=7), value='context'), TableCell(location=Location(line=26, column=17), value='username')], id='753'), table_body=[TableRow(location=Location(line=27, column=5), cells=[TableCell(location=Location(line=27, column=7), value='tokyo'), TableCell(location=Location(line=27, column=17), value='godzilla')], id='754'), TableRow(location=Location(line=28, column=5), cells=[TableCell(location=Location(line=28, column=7), value='tokyo'), TableCell(location=Location(line=28, column=17), value='tengu')], id='755')], id='756'), '753': TableRow(location=Location(line=26, column=5), cells=[TableCell(location=Location(line=26, column=7), value='context'), TableCell(location=Location(line=26, column=17), value='username')], id='753'), '754': TableRow(location=Location(line=27, column=5), cells=[TableCell(location=Location(line=27, column=7), value='tokyo'), TableCell(location=Location(line=27, column=17), value='godzilla')], id='754'), '755': TableRow(location=Location(line=28, column=5), cells=[TableCell(location=Location(line=28, column=7), value='tokyo'), TableCell(location=Location(line=28, column=17), value='tengu')], id='755'), '764': Scenario(location=Location(line=29, column=3), tags=[], keyword='Scenario', name='Create <host> resource and connects it to <username> user', description='', steps=[Step(location=Location(line=30, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='758'), Step(location=Location(line=31, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='759')], examples=[Examples(location=Location(line=33, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='username'), TableCell(location=Location(line=34, column=18), value='host')], id='760'), table_body=[TableRow(location=Location(line=35, column=5), cells=[TableCell(location=Location(line=35, column=7), value='godzilla'), TableCell(location=Location(line=35, column=18), value='laptop')], id='761'), TableRow(location=Location(line=36, column=5), cells=[TableCell(location=Location(line=36, column=7), value='tengu'), TableCell(location=Location(line=36, column=18), value='tablet')], id='762')], id='763')], id='764'), '758': Step(location=Location(line=30, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='758'), '759': Step(location=Location(line=31, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='759'), '763': Examples(location=Location(line=33, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='username'), TableCell(location=Location(line=34, column=18), value='host')], id='760'), table_body=[TableRow(location=Location(line=35, column=5), cells=[TableCell(location=Location(line=35, column=7), value='godzilla'), TableCell(location=Location(line=35, column=18), value='laptop')], id='761'), TableRow(location=Location(line=36, column=5), cells=[TableCell(location=Location(line=36, column=7), value='tengu'), TableCell(location=Location(line=36, column=18), value='tablet')], id='762')], id='763'), '760': TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='username'), TableCell(location=Location(line=34, column=18), value='host')], id='760'), '761': TableRow(location=Location(line=35, column=5), cells=[TableCell(location=Location(line=35, column=7), value='godzilla'), TableCell(location=Location(line=35, column=18), value='laptop')], id='761'), '762': TableRow(location=Location(line=36, column=5), cells=[TableCell(location=Location(line=36, column=7), value='tengu'), TableCell(location=Location(line=36, column=18), value='tablet')], id='762'), '780': Scenario(location=Location(line=38, column=3), tags=[], keyword='Scenario', name='Send iodocument via nats host: <host>, user: <username> and check that second user received graph update', description='', steps=[Step(location=Location(line=39, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='765'), Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='766'), Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='767'), Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='768'), Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=None, data_table=None, id='769'), Step(location=Location(line=44, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=DocString(location=Location(line=45, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='770'), Step(location=Location(line=54, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=55, column=7), rows=[TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='Deployment name')], id='771'), TableRow(location=Location(line=56, column=7), cells=[TableCell(location=Location(line=56, column=9), value='iocontext-00001-deployment')], id='772'), TableRow(location=Location(line=57, column=7), cells=[TableCell(location=Location(line=57, column=9), value='kafka-cdc-00001-deployment')], id='773')]), id='774'), Step(location=Location(line=59, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<dst_user>.<dst_host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='775')], examples=[Examples(location=Location(line=61, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=62, column=5), cells=[TableCell(location=Location(line=62, column=7), value='context'), TableCell(location=Location(line=62, column=17), value='src_user'), TableCell(location=Location(line=62, column=28), value='src_host'), TableCell(location=Location(line=62, column=39), value='dst_user'), TableCell(location=Location(line=62, column=50), value='dst_host')], id='776'), table_body=[TableRow(location=Location(line=63, column=5), cells=[TableCell(location=Location(line=63, column=7), value='tokyo'), TableCell(location=Location(line=63, column=17), value='godzilla'), TableCell(location=Location(line=63, column=28), value='laptop'), TableCell(location=Location(line=63, column=39), value='tengu'), TableCell(location=Location(line=63, column=50), value='tablet')], id='777'), TableRow(location=Location(line=64, column=5), cells=[TableCell(location=Location(line=64, column=7), value='tokyo'), TableCell(location=Location(line=64, column=17), value='tengu'), TableCell(location=Location(line=64, column=28), value='tablet'), TableCell(location=Location(line=64, column=39), value='godzilla'), TableCell(location=Location(line=64, column=50), value='laptop')], id='778')], id='779')], id='780'), '765': Step(location=Location(line=39, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='765'), '766': Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='766'), '767': Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='767'), '768': Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='768'), '769': Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=None, data_table=None, id='769'), '770': Step(location=Location(line=44, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=DocString(location=Location(line=45, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='770'), '774': Step(location=Location(line=54, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=55, column=7), rows=[TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='Deployment name')], id='771'), TableRow(location=Location(line=56, column=7), cells=[TableCell(location=Location(line=56, column=9), value='iocontext-00001-deployment')], id='772'), TableRow(location=Location(line=57, column=7), cells=[TableCell(location=Location(line=57, column=9), value='kafka-cdc-00001-deployment')], id='773')]), id='774'), '775': Step(location=Location(line=59, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<dst_user>.<dst_host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='775'), '779': Examples(location=Location(line=61, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=62, column=5), cells=[TableCell(location=Location(line=62, column=7), value='context'), TableCell(location=Location(line=62, column=17), value='src_user'), TableCell(location=Location(line=62, column=28), value='src_host'), TableCell(location=Location(line=62, column=39), value='dst_user'), TableCell(location=Location(line=62, column=50), value='dst_host')], id='776'), table_body=[TableRow(location=Location(line=63, column=5), cells=[TableCell(location=Location(line=63, column=7), value='tokyo'), TableCell(location=Location(line=63, column=17), value='godzilla'), TableCell(location=Location(line=63, column=28), value='laptop'), TableCell(location=Location(line=63, column=39), value='tengu'), TableCell(location=Location(line=63, column=50), value='tablet')], id='777'), TableRow(location=Location(line=64, column=5), cells=[TableCell(location=Location(line=64, column=7), value='tokyo'), TableCell(location=Location(line=64, column=17), value='tengu'), TableCell(location=Location(line=64, column=28), value='tablet'), TableCell(location=Location(line=64, column=39), value='godzilla'), TableCell(location=Location(line=64, column=50), value='laptop')], id='778')], id='779'), '776': TableRow(location=Location(line=62, column=5), cells=[TableCell(location=Location(line=62, column=7), value='context'), TableCell(location=Location(line=62, column=17), value='src_user'), TableCell(location=Location(line=62, column=28), value='src_host'), TableCell(location=Location(line=62, column=39), value='dst_user'), TableCell(location=Location(line=62, column=50), value='dst_host')], id='776'), '777': TableRow(location=Location(line=63, column=5), cells=[TableCell(location=Location(line=63, column=7), value='tokyo'), TableCell(location=Location(line=63, column=17), value='godzilla'), TableCell(location=Location(line=63, column=28), value='laptop'), TableCell(location=Location(line=63, column=39), value='tengu'), TableCell(location=Location(line=63, column=50), value='tablet')], id='777'), '778': TableRow(location=Location(line=64, column=5), cells=[TableCell(location=Location(line=64, column=7), value='tokyo'), TableCell(location=Location(line=64, column=17), value='tengu'), TableCell(location=Location(line=64, column=28), value='tablet'), TableCell(location=Location(line=64, column=39), value='godzilla'), TableCell(location=Location(line=64, column=50), value='laptop')], id='778'), '787': Scenario(location=Location(line=67, column=3), tags=[], keyword='Scenario', name='Cleanup <host> host for <username> username', description='', steps=[Step(location=Location(line=69, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='781'), Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='782')], examples=[Examples(location=Location(line=72, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=73, column=5), cells=[TableCell(location=Location(line=73, column=7), value='username'), TableCell(location=Location(line=73, column=18), value='host')], id='783'), table_body=[TableRow(location=Location(line=74, column=5), cells=[TableCell(location=Location(line=74, column=7), value='godzilla'), TableCell(location=Location(line=74, column=18), value='laptop')], id='784'), TableRow(location=Location(line=75, column=5), cells=[TableCell(location=Location(line=75, column=7), value='tengu'), TableCell(location=Location(line=75, column=18), value='tablet')], id='785')], id='786')], id='787'), '781': Step(location=Location(line=69, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='781'), '782': Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='782'), '786': Examples(location=Location(line=72, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=73, column=5), cells=[TableCell(location=Location(line=73, column=7), value='username'), TableCell(location=Location(line=73, column=18), value='host')], id='783'), table_body=[TableRow(location=Location(line=74, column=5), cells=[TableCell(location=Location(line=74, column=7), value='godzilla'), TableCell(location=Location(line=74, column=18), value='laptop')], id='784'), TableRow(location=Location(line=75, column=5), cells=[TableCell(location=Location(line=75, column=7), value='tengu'), TableCell(location=Location(line=75, column=18), value='tablet')], id='785')], id='786'), '783': TableRow(location=Location(line=73, column=5), cells=[TableCell(location=Location(line=73, column=7), value='username'), TableCell(location=Location(line=73, column=18), value='host')], id='783'), '784': TableRow(location=Location(line=74, column=5), cells=[TableCell(location=Location(line=74, column=7), value='godzilla'), TableCell(location=Location(line=74, column=18), value='laptop')], id='784'), '785': TableRow(location=Location(line=75, column=5), cells=[TableCell(location=Location(line=75, column=7), value='tengu'), TableCell(location=Location(line=75, column=18), value='tablet')], id='785'), '794': Scenario(location=Location(line=77, column=3), tags=[], keyword='Scenario', name='Cleanup <username> username', description='', steps=[Step(location=Location(line=78, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='788'), Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='789')], examples=[Examples(location=Location(line=81, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='username')], id='790'), table_body=[TableRow(location=Location(line=83, column=5), cells=[TableCell(location=Location(line=83, column=7), value='godzilla')], id='791'), TableRow(location=Location(line=84, column=5), cells=[TableCell(location=Location(line=84, column=7), value='tengu')], id='792')], id='793')], id='794'), '788': Step(location=Location(line=78, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='788'), '789': Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='789'), '793': Examples(location=Location(line=81, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='username')], id='790'), table_body=[TableRow(location=Location(line=83, column=5), cells=[TableCell(location=Location(line=83, column=7), value='godzilla')], id='791'), TableRow(location=Location(line=84, column=5), cells=[TableCell(location=Location(line=84, column=7), value='tengu')], id='792')], id='793'), '790': TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='username')], id='790'), '791': TableRow(location=Location(line=83, column=5), cells=[TableCell(location=Location(line=83, column=7), value='godzilla')], id='791'), '792': TableRow(location=Location(line=84, column=5), cells=[TableCell(location=Location(line=84, column=7), value='tengu')], id='792'), '800': Scenario(location=Location(line=86, column=3), tags=[], keyword='Scenario', name='Cleanup <context> context', description='', steps=[Step(location=Location(line=87, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='795'), Step(location=Location(line=88, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='796')], examples=[Examples(location=Location(line=90, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=91, column=5), cells=[TableCell(location=Location(line=91, column=7), value='context')], id='797'), table_body=[TableRow(location=Location(line=92, column=5), cells=[TableCell(location=Location(line=92, column=7), value='tokyo')], id='798')], id='799')], id='800'), '795': Step(location=Location(line=87, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='795'), '796': Step(location=Location(line=88, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='796'), '799': Examples(location=Location(line=90, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=91, column=5), cells=[TableCell(location=Location(line=91, column=7), value='context')], id='797'), table_body=[TableRow(location=Location(line=92, column=5), cells=[TableCell(location=Location(line=92, column=7), value='tokyo')], id='798')], id='799'), '797': TableRow(location=Location(line=91, column=5), cells=[TableCell(location=Location(line=91, column=7), value='context')], id='797'), '798': TableRow(location=Location(line=92, column=5), cells=[TableCell(location=Location(line=92, column=7), value='tokyo')], id='798')}, pickles=[Pickle(id='809', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create context tokyo', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='803', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='804', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['739', '748'], id='805', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"tokyo\"'), PickleStep(argument=None, ast_node_ids=['740', '748'], id='806', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext')]), PickleTableRow(cells=[PickleTableCell(value='pong')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')])])), ast_node_ids=['745', '748'], id='807', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-tokyo\" namespace'), PickleStep(argument=None, ast_node_ids=['746', '748'], id='808', type=<Type.outcome: 'Outcome'>, text='statefulset \"tokyo-neo4j\" in namespace \"context-tokyo\" is in ready state')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['750', '748']), Pickle(id='814', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create godzilla and connects it to tokyo', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='810', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='811', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['751', '754'], id='812', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"godzilla\" and connects it to the context \"tokyo\"'), PickleStep(argument=None, ast_node_ids=['752', '754'], id='813', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['757', '754']), Pickle(id='819', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create tengu and connects it to tokyo', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='815', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='816', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['751', '755'], id='817', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"tengu\" and connects it to the context \"tokyo\"'), PickleStep(argument=None, ast_node_ids=['752', '755'], id='818', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['757', '755']), Pickle(id='824', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create laptop resource and connects it to godzilla user', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='820', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='821', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['758', '761'], id='822', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"laptop\" and connects it to the user \"godzilla\"'), PickleStep(argument=None, ast_node_ids=['759', '761'], id='823', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['764', '761']), Pickle(id='829', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create tablet resource and connects it to tengu user', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='825', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='826', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['758', '762'], id='827', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"tablet\" and connects it to the user \"tengu\"'), PickleStep(argument=None, ast_node_ids=['759', '762'], id='828', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['764', '762']), Pickle(id='840', uri='file:features/7_mindwm_two_users_one_context.feature', name='Send iodocument via nats host: <host>, user: <username> and check that second user received graph update', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='830', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='831', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['765', '777'], id='832', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['766', '777'], id='833', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['767', '777'], id='834', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"id\"'), PickleStep(argument=None, ast_node_ids=['768', '777'], id='835', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['769', '777'], id='836', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.godzilla.laptop.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['770', '777'], id='837', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.godzilla.laptop.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-00001-deployment')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-00001-deployment')])])), ast_node_ids=['774', '777'], id='838', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-tokyo\" namespace'), PickleStep(argument=None, ast_node_ids=['775', '777'], id='839', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-tengu.tablet-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['780', '777']), Pickle(id='851', uri='file:features/7_mindwm_two_users_one_context.feature', name='Send iodocument via nats host: <host>, user: <username> and check that second user received graph update', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='841', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='842', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['765', '778'], id='843', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['766', '778'], id='844', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['767', '778'], id='845', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"id\"'), PickleStep(argument=None, ast_node_ids=['768', '778'], id='846', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['769', '778'], id='847', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.tengu.tablet.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['770', '778'], id='848', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.tengu.tablet.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-00001-deployment')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-00001-deployment')])])), ast_node_ids=['774', '778'], id='849', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-tokyo\" namespace'), PickleStep(argument=None, ast_node_ids=['775', '778'], id='850', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-godzilla.laptop-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['780', '778']), Pickle(id='856', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup laptop host for godzilla username', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='852', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='853', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['781', '784'], id='854', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"laptop\"'), PickleStep(argument=None, ast_node_ids=['782', '784'], id='855', type=<Type.outcome: 'Outcome'>, text='the host \"laptop\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['787', '784']), Pickle(id='861', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup tablet host for tengu username', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='857', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='858', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['781', '785'], id='859', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"tablet\"'), PickleStep(argument=None, ast_node_ids=['782', '785'], id='860', type=<Type.outcome: 'Outcome'>, text='the host \"tablet\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['787', '785']), Pickle(id='866', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup godzilla username', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='862', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='863', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['788', '791'], id='864', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"godzilla\"'), PickleStep(argument=None, ast_node_ids=['789', '791'], id='865', type=<Type.outcome: 'Outcome'>, text='the user \"godzilla\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['794', '791']), Pickle(id='871', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup tengu username', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='867', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='868', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['788', '792'], id='869', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"tengu\"'), PickleStep(argument=None, ast_node_ids=['789', '792'], id='870', type=<Type.outcome: 'Outcome'>, text='the user \"tengu\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['794', '792']), Pickle(id='876', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup tokyo context', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='872', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='873', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['795', '798'], id='874', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"tokyo\"'), PickleStep(argument=None, ast_node_ids=['796', '798'], id='875', type=<Type.outcome: 'Outcome'>, text='the context \"tokyo\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['800', '798'])])","Source(uri='file:features/7_mindwm_two_users_one_context.feature', data='@mindwm_two_users_one_context\\n@mindwm_test\\nFeature: MindWM two users one context function test\\n  Background:\\n    Given A MindWM environment\\n    Then all nodes in Kubernetes are ready\\n\\n  Scenario: Create context <context>\\n    When God creates a MindWM context with the name \"<context>\"\\n    Then the context should be ready and operable\\n\\n    Then the following knative services are in a ready state in the \"context-<context>\" namespace\\n      | Knative service name |\\n      | iocontext            |\\n      | pong                 |\\n      | kafka-cdc            |\\n    And statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state\\n    Examples:\\n    | context | \\n    | tokyo   | \\n    \\n  Scenario: Create <username> and connects it to <context>\\n    When God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"\\n    Then the user resource should be ready and operable\\n    Examples:\\n    | context | username |\\n    | tokyo   | godzilla |\\n    | tokyo   | tengu    |\\n  Scenario: Create <host> resource and connects it to <username> user\\n    When God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"\\n    Then the host resource should be ready and operable\\n\\n    Examples: \\n    | username | host   |\\n    | godzilla | laptop | \\n    | tengu    | tablet | \\n\\n  Scenario: Send iodocument via nats host: <host>, user: <username> and check that second user received graph update\\n    When God creates a new cloudevent \\n      And God starts reading message from NATS topic \">\"\\n      And sets cloudevent header \"ce-subject\" to \"id\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"\\n      And sends cloudevent to nats topic \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"\\n      \"\"\"\\n      {\\n        \"input\": \"id\",\\n        \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n        \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n        \"type\": \"org.mindwm.v1.iodocument\"\\n      } \\n      \"\"\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name            |\\n      | iocontext-00001-deployment |\\n      | kafka-cdc-00001-deployment |\\n\\n    And a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<dst_user>.<dst_host>-host-broker-kne-trigger._knative\"\\n\\n    Examples:\\n    | context | src_user | src_host | dst_user | dst_host |  \\n    | tokyo   | godzilla | laptop   | tengu    | tablet   |\\n    | tokyo   | tengu    | tablet   | godzilla | laptop   | \\n\\n\\n  Scenario: Cleanup <host> host for <username> username\\n\\n    When God deletes the MindWM host resource \"<host>\"\\n    Then the host \"<host>\" should be deleted\\n\\n    Examples:\\n    | username | host   |\\n    | godzilla | laptop | \\n    | tengu    | tablet | \\n\\n  Scenario: Cleanup <username> username\\n    When God deletes the MindWM user resource \"<username>\"\\n    Then the user \"<username>\" should be deleted\\n\\n    Examples:\\n    | username | \\n    | godzilla |\\n    | tengu    | \\n\\n  Scenario: Cleanup <context> context\\n    When God deletes the MindWM context resource \"<context>\"\\n    Then the context \"<context>\" should be deleted\\n\\n    Examples:\\n    | context | \\n    | tokyo   |\\n', media_type='text/x.cucumber.gherkin+plain')","Pickle(id='876', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup tokyo context', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='872', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='873', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['795', '798'], id='874', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"tokyo\"'), PickleStep(argument=None, ast_node_ids=['796', '798'], id='875', type=<Type.outcome: 'Outcome'>, text='the context \"tokyo\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['800', '798'])"],"tags":["scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/7_mindwm_two_users_one_context.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=<FeaturePathType.PATH: 'path'>, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())","pytest_bdd_scenario","@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')","mindwm_test","mindwm_two_users_one_context","namespace(create=False, name='default')"]},{"name":"test_scenarios[file:features/7_mindwm_two_users_one_context.feature-MindWM two users one context function test-Cleanup godzilla username[table_rows:[line: 83]]]","uid":"79338a4a0b6c48c1","parentUid":"3961740595044ffd97a03e46799bfc30","status":"passed","time":{"start":1728404581853,"stop":1728404582166,"duration":313},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["Feature(gherkin_document=GherkinDocument(uri='file:features/7_mindwm_two_users_one_context.feature', feature=Feature(location=Location(line=3, column=1), tags=[Tag(location=Location(line=1, column=1), name='@mindwm_two_users_one_context', id='801'), Tag(location=Location(line=2, column=1), name='@mindwm_test', id='802')], language='en', keyword='Feature', name='MindWM two users one context function test', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='736'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='737')], id='738'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Create context <context>', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='739'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='740'), Step(location=Location(line=12, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=13, column=7), rows=[TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='Knative service name')], id='741'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='iocontext')], id='742'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='pong')], id='743'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='kafka-cdc')], id='744')]), id='745'), Step(location=Location(line=17, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='746')], examples=[Examples(location=Location(line=18, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=19, column=5), cells=[TableCell(location=Location(line=19, column=7), value='context')], id='747'), table_body=[TableRow(location=Location(line=20, column=5), cells=[TableCell(location=Location(line=20, column=7), value='tokyo')], id='748')], id='749')], id='750')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=22, column=3), tags=[], keyword='Scenario', name='Create <username> and connects it to <context>', description='', steps=[Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='751'), Step(location=Location(line=24, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='752')], examples=[Examples(location=Location(line=25, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=26, column=5), cells=[TableCell(location=Location(line=26, column=7), value='context'), TableCell(location=Location(line=26, column=17), value='username')], id='753'), table_body=[TableRow(location=Location(line=27, column=5), cells=[TableCell(location=Location(line=27, column=7), value='tokyo'), TableCell(location=Location(line=27, column=17), value='godzilla')], id='754'), TableRow(location=Location(line=28, column=5), cells=[TableCell(location=Location(line=28, column=7), value='tokyo'), TableCell(location=Location(line=28, column=17), value='tengu')], id='755')], id='756')], id='757')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=29, column=3), tags=[], keyword='Scenario', name='Create <host> resource and connects it to <username> user', description='', steps=[Step(location=Location(line=30, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='758'), Step(location=Location(line=31, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='759')], examples=[Examples(location=Location(line=33, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='username'), TableCell(location=Location(line=34, column=18), value='host')], id='760'), table_body=[TableRow(location=Location(line=35, column=5), cells=[TableCell(location=Location(line=35, column=7), value='godzilla'), TableCell(location=Location(line=35, column=18), value='laptop')], id='761'), TableRow(location=Location(line=36, column=5), cells=[TableCell(location=Location(line=36, column=7), value='tengu'), TableCell(location=Location(line=36, column=18), value='tablet')], id='762')], id='763')], id='764')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=38, column=3), tags=[], keyword='Scenario', name='Send iodocument via nats host: <host>, user: <username> and check that second user received graph update', description='', steps=[Step(location=Location(line=39, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='765'), Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='766'), Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='767'), Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='768'), Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=None, data_table=None, id='769'), Step(location=Location(line=44, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=DocString(location=Location(line=45, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='770'), Step(location=Location(line=54, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=55, column=7), rows=[TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='Deployment name')], id='771'), TableRow(location=Location(line=56, column=7), cells=[TableCell(location=Location(line=56, column=9), value='iocontext-00001-deployment')], id='772'), TableRow(location=Location(line=57, column=7), cells=[TableCell(location=Location(line=57, column=9), value='kafka-cdc-00001-deployment')], id='773')]), id='774'), Step(location=Location(line=59, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<dst_user>.<dst_host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='775')], examples=[Examples(location=Location(line=61, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=62, column=5), cells=[TableCell(location=Location(line=62, column=7), value='context'), TableCell(location=Location(line=62, column=17), value='src_user'), TableCell(location=Location(line=62, column=28), value='src_host'), TableCell(location=Location(line=62, column=39), value='dst_user'), TableCell(location=Location(line=62, column=50), value='dst_host')], id='776'), table_body=[TableRow(location=Location(line=63, column=5), cells=[TableCell(location=Location(line=63, column=7), value='tokyo'), TableCell(location=Location(line=63, column=17), value='godzilla'), TableCell(location=Location(line=63, column=28), value='laptop'), TableCell(location=Location(line=63, column=39), value='tengu'), TableCell(location=Location(line=63, column=50), value='tablet')], id='777'), TableRow(location=Location(line=64, column=5), cells=[TableCell(location=Location(line=64, column=7), value='tokyo'), TableCell(location=Location(line=64, column=17), value='tengu'), TableCell(location=Location(line=64, column=28), value='tablet'), TableCell(location=Location(line=64, column=39), value='godzilla'), TableCell(location=Location(line=64, column=50), value='laptop')], id='778')], id='779')], id='780')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=67, column=3), tags=[], keyword='Scenario', name='Cleanup <host> host for <username> username', description='', steps=[Step(location=Location(line=69, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='781'), Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='782')], examples=[Examples(location=Location(line=72, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=73, column=5), cells=[TableCell(location=Location(line=73, column=7), value='username'), TableCell(location=Location(line=73, column=18), value='host')], id='783'), table_body=[TableRow(location=Location(line=74, column=5), cells=[TableCell(location=Location(line=74, column=7), value='godzilla'), TableCell(location=Location(line=74, column=18), value='laptop')], id='784'), TableRow(location=Location(line=75, column=5), cells=[TableCell(location=Location(line=75, column=7), value='tengu'), TableCell(location=Location(line=75, column=18), value='tablet')], id='785')], id='786')], id='787')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=77, column=3), tags=[], keyword='Scenario', name='Cleanup <username> username', description='', steps=[Step(location=Location(line=78, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='788'), Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='789')], examples=[Examples(location=Location(line=81, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='username')], id='790'), table_body=[TableRow(location=Location(line=83, column=5), cells=[TableCell(location=Location(line=83, column=7), value='godzilla')], id='791'), TableRow(location=Location(line=84, column=5), cells=[TableCell(location=Location(line=84, column=7), value='tengu')], id='792')], id='793')], id='794')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=86, column=3), tags=[], keyword='Scenario', name='Cleanup <context> context', description='', steps=[Step(location=Location(line=87, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='795'), Step(location=Location(line=88, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='796')], examples=[Examples(location=Location(line=90, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=91, column=5), cells=[TableCell(location=Location(line=91, column=7), value='context')], id='797'), table_body=[TableRow(location=Location(line=92, column=5), cells=[TableCell(location=Location(line=92, column=7), value='tokyo')], id='798')], id='799')], id='800'))]), comments=[]), uri='file:features/7_mindwm_two_users_one_context.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/7_mindwm_two_users_one_context.feature', registry={'801': Tag(location=Location(line=1, column=1), name='@mindwm_two_users_one_context', id='801'), '802': Tag(location=Location(line=2, column=1), name='@mindwm_test', id='802'), '738': Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='736'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='737')], id='738'), '736': Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='736'), '737': Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='737'), '750': Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Create context <context>', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='739'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='740'), Step(location=Location(line=12, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=13, column=7), rows=[TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='Knative service name')], id='741'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='iocontext')], id='742'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='pong')], id='743'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='kafka-cdc')], id='744')]), id='745'), Step(location=Location(line=17, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='746')], examples=[Examples(location=Location(line=18, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=19, column=5), cells=[TableCell(location=Location(line=19, column=7), value='context')], id='747'), table_body=[TableRow(location=Location(line=20, column=5), cells=[TableCell(location=Location(line=20, column=7), value='tokyo')], id='748')], id='749')], id='750'), '739': Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='739'), '740': Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='740'), '745': Step(location=Location(line=12, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=13, column=7), rows=[TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='Knative service name')], id='741'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='iocontext')], id='742'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='pong')], id='743'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='kafka-cdc')], id='744')]), id='745'), '746': Step(location=Location(line=17, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='746'), '749': Examples(location=Location(line=18, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=19, column=5), cells=[TableCell(location=Location(line=19, column=7), value='context')], id='747'), table_body=[TableRow(location=Location(line=20, column=5), cells=[TableCell(location=Location(line=20, column=7), value='tokyo')], id='748')], id='749'), '747': TableRow(location=Location(line=19, column=5), cells=[TableCell(location=Location(line=19, column=7), value='context')], id='747'), '748': TableRow(location=Location(line=20, column=5), cells=[TableCell(location=Location(line=20, column=7), value='tokyo')], id='748'), '757': Scenario(location=Location(line=22, column=3), tags=[], keyword='Scenario', name='Create <username> and connects it to <context>', description='', steps=[Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='751'), Step(location=Location(line=24, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='752')], examples=[Examples(location=Location(line=25, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=26, column=5), cells=[TableCell(location=Location(line=26, column=7), value='context'), TableCell(location=Location(line=26, column=17), value='username')], id='753'), table_body=[TableRow(location=Location(line=27, column=5), cells=[TableCell(location=Location(line=27, column=7), value='tokyo'), TableCell(location=Location(line=27, column=17), value='godzilla')], id='754'), TableRow(location=Location(line=28, column=5), cells=[TableCell(location=Location(line=28, column=7), value='tokyo'), TableCell(location=Location(line=28, column=17), value='tengu')], id='755')], id='756')], id='757'), '751': Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='751'), '752': Step(location=Location(line=24, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='752'), '756': Examples(location=Location(line=25, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=26, column=5), cells=[TableCell(location=Location(line=26, column=7), value='context'), TableCell(location=Location(line=26, column=17), value='username')], id='753'), table_body=[TableRow(location=Location(line=27, column=5), cells=[TableCell(location=Location(line=27, column=7), value='tokyo'), TableCell(location=Location(line=27, column=17), value='godzilla')], id='754'), TableRow(location=Location(line=28, column=5), cells=[TableCell(location=Location(line=28, column=7), value='tokyo'), TableCell(location=Location(line=28, column=17), value='tengu')], id='755')], id='756'), '753': TableRow(location=Location(line=26, column=5), cells=[TableCell(location=Location(line=26, column=7), value='context'), TableCell(location=Location(line=26, column=17), value='username')], id='753'), '754': TableRow(location=Location(line=27, column=5), cells=[TableCell(location=Location(line=27, column=7), value='tokyo'), TableCell(location=Location(line=27, column=17), value='godzilla')], id='754'), '755': TableRow(location=Location(line=28, column=5), cells=[TableCell(location=Location(line=28, column=7), value='tokyo'), TableCell(location=Location(line=28, column=17), value='tengu')], id='755'), '764': Scenario(location=Location(line=29, column=3), tags=[], keyword='Scenario', name='Create <host> resource and connects it to <username> user', description='', steps=[Step(location=Location(line=30, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='758'), Step(location=Location(line=31, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='759')], examples=[Examples(location=Location(line=33, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='username'), TableCell(location=Location(line=34, column=18), value='host')], id='760'), table_body=[TableRow(location=Location(line=35, column=5), cells=[TableCell(location=Location(line=35, column=7), value='godzilla'), TableCell(location=Location(line=35, column=18), value='laptop')], id='761'), TableRow(location=Location(line=36, column=5), cells=[TableCell(location=Location(line=36, column=7), value='tengu'), TableCell(location=Location(line=36, column=18), value='tablet')], id='762')], id='763')], id='764'), '758': Step(location=Location(line=30, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='758'), '759': Step(location=Location(line=31, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='759'), '763': Examples(location=Location(line=33, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='username'), TableCell(location=Location(line=34, column=18), value='host')], id='760'), table_body=[TableRow(location=Location(line=35, column=5), cells=[TableCell(location=Location(line=35, column=7), value='godzilla'), TableCell(location=Location(line=35, column=18), value='laptop')], id='761'), TableRow(location=Location(line=36, column=5), cells=[TableCell(location=Location(line=36, column=7), value='tengu'), TableCell(location=Location(line=36, column=18), value='tablet')], id='762')], id='763'), '760': TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='username'), TableCell(location=Location(line=34, column=18), value='host')], id='760'), '761': TableRow(location=Location(line=35, column=5), cells=[TableCell(location=Location(line=35, column=7), value='godzilla'), TableCell(location=Location(line=35, column=18), value='laptop')], id='761'), '762': TableRow(location=Location(line=36, column=5), cells=[TableCell(location=Location(line=36, column=7), value='tengu'), TableCell(location=Location(line=36, column=18), value='tablet')], id='762'), '780': Scenario(location=Location(line=38, column=3), tags=[], keyword='Scenario', name='Send iodocument via nats host: <host>, user: <username> and check that second user received graph update', description='', steps=[Step(location=Location(line=39, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='765'), Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='766'), Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='767'), Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='768'), Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=None, data_table=None, id='769'), Step(location=Location(line=44, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=DocString(location=Location(line=45, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='770'), Step(location=Location(line=54, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=55, column=7), rows=[TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='Deployment name')], id='771'), TableRow(location=Location(line=56, column=7), cells=[TableCell(location=Location(line=56, column=9), value='iocontext-00001-deployment')], id='772'), TableRow(location=Location(line=57, column=7), cells=[TableCell(location=Location(line=57, column=9), value='kafka-cdc-00001-deployment')], id='773')]), id='774'), Step(location=Location(line=59, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<dst_user>.<dst_host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='775')], examples=[Examples(location=Location(line=61, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=62, column=5), cells=[TableCell(location=Location(line=62, column=7), value='context'), TableCell(location=Location(line=62, column=17), value='src_user'), TableCell(location=Location(line=62, column=28), value='src_host'), TableCell(location=Location(line=62, column=39), value='dst_user'), TableCell(location=Location(line=62, column=50), value='dst_host')], id='776'), table_body=[TableRow(location=Location(line=63, column=5), cells=[TableCell(location=Location(line=63, column=7), value='tokyo'), TableCell(location=Location(line=63, column=17), value='godzilla'), TableCell(location=Location(line=63, column=28), value='laptop'), TableCell(location=Location(line=63, column=39), value='tengu'), TableCell(location=Location(line=63, column=50), value='tablet')], id='777'), TableRow(location=Location(line=64, column=5), cells=[TableCell(location=Location(line=64, column=7), value='tokyo'), TableCell(location=Location(line=64, column=17), value='tengu'), TableCell(location=Location(line=64, column=28), value='tablet'), TableCell(location=Location(line=64, column=39), value='godzilla'), TableCell(location=Location(line=64, column=50), value='laptop')], id='778')], id='779')], id='780'), '765': Step(location=Location(line=39, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='765'), '766': Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='766'), '767': Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='767'), '768': Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='768'), '769': Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=None, data_table=None, id='769'), '770': Step(location=Location(line=44, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=DocString(location=Location(line=45, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='770'), '774': Step(location=Location(line=54, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=55, column=7), rows=[TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='Deployment name')], id='771'), TableRow(location=Location(line=56, column=7), cells=[TableCell(location=Location(line=56, column=9), value='iocontext-00001-deployment')], id='772'), TableRow(location=Location(line=57, column=7), cells=[TableCell(location=Location(line=57, column=9), value='kafka-cdc-00001-deployment')], id='773')]), id='774'), '775': Step(location=Location(line=59, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<dst_user>.<dst_host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='775'), '779': Examples(location=Location(line=61, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=62, column=5), cells=[TableCell(location=Location(line=62, column=7), value='context'), TableCell(location=Location(line=62, column=17), value='src_user'), TableCell(location=Location(line=62, column=28), value='src_host'), TableCell(location=Location(line=62, column=39), value='dst_user'), TableCell(location=Location(line=62, column=50), value='dst_host')], id='776'), table_body=[TableRow(location=Location(line=63, column=5), cells=[TableCell(location=Location(line=63, column=7), value='tokyo'), TableCell(location=Location(line=63, column=17), value='godzilla'), TableCell(location=Location(line=63, column=28), value='laptop'), TableCell(location=Location(line=63, column=39), value='tengu'), TableCell(location=Location(line=63, column=50), value='tablet')], id='777'), TableRow(location=Location(line=64, column=5), cells=[TableCell(location=Location(line=64, column=7), value='tokyo'), TableCell(location=Location(line=64, column=17), value='tengu'), TableCell(location=Location(line=64, column=28), value='tablet'), TableCell(location=Location(line=64, column=39), value='godzilla'), TableCell(location=Location(line=64, column=50), value='laptop')], id='778')], id='779'), '776': TableRow(location=Location(line=62, column=5), cells=[TableCell(location=Location(line=62, column=7), value='context'), TableCell(location=Location(line=62, column=17), value='src_user'), TableCell(location=Location(line=62, column=28), value='src_host'), TableCell(location=Location(line=62, column=39), value='dst_user'), TableCell(location=Location(line=62, column=50), value='dst_host')], id='776'), '777': TableRow(location=Location(line=63, column=5), cells=[TableCell(location=Location(line=63, column=7), value='tokyo'), TableCell(location=Location(line=63, column=17), value='godzilla'), TableCell(location=Location(line=63, column=28), value='laptop'), TableCell(location=Location(line=63, column=39), value='tengu'), TableCell(location=Location(line=63, column=50), value='tablet')], id='777'), '778': TableRow(location=Location(line=64, column=5), cells=[TableCell(location=Location(line=64, column=7), value='tokyo'), TableCell(location=Location(line=64, column=17), value='tengu'), TableCell(location=Location(line=64, column=28), value='tablet'), TableCell(location=Location(line=64, column=39), value='godzilla'), TableCell(location=Location(line=64, column=50), value='laptop')], id='778'), '787': Scenario(location=Location(line=67, column=3), tags=[], keyword='Scenario', name='Cleanup <host> host for <username> username', description='', steps=[Step(location=Location(line=69, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='781'), Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='782')], examples=[Examples(location=Location(line=72, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=73, column=5), cells=[TableCell(location=Location(line=73, column=7), value='username'), TableCell(location=Location(line=73, column=18), value='host')], id='783'), table_body=[TableRow(location=Location(line=74, column=5), cells=[TableCell(location=Location(line=74, column=7), value='godzilla'), TableCell(location=Location(line=74, column=18), value='laptop')], id='784'), TableRow(location=Location(line=75, column=5), cells=[TableCell(location=Location(line=75, column=7), value='tengu'), TableCell(location=Location(line=75, column=18), value='tablet')], id='785')], id='786')], id='787'), '781': Step(location=Location(line=69, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='781'), '782': Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='782'), '786': Examples(location=Location(line=72, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=73, column=5), cells=[TableCell(location=Location(line=73, column=7), value='username'), TableCell(location=Location(line=73, column=18), value='host')], id='783'), table_body=[TableRow(location=Location(line=74, column=5), cells=[TableCell(location=Location(line=74, column=7), value='godzilla'), TableCell(location=Location(line=74, column=18), value='laptop')], id='784'), TableRow(location=Location(line=75, column=5), cells=[TableCell(location=Location(line=75, column=7), value='tengu'), TableCell(location=Location(line=75, column=18), value='tablet')], id='785')], id='786'), '783': TableRow(location=Location(line=73, column=5), cells=[TableCell(location=Location(line=73, column=7), value='username'), TableCell(location=Location(line=73, column=18), value='host')], id='783'), '784': TableRow(location=Location(line=74, column=5), cells=[TableCell(location=Location(line=74, column=7), value='godzilla'), TableCell(location=Location(line=74, column=18), value='laptop')], id='784'), '785': TableRow(location=Location(line=75, column=5), cells=[TableCell(location=Location(line=75, column=7), value='tengu'), TableCell(location=Location(line=75, column=18), value='tablet')], id='785'), '794': Scenario(location=Location(line=77, column=3), tags=[], keyword='Scenario', name='Cleanup <username> username', description='', steps=[Step(location=Location(line=78, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='788'), Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='789')], examples=[Examples(location=Location(line=81, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='username')], id='790'), table_body=[TableRow(location=Location(line=83, column=5), cells=[TableCell(location=Location(line=83, column=7), value='godzilla')], id='791'), TableRow(location=Location(line=84, column=5), cells=[TableCell(location=Location(line=84, column=7), value='tengu')], id='792')], id='793')], id='794'), '788': Step(location=Location(line=78, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='788'), '789': Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='789'), '793': Examples(location=Location(line=81, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='username')], id='790'), table_body=[TableRow(location=Location(line=83, column=5), cells=[TableCell(location=Location(line=83, column=7), value='godzilla')], id='791'), TableRow(location=Location(line=84, column=5), cells=[TableCell(location=Location(line=84, column=7), value='tengu')], id='792')], id='793'), '790': TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='username')], id='790'), '791': TableRow(location=Location(line=83, column=5), cells=[TableCell(location=Location(line=83, column=7), value='godzilla')], id='791'), '792': TableRow(location=Location(line=84, column=5), cells=[TableCell(location=Location(line=84, column=7), value='tengu')], id='792'), '800': Scenario(location=Location(line=86, column=3), tags=[], keyword='Scenario', name='Cleanup <context> context', description='', steps=[Step(location=Location(line=87, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='795'), Step(location=Location(line=88, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='796')], examples=[Examples(location=Location(line=90, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=91, column=5), cells=[TableCell(location=Location(line=91, column=7), value='context')], id='797'), table_body=[TableRow(location=Location(line=92, column=5), cells=[TableCell(location=Location(line=92, column=7), value='tokyo')], id='798')], id='799')], id='800'), '795': Step(location=Location(line=87, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='795'), '796': Step(location=Location(line=88, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='796'), '799': Examples(location=Location(line=90, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=91, column=5), cells=[TableCell(location=Location(line=91, column=7), value='context')], id='797'), table_body=[TableRow(location=Location(line=92, column=5), cells=[TableCell(location=Location(line=92, column=7), value='tokyo')], id='798')], id='799'), '797': TableRow(location=Location(line=91, column=5), cells=[TableCell(location=Location(line=91, column=7), value='context')], id='797'), '798': TableRow(location=Location(line=92, column=5), cells=[TableCell(location=Location(line=92, column=7), value='tokyo')], id='798')}, pickles=[Pickle(id='809', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create context tokyo', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='803', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='804', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['739', '748'], id='805', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"tokyo\"'), PickleStep(argument=None, ast_node_ids=['740', '748'], id='806', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext')]), PickleTableRow(cells=[PickleTableCell(value='pong')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')])])), ast_node_ids=['745', '748'], id='807', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-tokyo\" namespace'), PickleStep(argument=None, ast_node_ids=['746', '748'], id='808', type=<Type.outcome: 'Outcome'>, text='statefulset \"tokyo-neo4j\" in namespace \"context-tokyo\" is in ready state')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['750', '748']), Pickle(id='814', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create godzilla and connects it to tokyo', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='810', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='811', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['751', '754'], id='812', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"godzilla\" and connects it to the context \"tokyo\"'), PickleStep(argument=None, ast_node_ids=['752', '754'], id='813', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['757', '754']), Pickle(id='819', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create tengu and connects it to tokyo', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='815', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='816', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['751', '755'], id='817', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"tengu\" and connects it to the context \"tokyo\"'), PickleStep(argument=None, ast_node_ids=['752', '755'], id='818', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['757', '755']), Pickle(id='824', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create laptop resource and connects it to godzilla user', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='820', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='821', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['758', '761'], id='822', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"laptop\" and connects it to the user \"godzilla\"'), PickleStep(argument=None, ast_node_ids=['759', '761'], id='823', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['764', '761']), Pickle(id='829', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create tablet resource and connects it to tengu user', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='825', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='826', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['758', '762'], id='827', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"tablet\" and connects it to the user \"tengu\"'), PickleStep(argument=None, ast_node_ids=['759', '762'], id='828', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['764', '762']), Pickle(id='840', uri='file:features/7_mindwm_two_users_one_context.feature', name='Send iodocument via nats host: <host>, user: <username> and check that second user received graph update', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='830', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='831', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['765', '777'], id='832', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['766', '777'], id='833', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['767', '777'], id='834', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"id\"'), PickleStep(argument=None, ast_node_ids=['768', '777'], id='835', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['769', '777'], id='836', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.godzilla.laptop.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['770', '777'], id='837', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.godzilla.laptop.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-00001-deployment')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-00001-deployment')])])), ast_node_ids=['774', '777'], id='838', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-tokyo\" namespace'), PickleStep(argument=None, ast_node_ids=['775', '777'], id='839', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-tengu.tablet-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['780', '777']), Pickle(id='851', uri='file:features/7_mindwm_two_users_one_context.feature', name='Send iodocument via nats host: <host>, user: <username> and check that second user received graph update', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='841', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='842', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['765', '778'], id='843', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['766', '778'], id='844', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['767', '778'], id='845', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"id\"'), PickleStep(argument=None, ast_node_ids=['768', '778'], id='846', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['769', '778'], id='847', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.tengu.tablet.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['770', '778'], id='848', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.tengu.tablet.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-00001-deployment')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-00001-deployment')])])), ast_node_ids=['774', '778'], id='849', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-tokyo\" namespace'), PickleStep(argument=None, ast_node_ids=['775', '778'], id='850', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-godzilla.laptop-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['780', '778']), Pickle(id='856', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup laptop host for godzilla username', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='852', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='853', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['781', '784'], id='854', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"laptop\"'), PickleStep(argument=None, ast_node_ids=['782', '784'], id='855', type=<Type.outcome: 'Outcome'>, text='the host \"laptop\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['787', '784']), Pickle(id='861', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup tablet host for tengu username', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='857', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='858', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['781', '785'], id='859', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"tablet\"'), PickleStep(argument=None, ast_node_ids=['782', '785'], id='860', type=<Type.outcome: 'Outcome'>, text='the host \"tablet\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['787', '785']), Pickle(id='866', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup godzilla username', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='862', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='863', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['788', '791'], id='864', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"godzilla\"'), PickleStep(argument=None, ast_node_ids=['789', '791'], id='865', type=<Type.outcome: 'Outcome'>, text='the user \"godzilla\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['794', '791']), Pickle(id='871', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup tengu username', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='867', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='868', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['788', '792'], id='869', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"tengu\"'), PickleStep(argument=None, ast_node_ids=['789', '792'], id='870', type=<Type.outcome: 'Outcome'>, text='the user \"tengu\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['794', '792']), Pickle(id='876', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup tokyo context', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='872', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='873', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['795', '798'], id='874', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"tokyo\"'), PickleStep(argument=None, ast_node_ids=['796', '798'], id='875', type=<Type.outcome: 'Outcome'>, text='the context \"tokyo\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['800', '798'])])","Source(uri='file:features/7_mindwm_two_users_one_context.feature', data='@mindwm_two_users_one_context\\n@mindwm_test\\nFeature: MindWM two users one context function test\\n  Background:\\n    Given A MindWM environment\\n    Then all nodes in Kubernetes are ready\\n\\n  Scenario: Create context <context>\\n    When God creates a MindWM context with the name \"<context>\"\\n    Then the context should be ready and operable\\n\\n    Then the following knative services are in a ready state in the \"context-<context>\" namespace\\n      | Knative service name |\\n      | iocontext            |\\n      | pong                 |\\n      | kafka-cdc            |\\n    And statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state\\n    Examples:\\n    | context | \\n    | tokyo   | \\n    \\n  Scenario: Create <username> and connects it to <context>\\n    When God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"\\n    Then the user resource should be ready and operable\\n    Examples:\\n    | context | username |\\n    | tokyo   | godzilla |\\n    | tokyo   | tengu    |\\n  Scenario: Create <host> resource and connects it to <username> user\\n    When God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"\\n    Then the host resource should be ready and operable\\n\\n    Examples: \\n    | username | host   |\\n    | godzilla | laptop | \\n    | tengu    | tablet | \\n\\n  Scenario: Send iodocument via nats host: <host>, user: <username> and check that second user received graph update\\n    When God creates a new cloudevent \\n      And God starts reading message from NATS topic \">\"\\n      And sets cloudevent header \"ce-subject\" to \"id\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"\\n      And sends cloudevent to nats topic \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"\\n      \"\"\"\\n      {\\n        \"input\": \"id\",\\n        \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n        \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n        \"type\": \"org.mindwm.v1.iodocument\"\\n      } \\n      \"\"\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name            |\\n      | iocontext-00001-deployment |\\n      | kafka-cdc-00001-deployment |\\n\\n    And a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<dst_user>.<dst_host>-host-broker-kne-trigger._knative\"\\n\\n    Examples:\\n    | context | src_user | src_host | dst_user | dst_host |  \\n    | tokyo   | godzilla | laptop   | tengu    | tablet   |\\n    | tokyo   | tengu    | tablet   | godzilla | laptop   | \\n\\n\\n  Scenario: Cleanup <host> host for <username> username\\n\\n    When God deletes the MindWM host resource \"<host>\"\\n    Then the host \"<host>\" should be deleted\\n\\n    Examples:\\n    | username | host   |\\n    | godzilla | laptop | \\n    | tengu    | tablet | \\n\\n  Scenario: Cleanup <username> username\\n    When God deletes the MindWM user resource \"<username>\"\\n    Then the user \"<username>\" should be deleted\\n\\n    Examples:\\n    | username | \\n    | godzilla |\\n    | tengu    | \\n\\n  Scenario: Cleanup <context> context\\n    When God deletes the MindWM context resource \"<context>\"\\n    Then the context \"<context>\" should be deleted\\n\\n    Examples:\\n    | context | \\n    | tokyo   |\\n', media_type='text/x.cucumber.gherkin+plain')","Pickle(id='866', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup godzilla username', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='862', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='863', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['788', '791'], id='864', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"godzilla\"'), PickleStep(argument=None, ast_node_ids=['789', '791'], id='865', type=<Type.outcome: 'Outcome'>, text='the user \"godzilla\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['794', '791'])"],"tags":["scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/7_mindwm_two_users_one_context.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=<FeaturePathType.PATH: 'path'>, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())","pytest_bdd_scenario","@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')","mindwm_test","mindwm_two_users_one_context","namespace(create=False, name='default')"]},{"name":"test_scenarios[file:features/2_mindwm_crd_resources.feature-MindWM Custom kubernetes resources-Delete Resources and Verify Cleanup]","uid":"99300f14295ba290","parentUid":"3961740595044ffd97a03e46799bfc30","status":"passed","time":{"start":1728403601754,"stop":1728403777127,"duration":175373},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["Feature(gherkin_document=GherkinDocument(uri='file:features/2_mindwm_crd_resources.feature', feature=Feature(location=Location(line=3, column=1), tags=[Tag(location=Location(line=1, column=1), name='@mindwm_crd_resources', id='263'), Tag(location=Location(line=2, column=1), name='@mindwm_test', id='264')], language='en', keyword='Feature', name='MindWM Custom kubernetes resources', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=5, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=6, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='205'), Step(location=Location(line=7, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='206')], id='207'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=9, column=3), tags=[], keyword='Scenario', name='Create Context and check k8s resources', description='', steps=[Step(location=Location(line=10, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"cyan\"', doc_string=None, data_table=None, id='208'), Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='209'), Step(location=Location(line=12, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-cyan\" should exist', doc_string=None, data_table=None, id='210'), Step(location=Location(line=13, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='helm release \"cyan-neo4j\" is deployed in \"context-cyan\" namespace', doc_string=None, data_table=None, id='211'), Step(location=Location(line=14, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"cyan-neo4j\" in namespace \"context-cyan\" is in ready state', doc_string=None, data_table=None, id='212'), Step(location=Location(line=15, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=16, column=7), rows=[TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='Knative service name')], id='213'), TableRow(location=Location(line=17, column=7), cells=[TableCell(location=Location(line=17, column=9), value='dead-letter')], id='214'), TableRow(location=Location(line=18, column=7), cells=[TableCell(location=Location(line=18, column=9), value='iocontext')], id='215'), TableRow(location=Location(line=19, column=7), cells=[TableCell(location=Location(line=19, column=9), value='kafka-cdc')], id='216'), TableRow(location=Location(line=20, column=7), cells=[TableCell(location=Location(line=20, column=9), value='pong')], id='217')]), id='218'), Step(location=Location(line=21, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative triggers are in a ready state in the \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=22, column=7), rows=[TableRow(location=Location(line=22, column=7), cells=[TableCell(location=Location(line=22, column=9), value='Knative trigger name')], id='219'), TableRow(location=Location(line=23, column=7), cells=[TableCell(location=Location(line=23, column=9), value='iocontext-trigger')], id='220'), TableRow(location=Location(line=24, column=7), cells=[TableCell(location=Location(line=24, column=9), value='kafka-cdc-trigger')], id='221'), TableRow(location=Location(line=25, column=7), cells=[TableCell(location=Location(line=25, column=9), value='pong-trigger')], id='222')]), id='223'), Step(location=Location(line=26, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative brokers are in a ready state in the \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=27, column=7), rows=[TableRow(location=Location(line=27, column=7), cells=[TableCell(location=Location(line=27, column=9), value='Knative broker name')], id='224'), TableRow(location=Location(line=28, column=7), cells=[TableCell(location=Location(line=28, column=9), value='context-broker')], id='225')]), id='226'), Step(location=Location(line=29, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka topic \"context-cyan-cdc\" is in ready state in \"redpanda\" namespace', doc_string=None, data_table=None, id='227'), Step(location=Location(line=30, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka source \"context-cyan-cdc-kafkasource\" is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=None, id='228')], examples=[], id='229')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=32, column=3), tags=[], keyword='Scenario', name='Create User and check k8s resources', description='', steps=[Step(location=Location(line=33, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"bob\" and connects it to the context \"cyan\"', doc_string=None, data_table=None, id='230'), Step(location=Location(line=34, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='231'), Step(location=Location(line=35, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"user-bob\" should exist', doc_string=None, data_table=None, id='232'), Step(location=Location(line=36, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative brokers are in a ready state in the \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=37, column=7), rows=[TableRow(location=Location(line=37, column=7), cells=[TableCell(location=Location(line=37, column=9), value='Knative broker name')], id='233'), TableRow(location=Location(line=38, column=7), cells=[TableCell(location=Location(line=38, column=9), value='user-broker')], id='234')]), id='235'), Step(location=Location(line=39, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative triggers are in a ready state in the \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=40, column=7), rows=[TableRow(location=Location(line=40, column=7), cells=[TableCell(location=Location(line=40, column=9), value='Knative trigger name')], id='236'), TableRow(location=Location(line=41, column=7), cells=[TableCell(location=Location(line=41, column=9), value='context-cyan-to-user-bob')], id='237')]), id='238'), Step(location=Location(line=42, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative triggers are in a ready state in the \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=43, column=7), rows=[TableRow(location=Location(line=43, column=7), cells=[TableCell(location=Location(line=43, column=9), value='Knative trigger name')], id='239'), TableRow(location=Location(line=44, column=7), cells=[TableCell(location=Location(line=44, column=9), value='user-bob-to-context-cyan')], id='240')]), id='241')], examples=[], id='242')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=46, column=3), tags=[], keyword='Scenario', name='Create Host and check k8s resources', description='', steps=[Step(location=Location(line=47, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"workstation\" and connects it to the user \"bob\"', doc_string=None, data_table=None, id='243'), Step(location=Location(line=48, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='244'), Step(location=Location(line=49, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"workstation-host-broker-kne-trigger\" is ready in \"user-bob\" namespace', doc_string=None, data_table=None, id='245'), Step(location=Location(line=50, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative triggers are in a ready state in the \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=51, column=7), rows=[TableRow(location=Location(line=51, column=7), cells=[TableCell(location=Location(line=51, column=9), value='Knative trigger name')], id='246'), TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='user-bob-to-context-cyan')], id='247'), TableRow(location=Location(line=53, column=7), cells=[TableCell(location=Location(line=53, column=9), value='user-broker-to-workstation-broker-trigger')], id='248')]), id='249'), Step(location=Location(line=54, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative brokers are in a ready state in the \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=55, column=7), rows=[TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='Knative broker name')], id='250'), TableRow(location=Location(line=56, column=7), cells=[TableCell(location=Location(line=56, column=9), value='workstation-host-broker')], id='251')]), id='252')], examples=[], id='253')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=60, column=3), tags=[], keyword='Scenario', name='Delete Resources and Verify Cleanup', description='', steps=[Step(location=Location(line=62, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"workstation\"', doc_string=None, data_table=None, id='254'), Step(location=Location(line=63, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"workstation\" should be deleted', doc_string=None, data_table=None, id='255'), Step(location=Location(line=65, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"bob\"', doc_string=None, data_table=None, id='256'), Step(location=Location(line=66, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"bob\" should be deleted', doc_string=None, data_table=None, id='257'), Step(location=Location(line=67, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"user-bob\" should not exist', doc_string=None, data_table=None, id='258'), Step(location=Location(line=69, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"cyan\"', doc_string=None, data_table=None, id='259'), Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"cyan\" should be deleted', doc_string=None, data_table=None, id='260'), Step(location=Location(line=71, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-cyan\" should not exist', doc_string=None, data_table=None, id='261')], examples=[], id='262'))]), comments=[]), uri='file:features/2_mindwm_crd_resources.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/2_mindwm_crd_resources.feature', registry={'263': Tag(location=Location(line=1, column=1), name='@mindwm_crd_resources', id='263'), '264': Tag(location=Location(line=2, column=1), name='@mindwm_test', id='264'), '207': Background(location=Location(line=5, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=6, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='205'), Step(location=Location(line=7, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='206')], id='207'), '205': Step(location=Location(line=6, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='205'), '206': Step(location=Location(line=7, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='206'), '229': Scenario(location=Location(line=9, column=3), tags=[], keyword='Scenario', name='Create Context and check k8s resources', description='', steps=[Step(location=Location(line=10, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"cyan\"', doc_string=None, data_table=None, id='208'), Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='209'), Step(location=Location(line=12, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-cyan\" should exist', doc_string=None, data_table=None, id='210'), Step(location=Location(line=13, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='helm release \"cyan-neo4j\" is deployed in \"context-cyan\" namespace', doc_string=None, data_table=None, id='211'), Step(location=Location(line=14, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"cyan-neo4j\" in namespace \"context-cyan\" is in ready state', doc_string=None, data_table=None, id='212'), Step(location=Location(line=15, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=16, column=7), rows=[TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='Knative service name')], id='213'), TableRow(location=Location(line=17, column=7), cells=[TableCell(location=Location(line=17, column=9), value='dead-letter')], id='214'), TableRow(location=Location(line=18, column=7), cells=[TableCell(location=Location(line=18, column=9), value='iocontext')], id='215'), TableRow(location=Location(line=19, column=7), cells=[TableCell(location=Location(line=19, column=9), value='kafka-cdc')], id='216'), TableRow(location=Location(line=20, column=7), cells=[TableCell(location=Location(line=20, column=9), value='pong')], id='217')]), id='218'), Step(location=Location(line=21, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative triggers are in a ready state in the \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=22, column=7), rows=[TableRow(location=Location(line=22, column=7), cells=[TableCell(location=Location(line=22, column=9), value='Knative trigger name')], id='219'), TableRow(location=Location(line=23, column=7), cells=[TableCell(location=Location(line=23, column=9), value='iocontext-trigger')], id='220'), TableRow(location=Location(line=24, column=7), cells=[TableCell(location=Location(line=24, column=9), value='kafka-cdc-trigger')], id='221'), TableRow(location=Location(line=25, column=7), cells=[TableCell(location=Location(line=25, column=9), value='pong-trigger')], id='222')]), id='223'), Step(location=Location(line=26, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative brokers are in a ready state in the \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=27, column=7), rows=[TableRow(location=Location(line=27, column=7), cells=[TableCell(location=Location(line=27, column=9), value='Knative broker name')], id='224'), TableRow(location=Location(line=28, column=7), cells=[TableCell(location=Location(line=28, column=9), value='context-broker')], id='225')]), id='226'), Step(location=Location(line=29, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka topic \"context-cyan-cdc\" is in ready state in \"redpanda\" namespace', doc_string=None, data_table=None, id='227'), Step(location=Location(line=30, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka source \"context-cyan-cdc-kafkasource\" is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=None, id='228')], examples=[], id='229'), '208': Step(location=Location(line=10, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"cyan\"', doc_string=None, data_table=None, id='208'), '209': Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='209'), '210': Step(location=Location(line=12, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-cyan\" should exist', doc_string=None, data_table=None, id='210'), '211': Step(location=Location(line=13, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='helm release \"cyan-neo4j\" is deployed in \"context-cyan\" namespace', doc_string=None, data_table=None, id='211'), '212': Step(location=Location(line=14, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"cyan-neo4j\" in namespace \"context-cyan\" is in ready state', doc_string=None, data_table=None, id='212'), '218': Step(location=Location(line=15, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=16, column=7), rows=[TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='Knative service name')], id='213'), TableRow(location=Location(line=17, column=7), cells=[TableCell(location=Location(line=17, column=9), value='dead-letter')], id='214'), TableRow(location=Location(line=18, column=7), cells=[TableCell(location=Location(line=18, column=9), value='iocontext')], id='215'), TableRow(location=Location(line=19, column=7), cells=[TableCell(location=Location(line=19, column=9), value='kafka-cdc')], id='216'), TableRow(location=Location(line=20, column=7), cells=[TableCell(location=Location(line=20, column=9), value='pong')], id='217')]), id='218'), '223': Step(location=Location(line=21, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative triggers are in a ready state in the \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=22, column=7), rows=[TableRow(location=Location(line=22, column=7), cells=[TableCell(location=Location(line=22, column=9), value='Knative trigger name')], id='219'), TableRow(location=Location(line=23, column=7), cells=[TableCell(location=Location(line=23, column=9), value='iocontext-trigger')], id='220'), TableRow(location=Location(line=24, column=7), cells=[TableCell(location=Location(line=24, column=9), value='kafka-cdc-trigger')], id='221'), TableRow(location=Location(line=25, column=7), cells=[TableCell(location=Location(line=25, column=9), value='pong-trigger')], id='222')]), id='223'), '226': Step(location=Location(line=26, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative brokers are in a ready state in the \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=27, column=7), rows=[TableRow(location=Location(line=27, column=7), cells=[TableCell(location=Location(line=27, column=9), value='Knative broker name')], id='224'), TableRow(location=Location(line=28, column=7), cells=[TableCell(location=Location(line=28, column=9), value='context-broker')], id='225')]), id='226'), '227': Step(location=Location(line=29, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka topic \"context-cyan-cdc\" is in ready state in \"redpanda\" namespace', doc_string=None, data_table=None, id='227'), '228': Step(location=Location(line=30, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka source \"context-cyan-cdc-kafkasource\" is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=None, id='228'), '242': Scenario(location=Location(line=32, column=3), tags=[], keyword='Scenario', name='Create User and check k8s resources', description='', steps=[Step(location=Location(line=33, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"bob\" and connects it to the context \"cyan\"', doc_string=None, data_table=None, id='230'), Step(location=Location(line=34, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='231'), Step(location=Location(line=35, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"user-bob\" should exist', doc_string=None, data_table=None, id='232'), Step(location=Location(line=36, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative brokers are in a ready state in the \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=37, column=7), rows=[TableRow(location=Location(line=37, column=7), cells=[TableCell(location=Location(line=37, column=9), value='Knative broker name')], id='233'), TableRow(location=Location(line=38, column=7), cells=[TableCell(location=Location(line=38, column=9), value='user-broker')], id='234')]), id='235'), Step(location=Location(line=39, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative triggers are in a ready state in the \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=40, column=7), rows=[TableRow(location=Location(line=40, column=7), cells=[TableCell(location=Location(line=40, column=9), value='Knative trigger name')], id='236'), TableRow(location=Location(line=41, column=7), cells=[TableCell(location=Location(line=41, column=9), value='context-cyan-to-user-bob')], id='237')]), id='238'), Step(location=Location(line=42, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative triggers are in a ready state in the \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=43, column=7), rows=[TableRow(location=Location(line=43, column=7), cells=[TableCell(location=Location(line=43, column=9), value='Knative trigger name')], id='239'), TableRow(location=Location(line=44, column=7), cells=[TableCell(location=Location(line=44, column=9), value='user-bob-to-context-cyan')], id='240')]), id='241')], examples=[], id='242'), '230': Step(location=Location(line=33, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"bob\" and connects it to the context \"cyan\"', doc_string=None, data_table=None, id='230'), '231': Step(location=Location(line=34, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='231'), '232': Step(location=Location(line=35, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"user-bob\" should exist', doc_string=None, data_table=None, id='232'), '235': Step(location=Location(line=36, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative brokers are in a ready state in the \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=37, column=7), rows=[TableRow(location=Location(line=37, column=7), cells=[TableCell(location=Location(line=37, column=9), value='Knative broker name')], id='233'), TableRow(location=Location(line=38, column=7), cells=[TableCell(location=Location(line=38, column=9), value='user-broker')], id='234')]), id='235'), '238': Step(location=Location(line=39, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative triggers are in a ready state in the \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=40, column=7), rows=[TableRow(location=Location(line=40, column=7), cells=[TableCell(location=Location(line=40, column=9), value='Knative trigger name')], id='236'), TableRow(location=Location(line=41, column=7), cells=[TableCell(location=Location(line=41, column=9), value='context-cyan-to-user-bob')], id='237')]), id='238'), '241': Step(location=Location(line=42, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative triggers are in a ready state in the \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=43, column=7), rows=[TableRow(location=Location(line=43, column=7), cells=[TableCell(location=Location(line=43, column=9), value='Knative trigger name')], id='239'), TableRow(location=Location(line=44, column=7), cells=[TableCell(location=Location(line=44, column=9), value='user-bob-to-context-cyan')], id='240')]), id='241'), '253': Scenario(location=Location(line=46, column=3), tags=[], keyword='Scenario', name='Create Host and check k8s resources', description='', steps=[Step(location=Location(line=47, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"workstation\" and connects it to the user \"bob\"', doc_string=None, data_table=None, id='243'), Step(location=Location(line=48, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='244'), Step(location=Location(line=49, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"workstation-host-broker-kne-trigger\" is ready in \"user-bob\" namespace', doc_string=None, data_table=None, id='245'), Step(location=Location(line=50, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative triggers are in a ready state in the \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=51, column=7), rows=[TableRow(location=Location(line=51, column=7), cells=[TableCell(location=Location(line=51, column=9), value='Knative trigger name')], id='246'), TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='user-bob-to-context-cyan')], id='247'), TableRow(location=Location(line=53, column=7), cells=[TableCell(location=Location(line=53, column=9), value='user-broker-to-workstation-broker-trigger')], id='248')]), id='249'), Step(location=Location(line=54, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative brokers are in a ready state in the \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=55, column=7), rows=[TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='Knative broker name')], id='250'), TableRow(location=Location(line=56, column=7), cells=[TableCell(location=Location(line=56, column=9), value='workstation-host-broker')], id='251')]), id='252')], examples=[], id='253'), '243': Step(location=Location(line=47, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"workstation\" and connects it to the user \"bob\"', doc_string=None, data_table=None, id='243'), '244': Step(location=Location(line=48, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='244'), '245': Step(location=Location(line=49, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"workstation-host-broker-kne-trigger\" is ready in \"user-bob\" namespace', doc_string=None, data_table=None, id='245'), '249': Step(location=Location(line=50, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative triggers are in a ready state in the \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=51, column=7), rows=[TableRow(location=Location(line=51, column=7), cells=[TableCell(location=Location(line=51, column=9), value='Knative trigger name')], id='246'), TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='user-bob-to-context-cyan')], id='247'), TableRow(location=Location(line=53, column=7), cells=[TableCell(location=Location(line=53, column=9), value='user-broker-to-workstation-broker-trigger')], id='248')]), id='249'), '252': Step(location=Location(line=54, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative brokers are in a ready state in the \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=55, column=7), rows=[TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='Knative broker name')], id='250'), TableRow(location=Location(line=56, column=7), cells=[TableCell(location=Location(line=56, column=9), value='workstation-host-broker')], id='251')]), id='252'), '262': Scenario(location=Location(line=60, column=3), tags=[], keyword='Scenario', name='Delete Resources and Verify Cleanup', description='', steps=[Step(location=Location(line=62, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"workstation\"', doc_string=None, data_table=None, id='254'), Step(location=Location(line=63, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"workstation\" should be deleted', doc_string=None, data_table=None, id='255'), Step(location=Location(line=65, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"bob\"', doc_string=None, data_table=None, id='256'), Step(location=Location(line=66, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"bob\" should be deleted', doc_string=None, data_table=None, id='257'), Step(location=Location(line=67, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"user-bob\" should not exist', doc_string=None, data_table=None, id='258'), Step(location=Location(line=69, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"cyan\"', doc_string=None, data_table=None, id='259'), Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"cyan\" should be deleted', doc_string=None, data_table=None, id='260'), Step(location=Location(line=71, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-cyan\" should not exist', doc_string=None, data_table=None, id='261')], examples=[], id='262'), '254': Step(location=Location(line=62, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"workstation\"', doc_string=None, data_table=None, id='254'), '255': Step(location=Location(line=63, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"workstation\" should be deleted', doc_string=None, data_table=None, id='255'), '256': Step(location=Location(line=65, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"bob\"', doc_string=None, data_table=None, id='256'), '257': Step(location=Location(line=66, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"bob\" should be deleted', doc_string=None, data_table=None, id='257'), '258': Step(location=Location(line=67, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"user-bob\" should not exist', doc_string=None, data_table=None, id='258'), '259': Step(location=Location(line=69, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"cyan\"', doc_string=None, data_table=None, id='259'), '260': Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"cyan\" should be deleted', doc_string=None, data_table=None, id='260'), '261': Step(location=Location(line=71, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-cyan\" should not exist', doc_string=None, data_table=None, id='261')}, pickles=[Pickle(id='277', uri='file:features/2_mindwm_crd_resources.feature', name='Create Context and check k8s resources', language='en', steps=[PickleStep(argument=None, ast_node_ids=['205'], id='265', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['206'], id='266', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['208'], id='267', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"cyan\"'), PickleStep(argument=None, ast_node_ids=['209'], id='268', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=None, ast_node_ids=['210'], id='269', type=<Type.outcome: 'Outcome'>, text='namespace \"context-cyan\" should exist'), PickleStep(argument=None, ast_node_ids=['211'], id='270', type=<Type.outcome: 'Outcome'>, text='helm release \"cyan-neo4j\" is deployed in \"context-cyan\" namespace'), PickleStep(argument=None, ast_node_ids=['212'], id='271', type=<Type.outcome: 'Outcome'>, text='statefulset \"cyan-neo4j\" in namespace \"context-cyan\" is in ready state'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='dead-letter')]), PickleTableRow(cells=[PickleTableCell(value='iocontext')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')]), PickleTableRow(cells=[PickleTableCell(value='pong')])])), ast_node_ids=['218'], id='272', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-cyan\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative trigger name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-trigger')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-trigger')]), PickleTableRow(cells=[PickleTableCell(value='pong-trigger')])])), ast_node_ids=['223'], id='273', type=<Type.outcome: 'Outcome'>, text='the following knative triggers are in a ready state in the \"context-cyan\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative broker name')]), PickleTableRow(cells=[PickleTableCell(value='context-broker')])])), ast_node_ids=['226'], id='274', type=<Type.outcome: 'Outcome'>, text='the following knative brokers are in a ready state in the \"context-cyan\" namespace'), PickleStep(argument=None, ast_node_ids=['227'], id='275', type=<Type.outcome: 'Outcome'>, text='kafka topic \"context-cyan-cdc\" is in ready state in \"redpanda\" namespace'), PickleStep(argument=None, ast_node_ids=['228'], id='276', type=<Type.outcome: 'Outcome'>, text='kafka source \"context-cyan-cdc-kafkasource\" is in ready state in \"context-cyan\" namespace')], tags=[PickleTag(name='@mindwm_crd_resources', ast_node_id='263'), PickleTag(name='@mindwm_test', ast_node_id='264')], ast_node_ids=['229']), Pickle(id='286', uri='file:features/2_mindwm_crd_resources.feature', name='Create User and check k8s resources', language='en', steps=[PickleStep(argument=None, ast_node_ids=['205'], id='278', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['206'], id='279', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['230'], id='280', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"bob\" and connects it to the context \"cyan\"'), PickleStep(argument=None, ast_node_ids=['231'], id='281', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['232'], id='282', type=<Type.outcome: 'Outcome'>, text='namespace \"user-bob\" should exist'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative broker name')]), PickleTableRow(cells=[PickleTableCell(value='user-broker')])])), ast_node_ids=['235'], id='283', type=<Type.outcome: 'Outcome'>, text='the following knative brokers are in a ready state in the \"user-bob\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative trigger name')]), PickleTableRow(cells=[PickleTableCell(value='context-cyan-to-user-bob')])])), ast_node_ids=['238'], id='284', type=<Type.outcome: 'Outcome'>, text='the following knative triggers are in a ready state in the \"context-cyan\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative trigger name')]), PickleTableRow(cells=[PickleTableCell(value='user-bob-to-context-cyan')])])), ast_node_ids=['241'], id='285', type=<Type.outcome: 'Outcome'>, text='the following knative triggers are in a ready state in the \"user-bob\" namespace')], tags=[PickleTag(name='@mindwm_crd_resources', ast_node_id='263'), PickleTag(name='@mindwm_test', ast_node_id='264')], ast_node_ids=['242']), Pickle(id='294', uri='file:features/2_mindwm_crd_resources.feature', name='Create Host and check k8s resources', language='en', steps=[PickleStep(argument=None, ast_node_ids=['205'], id='287', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['206'], id='288', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['243'], id='289', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"workstation\" and connects it to the user \"bob\"'), PickleStep(argument=None, ast_node_ids=['244'], id='290', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['245'], id='291', type=<Type.outcome: 'Outcome'>, text='NatsJetStreamChannel \"workstation-host-broker-kne-trigger\" is ready in \"user-bob\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative trigger name')]), PickleTableRow(cells=[PickleTableCell(value='user-bob-to-context-cyan')]), PickleTableRow(cells=[PickleTableCell(value='user-broker-to-workstation-broker-trigger')])])), ast_node_ids=['249'], id='292', type=<Type.outcome: 'Outcome'>, text='the following knative triggers are in a ready state in the \"user-bob\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative broker name')]), PickleTableRow(cells=[PickleTableCell(value='workstation-host-broker')])])), ast_node_ids=['252'], id='293', type=<Type.outcome: 'Outcome'>, text='the following knative brokers are in a ready state in the \"user-bob\" namespace')], tags=[PickleTag(name='@mindwm_crd_resources', ast_node_id='263'), PickleTag(name='@mindwm_test', ast_node_id='264')], ast_node_ids=['253']), Pickle(id='305', uri='file:features/2_mindwm_crd_resources.feature', name='Delete Resources and Verify Cleanup', language='en', steps=[PickleStep(argument=None, ast_node_ids=['205'], id='295', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['206'], id='296', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['254'], id='297', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"workstation\"'), PickleStep(argument=None, ast_node_ids=['255'], id='298', type=<Type.outcome: 'Outcome'>, text='the host \"workstation\" should be deleted'), PickleStep(argument=None, ast_node_ids=['256'], id='299', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"bob\"'), PickleStep(argument=None, ast_node_ids=['257'], id='300', type=<Type.outcome: 'Outcome'>, text='the user \"bob\" should be deleted'), PickleStep(argument=None, ast_node_ids=['258'], id='301', type=<Type.outcome: 'Outcome'>, text='namespace \"user-bob\" should not exist'), PickleStep(argument=None, ast_node_ids=['259'], id='302', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"cyan\"'), PickleStep(argument=None, ast_node_ids=['260'], id='303', type=<Type.outcome: 'Outcome'>, text='the context \"cyan\" should be deleted'), PickleStep(argument=None, ast_node_ids=['261'], id='304', type=<Type.outcome: 'Outcome'>, text='namespace \"context-cyan\" should not exist')], tags=[PickleTag(name='@mindwm_crd_resources', ast_node_id='263'), PickleTag(name='@mindwm_test', ast_node_id='264')], ast_node_ids=['262'])])","Source(uri='file:features/2_mindwm_crd_resources.feature', data='@mindwm_crd_resources\\n@mindwm_test\\nFeature: MindWM Custom kubernetes resources\\n\\n  Background:\\n    Given a MindWM environment\\n    Then all nodes in Kubernetes are ready\\n    \\n  Scenario: Create Context and check k8s resources\\n    When God creates a MindWM context with the name \"cyan\"\\n    Then the context should be ready and operable\\n    And namespace \"context-cyan\" should exist \\n    And helm release \"cyan-neo4j\" is deployed in \"context-cyan\" namespace\\n    And statefulset \"cyan-neo4j\" in namespace \"context-cyan\" is in ready state\\n    And the following knative services are in a ready state in the \"context-cyan\" namespace\\n      | Knative service name |\\n      | dead-letter          |\\n      | iocontext            |\\n      | kafka-cdc            |\\n      | pong                 |\\n    And the following knative triggers are in a ready state in the \"context-cyan\" namespace\\n      | Knative trigger name |\\n      | iocontext-trigger    |\\n      | kafka-cdc-trigger    |\\n      | pong-trigger         |\\n    And the following knative brokers are in a ready state in the \"context-cyan\" namespace\\n      | Knative broker name |\\n      | context-broker      |\\n    And kafka topic \"context-cyan-cdc\" is in ready state in \"redpanda\" namespace\\n    And kafka source \"context-cyan-cdc-kafkasource\" is in ready state in \"context-cyan\" namespace\\n  \\n  Scenario: Create User and check k8s resources\\n    When God creates a MindWM user resource with the name \"bob\" and connects it to the context \"cyan\"\\n    Then the user resource should be ready and operable\\n    And namespace \"user-bob\" should exist \\n    And the following knative brokers are in a ready state in the \"user-bob\" namespace\\n      | Knative broker name |\\n      | user-broker         |\\n    And the following knative triggers are in a ready state in the \"context-cyan\" namespace\\n      | Knative trigger name          |\\n      | context-cyan-to-user-bob    |\\n    And the following knative triggers are in a ready state in the \"user-bob\" namespace\\n      | Knative trigger name          |\\n      | user-bob-to-context-cyan    |\\n\\n  Scenario: Create Host and check k8s resources\\n    When God creates a MindWM host resource with the name \"workstation\" and connects it to the user \"bob\"\\n    Then the host resource should be ready and operable\\n    And NatsJetStreamChannel \"workstation-host-broker-kne-trigger\" is ready in \"user-bob\" namespace\\n    And the following knative triggers are in a ready state in the \"user-bob\" namespace\\n      | Knative trigger name                    |\\n      | user-bob-to-context-cyan              |\\n      | user-broker-to-workstation-broker-trigger    |\\n    And the following knative brokers are in a ready state in the \"user-bob\" namespace\\n      | Knative broker name  |\\n      | workstation-host-broker   |\\n\\n\\n\\n  Scenario: Delete Resources and Verify Cleanup\\n\\n    When God deletes the MindWM host resource \"workstation\"\\n    Then the host \"workstation\" should be deleted\\n\\n    When God deletes the MindWM user resource \"bob\"\\n    Then the user \"bob\" should be deleted\\n    And namespace \"user-bob\" should not exist\\n\\n    When God deletes the MindWM context resource \"cyan\"\\n    Then the context \"cyan\" should be deleted\\n    And namespace \"context-cyan\" should not exist\\n\\n\\n\\n', media_type='text/x.cucumber.gherkin+plain')","Pickle(id='305', uri='file:features/2_mindwm_crd_resources.feature', name='Delete Resources and Verify Cleanup', language='en', steps=[PickleStep(argument=None, ast_node_ids=['205'], id='295', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['206'], id='296', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['254'], id='297', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"workstation\"'), PickleStep(argument=None, ast_node_ids=['255'], id='298', type=<Type.outcome: 'Outcome'>, text='the host \"workstation\" should be deleted'), PickleStep(argument=None, ast_node_ids=['256'], id='299', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"bob\"'), PickleStep(argument=None, ast_node_ids=['257'], id='300', type=<Type.outcome: 'Outcome'>, text='the user \"bob\" should be deleted'), PickleStep(argument=None, ast_node_ids=['258'], id='301', type=<Type.outcome: 'Outcome'>, text='namespace \"user-bob\" should not exist'), PickleStep(argument=None, ast_node_ids=['259'], id='302', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"cyan\"'), PickleStep(argument=None, ast_node_ids=['260'], id='303', type=<Type.outcome: 'Outcome'>, text='the context \"cyan\" should be deleted'), PickleStep(argument=None, ast_node_ids=['261'], id='304', type=<Type.outcome: 'Outcome'>, text='namespace \"context-cyan\" should not exist')], tags=[PickleTag(name='@mindwm_crd_resources', ast_node_id='263'), PickleTag(name='@mindwm_test', ast_node_id='264')], ast_node_ids=['262'])"],"tags":["mindwm_crd_resources","pytest_bdd_scenario","@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')","mindwm_test","scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/2_mindwm_crd_resources.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=<FeaturePathType.PATH: 'path'>, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())","namespace(create=False, name='default')"]},{"name":"test_scenarios[file:features/9_mindwm_clipboard.feature-MindWM clipboard EDA test-Send ping via nats[table_rows:[line: 112]]]","uid":"481b58f1eaac29b3","parentUid":"3961740595044ffd97a03e46799bfc30","status":"passed","time":{"start":1728404996063,"stop":1728405007251,"duration":11188},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["Feature(gherkin_document=GherkinDocument(uri='file:features/9_mindwm_clipboard.feature', feature=Feature(location=Location(line=3, column=1), tags=[Tag(location=Location(line=1, column=1), name='@mindwm_clipboard', id='1036'), Tag(location=Location(line=2, column=1), name='@mindwm_test', id='1037')], language='en', keyword='Feature', name='MindWM clipboard EDA test', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='957'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='958')], id='959'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Prepare environment for ping tests', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='960'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='961'), Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='962'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='clipboard')], id='963')]), id='964'), Step(location=Location(line=14, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='965'), Step(location=Location(line=16, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='966'), Step(location=Location(line=17, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='967'), Step(location=Location(line=19, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='968'), Step(location=Location(line=20, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='969'), Step(location=Location(line=21, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace', doc_string=None, data_table=None, id='970'), Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='971')], examples=[Examples(location=Location(line=25, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='context'), TableCell(location=Location(line=26, column=18), value='username'), TableCell(location=Location(line=26, column=31), value='host')], id='972'), table_body=[TableRow(location=Location(line=27, column=6), cells=[TableCell(location=Location(line=27, column=8), value='philadelphia'), TableCell(location=Location(line=27, column=25), value='flukeman'), TableCell(location=Location(line=27, column=38), value='the-host')], id='973')], id='974')], id='975')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=29, column=3), tags=[], keyword='Scenario', name='Send clipboard to knative ping service', description='', steps=[Step(location=Location(line=30, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='976'), Step(location=Location(line=31, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='977'), Step(location=Location(line=32, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='978'), Step(location=Location(line=33, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='979'), Step(location=Location(line=34, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='980'), Step(location=Location(line=35, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to knative service \"clipboard\" in \"context-<context>\" namespace', doc_string=DocString(location=Location(line=36, column=7), media_type=None, content='{\\n  \"uuid\": \"6ca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325473,\\n  \"data\": \"clipboard primary data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='981'), Step(location=Location(line=43, column=7), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"200\"', doc_string=None, data_table=None, id='982'), Step(location=Location(line=45, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=46, column=7), rows=[TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='Deployment name')], id='983'), TableRow(location=Location(line=47, column=7), cells=[TableCell(location=Location(line=47, column=9), value='clipboard-00001-deployment')], id='984')]), id='985')], examples=[Examples(location=Location(line=49, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='context'), TableCell(location=Location(line=50, column=18), value='username'), TableCell(location=Location(line=50, column=31), value='host'), TableCell(location=Location(line=50, column=43), value='traceparent')], id='986'), table_body=[TableRow(location=Location(line=51, column=6), cells=[TableCell(location=Location(line=51, column=8), value='philadelphia'), TableCell(location=Location(line=51, column=25), value='flukeman'), TableCell(location=Location(line=51, column=38), value='the-host'), TableCell(location=Location(line=51, column=50), value='00-6ef92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='987')], id='988')], id='989')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=53, column=3), tags=[], keyword='Scenario', name='Send ping directly to function <endpoint>', description='', steps=[Step(location=Location(line=54, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='990'), Step(location=Location(line=55, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='991'), Step(location=Location(line=56, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='992'), Step(location=Location(line=57, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='993'), Step(location=Location(line=58, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='994'), Step(location=Location(line=59, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='995'), Step(location=Location(line=60, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to \"<endpoint>\"', doc_string=DocString(location=Location(line=61, column=7), media_type=None, content='{\\n  \"uuid\": \"4bca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard secondary data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='996'), Step(location=Location(line=68, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"202\"', doc_string=None, data_table=None, id='997'), Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=71, column=7), rows=[TableRow(location=Location(line=71, column=7), cells=[TableCell(location=Location(line=71, column=9), value='Deployment name')], id='998'), TableRow(location=Location(line=72, column=7), cells=[TableCell(location=Location(line=72, column=9), value='clipboard-00001-deployment')], id='999')]), id='1000'), Step(location=Location(line=73, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the trace with \"<traceparent>\" should appear in TraceQL', doc_string=None, data_table=None, id='1001'), Step(location=Location(line=74, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the trace should contains', doc_string=None, data_table=DataTable(location=Location(line=75, column=7), rows=[TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='service name')], id='1002'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='broker-ingress.knative-eventing')], id='1003'), TableRow(location=Location(line=77, column=7), cells=[TableCell(location=Location(line=77, column=9), value='unknown_service')], id='1004'), TableRow(location=Location(line=78, column=7), cells=[TableCell(location=Location(line=78, column=9), value='jetstream-ch-dispatcher')], id='1005')]), id='1006'), Step(location=Location(line=79, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='1007')], examples=[Examples(location=Location(line=81, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='context'), TableCell(location=Location(line=82, column=18), value='username'), TableCell(location=Location(line=82, column=31), value='host'), TableCell(location=Location(line=82, column=43), value='endpoint'), TableCell(location=Location(line=82, column=54), value='traceparent')], id='1008'), table_body=[TableRow(location=Location(line=83, column=6), cells=[TableCell(location=Location(line=83, column=8), value='philadelphia'), TableCell(location=Location(line=83, column=25), value='flukeman'), TableCell(location=Location(line=83, column=38), value='the-host'), TableCell(location=Location(line=83, column=50), value='broker-ingress.knative-eventing/context-philadelphia/context-broker'), TableCell(location=Location(line=83, column=122), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='1009'), TableRow(location=Location(line=84, column=6), cells=[TableCell(location=Location(line=84, column=8), value='philadelphia'), TableCell(location=Location(line=84, column=25), value='flukeman'), TableCell(location=Location(line=84, column=38), value='the-host'), TableCell(location=Location(line=84, column=50), value='broker-ingress.knative-eventing/user-flukeman/user-broker'), TableCell(location=Location(line=84, column=110), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1010')], id='1011')], id='1012')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=87, column=3), tags=[], keyword='Scenario', name='Send ping via nats', description='', steps=[Step(location=Location(line=88, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='1013'), Step(location=Location(line=89, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-id\" to \"<uuid>\"', doc_string=None, data_table=None, id='1014'), Step(location=Location(line=90, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='1015'), Step(location=Location(line=91, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='1016'), Step(location=Location(line=92, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='1017'), Step(location=Location(line=93, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='1018'), Step(location=Location(line=94, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.clipboard\"', doc_string=DocString(location=Location(line=95, column=7), media_type=None, content='{\\n  \"uuid\": \"3bca8a133-aba6-4f7f-ab95-242802fcac3c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard #3 data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='1019'), Step(location=Location(line=103, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=104, column=7), rows=[TableRow(location=Location(line=104, column=7), cells=[TableCell(location=Location(line=104, column=9), value='Deployment name')], id='1020'), TableRow(location=Location(line=105, column=7), cells=[TableCell(location=Location(line=105, column=9), value='clipboard-00001-deployment')], id='1021')]), id='1022'), Step(location=Location(line=107, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='1023')], examples=[Examples(location=Location(line=110, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=111, column=6), cells=[TableCell(location=Location(line=111, column=8), value='context'), TableCell(location=Location(line=111, column=18), value='username'), TableCell(location=Location(line=111, column=31), value='host'), TableCell(location=Location(line=111, column=43), value='uuid'), TableCell(location=Location(line=111, column=83), value='traceparent')], id='1024'), table_body=[TableRow(location=Location(line=112, column=6), cells=[TableCell(location=Location(line=112, column=8), value='philadelphia'), TableCell(location=Location(line=112, column=25), value='flukeman'), TableCell(location=Location(line=112, column=38), value='the-host'), TableCell(location=Location(line=112, column=50), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=112, column=89), value='00-8af92f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1025')], id='1026')], id='1027')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=115, column=3), tags=[], keyword='Scenario', name='Cleanup <username>@<host> in <context>', description='', steps=[Step(location=Location(line=116, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='1028'), Step(location=Location(line=117, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='1029'), Step(location=Location(line=119, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='1030'), Step(location=Location(line=121, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='1031')], examples=[Examples(location=Location(line=123, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=124, column=5), cells=[TableCell(location=Location(line=124, column=7), value='context'), TableCell(location=Location(line=124, column=17), value='username'), TableCell(location=Location(line=124, column=28), value='host')], id='1032'), table_body=[TableRow(location=Location(line=125, column=5), cells=[TableCell(location=Location(line=125, column=7), value='philadelphia'), TableCell(location=Location(line=125, column=24), value='flukeman'), TableCell(location=Location(line=125, column=37), value='the-host')], id='1033')], id='1034')], id='1035'))]), comments=[]), uri='file:features/9_mindwm_clipboard.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/9_mindwm_clipboard.feature', registry={'1036': Tag(location=Location(line=1, column=1), name='@mindwm_clipboard', id='1036'), '1037': Tag(location=Location(line=2, column=1), name='@mindwm_test', id='1037'), '959': Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='957'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='958')], id='959'), '957': Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='957'), '958': Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='958'), '975': Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Prepare environment for ping tests', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='960'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='961'), Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='962'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='clipboard')], id='963')]), id='964'), Step(location=Location(line=14, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='965'), Step(location=Location(line=16, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='966'), Step(location=Location(line=17, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='967'), Step(location=Location(line=19, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='968'), Step(location=Location(line=20, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='969'), Step(location=Location(line=21, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace', doc_string=None, data_table=None, id='970'), Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='971')], examples=[Examples(location=Location(line=25, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='context'), TableCell(location=Location(line=26, column=18), value='username'), TableCell(location=Location(line=26, column=31), value='host')], id='972'), table_body=[TableRow(location=Location(line=27, column=6), cells=[TableCell(location=Location(line=27, column=8), value='philadelphia'), TableCell(location=Location(line=27, column=25), value='flukeman'), TableCell(location=Location(line=27, column=38), value='the-host')], id='973')], id='974')], id='975'), '960': Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='960'), '961': Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='961'), '964': Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='962'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='clipboard')], id='963')]), id='964'), '965': Step(location=Location(line=14, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='965'), '966': Step(location=Location(line=16, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='966'), '967': Step(location=Location(line=17, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='967'), '968': Step(location=Location(line=19, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='968'), '969': Step(location=Location(line=20, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='969'), '970': Step(location=Location(line=21, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace', doc_string=None, data_table=None, id='970'), '971': Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='971'), '974': Examples(location=Location(line=25, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='context'), TableCell(location=Location(line=26, column=18), value='username'), TableCell(location=Location(line=26, column=31), value='host')], id='972'), table_body=[TableRow(location=Location(line=27, column=6), cells=[TableCell(location=Location(line=27, column=8), value='philadelphia'), TableCell(location=Location(line=27, column=25), value='flukeman'), TableCell(location=Location(line=27, column=38), value='the-host')], id='973')], id='974'), '972': TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='context'), TableCell(location=Location(line=26, column=18), value='username'), TableCell(location=Location(line=26, column=31), value='host')], id='972'), '973': TableRow(location=Location(line=27, column=6), cells=[TableCell(location=Location(line=27, column=8), value='philadelphia'), TableCell(location=Location(line=27, column=25), value='flukeman'), TableCell(location=Location(line=27, column=38), value='the-host')], id='973'), '989': Scenario(location=Location(line=29, column=3), tags=[], keyword='Scenario', name='Send clipboard to knative ping service', description='', steps=[Step(location=Location(line=30, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='976'), Step(location=Location(line=31, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='977'), Step(location=Location(line=32, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='978'), Step(location=Location(line=33, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='979'), Step(location=Location(line=34, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='980'), Step(location=Location(line=35, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to knative service \"clipboard\" in \"context-<context>\" namespace', doc_string=DocString(location=Location(line=36, column=7), media_type=None, content='{\\n  \"uuid\": \"6ca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325473,\\n  \"data\": \"clipboard primary data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='981'), Step(location=Location(line=43, column=7), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"200\"', doc_string=None, data_table=None, id='982'), Step(location=Location(line=45, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=46, column=7), rows=[TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='Deployment name')], id='983'), TableRow(location=Location(line=47, column=7), cells=[TableCell(location=Location(line=47, column=9), value='clipboard-00001-deployment')], id='984')]), id='985')], examples=[Examples(location=Location(line=49, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='context'), TableCell(location=Location(line=50, column=18), value='username'), TableCell(location=Location(line=50, column=31), value='host'), TableCell(location=Location(line=50, column=43), value='traceparent')], id='986'), table_body=[TableRow(location=Location(line=51, column=6), cells=[TableCell(location=Location(line=51, column=8), value='philadelphia'), TableCell(location=Location(line=51, column=25), value='flukeman'), TableCell(location=Location(line=51, column=38), value='the-host'), TableCell(location=Location(line=51, column=50), value='00-6ef92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='987')], id='988')], id='989'), '976': Step(location=Location(line=30, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='976'), '977': Step(location=Location(line=31, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='977'), '978': Step(location=Location(line=32, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='978'), '979': Step(location=Location(line=33, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='979'), '980': Step(location=Location(line=34, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='980'), '981': Step(location=Location(line=35, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to knative service \"clipboard\" in \"context-<context>\" namespace', doc_string=DocString(location=Location(line=36, column=7), media_type=None, content='{\\n  \"uuid\": \"6ca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325473,\\n  \"data\": \"clipboard primary data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='981'), '982': Step(location=Location(line=43, column=7), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"200\"', doc_string=None, data_table=None, id='982'), '985': Step(location=Location(line=45, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=46, column=7), rows=[TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='Deployment name')], id='983'), TableRow(location=Location(line=47, column=7), cells=[TableCell(location=Location(line=47, column=9), value='clipboard-00001-deployment')], id='984')]), id='985'), '988': Examples(location=Location(line=49, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='context'), TableCell(location=Location(line=50, column=18), value='username'), TableCell(location=Location(line=50, column=31), value='host'), TableCell(location=Location(line=50, column=43), value='traceparent')], id='986'), table_body=[TableRow(location=Location(line=51, column=6), cells=[TableCell(location=Location(line=51, column=8), value='philadelphia'), TableCell(location=Location(line=51, column=25), value='flukeman'), TableCell(location=Location(line=51, column=38), value='the-host'), TableCell(location=Location(line=51, column=50), value='00-6ef92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='987')], id='988'), '986': TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='context'), TableCell(location=Location(line=50, column=18), value='username'), TableCell(location=Location(line=50, column=31), value='host'), TableCell(location=Location(line=50, column=43), value='traceparent')], id='986'), '987': TableRow(location=Location(line=51, column=6), cells=[TableCell(location=Location(line=51, column=8), value='philadelphia'), TableCell(location=Location(line=51, column=25), value='flukeman'), TableCell(location=Location(line=51, column=38), value='the-host'), TableCell(location=Location(line=51, column=50), value='00-6ef92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='987'), '1012': Scenario(location=Location(line=53, column=3), tags=[], keyword='Scenario', name='Send ping directly to function <endpoint>', description='', steps=[Step(location=Location(line=54, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='990'), Step(location=Location(line=55, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='991'), Step(location=Location(line=56, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='992'), Step(location=Location(line=57, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='993'), Step(location=Location(line=58, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='994'), Step(location=Location(line=59, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='995'), Step(location=Location(line=60, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to \"<endpoint>\"', doc_string=DocString(location=Location(line=61, column=7), media_type=None, content='{\\n  \"uuid\": \"4bca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard secondary data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='996'), Step(location=Location(line=68, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"202\"', doc_string=None, data_table=None, id='997'), Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=71, column=7), rows=[TableRow(location=Location(line=71, column=7), cells=[TableCell(location=Location(line=71, column=9), value='Deployment name')], id='998'), TableRow(location=Location(line=72, column=7), cells=[TableCell(location=Location(line=72, column=9), value='clipboard-00001-deployment')], id='999')]), id='1000'), Step(location=Location(line=73, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the trace with \"<traceparent>\" should appear in TraceQL', doc_string=None, data_table=None, id='1001'), Step(location=Location(line=74, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the trace should contains', doc_string=None, data_table=DataTable(location=Location(line=75, column=7), rows=[TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='service name')], id='1002'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='broker-ingress.knative-eventing')], id='1003'), TableRow(location=Location(line=77, column=7), cells=[TableCell(location=Location(line=77, column=9), value='unknown_service')], id='1004'), TableRow(location=Location(line=78, column=7), cells=[TableCell(location=Location(line=78, column=9), value='jetstream-ch-dispatcher')], id='1005')]), id='1006'), Step(location=Location(line=79, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='1007')], examples=[Examples(location=Location(line=81, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='context'), TableCell(location=Location(line=82, column=18), value='username'), TableCell(location=Location(line=82, column=31), value='host'), TableCell(location=Location(line=82, column=43), value='endpoint'), TableCell(location=Location(line=82, column=54), value='traceparent')], id='1008'), table_body=[TableRow(location=Location(line=83, column=6), cells=[TableCell(location=Location(line=83, column=8), value='philadelphia'), TableCell(location=Location(line=83, column=25), value='flukeman'), TableCell(location=Location(line=83, column=38), value='the-host'), TableCell(location=Location(line=83, column=50), value='broker-ingress.knative-eventing/context-philadelphia/context-broker'), TableCell(location=Location(line=83, column=122), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='1009'), TableRow(location=Location(line=84, column=6), cells=[TableCell(location=Location(line=84, column=8), value='philadelphia'), TableCell(location=Location(line=84, column=25), value='flukeman'), TableCell(location=Location(line=84, column=38), value='the-host'), TableCell(location=Location(line=84, column=50), value='broker-ingress.knative-eventing/user-flukeman/user-broker'), TableCell(location=Location(line=84, column=110), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1010')], id='1011')], id='1012'), '990': Step(location=Location(line=54, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='990'), '991': Step(location=Location(line=55, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='991'), '992': Step(location=Location(line=56, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='992'), '993': Step(location=Location(line=57, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='993'), '994': Step(location=Location(line=58, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='994'), '995': Step(location=Location(line=59, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='995'), '996': Step(location=Location(line=60, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to \"<endpoint>\"', doc_string=DocString(location=Location(line=61, column=7), media_type=None, content='{\\n  \"uuid\": \"4bca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard secondary data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='996'), '997': Step(location=Location(line=68, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"202\"', doc_string=None, data_table=None, id='997'), '1000': Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=71, column=7), rows=[TableRow(location=Location(line=71, column=7), cells=[TableCell(location=Location(line=71, column=9), value='Deployment name')], id='998'), TableRow(location=Location(line=72, column=7), cells=[TableCell(location=Location(line=72, column=9), value='clipboard-00001-deployment')], id='999')]), id='1000'), '1001': Step(location=Location(line=73, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the trace with \"<traceparent>\" should appear in TraceQL', doc_string=None, data_table=None, id='1001'), '1006': Step(location=Location(line=74, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the trace should contains', doc_string=None, data_table=DataTable(location=Location(line=75, column=7), rows=[TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='service name')], id='1002'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='broker-ingress.knative-eventing')], id='1003'), TableRow(location=Location(line=77, column=7), cells=[TableCell(location=Location(line=77, column=9), value='unknown_service')], id='1004'), TableRow(location=Location(line=78, column=7), cells=[TableCell(location=Location(line=78, column=9), value='jetstream-ch-dispatcher')], id='1005')]), id='1006'), '1007': Step(location=Location(line=79, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='1007'), '1011': Examples(location=Location(line=81, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='context'), TableCell(location=Location(line=82, column=18), value='username'), TableCell(location=Location(line=82, column=31), value='host'), TableCell(location=Location(line=82, column=43), value='endpoint'), TableCell(location=Location(line=82, column=54), value='traceparent')], id='1008'), table_body=[TableRow(location=Location(line=83, column=6), cells=[TableCell(location=Location(line=83, column=8), value='philadelphia'), TableCell(location=Location(line=83, column=25), value='flukeman'), TableCell(location=Location(line=83, column=38), value='the-host'), TableCell(location=Location(line=83, column=50), value='broker-ingress.knative-eventing/context-philadelphia/context-broker'), TableCell(location=Location(line=83, column=122), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='1009'), TableRow(location=Location(line=84, column=6), cells=[TableCell(location=Location(line=84, column=8), value='philadelphia'), TableCell(location=Location(line=84, column=25), value='flukeman'), TableCell(location=Location(line=84, column=38), value='the-host'), TableCell(location=Location(line=84, column=50), value='broker-ingress.knative-eventing/user-flukeman/user-broker'), TableCell(location=Location(line=84, column=110), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1010')], id='1011'), '1008': TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='context'), TableCell(location=Location(line=82, column=18), value='username'), TableCell(location=Location(line=82, column=31), value='host'), TableCell(location=Location(line=82, column=43), value='endpoint'), TableCell(location=Location(line=82, column=54), value='traceparent')], id='1008'), '1009': TableRow(location=Location(line=83, column=6), cells=[TableCell(location=Location(line=83, column=8), value='philadelphia'), TableCell(location=Location(line=83, column=25), value='flukeman'), TableCell(location=Location(line=83, column=38), value='the-host'), TableCell(location=Location(line=83, column=50), value='broker-ingress.knative-eventing/context-philadelphia/context-broker'), TableCell(location=Location(line=83, column=122), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='1009'), '1010': TableRow(location=Location(line=84, column=6), cells=[TableCell(location=Location(line=84, column=8), value='philadelphia'), TableCell(location=Location(line=84, column=25), value='flukeman'), TableCell(location=Location(line=84, column=38), value='the-host'), TableCell(location=Location(line=84, column=50), value='broker-ingress.knative-eventing/user-flukeman/user-broker'), TableCell(location=Location(line=84, column=110), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1010'), '1027': Scenario(location=Location(line=87, column=3), tags=[], keyword='Scenario', name='Send ping via nats', description='', steps=[Step(location=Location(line=88, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='1013'), Step(location=Location(line=89, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-id\" to \"<uuid>\"', doc_string=None, data_table=None, id='1014'), Step(location=Location(line=90, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='1015'), Step(location=Location(line=91, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='1016'), Step(location=Location(line=92, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='1017'), Step(location=Location(line=93, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='1018'), Step(location=Location(line=94, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.clipboard\"', doc_string=DocString(location=Location(line=95, column=7), media_type=None, content='{\\n  \"uuid\": \"3bca8a133-aba6-4f7f-ab95-242802fcac3c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard #3 data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='1019'), Step(location=Location(line=103, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=104, column=7), rows=[TableRow(location=Location(line=104, column=7), cells=[TableCell(location=Location(line=104, column=9), value='Deployment name')], id='1020'), TableRow(location=Location(line=105, column=7), cells=[TableCell(location=Location(line=105, column=9), value='clipboard-00001-deployment')], id='1021')]), id='1022'), Step(location=Location(line=107, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='1023')], examples=[Examples(location=Location(line=110, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=111, column=6), cells=[TableCell(location=Location(line=111, column=8), value='context'), TableCell(location=Location(line=111, column=18), value='username'), TableCell(location=Location(line=111, column=31), value='host'), TableCell(location=Location(line=111, column=43), value='uuid'), TableCell(location=Location(line=111, column=83), value='traceparent')], id='1024'), table_body=[TableRow(location=Location(line=112, column=6), cells=[TableCell(location=Location(line=112, column=8), value='philadelphia'), TableCell(location=Location(line=112, column=25), value='flukeman'), TableCell(location=Location(line=112, column=38), value='the-host'), TableCell(location=Location(line=112, column=50), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=112, column=89), value='00-8af92f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1025')], id='1026')], id='1027'), '1013': Step(location=Location(line=88, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='1013'), '1014': Step(location=Location(line=89, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-id\" to \"<uuid>\"', doc_string=None, data_table=None, id='1014'), '1015': Step(location=Location(line=90, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='1015'), '1016': Step(location=Location(line=91, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='1016'), '1017': Step(location=Location(line=92, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='1017'), '1018': Step(location=Location(line=93, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='1018'), '1019': Step(location=Location(line=94, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.clipboard\"', doc_string=DocString(location=Location(line=95, column=7), media_type=None, content='{\\n  \"uuid\": \"3bca8a133-aba6-4f7f-ab95-242802fcac3c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard #3 data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='1019'), '1022': Step(location=Location(line=103, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=104, column=7), rows=[TableRow(location=Location(line=104, column=7), cells=[TableCell(location=Location(line=104, column=9), value='Deployment name')], id='1020'), TableRow(location=Location(line=105, column=7), cells=[TableCell(location=Location(line=105, column=9), value='clipboard-00001-deployment')], id='1021')]), id='1022'), '1023': Step(location=Location(line=107, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='1023'), '1026': Examples(location=Location(line=110, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=111, column=6), cells=[TableCell(location=Location(line=111, column=8), value='context'), TableCell(location=Location(line=111, column=18), value='username'), TableCell(location=Location(line=111, column=31), value='host'), TableCell(location=Location(line=111, column=43), value='uuid'), TableCell(location=Location(line=111, column=83), value='traceparent')], id='1024'), table_body=[TableRow(location=Location(line=112, column=6), cells=[TableCell(location=Location(line=112, column=8), value='philadelphia'), TableCell(location=Location(line=112, column=25), value='flukeman'), TableCell(location=Location(line=112, column=38), value='the-host'), TableCell(location=Location(line=112, column=50), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=112, column=89), value='00-8af92f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1025')], id='1026'), '1024': TableRow(location=Location(line=111, column=6), cells=[TableCell(location=Location(line=111, column=8), value='context'), TableCell(location=Location(line=111, column=18), value='username'), TableCell(location=Location(line=111, column=31), value='host'), TableCell(location=Location(line=111, column=43), value='uuid'), TableCell(location=Location(line=111, column=83), value='traceparent')], id='1024'), '1025': TableRow(location=Location(line=112, column=6), cells=[TableCell(location=Location(line=112, column=8), value='philadelphia'), TableCell(location=Location(line=112, column=25), value='flukeman'), TableCell(location=Location(line=112, column=38), value='the-host'), TableCell(location=Location(line=112, column=50), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=112, column=89), value='00-8af92f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1025'), '1035': Scenario(location=Location(line=115, column=3), tags=[], keyword='Scenario', name='Cleanup <username>@<host> in <context>', description='', steps=[Step(location=Location(line=116, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='1028'), Step(location=Location(line=117, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='1029'), Step(location=Location(line=119, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='1030'), Step(location=Location(line=121, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='1031')], examples=[Examples(location=Location(line=123, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=124, column=5), cells=[TableCell(location=Location(line=124, column=7), value='context'), TableCell(location=Location(line=124, column=17), value='username'), TableCell(location=Location(line=124, column=28), value='host')], id='1032'), table_body=[TableRow(location=Location(line=125, column=5), cells=[TableCell(location=Location(line=125, column=7), value='philadelphia'), TableCell(location=Location(line=125, column=24), value='flukeman'), TableCell(location=Location(line=125, column=37), value='the-host')], id='1033')], id='1034')], id='1035'), '1028': Step(location=Location(line=116, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='1028'), '1029': Step(location=Location(line=117, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='1029'), '1030': Step(location=Location(line=119, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='1030'), '1031': Step(location=Location(line=121, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='1031'), '1034': Examples(location=Location(line=123, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=124, column=5), cells=[TableCell(location=Location(line=124, column=7), value='context'), TableCell(location=Location(line=124, column=17), value='username'), TableCell(location=Location(line=124, column=28), value='host')], id='1032'), table_body=[TableRow(location=Location(line=125, column=5), cells=[TableCell(location=Location(line=125, column=7), value='philadelphia'), TableCell(location=Location(line=125, column=24), value='flukeman'), TableCell(location=Location(line=125, column=37), value='the-host')], id='1033')], id='1034'), '1032': TableRow(location=Location(line=124, column=5), cells=[TableCell(location=Location(line=124, column=7), value='context'), TableCell(location=Location(line=124, column=17), value='username'), TableCell(location=Location(line=124, column=28), value='host')], id='1032'), '1033': TableRow(location=Location(line=125, column=5), cells=[TableCell(location=Location(line=125, column=7), value='philadelphia'), TableCell(location=Location(line=125, column=24), value='flukeman'), TableCell(location=Location(line=125, column=37), value='the-host')], id='1033')}, pickles=[Pickle(id='1050', uri='file:features/9_mindwm_clipboard.feature', name='Prepare environment for ping tests', language='en', steps=[PickleStep(argument=None, ast_node_ids=['957'], id='1038', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['958'], id='1039', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['960', '973'], id='1040', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"philadelphia\"'), PickleStep(argument=None, ast_node_ids=['961', '973'], id='1041', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='clipboard')])])), ast_node_ids=['964', '973'], id='1042', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-philadelphia\" namespace'), PickleStep(argument=None, ast_node_ids=['965', '973'], id='1043', type=<Type.outcome: 'Outcome'>, text='statefulset \"philadelphia-neo4j\" in namespace \"context-philadelphia\" is in ready state'), PickleStep(argument=None, ast_node_ids=['966', '973'], id='1044', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"flukeman\" and connects it to the context \"philadelphia\"'), PickleStep(argument=None, ast_node_ids=['967', '973'], id='1045', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['968', '973'], id='1046', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"the-host\" and connects it to the user \"flukeman\"'), PickleStep(argument=None, ast_node_ids=['969', '973'], id='1047', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['970', '973'], id='1048', type=<Type.outcome: 'Outcome'>, text='NatsJetStreamChannel \"the-host-host-broker-kne-trigger\" is ready in \"user-flukeman\" namespace'), PickleStep(argument=None, ast_node_ids=['971', '973'], id='1049', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"')], tags=[PickleTag(name='@mindwm_clipboard', ast_node_id='1036'), PickleTag(name='@mindwm_test', ast_node_id='1037')], ast_node_ids=['975', '973']), Pickle(id='1061', uri='file:features/9_mindwm_clipboard.feature', name='Send clipboard to knative ping service', language='en', steps=[PickleStep(argument=None, ast_node_ids=['957'], id='1051', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['958'], id='1052', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['976', '987'], id='1053', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['977', '987'], id='1054', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"'), PickleStep(argument=None, ast_node_ids=['978', '987'], id='1055', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"'), PickleStep(argument=None, ast_node_ids=['979', '987'], id='1056', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.flukeman.the-host.clipboard\"'), PickleStep(argument=None, ast_node_ids=['980', '987'], id='1057', type=<Type.action: 'Action'>, text='sets cloudevent header \"traceparent\" to \"00-6ef92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"uuid\": \"6ca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325473,\\n  \"data\": \"clipboard primary data\"\\n} '), data_table=None), ast_node_ids=['981', '987'], id='1058', type=<Type.action: 'Action'>, text='sends cloudevent to knative service \"clipboard\" in \"context-philadelphia\" namespace'), PickleStep(argument=None, ast_node_ids=['982', '987'], id='1059', type=<Type.outcome: 'Outcome'>, text='the response http code should be \"200\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='clipboard-00001-deployment')])])), ast_node_ids=['985', '987'], id='1060', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-philadelphia\" namespace')], tags=[PickleTag(name='@mindwm_clipboard', ast_node_id='1036'), PickleTag(name='@mindwm_test', ast_node_id='1037')], ast_node_ids=['989', '987']), Pickle(id='1076', uri='file:features/9_mindwm_clipboard.feature', name='Send ping directly to function broker-ingress.knative-eventing/context-philadelphia/context-broker', language='en', steps=[PickleStep(argument=None, ast_node_ids=['957'], id='1062', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['958'], id='1063', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['990', '1009'], id='1064', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['991', '1009'], id='1065', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['992', '1009'], id='1066', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"'), PickleStep(argument=None, ast_node_ids=['993', '1009'], id='1067', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"'), PickleStep(argument=None, ast_node_ids=['994', '1009'], id='1068', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.flukeman.the-host.clipboard\"'), PickleStep(argument=None, ast_node_ids=['995', '1009'], id='1069', type=<Type.action: 'Action'>, text='sets cloudevent header \"traceparent\" to \"00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"uuid\": \"4bca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard secondary data\"\\n} '), data_table=None), ast_node_ids=['996', '1009'], id='1070', type=<Type.action: 'Action'>, text='sends cloudevent to \"broker-ingress.knative-eventing/context-philadelphia/context-broker\"'), PickleStep(argument=None, ast_node_ids=['997', '1009'], id='1071', type=<Type.outcome: 'Outcome'>, text='the response http code should be \"202\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='clipboard-00001-deployment')])])), ast_node_ids=['1000', '1009'], id='1072', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-philadelphia\" namespace'), PickleStep(argument=None, ast_node_ids=['1001', '1009'], id='1073', type=<Type.outcome: 'Outcome'>, text='the trace with \"00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00\" should appear in TraceQL'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='service name')]), PickleTableRow(cells=[PickleTableCell(value='broker-ingress.knative-eventing')]), PickleTableRow(cells=[PickleTableCell(value='unknown_service')]), PickleTableRow(cells=[PickleTableCell(value='jetstream-ch-dispatcher')])])), ast_node_ids=['1006', '1009'], id='1074', type=<Type.outcome: 'Outcome'>, text='the trace should contains'), PickleStep(argument=None, ast_node_ids=['1007', '1009'], id='1075', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-flukeman.the-host-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_clipboard', ast_node_id='1036'), PickleTag(name='@mindwm_test', ast_node_id='1037')], ast_node_ids=['1012', '1009']), Pickle(id='1091', uri='file:features/9_mindwm_clipboard.feature', name='Send ping directly to function broker-ingress.knative-eventing/user-flukeman/user-broker', language='en', steps=[PickleStep(argument=None, ast_node_ids=['957'], id='1077', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['958'], id='1078', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['990', '1010'], id='1079', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['991', '1010'], id='1080', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['992', '1010'], id='1081', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"'), PickleStep(argument=None, ast_node_ids=['993', '1010'], id='1082', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"'), PickleStep(argument=None, ast_node_ids=['994', '1010'], id='1083', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.flukeman.the-host.clipboard\"'), PickleStep(argument=None, ast_node_ids=['995', '1010'], id='1084', type=<Type.action: 'Action'>, text='sets cloudevent header \"traceparent\" to \"00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"uuid\": \"4bca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard secondary data\"\\n} '), data_table=None), ast_node_ids=['996', '1010'], id='1085', type=<Type.action: 'Action'>, text='sends cloudevent to \"broker-ingress.knative-eventing/user-flukeman/user-broker\"'), PickleStep(argument=None, ast_node_ids=['997', '1010'], id='1086', type=<Type.outcome: 'Outcome'>, text='the response http code should be \"202\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='clipboard-00001-deployment')])])), ast_node_ids=['1000', '1010'], id='1087', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-philadelphia\" namespace'), PickleStep(argument=None, ast_node_ids=['1001', '1010'], id='1088', type=<Type.outcome: 'Outcome'>, text='the trace with \"00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00\" should appear in TraceQL'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='service name')]), PickleTableRow(cells=[PickleTableCell(value='broker-ingress.knative-eventing')]), PickleTableRow(cells=[PickleTableCell(value='unknown_service')]), PickleTableRow(cells=[PickleTableCell(value='jetstream-ch-dispatcher')])])), ast_node_ids=['1006', '1010'], id='1089', type=<Type.outcome: 'Outcome'>, text='the trace should contains'), PickleStep(argument=None, ast_node_ids=['1007', '1010'], id='1090', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-flukeman.the-host-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_clipboard', ast_node_id='1036'), PickleTag(name='@mindwm_test', ast_node_id='1037')], ast_node_ids=['1012', '1010']), Pickle(id='1103', uri='file:features/9_mindwm_clipboard.feature', name='Send ping via nats', language='en', steps=[PickleStep(argument=None, ast_node_ids=['957'], id='1092', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['958'], id='1093', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['1013', '1025'], id='1094', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['1014', '1025'], id='1095', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-id\" to \"09fb195c-c419-6d62-15e0-51b6ee990922\"'), PickleStep(argument=None, ast_node_ids=['1015', '1025'], id='1096', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"'), PickleStep(argument=None, ast_node_ids=['1016', '1025'], id='1097', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"'), PickleStep(argument=None, ast_node_ids=['1017', '1025'], id='1098', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.flukeman.the-host.clipboard\"'), PickleStep(argument=None, ast_node_ids=['1018', '1025'], id='1099', type=<Type.action: 'Action'>, text='sets cloudevent header \"traceparent\" to \"00-8af92f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"uuid\": \"3bca8a133-aba6-4f7f-ab95-242802fcac3c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard #3 data\"\\n} '), data_table=None), ast_node_ids=['1019', '1025'], id='1100', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.flukeman.the-host.clipboard\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='clipboard-00001-deployment')])])), ast_node_ids=['1022', '1025'], id='1101', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-philadelphia\" namespace'), PickleStep(argument=None, ast_node_ids=['1023', '1025'], id='1102', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-flukeman.the-host-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_clipboard', ast_node_id='1036'), PickleTag(name='@mindwm_test', ast_node_id='1037')], ast_node_ids=['1027', '1025']), Pickle(id='1110', uri='file:features/9_mindwm_clipboard.feature', name='Cleanup flukeman@the-host in philadelphia', language='en', steps=[PickleStep(argument=None, ast_node_ids=['957'], id='1104', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['958'], id='1105', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['1028', '1033'], id='1106', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"the-host\"'), PickleStep(argument=None, ast_node_ids=['1029', '1033'], id='1107', type=<Type.outcome: 'Outcome'>, text='the host \"the-host\" should be deleted'), PickleStep(argument=None, ast_node_ids=['1030', '1033'], id='1108', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"flukeman\"'), PickleStep(argument=None, ast_node_ids=['1031', '1033'], id='1109', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"philadelphia\"')], tags=[PickleTag(name='@mindwm_clipboard', ast_node_id='1036'), PickleTag(name='@mindwm_test', ast_node_id='1037')], ast_node_ids=['1035', '1033'])])","Source(uri='file:features/9_mindwm_clipboard.feature', data='@mindwm_clipboard\\n@mindwm_test\\nFeature: MindWM clipboard EDA test\\n  Background:\\n    Given A MindWM environment\\n    Then all nodes in Kubernetes are ready\\n\\n  Scenario: Prepare environment for ping tests \\n    When God creates a MindWM context with the name \"<context>\"\\n    Then the context should be ready and operable\\n    And the following knative services are in a ready state in the \"context-<context>\" namespace\\n      | Knative service name |\\n      | clipboard            |\\n    And statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state\\n\\n    When God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"\\n    Then the user resource should be ready and operable\\n\\n    When God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"\\n    Then the host resource should be ready and operable\\n    And NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace\\n\\n    When God starts reading message from NATS topic \">\"\\n\\n    Examples:\\n     | context | username   | host      |\\n     | philadelphia   | flukeman   | the-host  | \\n\\n  Scenario: Send clipboard to knative ping service\\n    When God creates a new cloudevent \\n      And sets cloudevent header \"ce-subject\" to \"clipboard\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"\\n      And sets cloudevent header \"traceparent\" to \"<traceparent>\"\\n      And sends cloudevent to knative service \"clipboard\" in \"context-<context>\" namespace\\n      \"\"\"\\n      {\\n        \"uuid\": \"6ca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n        \"time\": 1728325473,\\n        \"data\": \"clipboard primary data\"\\n      } \\n      \"\"\"\\n      Then the response http code should be \"200\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name       |\\n      | clipboard-00001-deployment |\\n\\n    Examples:\\n     | context | username   | host      | traceparent                                             |\\n     | philadelphia   | flukeman   | the-host  | 00-6ef92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00 |\\n\\n  Scenario: Send ping directly to function <endpoint>\\n    When God creates a new cloudevent \\n      And God starts reading message from NATS topic \">\"\\n      And sets cloudevent header \"ce-subject\" to \"clipboard\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"\\n      And sets cloudevent header \"traceparent\" to \"<traceparent>\"\\n      And sends cloudevent to \"<endpoint>\"\\n      \"\"\"\\n      {\\n        \"uuid\": \"4bca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n        \"time\": 1728325474,\\n        \"data\": \"clipboard secondary data\"\\n      } \\n      \"\"\"\\n    Then the response http code should be \"202\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name            |\\n      | clipboard-00001-deployment |\\n    Then the trace with \"<traceparent>\" should appear in TraceQL\\n    And the trace should contains \\n      | service name                    | \\n      | broker-ingress.knative-eventing | \\n      | unknown_service                 | \\n      | jetstream-ch-dispatcher         |\\n    And a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"\\n\\n    Examples:\\n     | context | username   | host      | endpoint | traceparent \\t\\t\\t\\t\\t         |\\n     | philadelphia   | flukeman   | the-host  | broker-ingress.knative-eventing/context-philadelphia/context-broker   | 00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00 |\\n     | philadelphia   | flukeman   | the-host  | broker-ingress.knative-eventing/user-flukeman/user-broker | 00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00 |\\n\\n\\n  Scenario: Send ping via nats\\n    When God creates a new cloudevent \\n      And sets cloudevent header \"ce-id\" to \"<uuid>\"\\n      And sets cloudevent header \"ce-subject\" to \"clipboard\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"\\n      And sets cloudevent header \"traceparent\" to \"<traceparent>\"\\n      And sends cloudevent to nats topic \"org.mindwm.<username>.<host>.clipboard\"\\n      \"\"\"\\n      {\\n        \"uuid\": \"3bca8a133-aba6-4f7f-ab95-242802fcac3c\",\\n        \"time\": 1728325474,\\n        \"data\": \"clipboard #3 data\"\\n      } \\n      \"\"\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name       |\\n      | clipboard-00001-deployment |\\n\\n    And a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"\\n\\n\\n    Examples:\\n     | context | username   | host      | uuid                                  | traceparent |\\n     | philadelphia   | flukeman   | the-host  | 09fb195c-c419-6d62-15e0-51b6ee990922 | 00-8af92f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00 |\\n\\n\\n  Scenario: Cleanup <username>@<host> in <context>\\n    When God deletes the MindWM host resource \"<host>\"\\n    Then the host \"<host>\" should be deleted\\n\\n    When God deletes the MindWM user resource \"<username>\"\\n\\n    When God deletes the MindWM context resource \"<context>\"\\n\\n    Examples:\\n    | context | username | host        | \\n    | philadelphia   | flukeman   | the-host         |\\n\\n', media_type='text/x.cucumber.gherkin+plain')","Pickle(id='1103', uri='file:features/9_mindwm_clipboard.feature', name='Send ping via nats', language='en', steps=[PickleStep(argument=None, ast_node_ids=['957'], id='1092', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['958'], id='1093', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['1013', '1025'], id='1094', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['1014', '1025'], id='1095', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-id\" to \"09fb195c-c419-6d62-15e0-51b6ee990922\"'), PickleStep(argument=None, ast_node_ids=['1015', '1025'], id='1096', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"'), PickleStep(argument=None, ast_node_ids=['1016', '1025'], id='1097', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"'), PickleStep(argument=None, ast_node_ids=['1017', '1025'], id='1098', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.flukeman.the-host.clipboard\"'), PickleStep(argument=None, ast_node_ids=['1018', '1025'], id='1099', type=<Type.action: 'Action'>, text='sets cloudevent header \"traceparent\" to \"00-8af92f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"uuid\": \"3bca8a133-aba6-4f7f-ab95-242802fcac3c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard #3 data\"\\n} '), data_table=None), ast_node_ids=['1019', '1025'], id='1100', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.flukeman.the-host.clipboard\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='clipboard-00001-deployment')])])), ast_node_ids=['1022', '1025'], id='1101', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-philadelphia\" namespace'), PickleStep(argument=None, ast_node_ids=['1023', '1025'], id='1102', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-flukeman.the-host-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_clipboard', ast_node_id='1036'), PickleTag(name='@mindwm_test', ast_node_id='1037')], ast_node_ids=['1027', '1025'])"],"tags":["scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/9_mindwm_clipboard.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=<FeaturePathType.PATH: 'path'>, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())","pytest_bdd_scenario","@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')","mindwm_clipboard","mindwm_test","namespace(create=False, name='default')"]},{"name":"test_scenarios[file:features/2_mindwm_crd_resources.feature-MindWM Custom kubernetes resources-Create Host and check k8s resources]","uid":"8a1e308443a258fa","parentUid":"3961740595044ffd97a03e46799bfc30","status":"passed","time":{"start":1728403590466,"stop":1728403601742,"duration":11276},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["Feature(gherkin_document=GherkinDocument(uri='file:features/2_mindwm_crd_resources.feature', feature=Feature(location=Location(line=3, column=1), tags=[Tag(location=Location(line=1, column=1), name='@mindwm_crd_resources', id='263'), Tag(location=Location(line=2, column=1), name='@mindwm_test', id='264')], language='en', keyword='Feature', name='MindWM Custom kubernetes resources', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=5, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=6, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='205'), Step(location=Location(line=7, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='206')], id='207'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=9, column=3), tags=[], keyword='Scenario', name='Create Context and check k8s resources', description='', steps=[Step(location=Location(line=10, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"cyan\"', doc_string=None, data_table=None, id='208'), Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='209'), Step(location=Location(line=12, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-cyan\" should exist', doc_string=None, data_table=None, id='210'), Step(location=Location(line=13, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='helm release \"cyan-neo4j\" is deployed in \"context-cyan\" namespace', doc_string=None, data_table=None, id='211'), Step(location=Location(line=14, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"cyan-neo4j\" in namespace \"context-cyan\" is in ready state', doc_string=None, data_table=None, id='212'), Step(location=Location(line=15, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=16, column=7), rows=[TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='Knative service name')], id='213'), TableRow(location=Location(line=17, column=7), cells=[TableCell(location=Location(line=17, column=9), value='dead-letter')], id='214'), TableRow(location=Location(line=18, column=7), cells=[TableCell(location=Location(line=18, column=9), value='iocontext')], id='215'), TableRow(location=Location(line=19, column=7), cells=[TableCell(location=Location(line=19, column=9), value='kafka-cdc')], id='216'), TableRow(location=Location(line=20, column=7), cells=[TableCell(location=Location(line=20, column=9), value='pong')], id='217')]), id='218'), Step(location=Location(line=21, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative triggers are in a ready state in the \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=22, column=7), rows=[TableRow(location=Location(line=22, column=7), cells=[TableCell(location=Location(line=22, column=9), value='Knative trigger name')], id='219'), TableRow(location=Location(line=23, column=7), cells=[TableCell(location=Location(line=23, column=9), value='iocontext-trigger')], id='220'), TableRow(location=Location(line=24, column=7), cells=[TableCell(location=Location(line=24, column=9), value='kafka-cdc-trigger')], id='221'), TableRow(location=Location(line=25, column=7), cells=[TableCell(location=Location(line=25, column=9), value='pong-trigger')], id='222')]), id='223'), Step(location=Location(line=26, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative brokers are in a ready state in the \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=27, column=7), rows=[TableRow(location=Location(line=27, column=7), cells=[TableCell(location=Location(line=27, column=9), value='Knative broker name')], id='224'), TableRow(location=Location(line=28, column=7), cells=[TableCell(location=Location(line=28, column=9), value='context-broker')], id='225')]), id='226'), Step(location=Location(line=29, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka topic \"context-cyan-cdc\" is in ready state in \"redpanda\" namespace', doc_string=None, data_table=None, id='227'), Step(location=Location(line=30, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka source \"context-cyan-cdc-kafkasource\" is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=None, id='228')], examples=[], id='229')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=32, column=3), tags=[], keyword='Scenario', name='Create User and check k8s resources', description='', steps=[Step(location=Location(line=33, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"bob\" and connects it to the context \"cyan\"', doc_string=None, data_table=None, id='230'), Step(location=Location(line=34, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='231'), Step(location=Location(line=35, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"user-bob\" should exist', doc_string=None, data_table=None, id='232'), Step(location=Location(line=36, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative brokers are in a ready state in the \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=37, column=7), rows=[TableRow(location=Location(line=37, column=7), cells=[TableCell(location=Location(line=37, column=9), value='Knative broker name')], id='233'), TableRow(location=Location(line=38, column=7), cells=[TableCell(location=Location(line=38, column=9), value='user-broker')], id='234')]), id='235'), Step(location=Location(line=39, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative triggers are in a ready state in the \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=40, column=7), rows=[TableRow(location=Location(line=40, column=7), cells=[TableCell(location=Location(line=40, column=9), value='Knative trigger name')], id='236'), TableRow(location=Location(line=41, column=7), cells=[TableCell(location=Location(line=41, column=9), value='context-cyan-to-user-bob')], id='237')]), id='238'), Step(location=Location(line=42, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative triggers are in a ready state in the \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=43, column=7), rows=[TableRow(location=Location(line=43, column=7), cells=[TableCell(location=Location(line=43, column=9), value='Knative trigger name')], id='239'), TableRow(location=Location(line=44, column=7), cells=[TableCell(location=Location(line=44, column=9), value='user-bob-to-context-cyan')], id='240')]), id='241')], examples=[], id='242')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=46, column=3), tags=[], keyword='Scenario', name='Create Host and check k8s resources', description='', steps=[Step(location=Location(line=47, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"workstation\" and connects it to the user \"bob\"', doc_string=None, data_table=None, id='243'), Step(location=Location(line=48, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='244'), Step(location=Location(line=49, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"workstation-host-broker-kne-trigger\" is ready in \"user-bob\" namespace', doc_string=None, data_table=None, id='245'), Step(location=Location(line=50, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative triggers are in a ready state in the \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=51, column=7), rows=[TableRow(location=Location(line=51, column=7), cells=[TableCell(location=Location(line=51, column=9), value='Knative trigger name')], id='246'), TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='user-bob-to-context-cyan')], id='247'), TableRow(location=Location(line=53, column=7), cells=[TableCell(location=Location(line=53, column=9), value='user-broker-to-workstation-broker-trigger')], id='248')]), id='249'), Step(location=Location(line=54, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative brokers are in a ready state in the \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=55, column=7), rows=[TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='Knative broker name')], id='250'), TableRow(location=Location(line=56, column=7), cells=[TableCell(location=Location(line=56, column=9), value='workstation-host-broker')], id='251')]), id='252')], examples=[], id='253')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=60, column=3), tags=[], keyword='Scenario', name='Delete Resources and Verify Cleanup', description='', steps=[Step(location=Location(line=62, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"workstation\"', doc_string=None, data_table=None, id='254'), Step(location=Location(line=63, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"workstation\" should be deleted', doc_string=None, data_table=None, id='255'), Step(location=Location(line=65, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"bob\"', doc_string=None, data_table=None, id='256'), Step(location=Location(line=66, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"bob\" should be deleted', doc_string=None, data_table=None, id='257'), Step(location=Location(line=67, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"user-bob\" should not exist', doc_string=None, data_table=None, id='258'), Step(location=Location(line=69, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"cyan\"', doc_string=None, data_table=None, id='259'), Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"cyan\" should be deleted', doc_string=None, data_table=None, id='260'), Step(location=Location(line=71, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-cyan\" should not exist', doc_string=None, data_table=None, id='261')], examples=[], id='262'))]), comments=[]), uri='file:features/2_mindwm_crd_resources.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/2_mindwm_crd_resources.feature', registry={'263': Tag(location=Location(line=1, column=1), name='@mindwm_crd_resources', id='263'), '264': Tag(location=Location(line=2, column=1), name='@mindwm_test', id='264'), '207': Background(location=Location(line=5, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=6, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='205'), Step(location=Location(line=7, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='206')], id='207'), '205': Step(location=Location(line=6, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='205'), '206': Step(location=Location(line=7, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='206'), '229': Scenario(location=Location(line=9, column=3), tags=[], keyword='Scenario', name='Create Context and check k8s resources', description='', steps=[Step(location=Location(line=10, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"cyan\"', doc_string=None, data_table=None, id='208'), Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='209'), Step(location=Location(line=12, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-cyan\" should exist', doc_string=None, data_table=None, id='210'), Step(location=Location(line=13, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='helm release \"cyan-neo4j\" is deployed in \"context-cyan\" namespace', doc_string=None, data_table=None, id='211'), Step(location=Location(line=14, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"cyan-neo4j\" in namespace \"context-cyan\" is in ready state', doc_string=None, data_table=None, id='212'), Step(location=Location(line=15, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=16, column=7), rows=[TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='Knative service name')], id='213'), TableRow(location=Location(line=17, column=7), cells=[TableCell(location=Location(line=17, column=9), value='dead-letter')], id='214'), TableRow(location=Location(line=18, column=7), cells=[TableCell(location=Location(line=18, column=9), value='iocontext')], id='215'), TableRow(location=Location(line=19, column=7), cells=[TableCell(location=Location(line=19, column=9), value='kafka-cdc')], id='216'), TableRow(location=Location(line=20, column=7), cells=[TableCell(location=Location(line=20, column=9), value='pong')], id='217')]), id='218'), Step(location=Location(line=21, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative triggers are in a ready state in the \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=22, column=7), rows=[TableRow(location=Location(line=22, column=7), cells=[TableCell(location=Location(line=22, column=9), value='Knative trigger name')], id='219'), TableRow(location=Location(line=23, column=7), cells=[TableCell(location=Location(line=23, column=9), value='iocontext-trigger')], id='220'), TableRow(location=Location(line=24, column=7), cells=[TableCell(location=Location(line=24, column=9), value='kafka-cdc-trigger')], id='221'), TableRow(location=Location(line=25, column=7), cells=[TableCell(location=Location(line=25, column=9), value='pong-trigger')], id='222')]), id='223'), Step(location=Location(line=26, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative brokers are in a ready state in the \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=27, column=7), rows=[TableRow(location=Location(line=27, column=7), cells=[TableCell(location=Location(line=27, column=9), value='Knative broker name')], id='224'), TableRow(location=Location(line=28, column=7), cells=[TableCell(location=Location(line=28, column=9), value='context-broker')], id='225')]), id='226'), Step(location=Location(line=29, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka topic \"context-cyan-cdc\" is in ready state in \"redpanda\" namespace', doc_string=None, data_table=None, id='227'), Step(location=Location(line=30, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka source \"context-cyan-cdc-kafkasource\" is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=None, id='228')], examples=[], id='229'), '208': Step(location=Location(line=10, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"cyan\"', doc_string=None, data_table=None, id='208'), '209': Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='209'), '210': Step(location=Location(line=12, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-cyan\" should exist', doc_string=None, data_table=None, id='210'), '211': Step(location=Location(line=13, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='helm release \"cyan-neo4j\" is deployed in \"context-cyan\" namespace', doc_string=None, data_table=None, id='211'), '212': Step(location=Location(line=14, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"cyan-neo4j\" in namespace \"context-cyan\" is in ready state', doc_string=None, data_table=None, id='212'), '218': Step(location=Location(line=15, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=16, column=7), rows=[TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='Knative service name')], id='213'), TableRow(location=Location(line=17, column=7), cells=[TableCell(location=Location(line=17, column=9), value='dead-letter')], id='214'), TableRow(location=Location(line=18, column=7), cells=[TableCell(location=Location(line=18, column=9), value='iocontext')], id='215'), TableRow(location=Location(line=19, column=7), cells=[TableCell(location=Location(line=19, column=9), value='kafka-cdc')], id='216'), TableRow(location=Location(line=20, column=7), cells=[TableCell(location=Location(line=20, column=9), value='pong')], id='217')]), id='218'), '223': Step(location=Location(line=21, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative triggers are in a ready state in the \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=22, column=7), rows=[TableRow(location=Location(line=22, column=7), cells=[TableCell(location=Location(line=22, column=9), value='Knative trigger name')], id='219'), TableRow(location=Location(line=23, column=7), cells=[TableCell(location=Location(line=23, column=9), value='iocontext-trigger')], id='220'), TableRow(location=Location(line=24, column=7), cells=[TableCell(location=Location(line=24, column=9), value='kafka-cdc-trigger')], id='221'), TableRow(location=Location(line=25, column=7), cells=[TableCell(location=Location(line=25, column=9), value='pong-trigger')], id='222')]), id='223'), '226': Step(location=Location(line=26, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative brokers are in a ready state in the \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=27, column=7), rows=[TableRow(location=Location(line=27, column=7), cells=[TableCell(location=Location(line=27, column=9), value='Knative broker name')], id='224'), TableRow(location=Location(line=28, column=7), cells=[TableCell(location=Location(line=28, column=9), value='context-broker')], id='225')]), id='226'), '227': Step(location=Location(line=29, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka topic \"context-cyan-cdc\" is in ready state in \"redpanda\" namespace', doc_string=None, data_table=None, id='227'), '228': Step(location=Location(line=30, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka source \"context-cyan-cdc-kafkasource\" is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=None, id='228'), '242': Scenario(location=Location(line=32, column=3), tags=[], keyword='Scenario', name='Create User and check k8s resources', description='', steps=[Step(location=Location(line=33, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"bob\" and connects it to the context \"cyan\"', doc_string=None, data_table=None, id='230'), Step(location=Location(line=34, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='231'), Step(location=Location(line=35, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"user-bob\" should exist', doc_string=None, data_table=None, id='232'), Step(location=Location(line=36, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative brokers are in a ready state in the \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=37, column=7), rows=[TableRow(location=Location(line=37, column=7), cells=[TableCell(location=Location(line=37, column=9), value='Knative broker name')], id='233'), TableRow(location=Location(line=38, column=7), cells=[TableCell(location=Location(line=38, column=9), value='user-broker')], id='234')]), id='235'), Step(location=Location(line=39, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative triggers are in a ready state in the \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=40, column=7), rows=[TableRow(location=Location(line=40, column=7), cells=[TableCell(location=Location(line=40, column=9), value='Knative trigger name')], id='236'), TableRow(location=Location(line=41, column=7), cells=[TableCell(location=Location(line=41, column=9), value='context-cyan-to-user-bob')], id='237')]), id='238'), Step(location=Location(line=42, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative triggers are in a ready state in the \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=43, column=7), rows=[TableRow(location=Location(line=43, column=7), cells=[TableCell(location=Location(line=43, column=9), value='Knative trigger name')], id='239'), TableRow(location=Location(line=44, column=7), cells=[TableCell(location=Location(line=44, column=9), value='user-bob-to-context-cyan')], id='240')]), id='241')], examples=[], id='242'), '230': Step(location=Location(line=33, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"bob\" and connects it to the context \"cyan\"', doc_string=None, data_table=None, id='230'), '231': Step(location=Location(line=34, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='231'), '232': Step(location=Location(line=35, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"user-bob\" should exist', doc_string=None, data_table=None, id='232'), '235': Step(location=Location(line=36, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative brokers are in a ready state in the \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=37, column=7), rows=[TableRow(location=Location(line=37, column=7), cells=[TableCell(location=Location(line=37, column=9), value='Knative broker name')], id='233'), TableRow(location=Location(line=38, column=7), cells=[TableCell(location=Location(line=38, column=9), value='user-broker')], id='234')]), id='235'), '238': Step(location=Location(line=39, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative triggers are in a ready state in the \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=40, column=7), rows=[TableRow(location=Location(line=40, column=7), cells=[TableCell(location=Location(line=40, column=9), value='Knative trigger name')], id='236'), TableRow(location=Location(line=41, column=7), cells=[TableCell(location=Location(line=41, column=9), value='context-cyan-to-user-bob')], id='237')]), id='238'), '241': Step(location=Location(line=42, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative triggers are in a ready state in the \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=43, column=7), rows=[TableRow(location=Location(line=43, column=7), cells=[TableCell(location=Location(line=43, column=9), value='Knative trigger name')], id='239'), TableRow(location=Location(line=44, column=7), cells=[TableCell(location=Location(line=44, column=9), value='user-bob-to-context-cyan')], id='240')]), id='241'), '253': Scenario(location=Location(line=46, column=3), tags=[], keyword='Scenario', name='Create Host and check k8s resources', description='', steps=[Step(location=Location(line=47, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"workstation\" and connects it to the user \"bob\"', doc_string=None, data_table=None, id='243'), Step(location=Location(line=48, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='244'), Step(location=Location(line=49, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"workstation-host-broker-kne-trigger\" is ready in \"user-bob\" namespace', doc_string=None, data_table=None, id='245'), Step(location=Location(line=50, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative triggers are in a ready state in the \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=51, column=7), rows=[TableRow(location=Location(line=51, column=7), cells=[TableCell(location=Location(line=51, column=9), value='Knative trigger name')], id='246'), TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='user-bob-to-context-cyan')], id='247'), TableRow(location=Location(line=53, column=7), cells=[TableCell(location=Location(line=53, column=9), value='user-broker-to-workstation-broker-trigger')], id='248')]), id='249'), Step(location=Location(line=54, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative brokers are in a ready state in the \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=55, column=7), rows=[TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='Knative broker name')], id='250'), TableRow(location=Location(line=56, column=7), cells=[TableCell(location=Location(line=56, column=9), value='workstation-host-broker')], id='251')]), id='252')], examples=[], id='253'), '243': Step(location=Location(line=47, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"workstation\" and connects it to the user \"bob\"', doc_string=None, data_table=None, id='243'), '244': Step(location=Location(line=48, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='244'), '245': Step(location=Location(line=49, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"workstation-host-broker-kne-trigger\" is ready in \"user-bob\" namespace', doc_string=None, data_table=None, id='245'), '249': Step(location=Location(line=50, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative triggers are in a ready state in the \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=51, column=7), rows=[TableRow(location=Location(line=51, column=7), cells=[TableCell(location=Location(line=51, column=9), value='Knative trigger name')], id='246'), TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='user-bob-to-context-cyan')], id='247'), TableRow(location=Location(line=53, column=7), cells=[TableCell(location=Location(line=53, column=9), value='user-broker-to-workstation-broker-trigger')], id='248')]), id='249'), '252': Step(location=Location(line=54, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative brokers are in a ready state in the \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=55, column=7), rows=[TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='Knative broker name')], id='250'), TableRow(location=Location(line=56, column=7), cells=[TableCell(location=Location(line=56, column=9), value='workstation-host-broker')], id='251')]), id='252'), '262': Scenario(location=Location(line=60, column=3), tags=[], keyword='Scenario', name='Delete Resources and Verify Cleanup', description='', steps=[Step(location=Location(line=62, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"workstation\"', doc_string=None, data_table=None, id='254'), Step(location=Location(line=63, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"workstation\" should be deleted', doc_string=None, data_table=None, id='255'), Step(location=Location(line=65, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"bob\"', doc_string=None, data_table=None, id='256'), Step(location=Location(line=66, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"bob\" should be deleted', doc_string=None, data_table=None, id='257'), Step(location=Location(line=67, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"user-bob\" should not exist', doc_string=None, data_table=None, id='258'), Step(location=Location(line=69, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"cyan\"', doc_string=None, data_table=None, id='259'), Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"cyan\" should be deleted', doc_string=None, data_table=None, id='260'), Step(location=Location(line=71, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-cyan\" should not exist', doc_string=None, data_table=None, id='261')], examples=[], id='262'), '254': Step(location=Location(line=62, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"workstation\"', doc_string=None, data_table=None, id='254'), '255': Step(location=Location(line=63, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"workstation\" should be deleted', doc_string=None, data_table=None, id='255'), '256': Step(location=Location(line=65, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"bob\"', doc_string=None, data_table=None, id='256'), '257': Step(location=Location(line=66, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"bob\" should be deleted', doc_string=None, data_table=None, id='257'), '258': Step(location=Location(line=67, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"user-bob\" should not exist', doc_string=None, data_table=None, id='258'), '259': Step(location=Location(line=69, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"cyan\"', doc_string=None, data_table=None, id='259'), '260': Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"cyan\" should be deleted', doc_string=None, data_table=None, id='260'), '261': Step(location=Location(line=71, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-cyan\" should not exist', doc_string=None, data_table=None, id='261')}, pickles=[Pickle(id='277', uri='file:features/2_mindwm_crd_resources.feature', name='Create Context and check k8s resources', language='en', steps=[PickleStep(argument=None, ast_node_ids=['205'], id='265', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['206'], id='266', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['208'], id='267', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"cyan\"'), PickleStep(argument=None, ast_node_ids=['209'], id='268', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=None, ast_node_ids=['210'], id='269', type=<Type.outcome: 'Outcome'>, text='namespace \"context-cyan\" should exist'), PickleStep(argument=None, ast_node_ids=['211'], id='270', type=<Type.outcome: 'Outcome'>, text='helm release \"cyan-neo4j\" is deployed in \"context-cyan\" namespace'), PickleStep(argument=None, ast_node_ids=['212'], id='271', type=<Type.outcome: 'Outcome'>, text='statefulset \"cyan-neo4j\" in namespace \"context-cyan\" is in ready state'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='dead-letter')]), PickleTableRow(cells=[PickleTableCell(value='iocontext')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')]), PickleTableRow(cells=[PickleTableCell(value='pong')])])), ast_node_ids=['218'], id='272', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-cyan\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative trigger name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-trigger')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-trigger')]), PickleTableRow(cells=[PickleTableCell(value='pong-trigger')])])), ast_node_ids=['223'], id='273', type=<Type.outcome: 'Outcome'>, text='the following knative triggers are in a ready state in the \"context-cyan\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative broker name')]), PickleTableRow(cells=[PickleTableCell(value='context-broker')])])), ast_node_ids=['226'], id='274', type=<Type.outcome: 'Outcome'>, text='the following knative brokers are in a ready state in the \"context-cyan\" namespace'), PickleStep(argument=None, ast_node_ids=['227'], id='275', type=<Type.outcome: 'Outcome'>, text='kafka topic \"context-cyan-cdc\" is in ready state in \"redpanda\" namespace'), PickleStep(argument=None, ast_node_ids=['228'], id='276', type=<Type.outcome: 'Outcome'>, text='kafka source \"context-cyan-cdc-kafkasource\" is in ready state in \"context-cyan\" namespace')], tags=[PickleTag(name='@mindwm_crd_resources', ast_node_id='263'), PickleTag(name='@mindwm_test', ast_node_id='264')], ast_node_ids=['229']), Pickle(id='286', uri='file:features/2_mindwm_crd_resources.feature', name='Create User and check k8s resources', language='en', steps=[PickleStep(argument=None, ast_node_ids=['205'], id='278', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['206'], id='279', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['230'], id='280', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"bob\" and connects it to the context \"cyan\"'), PickleStep(argument=None, ast_node_ids=['231'], id='281', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['232'], id='282', type=<Type.outcome: 'Outcome'>, text='namespace \"user-bob\" should exist'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative broker name')]), PickleTableRow(cells=[PickleTableCell(value='user-broker')])])), ast_node_ids=['235'], id='283', type=<Type.outcome: 'Outcome'>, text='the following knative brokers are in a ready state in the \"user-bob\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative trigger name')]), PickleTableRow(cells=[PickleTableCell(value='context-cyan-to-user-bob')])])), ast_node_ids=['238'], id='284', type=<Type.outcome: 'Outcome'>, text='the following knative triggers are in a ready state in the \"context-cyan\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative trigger name')]), PickleTableRow(cells=[PickleTableCell(value='user-bob-to-context-cyan')])])), ast_node_ids=['241'], id='285', type=<Type.outcome: 'Outcome'>, text='the following knative triggers are in a ready state in the \"user-bob\" namespace')], tags=[PickleTag(name='@mindwm_crd_resources', ast_node_id='263'), PickleTag(name='@mindwm_test', ast_node_id='264')], ast_node_ids=['242']), Pickle(id='294', uri='file:features/2_mindwm_crd_resources.feature', name='Create Host and check k8s resources', language='en', steps=[PickleStep(argument=None, ast_node_ids=['205'], id='287', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['206'], id='288', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['243'], id='289', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"workstation\" and connects it to the user \"bob\"'), PickleStep(argument=None, ast_node_ids=['244'], id='290', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['245'], id='291', type=<Type.outcome: 'Outcome'>, text='NatsJetStreamChannel \"workstation-host-broker-kne-trigger\" is ready in \"user-bob\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative trigger name')]), PickleTableRow(cells=[PickleTableCell(value='user-bob-to-context-cyan')]), PickleTableRow(cells=[PickleTableCell(value='user-broker-to-workstation-broker-trigger')])])), ast_node_ids=['249'], id='292', type=<Type.outcome: 'Outcome'>, text='the following knative triggers are in a ready state in the \"user-bob\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative broker name')]), PickleTableRow(cells=[PickleTableCell(value='workstation-host-broker')])])), ast_node_ids=['252'], id='293', type=<Type.outcome: 'Outcome'>, text='the following knative brokers are in a ready state in the \"user-bob\" namespace')], tags=[PickleTag(name='@mindwm_crd_resources', ast_node_id='263'), PickleTag(name='@mindwm_test', ast_node_id='264')], ast_node_ids=['253']), Pickle(id='305', uri='file:features/2_mindwm_crd_resources.feature', name='Delete Resources and Verify Cleanup', language='en', steps=[PickleStep(argument=None, ast_node_ids=['205'], id='295', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['206'], id='296', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['254'], id='297', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"workstation\"'), PickleStep(argument=None, ast_node_ids=['255'], id='298', type=<Type.outcome: 'Outcome'>, text='the host \"workstation\" should be deleted'), PickleStep(argument=None, ast_node_ids=['256'], id='299', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"bob\"'), PickleStep(argument=None, ast_node_ids=['257'], id='300', type=<Type.outcome: 'Outcome'>, text='the user \"bob\" should be deleted'), PickleStep(argument=None, ast_node_ids=['258'], id='301', type=<Type.outcome: 'Outcome'>, text='namespace \"user-bob\" should not exist'), PickleStep(argument=None, ast_node_ids=['259'], id='302', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"cyan\"'), PickleStep(argument=None, ast_node_ids=['260'], id='303', type=<Type.outcome: 'Outcome'>, text='the context \"cyan\" should be deleted'), PickleStep(argument=None, ast_node_ids=['261'], id='304', type=<Type.outcome: 'Outcome'>, text='namespace \"context-cyan\" should not exist')], tags=[PickleTag(name='@mindwm_crd_resources', ast_node_id='263'), PickleTag(name='@mindwm_test', ast_node_id='264')], ast_node_ids=['262'])])","Source(uri='file:features/2_mindwm_crd_resources.feature', data='@mindwm_crd_resources\\n@mindwm_test\\nFeature: MindWM Custom kubernetes resources\\n\\n  Background:\\n    Given a MindWM environment\\n    Then all nodes in Kubernetes are ready\\n    \\n  Scenario: Create Context and check k8s resources\\n    When God creates a MindWM context with the name \"cyan\"\\n    Then the context should be ready and operable\\n    And namespace \"context-cyan\" should exist \\n    And helm release \"cyan-neo4j\" is deployed in \"context-cyan\" namespace\\n    And statefulset \"cyan-neo4j\" in namespace \"context-cyan\" is in ready state\\n    And the following knative services are in a ready state in the \"context-cyan\" namespace\\n      | Knative service name |\\n      | dead-letter          |\\n      | iocontext            |\\n      | kafka-cdc            |\\n      | pong                 |\\n    And the following knative triggers are in a ready state in the \"context-cyan\" namespace\\n      | Knative trigger name |\\n      | iocontext-trigger    |\\n      | kafka-cdc-trigger    |\\n      | pong-trigger         |\\n    And the following knative brokers are in a ready state in the \"context-cyan\" namespace\\n      | Knative broker name |\\n      | context-broker      |\\n    And kafka topic \"context-cyan-cdc\" is in ready state in \"redpanda\" namespace\\n    And kafka source \"context-cyan-cdc-kafkasource\" is in ready state in \"context-cyan\" namespace\\n  \\n  Scenario: Create User and check k8s resources\\n    When God creates a MindWM user resource with the name \"bob\" and connects it to the context \"cyan\"\\n    Then the user resource should be ready and operable\\n    And namespace \"user-bob\" should exist \\n    And the following knative brokers are in a ready state in the \"user-bob\" namespace\\n      | Knative broker name |\\n      | user-broker         |\\n    And the following knative triggers are in a ready state in the \"context-cyan\" namespace\\n      | Knative trigger name          |\\n      | context-cyan-to-user-bob    |\\n    And the following knative triggers are in a ready state in the \"user-bob\" namespace\\n      | Knative trigger name          |\\n      | user-bob-to-context-cyan    |\\n\\n  Scenario: Create Host and check k8s resources\\n    When God creates a MindWM host resource with the name \"workstation\" and connects it to the user \"bob\"\\n    Then the host resource should be ready and operable\\n    And NatsJetStreamChannel \"workstation-host-broker-kne-trigger\" is ready in \"user-bob\" namespace\\n    And the following knative triggers are in a ready state in the \"user-bob\" namespace\\n      | Knative trigger name                    |\\n      | user-bob-to-context-cyan              |\\n      | user-broker-to-workstation-broker-trigger    |\\n    And the following knative brokers are in a ready state in the \"user-bob\" namespace\\n      | Knative broker name  |\\n      | workstation-host-broker   |\\n\\n\\n\\n  Scenario: Delete Resources and Verify Cleanup\\n\\n    When God deletes the MindWM host resource \"workstation\"\\n    Then the host \"workstation\" should be deleted\\n\\n    When God deletes the MindWM user resource \"bob\"\\n    Then the user \"bob\" should be deleted\\n    And namespace \"user-bob\" should not exist\\n\\n    When God deletes the MindWM context resource \"cyan\"\\n    Then the context \"cyan\" should be deleted\\n    And namespace \"context-cyan\" should not exist\\n\\n\\n\\n', media_type='text/x.cucumber.gherkin+plain')","Pickle(id='294', uri='file:features/2_mindwm_crd_resources.feature', name='Create Host and check k8s resources', language='en', steps=[PickleStep(argument=None, ast_node_ids=['205'], id='287', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['206'], id='288', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['243'], id='289', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"workstation\" and connects it to the user \"bob\"'), PickleStep(argument=None, ast_node_ids=['244'], id='290', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['245'], id='291', type=<Type.outcome: 'Outcome'>, text='NatsJetStreamChannel \"workstation-host-broker-kne-trigger\" is ready in \"user-bob\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative trigger name')]), PickleTableRow(cells=[PickleTableCell(value='user-bob-to-context-cyan')]), PickleTableRow(cells=[PickleTableCell(value='user-broker-to-workstation-broker-trigger')])])), ast_node_ids=['249'], id='292', type=<Type.outcome: 'Outcome'>, text='the following knative triggers are in a ready state in the \"user-bob\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative broker name')]), PickleTableRow(cells=[PickleTableCell(value='workstation-host-broker')])])), ast_node_ids=['252'], id='293', type=<Type.outcome: 'Outcome'>, text='the following knative brokers are in a ready state in the \"user-bob\" namespace')], tags=[PickleTag(name='@mindwm_crd_resources', ast_node_id='263'), PickleTag(name='@mindwm_test', ast_node_id='264')], ast_node_ids=['253'])"],"tags":["mindwm_crd_resources","pytest_bdd_scenario","@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')","mindwm_test","scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/2_mindwm_crd_resources.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=<FeaturePathType.PATH: 'path'>, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())","namespace(create=False, name='default')"]},{"name":"test_scenarios[file:features/5_mindwm_kafka_cdc.feature-MindWM kafka_cdc function test-io context blue[table_rows:[line: 69]]]","uid":"cacde56d683e4c87","parentUid":"3961740595044ffd97a03e46799bfc30","status":"passed","time":{"start":1728404019752,"stop":1728404183834,"duration":164082},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["Feature(gherkin_document=GherkinDocument(uri='file:features/5_mindwm_kafka_cdc.feature', feature=Feature(location=Location(line=3, column=1), tags=[Tag(location=Location(line=1, column=1), name='@mindwm_kafka_cdc', id='568'), Tag(location=Location(line=2, column=1), name='@mindwm_test', id='569')], language='en', keyword='Feature', name='MindWM kafka_cdc function test', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='527'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='528')], id='529'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='io context <context>', description='', steps=[Step(location=Location(line=10, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='530'), Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='531'), Step(location=Location(line=12, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=13, column=7), rows=[TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='Knative service name')], id='532'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='kafka-cdc')], id='533')]), id='534'), Step(location=Location(line=15, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='535'), Step(location=Location(line=17, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='536'), Step(location=Location(line=18, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='537'), Step(location=Location(line=20, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='538'), Step(location=Location(line=21, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='539'), Step(location=Location(line=28, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='540'), Step(location=Location(line=29, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God makes graph query in context \"<context>\"', doc_string=DocString(location=Location(line=30, column=7), media_type=None, content=\"CREATE (n:User {\\n  atime: 0,\\n  traceparent: '00-7df92f3577b34da6a3ce930d0e0e4734-96815d9e32cd6279-01',\\n  type: 'org.mindwm.v1.graph.node.user',\\n  username: '<user>'\\n})\\nRETURN n;\", delimiter='\"\"\"'), data_table=None, id='541'), Step(location=Location(line=40, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=41, column=7), rows=[TableRow(location=Location(line=41, column=7), cells=[TableCell(location=Location(line=41, column=9), value='Knative service name')], id='542'), TableRow(location=Location(line=42, column=7), cells=[TableCell(location=Location(line=42, column=9), value='kafka-cdc')], id='543')]), id='544'), Step(location=Location(line=43, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='545'), Step(location=Location(line=45, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God makes graph query in context \"<context>\"', doc_string=DocString(location=Location(line=46, column=7), media_type=None, content=\"MATCH (n:User)\\nSET n.username = 'xxx'\\nRETURN n;\", delimiter='\"\"\"'), data_table=None, id='546'), Step(location=Location(line=51, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=52, column=7), rows=[TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='Knative service name')], id='547'), TableRow(location=Location(line=53, column=7), cells=[TableCell(location=Location(line=53, column=9), value='kafka-cdc')], id='548')]), id='549'), Step(location=Location(line=54, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.updated\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='550'), Step(location=Location(line=57, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God makes graph query in context \"<context>\"', doc_string=DocString(location=Location(line=58, column=7), media_type=None, content='MATCH (n:User)\\nDELETE n;', delimiter='\"\"\"'), data_table=None, id='551'), Step(location=Location(line=62, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=63, column=7), rows=[TableRow(location=Location(line=63, column=7), cells=[TableCell(location=Location(line=63, column=9), value='Knative service name')], id='552'), TableRow(location=Location(line=64, column=7), cells=[TableCell(location=Location(line=64, column=9), value='kafka-cdc')], id='553')]), id='554'), Step(location=Location(line=65, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.deleted\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='555')], examples=[Examples(location=Location(line=67, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=68, column=6), cells=[TableCell(location=Location(line=68, column=8), value='context'), TableCell(location=Location(line=68, column=19), value='username'), TableCell(location=Location(line=68, column=32), value='host')], id='556'), table_body=[TableRow(location=Location(line=69, column=6), cells=[TableCell(location=Location(line=69, column=8), value='blue'), TableCell(location=Location(line=69, column=19), value='garmr'), TableCell(location=Location(line=69, column=32), value='helheim')], id='557')], id='558')], id='559')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=72, column=3), tags=[], keyword='Scenario', name='Cleanup <username>@<host> in <context>', description='', steps=[Step(location=Location(line=73, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='560'), Step(location=Location(line=74, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='561'), Step(location=Location(line=76, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='562'), Step(location=Location(line=78, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='563')], examples=[Examples(location=Location(line=80, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=81, column=5), cells=[TableCell(location=Location(line=81, column=7), value='context'), TableCell(location=Location(line=81, column=17), value='username'), TableCell(location=Location(line=81, column=28), value='host')], id='564'), table_body=[TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='blue'), TableCell(location=Location(line=82, column=17), value='garmr'), TableCell(location=Location(line=82, column=28), value='helheim')], id='565')], id='566')], id='567'))]), comments=[Comment(location=Location(line=23, column=1), text='    # When God makes graph query in context \"<context>\"'), Comment(location=Location(line=24, column=1), text='    #   \"\"\"'), Comment(location=Location(line=25, column=1), text='    #   MATCH (N) DETACH DELETE N;'), Comment(location=Location(line=26, column=1), text='    #   \"\"\"')]), uri='file:features/5_mindwm_kafka_cdc.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/5_mindwm_kafka_cdc.feature', registry={'568': Tag(location=Location(line=1, column=1), name='@mindwm_kafka_cdc', id='568'), '569': Tag(location=Location(line=2, column=1), name='@mindwm_test', id='569'), '529': Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='527'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='528')], id='529'), '527': Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='527'), '528': Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='528'), '559': Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='io context <context>', description='', steps=[Step(location=Location(line=10, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='530'), Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='531'), Step(location=Location(line=12, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=13, column=7), rows=[TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='Knative service name')], id='532'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='kafka-cdc')], id='533')]), id='534'), Step(location=Location(line=15, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='535'), Step(location=Location(line=17, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='536'), Step(location=Location(line=18, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='537'), Step(location=Location(line=20, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='538'), Step(location=Location(line=21, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='539'), Step(location=Location(line=28, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='540'), Step(location=Location(line=29, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God makes graph query in context \"<context>\"', doc_string=DocString(location=Location(line=30, column=7), media_type=None, content=\"CREATE (n:User {\\n  atime: 0,\\n  traceparent: '00-7df92f3577b34da6a3ce930d0e0e4734-96815d9e32cd6279-01',\\n  type: 'org.mindwm.v1.graph.node.user',\\n  username: '<user>'\\n})\\nRETURN n;\", delimiter='\"\"\"'), data_table=None, id='541'), Step(location=Location(line=40, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=41, column=7), rows=[TableRow(location=Location(line=41, column=7), cells=[TableCell(location=Location(line=41, column=9), value='Knative service name')], id='542'), TableRow(location=Location(line=42, column=7), cells=[TableCell(location=Location(line=42, column=9), value='kafka-cdc')], id='543')]), id='544'), Step(location=Location(line=43, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='545'), Step(location=Location(line=45, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God makes graph query in context \"<context>\"', doc_string=DocString(location=Location(line=46, column=7), media_type=None, content=\"MATCH (n:User)\\nSET n.username = 'xxx'\\nRETURN n;\", delimiter='\"\"\"'), data_table=None, id='546'), Step(location=Location(line=51, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=52, column=7), rows=[TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='Knative service name')], id='547'), TableRow(location=Location(line=53, column=7), cells=[TableCell(location=Location(line=53, column=9), value='kafka-cdc')], id='548')]), id='549'), Step(location=Location(line=54, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.updated\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='550'), Step(location=Location(line=57, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God makes graph query in context \"<context>\"', doc_string=DocString(location=Location(line=58, column=7), media_type=None, content='MATCH (n:User)\\nDELETE n;', delimiter='\"\"\"'), data_table=None, id='551'), Step(location=Location(line=62, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=63, column=7), rows=[TableRow(location=Location(line=63, column=7), cells=[TableCell(location=Location(line=63, column=9), value='Knative service name')], id='552'), TableRow(location=Location(line=64, column=7), cells=[TableCell(location=Location(line=64, column=9), value='kafka-cdc')], id='553')]), id='554'), Step(location=Location(line=65, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.deleted\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='555')], examples=[Examples(location=Location(line=67, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=68, column=6), cells=[TableCell(location=Location(line=68, column=8), value='context'), TableCell(location=Location(line=68, column=19), value='username'), TableCell(location=Location(line=68, column=32), value='host')], id='556'), table_body=[TableRow(location=Location(line=69, column=6), cells=[TableCell(location=Location(line=69, column=8), value='blue'), TableCell(location=Location(line=69, column=19), value='garmr'), TableCell(location=Location(line=69, column=32), value='helheim')], id='557')], id='558')], id='559'), '530': Step(location=Location(line=10, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='530'), '531': Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='531'), '534': Step(location=Location(line=12, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=13, column=7), rows=[TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='Knative service name')], id='532'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='kafka-cdc')], id='533')]), id='534'), '535': Step(location=Location(line=15, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='535'), '536': Step(location=Location(line=17, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='536'), '537': Step(location=Location(line=18, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='537'), '538': Step(location=Location(line=20, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='538'), '539': Step(location=Location(line=21, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='539'), '540': Step(location=Location(line=28, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='540'), '541': Step(location=Location(line=29, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God makes graph query in context \"<context>\"', doc_string=DocString(location=Location(line=30, column=7), media_type=None, content=\"CREATE (n:User {\\n  atime: 0,\\n  traceparent: '00-7df92f3577b34da6a3ce930d0e0e4734-96815d9e32cd6279-01',\\n  type: 'org.mindwm.v1.graph.node.user',\\n  username: '<user>'\\n})\\nRETURN n;\", delimiter='\"\"\"'), data_table=None, id='541'), '544': Step(location=Location(line=40, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=41, column=7), rows=[TableRow(location=Location(line=41, column=7), cells=[TableCell(location=Location(line=41, column=9), value='Knative service name')], id='542'), TableRow(location=Location(line=42, column=7), cells=[TableCell(location=Location(line=42, column=9), value='kafka-cdc')], id='543')]), id='544'), '545': Step(location=Location(line=43, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='545'), '546': Step(location=Location(line=45, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God makes graph query in context \"<context>\"', doc_string=DocString(location=Location(line=46, column=7), media_type=None, content=\"MATCH (n:User)\\nSET n.username = 'xxx'\\nRETURN n;\", delimiter='\"\"\"'), data_table=None, id='546'), '549': Step(location=Location(line=51, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=52, column=7), rows=[TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='Knative service name')], id='547'), TableRow(location=Location(line=53, column=7), cells=[TableCell(location=Location(line=53, column=9), value='kafka-cdc')], id='548')]), id='549'), '550': Step(location=Location(line=54, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.updated\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='550'), '551': Step(location=Location(line=57, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God makes graph query in context \"<context>\"', doc_string=DocString(location=Location(line=58, column=7), media_type=None, content='MATCH (n:User)\\nDELETE n;', delimiter='\"\"\"'), data_table=None, id='551'), '554': Step(location=Location(line=62, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=63, column=7), rows=[TableRow(location=Location(line=63, column=7), cells=[TableCell(location=Location(line=63, column=9), value='Knative service name')], id='552'), TableRow(location=Location(line=64, column=7), cells=[TableCell(location=Location(line=64, column=9), value='kafka-cdc')], id='553')]), id='554'), '555': Step(location=Location(line=65, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.deleted\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='555'), '558': Examples(location=Location(line=67, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=68, column=6), cells=[TableCell(location=Location(line=68, column=8), value='context'), TableCell(location=Location(line=68, column=19), value='username'), TableCell(location=Location(line=68, column=32), value='host')], id='556'), table_body=[TableRow(location=Location(line=69, column=6), cells=[TableCell(location=Location(line=69, column=8), value='blue'), TableCell(location=Location(line=69, column=19), value='garmr'), TableCell(location=Location(line=69, column=32), value='helheim')], id='557')], id='558'), '556': TableRow(location=Location(line=68, column=6), cells=[TableCell(location=Location(line=68, column=8), value='context'), TableCell(location=Location(line=68, column=19), value='username'), TableCell(location=Location(line=68, column=32), value='host')], id='556'), '557': TableRow(location=Location(line=69, column=6), cells=[TableCell(location=Location(line=69, column=8), value='blue'), TableCell(location=Location(line=69, column=19), value='garmr'), TableCell(location=Location(line=69, column=32), value='helheim')], id='557'), '567': Scenario(location=Location(line=72, column=3), tags=[], keyword='Scenario', name='Cleanup <username>@<host> in <context>', description='', steps=[Step(location=Location(line=73, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='560'), Step(location=Location(line=74, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='561'), Step(location=Location(line=76, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='562'), Step(location=Location(line=78, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='563')], examples=[Examples(location=Location(line=80, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=81, column=5), cells=[TableCell(location=Location(line=81, column=7), value='context'), TableCell(location=Location(line=81, column=17), value='username'), TableCell(location=Location(line=81, column=28), value='host')], id='564'), table_body=[TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='blue'), TableCell(location=Location(line=82, column=17), value='garmr'), TableCell(location=Location(line=82, column=28), value='helheim')], id='565')], id='566')], id='567'), '560': Step(location=Location(line=73, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='560'), '561': Step(location=Location(line=74, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='561'), '562': Step(location=Location(line=76, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='562'), '563': Step(location=Location(line=78, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='563'), '566': Examples(location=Location(line=80, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=81, column=5), cells=[TableCell(location=Location(line=81, column=7), value='context'), TableCell(location=Location(line=81, column=17), value='username'), TableCell(location=Location(line=81, column=28), value='host')], id='564'), table_body=[TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='blue'), TableCell(location=Location(line=82, column=17), value='garmr'), TableCell(location=Location(line=82, column=28), value='helheim')], id='565')], id='566'), '564': TableRow(location=Location(line=81, column=5), cells=[TableCell(location=Location(line=81, column=7), value='context'), TableCell(location=Location(line=81, column=17), value='username'), TableCell(location=Location(line=81, column=28), value='host')], id='564'), '565': TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='blue'), TableCell(location=Location(line=82, column=17), value='garmr'), TableCell(location=Location(line=82, column=28), value='helheim')], id='565')}, pickles=[Pickle(id='590', uri='file:features/5_mindwm_kafka_cdc.feature', name='io context blue', language='en', steps=[PickleStep(argument=None, ast_node_ids=['527'], id='570', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['528'], id='571', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['530', '557'], id='572', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"blue\"'), PickleStep(argument=None, ast_node_ids=['531', '557'], id='573', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')])])), ast_node_ids=['534', '557'], id='574', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-blue\" namespace'), PickleStep(argument=None, ast_node_ids=['535', '557'], id='575', type=<Type.outcome: 'Outcome'>, text='statefulset \"blue-neo4j\" in namespace \"context-blue\" is in ready state'), PickleStep(argument=None, ast_node_ids=['536', '557'], id='576', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"garmr\" and connects it to the context \"blue\"'), PickleStep(argument=None, ast_node_ids=['537', '557'], id='577', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['538', '557'], id='578', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"helheim\" and connects it to the user \"garmr\"'), PickleStep(argument=None, ast_node_ids=['539', '557'], id='579', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['540', '557'], id='580', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content=\"CREATE (n:User {\\n  atime: 0,\\n  traceparent: '00-7df92f3577b34da6a3ce930d0e0e4734-96815d9e32cd6279-01',\\n  type: 'org.mindwm.v1.graph.node.user',\\n  username: '<user>'\\n})\\nRETURN n;\"), data_table=None), ast_node_ids=['541', '557'], id='581', type=<Type.action: 'Action'>, text='God makes graph query in context \"blue\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')])])), ast_node_ids=['544', '557'], id='582', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-blue\" namespace'), PickleStep(argument=None, ast_node_ids=['545', '557'], id='583', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-garmr.helheim-host-broker-kne-trigger._knative\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content=\"MATCH (n:User)\\nSET n.username = 'xxx'\\nRETURN n;\"), data_table=None), ast_node_ids=['546', '557'], id='584', type=<Type.action: 'Action'>, text='God makes graph query in context \"blue\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')])])), ast_node_ids=['549', '557'], id='585', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-blue\" namespace'), PickleStep(argument=None, ast_node_ids=['550', '557'], id='586', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.updated\" should have been received from the NATS topic \"user-garmr.helheim-host-broker-kne-trigger._knative\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='MATCH (n:User)\\nDELETE n;'), data_table=None), ast_node_ids=['551', '557'], id='587', type=<Type.action: 'Action'>, text='God makes graph query in context \"blue\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')])])), ast_node_ids=['554', '557'], id='588', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-blue\" namespace'), PickleStep(argument=None, ast_node_ids=['555', '557'], id='589', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.deleted\" should have been received from the NATS topic \"user-garmr.helheim-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_kafka_cdc', ast_node_id='568'), PickleTag(name='@mindwm_test', ast_node_id='569')], ast_node_ids=['559', '557']), Pickle(id='597', uri='file:features/5_mindwm_kafka_cdc.feature', name='Cleanup garmr@helheim in blue', language='en', steps=[PickleStep(argument=None, ast_node_ids=['527'], id='591', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['528'], id='592', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['560', '565'], id='593', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"helheim\"'), PickleStep(argument=None, ast_node_ids=['561', '565'], id='594', type=<Type.outcome: 'Outcome'>, text='the host \"helheim\" should be deleted'), PickleStep(argument=None, ast_node_ids=['562', '565'], id='595', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"garmr\"'), PickleStep(argument=None, ast_node_ids=['563', '565'], id='596', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"blue\"')], tags=[PickleTag(name='@mindwm_kafka_cdc', ast_node_id='568'), PickleTag(name='@mindwm_test', ast_node_id='569')], ast_node_ids=['567', '565'])])","Source(uri='file:features/5_mindwm_kafka_cdc.feature', data='@mindwm_kafka_cdc\\n@mindwm_test\\nFeature: MindWM kafka_cdc function test\\n  Background:\\n    Given A MindWM environment\\n    Then all nodes in Kubernetes are ready\\n\\n  Scenario: io context <context>\\n\\n    When God creates a MindWM context with the name \"<context>\"\\n    Then the context should be ready and operable\\n    Then the following knative services are in a ready state in the \"context-<context>\" namespace\\n      | Knative service name |\\n      | kafka-cdc            |\\n    And statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state\\n\\n    When God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"\\n    Then the user resource should be ready and operable\\n\\n    When God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"\\n    Then the host resource should be ready and operable\\n\\n    # When God makes graph query in context \"<context>\"\\n    #   \"\"\"\\n    #   MATCH (N) DETACH DELETE N;\\n    #   \"\"\"\\n\\n    When God starts reading message from NATS topic \">\"\\n    And God makes graph query in context \"<context>\"\\n      \"\"\"\\n      CREATE (n:User {\\n        atime: 0,\\n        traceparent: \\'00-7df92f3577b34da6a3ce930d0e0e4734-96815d9e32cd6279-01\\',\\n        type: \\'org.mindwm.v1.graph.node.user\\',\\n        username: \\'<user>\\'\\n      })\\n      RETURN n;\\n      \"\"\"\\n\\n    Then the following knative services are in a ready state in the \"context-<context>\" namespace\\n      | Knative service name |\\n      | kafka-cdc            |\\n    And a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"\\n\\n    When God makes graph query in context \"<context>\"\\n      \"\"\"\\n      MATCH (n:User)\\n      SET n.username = \\'xxx\\'\\n      RETURN n;\\n      \"\"\"\\n    Then the following knative services are in a ready state in the \"context-<context>\" namespace\\n      | Knative service name |\\n      | kafka-cdc            |\\n    And a cloudevent with type == \"org.mindwm.v1.graph.updated\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"\\n\\n\\n    When God makes graph query in context \"<context>\"\\n      \"\"\"\\n      MATCH (n:User)\\n      DELETE n;\\n      \"\"\"\\n    Then the following knative services are in a ready state in the \"context-<context>\" namespace\\n      | Knative service name |\\n      | kafka-cdc            |\\n    And a cloudevent with type == \"org.mindwm.v1.graph.deleted\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"\\n\\n    Examples:\\n     | context  | username   | host      | \\n     | blue     | garmr      | helheim   | \\n\\n\\n  Scenario: Cleanup <username>@<host> in <context>\\n    When God deletes the MindWM host resource \"<host>\"\\n    Then the host \"<host>\" should be deleted\\n\\n    When God deletes the MindWM user resource \"<username>\"\\n\\n    When God deletes the MindWM context resource \"<context>\"\\n\\n    Examples:\\n    | context | username | host      | \\n    | blue    | garmr    | helheim   | \\n\\n', media_type='text/x.cucumber.gherkin+plain')","Pickle(id='590', uri='file:features/5_mindwm_kafka_cdc.feature', name='io context blue', language='en', steps=[PickleStep(argument=None, ast_node_ids=['527'], id='570', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['528'], id='571', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['530', '557'], id='572', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"blue\"'), PickleStep(argument=None, ast_node_ids=['531', '557'], id='573', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')])])), ast_node_ids=['534', '557'], id='574', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-blue\" namespace'), PickleStep(argument=None, ast_node_ids=['535', '557'], id='575', type=<Type.outcome: 'Outcome'>, text='statefulset \"blue-neo4j\" in namespace \"context-blue\" is in ready state'), PickleStep(argument=None, ast_node_ids=['536', '557'], id='576', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"garmr\" and connects it to the context \"blue\"'), PickleStep(argument=None, ast_node_ids=['537', '557'], id='577', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['538', '557'], id='578', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"helheim\" and connects it to the user \"garmr\"'), PickleStep(argument=None, ast_node_ids=['539', '557'], id='579', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['540', '557'], id='580', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content=\"CREATE (n:User {\\n  atime: 0,\\n  traceparent: '00-7df92f3577b34da6a3ce930d0e0e4734-96815d9e32cd6279-01',\\n  type: 'org.mindwm.v1.graph.node.user',\\n  username: '<user>'\\n})\\nRETURN n;\"), data_table=None), ast_node_ids=['541', '557'], id='581', type=<Type.action: 'Action'>, text='God makes graph query in context \"blue\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')])])), ast_node_ids=['544', '557'], id='582', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-blue\" namespace'), PickleStep(argument=None, ast_node_ids=['545', '557'], id='583', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-garmr.helheim-host-broker-kne-trigger._knative\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content=\"MATCH (n:User)\\nSET n.username = 'xxx'\\nRETURN n;\"), data_table=None), ast_node_ids=['546', '557'], id='584', type=<Type.action: 'Action'>, text='God makes graph query in context \"blue\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')])])), ast_node_ids=['549', '557'], id='585', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-blue\" namespace'), PickleStep(argument=None, ast_node_ids=['550', '557'], id='586', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.updated\" should have been received from the NATS topic \"user-garmr.helheim-host-broker-kne-trigger._knative\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='MATCH (n:User)\\nDELETE n;'), data_table=None), ast_node_ids=['551', '557'], id='587', type=<Type.action: 'Action'>, text='God makes graph query in context \"blue\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')])])), ast_node_ids=['554', '557'], id='588', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-blue\" namespace'), PickleStep(argument=None, ast_node_ids=['555', '557'], id='589', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.deleted\" should have been received from the NATS topic \"user-garmr.helheim-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_kafka_cdc', ast_node_id='568'), PickleTag(name='@mindwm_test', ast_node_id='569')], ast_node_ids=['559', '557'])"],"tags":["pytest_bdd_scenario","@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')","mindwm_test","scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/5_mindwm_kafka_cdc.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=<FeaturePathType.PATH: 'path'>, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())","mindwm_kafka_cdc","namespace(create=False, name='default')"]},{"name":"test_scenarios[file:features/6_mindwm_two_hosts_one_user.feature-MindWM two hosts one user function test-Send ping via nats host: workstation01, user: shesha[table_rows:[line: 61]]]","uid":"42ca60c877057c42","parentUid":"3961740595044ffd97a03e46799bfc30","status":"passed","time":{"start":1728404328167,"stop":1728404344416,"duration":16249},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["Feature(gherkin_document=GherkinDocument(uri='file:features/6_mindwm_two_hosts_one_user.feature', feature=Feature(location=Location(line=3, column=1), tags=[Tag(location=Location(line=1, column=1), name='@mindwm_two_hosts_one_user', id='666'), Tag(location=Location(line=2, column=1), name='@mindwm_test', id='667')], language='en', keyword='Feature', name='MindWM two hosts one user function test', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='598'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='599')], id='600'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Create context <context> and user <username>', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='601'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='602'), Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='603'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='iocontext')], id='604'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='pong')], id='605'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='kafka-cdc')], id='606')]), id='607'), Step(location=Location(line=16, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='608'), Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='609'), Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='610')], examples=[Examples(location=Location(line=22, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=23, column=5), cells=[TableCell(location=Location(line=23, column=7), value='context'), TableCell(location=Location(line=23, column=18), value='username')], id='611'), table_body=[TableRow(location=Location(line=24, column=5), cells=[TableCell(location=Location(line=24, column=7), value='varanasi'), TableCell(location=Location(line=24, column=18), value='shesha')], id='612')], id='613')], id='614')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=26, column=3), tags=[], keyword='Scenario', name='Create <host> for user <username>', description='', steps=[Step(location=Location(line=28, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='615'), Step(location=Location(line=29, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='616')], examples=[Examples(location=Location(line=31, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=32, column=5), cells=[TableCell(location=Location(line=32, column=7), value='username'), TableCell(location=Location(line=32, column=18), value='host')], id='617'), table_body=[TableRow(location=Location(line=33, column=5), cells=[TableCell(location=Location(line=33, column=7), value='shesha'), TableCell(location=Location(line=33, column=18), value='workstation01')], id='618'), TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='shesha'), TableCell(location=Location(line=34, column=18), value='travellaptop')], id='619')], id='620')], id='621')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=37, column=3), tags=[], keyword='Scenario', name='Send ping via nats host: <host>, user: <username>', description='', steps=[Step(location=Location(line=38, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='622'), Step(location=Location(line=39, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='623'), Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='624'), Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='625'), Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='626'), Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=44, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='627'), Step(location=Location(line=53, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=54, column=7), rows=[TableRow(location=Location(line=54, column=7), cells=[TableCell(location=Location(line=54, column=9), value='Deployment name')], id='628'), TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='pong-00001-deployment')], id='629')]), id='630'), Step(location=Location(line=57, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='631')], examples=[Examples(location=Location(line=59, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=60, column=6), cells=[TableCell(location=Location(line=60, column=8), value='context'), TableCell(location=Location(line=60, column=18), value='username'), TableCell(location=Location(line=60, column=31), value='host'), TableCell(location=Location(line=60, column=43), value='tmux_pane'), TableCell(location=Location(line=60, column=55), value='tmux_window'), TableCell(location=Location(line=60, column=69), value='uuid'), TableCell(location=Location(line=60, column=109), value='tmux_socket')], id='632'), table_body=[TableRow(location=Location(line=61, column=6), cells=[TableCell(location=Location(line=61, column=8), value='varanasi'), TableCell(location=Location(line=61, column=20), value='shesha'), TableCell(location=Location(line=61, column=31), value='workstation01'), TableCell(location=Location(line=61, column=48), value='23'), TableCell(location=Location(line=61, column=60), value='36'), TableCell(location=Location(line=61, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=61, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='633'), TableRow(location=Location(line=62, column=6), cells=[TableCell(location=Location(line=62, column=8), value='varanasi'), TableCell(location=Location(line=62, column=20), value='shesha'), TableCell(location=Location(line=62, column=31), value='travellaptop'), TableCell(location=Location(line=62, column=47), value='23'), TableCell(location=Location(line=62, column=59), value='36'), TableCell(location=Location(line=62, column=73), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=62, column=112), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='634')], id='635')], id='636')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=64, column=3), tags=[], keyword='Scenario', name='Send iodocument via nats host: <host>, user: <username> and check that second host received graph the update', description='', steps=[Step(location=Location(line=65, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='637'), Step(location=Location(line=66, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='638'), Step(location=Location(line=67, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='639'), Step(location=Location(line=68, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='640'), Step(location=Location(line=69, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=70, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='641'), Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=80, column=7), rows=[TableRow(location=Location(line=80, column=7), cells=[TableCell(location=Location(line=80, column=9), value='Deployment name')], id='642'), TableRow(location=Location(line=81, column=7), cells=[TableCell(location=Location(line=81, column=9), value='iocontext-00001-deployment')], id='643'), TableRow(location=Location(line=82, column=7), cells=[TableCell(location=Location(line=82, column=9), value='kafka-cdc-00001-deployment')], id='644')]), id='645'), Step(location=Location(line=84, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.travellaptop-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='646')], examples=[Examples(location=Location(line=86, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=87, column=6), cells=[TableCell(location=Location(line=87, column=8), value='context'), TableCell(location=Location(line=87, column=18), value='username'), TableCell(location=Location(line=87, column=31), value='host'), TableCell(location=Location(line=87, column=43), value='tmux_pane'), TableCell(location=Location(line=87, column=55), value='tmux_window'), TableCell(location=Location(line=87, column=69), value='uuid'), TableCell(location=Location(line=87, column=109), value='tmux_socket')], id='647'), table_body=[TableRow(location=Location(line=88, column=6), cells=[TableCell(location=Location(line=88, column=8), value='varanasi'), TableCell(location=Location(line=88, column=20), value='shesha'), TableCell(location=Location(line=88, column=31), value='workstation01'), TableCell(location=Location(line=88, column=48), value='23'), TableCell(location=Location(line=88, column=60), value='36'), TableCell(location=Location(line=88, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=88, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='648')], id='649')], id='650')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=92, column=3), tags=[], keyword='Scenario', name='Cleanup hosts <host> in user <username>', description='', steps=[Step(location=Location(line=93, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='651'), Step(location=Location(line=94, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='652')], examples=[Examples(location=Location(line=96, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=97, column=5), cells=[TableCell(location=Location(line=97, column=7), value='username'), TableCell(location=Location(line=97, column=18), value='host')], id='653'), table_body=[TableRow(location=Location(line=98, column=5), cells=[TableCell(location=Location(line=98, column=7), value='shesha'), TableCell(location=Location(line=98, column=18), value='workstation01')], id='654'), TableRow(location=Location(line=99, column=5), cells=[TableCell(location=Location(line=99, column=7), value='shesha'), TableCell(location=Location(line=99, column=18), value='travellaptop')], id='655')], id='656')], id='657')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=101, column=3), tags=[], keyword='Scenario', name='Cleanup user <username> and context <context>', description='', steps=[Step(location=Location(line=102, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='658'), Step(location=Location(line=103, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='659'), Step(location=Location(line=105, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='660'), Step(location=Location(line=106, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='661')], examples=[Examples(location=Location(line=108, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=109, column=5), cells=[TableCell(location=Location(line=109, column=7), value='context'), TableCell(location=Location(line=109, column=18), value='username')], id='662'), table_body=[TableRow(location=Location(line=110, column=5), cells=[TableCell(location=Location(line=110, column=7), value='varanasi'), TableCell(location=Location(line=110, column=18), value='shesha')], id='663')], id='664')], id='665'))]), comments=[Comment(location=Location(line=89, column=1), text='     #| varanasi  | shesha   | travellaptop  | 23        | 36          | 8d839f82-79da-11ef-bc9f-f74fac7543ac  |L3RtcC90bXV4LTEwMDAvZGVmYXVsdA== |')]), uri='file:features/6_mindwm_two_hosts_one_user.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/6_mindwm_two_hosts_one_user.feature', registry={'666': Tag(location=Location(line=1, column=1), name='@mindwm_two_hosts_one_user', id='666'), '667': Tag(location=Location(line=2, column=1), name='@mindwm_test', id='667'), '600': Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='598'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='599')], id='600'), '598': Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='598'), '599': Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='599'), '614': Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Create context <context> and user <username>', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='601'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='602'), Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='603'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='iocontext')], id='604'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='pong')], id='605'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='kafka-cdc')], id='606')]), id='607'), Step(location=Location(line=16, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='608'), Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='609'), Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='610')], examples=[Examples(location=Location(line=22, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=23, column=5), cells=[TableCell(location=Location(line=23, column=7), value='context'), TableCell(location=Location(line=23, column=18), value='username')], id='611'), table_body=[TableRow(location=Location(line=24, column=5), cells=[TableCell(location=Location(line=24, column=7), value='varanasi'), TableCell(location=Location(line=24, column=18), value='shesha')], id='612')], id='613')], id='614'), '601': Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='601'), '602': Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='602'), '607': Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='603'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='iocontext')], id='604'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='pong')], id='605'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='kafka-cdc')], id='606')]), id='607'), '608': Step(location=Location(line=16, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='608'), '609': Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='609'), '610': Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='610'), '613': Examples(location=Location(line=22, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=23, column=5), cells=[TableCell(location=Location(line=23, column=7), value='context'), TableCell(location=Location(line=23, column=18), value='username')], id='611'), table_body=[TableRow(location=Location(line=24, column=5), cells=[TableCell(location=Location(line=24, column=7), value='varanasi'), TableCell(location=Location(line=24, column=18), value='shesha')], id='612')], id='613'), '611': TableRow(location=Location(line=23, column=5), cells=[TableCell(location=Location(line=23, column=7), value='context'), TableCell(location=Location(line=23, column=18), value='username')], id='611'), '612': TableRow(location=Location(line=24, column=5), cells=[TableCell(location=Location(line=24, column=7), value='varanasi'), TableCell(location=Location(line=24, column=18), value='shesha')], id='612'), '621': Scenario(location=Location(line=26, column=3), tags=[], keyword='Scenario', name='Create <host> for user <username>', description='', steps=[Step(location=Location(line=28, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='615'), Step(location=Location(line=29, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='616')], examples=[Examples(location=Location(line=31, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=32, column=5), cells=[TableCell(location=Location(line=32, column=7), value='username'), TableCell(location=Location(line=32, column=18), value='host')], id='617'), table_body=[TableRow(location=Location(line=33, column=5), cells=[TableCell(location=Location(line=33, column=7), value='shesha'), TableCell(location=Location(line=33, column=18), value='workstation01')], id='618'), TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='shesha'), TableCell(location=Location(line=34, column=18), value='travellaptop')], id='619')], id='620')], id='621'), '615': Step(location=Location(line=28, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='615'), '616': Step(location=Location(line=29, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='616'), '620': Examples(location=Location(line=31, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=32, column=5), cells=[TableCell(location=Location(line=32, column=7), value='username'), TableCell(location=Location(line=32, column=18), value='host')], id='617'), table_body=[TableRow(location=Location(line=33, column=5), cells=[TableCell(location=Location(line=33, column=7), value='shesha'), TableCell(location=Location(line=33, column=18), value='workstation01')], id='618'), TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='shesha'), TableCell(location=Location(line=34, column=18), value='travellaptop')], id='619')], id='620'), '617': TableRow(location=Location(line=32, column=5), cells=[TableCell(location=Location(line=32, column=7), value='username'), TableCell(location=Location(line=32, column=18), value='host')], id='617'), '618': TableRow(location=Location(line=33, column=5), cells=[TableCell(location=Location(line=33, column=7), value='shesha'), TableCell(location=Location(line=33, column=18), value='workstation01')], id='618'), '619': TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='shesha'), TableCell(location=Location(line=34, column=18), value='travellaptop')], id='619'), '636': Scenario(location=Location(line=37, column=3), tags=[], keyword='Scenario', name='Send ping via nats host: <host>, user: <username>', description='', steps=[Step(location=Location(line=38, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='622'), Step(location=Location(line=39, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='623'), Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='624'), Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='625'), Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='626'), Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=44, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='627'), Step(location=Location(line=53, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=54, column=7), rows=[TableRow(location=Location(line=54, column=7), cells=[TableCell(location=Location(line=54, column=9), value='Deployment name')], id='628'), TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='pong-00001-deployment')], id='629')]), id='630'), Step(location=Location(line=57, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='631')], examples=[Examples(location=Location(line=59, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=60, column=6), cells=[TableCell(location=Location(line=60, column=8), value='context'), TableCell(location=Location(line=60, column=18), value='username'), TableCell(location=Location(line=60, column=31), value='host'), TableCell(location=Location(line=60, column=43), value='tmux_pane'), TableCell(location=Location(line=60, column=55), value='tmux_window'), TableCell(location=Location(line=60, column=69), value='uuid'), TableCell(location=Location(line=60, column=109), value='tmux_socket')], id='632'), table_body=[TableRow(location=Location(line=61, column=6), cells=[TableCell(location=Location(line=61, column=8), value='varanasi'), TableCell(location=Location(line=61, column=20), value='shesha'), TableCell(location=Location(line=61, column=31), value='workstation01'), TableCell(location=Location(line=61, column=48), value='23'), TableCell(location=Location(line=61, column=60), value='36'), TableCell(location=Location(line=61, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=61, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='633'), TableRow(location=Location(line=62, column=6), cells=[TableCell(location=Location(line=62, column=8), value='varanasi'), TableCell(location=Location(line=62, column=20), value='shesha'), TableCell(location=Location(line=62, column=31), value='travellaptop'), TableCell(location=Location(line=62, column=47), value='23'), TableCell(location=Location(line=62, column=59), value='36'), TableCell(location=Location(line=62, column=73), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=62, column=112), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='634')], id='635')], id='636'), '622': Step(location=Location(line=38, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='622'), '623': Step(location=Location(line=39, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='623'), '624': Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='624'), '625': Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='625'), '626': Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='626'), '627': Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=44, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='627'), '630': Step(location=Location(line=53, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=54, column=7), rows=[TableRow(location=Location(line=54, column=7), cells=[TableCell(location=Location(line=54, column=9), value='Deployment name')], id='628'), TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='pong-00001-deployment')], id='629')]), id='630'), '631': Step(location=Location(line=57, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='631'), '635': Examples(location=Location(line=59, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=60, column=6), cells=[TableCell(location=Location(line=60, column=8), value='context'), TableCell(location=Location(line=60, column=18), value='username'), TableCell(location=Location(line=60, column=31), value='host'), TableCell(location=Location(line=60, column=43), value='tmux_pane'), TableCell(location=Location(line=60, column=55), value='tmux_window'), TableCell(location=Location(line=60, column=69), value='uuid'), TableCell(location=Location(line=60, column=109), value='tmux_socket')], id='632'), table_body=[TableRow(location=Location(line=61, column=6), cells=[TableCell(location=Location(line=61, column=8), value='varanasi'), TableCell(location=Location(line=61, column=20), value='shesha'), TableCell(location=Location(line=61, column=31), value='workstation01'), TableCell(location=Location(line=61, column=48), value='23'), TableCell(location=Location(line=61, column=60), value='36'), TableCell(location=Location(line=61, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=61, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='633'), TableRow(location=Location(line=62, column=6), cells=[TableCell(location=Location(line=62, column=8), value='varanasi'), TableCell(location=Location(line=62, column=20), value='shesha'), TableCell(location=Location(line=62, column=31), value='travellaptop'), TableCell(location=Location(line=62, column=47), value='23'), TableCell(location=Location(line=62, column=59), value='36'), TableCell(location=Location(line=62, column=73), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=62, column=112), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='634')], id='635'), '632': TableRow(location=Location(line=60, column=6), cells=[TableCell(location=Location(line=60, column=8), value='context'), TableCell(location=Location(line=60, column=18), value='username'), TableCell(location=Location(line=60, column=31), value='host'), TableCell(location=Location(line=60, column=43), value='tmux_pane'), TableCell(location=Location(line=60, column=55), value='tmux_window'), TableCell(location=Location(line=60, column=69), value='uuid'), TableCell(location=Location(line=60, column=109), value='tmux_socket')], id='632'), '633': TableRow(location=Location(line=61, column=6), cells=[TableCell(location=Location(line=61, column=8), value='varanasi'), TableCell(location=Location(line=61, column=20), value='shesha'), TableCell(location=Location(line=61, column=31), value='workstation01'), TableCell(location=Location(line=61, column=48), value='23'), TableCell(location=Location(line=61, column=60), value='36'), TableCell(location=Location(line=61, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=61, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='633'), '634': TableRow(location=Location(line=62, column=6), cells=[TableCell(location=Location(line=62, column=8), value='varanasi'), TableCell(location=Location(line=62, column=20), value='shesha'), TableCell(location=Location(line=62, column=31), value='travellaptop'), TableCell(location=Location(line=62, column=47), value='23'), TableCell(location=Location(line=62, column=59), value='36'), TableCell(location=Location(line=62, column=73), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=62, column=112), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='634'), '650': Scenario(location=Location(line=64, column=3), tags=[], keyword='Scenario', name='Send iodocument via nats host: <host>, user: <username> and check that second host received graph the update', description='', steps=[Step(location=Location(line=65, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='637'), Step(location=Location(line=66, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='638'), Step(location=Location(line=67, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='639'), Step(location=Location(line=68, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='640'), Step(location=Location(line=69, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=70, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='641'), Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=80, column=7), rows=[TableRow(location=Location(line=80, column=7), cells=[TableCell(location=Location(line=80, column=9), value='Deployment name')], id='642'), TableRow(location=Location(line=81, column=7), cells=[TableCell(location=Location(line=81, column=9), value='iocontext-00001-deployment')], id='643'), TableRow(location=Location(line=82, column=7), cells=[TableCell(location=Location(line=82, column=9), value='kafka-cdc-00001-deployment')], id='644')]), id='645'), Step(location=Location(line=84, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.travellaptop-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='646')], examples=[Examples(location=Location(line=86, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=87, column=6), cells=[TableCell(location=Location(line=87, column=8), value='context'), TableCell(location=Location(line=87, column=18), value='username'), TableCell(location=Location(line=87, column=31), value='host'), TableCell(location=Location(line=87, column=43), value='tmux_pane'), TableCell(location=Location(line=87, column=55), value='tmux_window'), TableCell(location=Location(line=87, column=69), value='uuid'), TableCell(location=Location(line=87, column=109), value='tmux_socket')], id='647'), table_body=[TableRow(location=Location(line=88, column=6), cells=[TableCell(location=Location(line=88, column=8), value='varanasi'), TableCell(location=Location(line=88, column=20), value='shesha'), TableCell(location=Location(line=88, column=31), value='workstation01'), TableCell(location=Location(line=88, column=48), value='23'), TableCell(location=Location(line=88, column=60), value='36'), TableCell(location=Location(line=88, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=88, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='648')], id='649')], id='650'), '637': Step(location=Location(line=65, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='637'), '638': Step(location=Location(line=66, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='638'), '639': Step(location=Location(line=67, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='639'), '640': Step(location=Location(line=68, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='640'), '641': Step(location=Location(line=69, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=70, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='641'), '645': Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=80, column=7), rows=[TableRow(location=Location(line=80, column=7), cells=[TableCell(location=Location(line=80, column=9), value='Deployment name')], id='642'), TableRow(location=Location(line=81, column=7), cells=[TableCell(location=Location(line=81, column=9), value='iocontext-00001-deployment')], id='643'), TableRow(location=Location(line=82, column=7), cells=[TableCell(location=Location(line=82, column=9), value='kafka-cdc-00001-deployment')], id='644')]), id='645'), '646': Step(location=Location(line=84, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.travellaptop-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='646'), '649': Examples(location=Location(line=86, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=87, column=6), cells=[TableCell(location=Location(line=87, column=8), value='context'), TableCell(location=Location(line=87, column=18), value='username'), TableCell(location=Location(line=87, column=31), value='host'), TableCell(location=Location(line=87, column=43), value='tmux_pane'), TableCell(location=Location(line=87, column=55), value='tmux_window'), TableCell(location=Location(line=87, column=69), value='uuid'), TableCell(location=Location(line=87, column=109), value='tmux_socket')], id='647'), table_body=[TableRow(location=Location(line=88, column=6), cells=[TableCell(location=Location(line=88, column=8), value='varanasi'), TableCell(location=Location(line=88, column=20), value='shesha'), TableCell(location=Location(line=88, column=31), value='workstation01'), TableCell(location=Location(line=88, column=48), value='23'), TableCell(location=Location(line=88, column=60), value='36'), TableCell(location=Location(line=88, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=88, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='648')], id='649'), '647': TableRow(location=Location(line=87, column=6), cells=[TableCell(location=Location(line=87, column=8), value='context'), TableCell(location=Location(line=87, column=18), value='username'), TableCell(location=Location(line=87, column=31), value='host'), TableCell(location=Location(line=87, column=43), value='tmux_pane'), TableCell(location=Location(line=87, column=55), value='tmux_window'), TableCell(location=Location(line=87, column=69), value='uuid'), TableCell(location=Location(line=87, column=109), value='tmux_socket')], id='647'), '648': TableRow(location=Location(line=88, column=6), cells=[TableCell(location=Location(line=88, column=8), value='varanasi'), TableCell(location=Location(line=88, column=20), value='shesha'), TableCell(location=Location(line=88, column=31), value='workstation01'), TableCell(location=Location(line=88, column=48), value='23'), TableCell(location=Location(line=88, column=60), value='36'), TableCell(location=Location(line=88, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=88, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='648'), '657': Scenario(location=Location(line=92, column=3), tags=[], keyword='Scenario', name='Cleanup hosts <host> in user <username>', description='', steps=[Step(location=Location(line=93, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='651'), Step(location=Location(line=94, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='652')], examples=[Examples(location=Location(line=96, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=97, column=5), cells=[TableCell(location=Location(line=97, column=7), value='username'), TableCell(location=Location(line=97, column=18), value='host')], id='653'), table_body=[TableRow(location=Location(line=98, column=5), cells=[TableCell(location=Location(line=98, column=7), value='shesha'), TableCell(location=Location(line=98, column=18), value='workstation01')], id='654'), TableRow(location=Location(line=99, column=5), cells=[TableCell(location=Location(line=99, column=7), value='shesha'), TableCell(location=Location(line=99, column=18), value='travellaptop')], id='655')], id='656')], id='657'), '651': Step(location=Location(line=93, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='651'), '652': Step(location=Location(line=94, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='652'), '656': Examples(location=Location(line=96, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=97, column=5), cells=[TableCell(location=Location(line=97, column=7), value='username'), TableCell(location=Location(line=97, column=18), value='host')], id='653'), table_body=[TableRow(location=Location(line=98, column=5), cells=[TableCell(location=Location(line=98, column=7), value='shesha'), TableCell(location=Location(line=98, column=18), value='workstation01')], id='654'), TableRow(location=Location(line=99, column=5), cells=[TableCell(location=Location(line=99, column=7), value='shesha'), TableCell(location=Location(line=99, column=18), value='travellaptop')], id='655')], id='656'), '653': TableRow(location=Location(line=97, column=5), cells=[TableCell(location=Location(line=97, column=7), value='username'), TableCell(location=Location(line=97, column=18), value='host')], id='653'), '654': TableRow(location=Location(line=98, column=5), cells=[TableCell(location=Location(line=98, column=7), value='shesha'), TableCell(location=Location(line=98, column=18), value='workstation01')], id='654'), '655': TableRow(location=Location(line=99, column=5), cells=[TableCell(location=Location(line=99, column=7), value='shesha'), TableCell(location=Location(line=99, column=18), value='travellaptop')], id='655'), '665': Scenario(location=Location(line=101, column=3), tags=[], keyword='Scenario', name='Cleanup user <username> and context <context>', description='', steps=[Step(location=Location(line=102, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='658'), Step(location=Location(line=103, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='659'), Step(location=Location(line=105, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='660'), Step(location=Location(line=106, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='661')], examples=[Examples(location=Location(line=108, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=109, column=5), cells=[TableCell(location=Location(line=109, column=7), value='context'), TableCell(location=Location(line=109, column=18), value='username')], id='662'), table_body=[TableRow(location=Location(line=110, column=5), cells=[TableCell(location=Location(line=110, column=7), value='varanasi'), TableCell(location=Location(line=110, column=18), value='shesha')], id='663')], id='664')], id='665'), '658': Step(location=Location(line=102, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='658'), '659': Step(location=Location(line=103, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='659'), '660': Step(location=Location(line=105, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='660'), '661': Step(location=Location(line=106, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='661'), '664': Examples(location=Location(line=108, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=109, column=5), cells=[TableCell(location=Location(line=109, column=7), value='context'), TableCell(location=Location(line=109, column=18), value='username')], id='662'), table_body=[TableRow(location=Location(line=110, column=5), cells=[TableCell(location=Location(line=110, column=7), value='varanasi'), TableCell(location=Location(line=110, column=18), value='shesha')], id='663')], id='664'), '662': TableRow(location=Location(line=109, column=5), cells=[TableCell(location=Location(line=109, column=7), value='context'), TableCell(location=Location(line=109, column=18), value='username')], id='662'), '663': TableRow(location=Location(line=110, column=5), cells=[TableCell(location=Location(line=110, column=7), value='varanasi'), TableCell(location=Location(line=110, column=18), value='shesha')], id='663')}, pickles=[Pickle(id='676', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Create context varanasi and user shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='668', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='669', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['601', '612'], id='670', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"varanasi\"'), PickleStep(argument=None, ast_node_ids=['602', '612'], id='671', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext')]), PickleTableRow(cells=[PickleTableCell(value='pong')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')])])), ast_node_ids=['607', '612'], id='672', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-varanasi\" namespace'), PickleStep(argument=None, ast_node_ids=['608', '612'], id='673', type=<Type.outcome: 'Outcome'>, text='statefulset \"varanasi-neo4j\" in namespace \"context-varanasi\" is in ready state'), PickleStep(argument=None, ast_node_ids=['609', '612'], id='674', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"shesha\" and connects it to the context \"varanasi\"'), PickleStep(argument=None, ast_node_ids=['610', '612'], id='675', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['614', '612']), Pickle(id='681', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Create workstation01 for user shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='677', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='678', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['615', '618'], id='679', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"workstation01\" and connects it to the user \"shesha\"'), PickleStep(argument=None, ast_node_ids=['616', '618'], id='680', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['621', '618']), Pickle(id='686', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Create travellaptop for user shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='682', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='683', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['615', '619'], id='684', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"travellaptop\" and connects it to the user \"shesha\"'), PickleStep(argument=None, ast_node_ids=['616', '619'], id='685', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['621', '619']), Pickle(id='697', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Send ping via nats host: workstation01, user: shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='687', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='688', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['622', '633'], id='689', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['623', '633'], id='690', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['624', '633'], id='691', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['625', '633'], id='692', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['626', '633'], id='693', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.shesha.workstation01.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['627', '633'], id='694', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.shesha.workstation01.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='pong-00001-deployment')])])), ast_node_ids=['630', '633'], id='695', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-varanasi\" namespace'), PickleStep(argument=None, ast_node_ids=['631', '633'], id='696', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-shesha.workstation01-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['636', '633']), Pickle(id='708', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Send ping via nats host: travellaptop, user: shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='698', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='699', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['622', '634'], id='700', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['623', '634'], id='701', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['624', '634'], id='702', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['625', '634'], id='703', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['626', '634'], id='704', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.shesha.travellaptop.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['627', '634'], id='705', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.shesha.travellaptop.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='pong-00001-deployment')])])), ast_node_ids=['630', '634'], id='706', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-varanasi\" namespace'), PickleStep(argument=None, ast_node_ids=['631', '634'], id='707', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-shesha.travellaptop-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['636', '634']), Pickle(id='718', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Send iodocument via nats host: workstation01, user: shesha and check that second host received graph the update', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='709', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='710', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['637', '648'], id='711', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['638', '648'], id='712', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"id\"'), PickleStep(argument=None, ast_node_ids=['639', '648'], id='713', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['640', '648'], id='714', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.shesha.workstation01.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['641', '648'], id='715', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.shesha.workstation01.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.3623.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-00001-deployment')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-00001-deployment')])])), ast_node_ids=['645', '648'], id='716', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-varanasi\" namespace'), PickleStep(argument=None, ast_node_ids=['646', '648'], id='717', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-shesha.travellaptop-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['650', '648']), Pickle(id='723', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Cleanup hosts workstation01 in user shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='719', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='720', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['651', '654'], id='721', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"workstation01\"'), PickleStep(argument=None, ast_node_ids=['652', '654'], id='722', type=<Type.outcome: 'Outcome'>, text='the host \"workstation01\" should be deleted')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['657', '654']), Pickle(id='728', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Cleanup hosts travellaptop in user shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='724', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='725', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['651', '655'], id='726', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"travellaptop\"'), PickleStep(argument=None, ast_node_ids=['652', '655'], id='727', type=<Type.outcome: 'Outcome'>, text='the host \"travellaptop\" should be deleted')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['657', '655']), Pickle(id='735', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Cleanup user shesha and context varanasi', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='729', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='730', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['658', '663'], id='731', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"shesha\"'), PickleStep(argument=None, ast_node_ids=['659', '663'], id='732', type=<Type.outcome: 'Outcome'>, text='the user \"shesha\" should be deleted'), PickleStep(argument=None, ast_node_ids=['660', '663'], id='733', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"varanasi\"'), PickleStep(argument=None, ast_node_ids=['661', '663'], id='734', type=<Type.outcome: 'Outcome'>, text='the context \"varanasi\" should be deleted')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['665', '663'])])","Source(uri='file:features/6_mindwm_two_hosts_one_user.feature', data='@mindwm_two_hosts_one_user\\n@mindwm_test\\nFeature: MindWM two hosts one user function test\\n  Background:\\n    Given A MindWM environment\\n    Then all nodes in Kubernetes are ready\\n\\n  Scenario: Create context <context> and user <username>\\n    When God creates a MindWM context with the name \"<context>\"\\n    Then the context should be ready and operable\\n    Then the following knative services are in a ready state in the \"context-<context>\" namespace\\n      | Knative service name |\\n      | iocontext            |\\n      | pong                 |\\n      | kafka-cdc            |\\n    And statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state\\n\\n    When God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"\\n    Then the user resource should be ready and operable\\n\\n\\n    Examples:\\n    | context  | username |\\n    | varanasi | shesha   |\\n\\n  Scenario: Create <host> for user <username>\\n\\n    When God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"\\n    Then the host resource should be ready and operable\\n\\n    Examples:\\n    | username | host           |\\n    | shesha   | workstation01  |\\n    | shesha   | travellaptop   |\\n\\n\\n  Scenario: Send ping via nats host: <host>, user: <username>\\n    When God creates a new cloudevent \\n      And God starts reading message from NATS topic \">\"\\n      And sets cloudevent header \"ce-subject\" to \"#ping\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"\\n      And sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"\\n      \"\"\"\\n      {\\n        \"input\": \"#ping\",\\n        \"output\": \"\",\\n        \"ps1\": \"❯\",\\n        \"type\": \"org.mindwm.v1.iodocument\"\\n      } \\n      \"\"\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name       |\\n      | pong-00001-deployment |\\n\\n    And a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"\\n\\n    Examples:\\n     | context | username   | host      | tmux_pane | tmux_window | uuid                                  | tmux_socket                     |\\n     | varanasi  | shesha   | workstation01  | 23        | 36          | 8d839f82-79da-11ef-bc9f-f74fac7543ac  |L3RtcC90bXV4LTEwMDAvZGVmYXVsdA== |\\n     | varanasi  | shesha   | travellaptop  | 23        | 36          | 8d839f82-79da-11ef-bc9f-f74fac7543ac  |L3RtcC90bXV4LTEwMDAvZGVmYXVsdA== |\\n\\n  Scenario: Send iodocument via nats host: <host>, user: <username> and check that second host received graph the update\\n    When God creates a new cloudevent \\n      And sets cloudevent header \"ce-subject\" to \"id\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"\\n      And sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"\\n      \"\"\"\\n      {\\n        \"input\": \"id\",\\n        \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n        \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n        \"type\": \"org.mindwm.v1.iodocument\"\\n      } \\n      \"\"\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name       |\\n      | iocontext-00001-deployment |\\n      | kafka-cdc-00001-deployment |\\n\\n    And a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.travellaptop-host-broker-kne-trigger._knative\"\\n\\n    Examples:\\n     | context | username   | host      | tmux_pane | tmux_window | uuid                                  | tmux_socket                     |\\n     | varanasi  | shesha   | workstation01  | 23        | 36          | 8d839f82-79da-11ef-bc9f-f74fac7543ac  |L3RtcC90bXV4LTEwMDAvZGVmYXVsdA== |\\n     #| varanasi  | shesha   | travellaptop  | 23        | 36          | 8d839f82-79da-11ef-bc9f-f74fac7543ac  |L3RtcC90bXV4LTEwMDAvZGVmYXVsdA== |\\n\\n\\n  Scenario: Cleanup hosts <host> in user <username>\\n    When God deletes the MindWM host resource \"<host>\"\\n    Then the host \"<host>\" should be deleted\\n\\n    Examples:\\n    | username | host           |\\n    | shesha   | workstation01  |\\n    | shesha   | travellaptop   |\\n\\n  Scenario: Cleanup user <username> and context <context>\\n    When God deletes the MindWM user resource \"<username>\"\\n    Then the user \"<username>\" should be deleted\\n\\n    When God deletes the MindWM context resource \"<context>\"\\n    Then the context \"<context>\" should be deleted\\n\\n    Examples:\\n    | context  | username |\\n    | varanasi | shesha   |\\n', media_type='text/x.cucumber.gherkin+plain')","Pickle(id='697', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Send ping via nats host: workstation01, user: shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='687', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='688', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['622', '633'], id='689', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['623', '633'], id='690', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['624', '633'], id='691', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['625', '633'], id='692', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['626', '633'], id='693', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.shesha.workstation01.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['627', '633'], id='694', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.shesha.workstation01.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='pong-00001-deployment')])])), ast_node_ids=['630', '633'], id='695', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-varanasi\" namespace'), PickleStep(argument=None, ast_node_ids=['631', '633'], id='696', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-shesha.workstation01-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['636', '633'])"],"tags":["scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/6_mindwm_two_hosts_one_user.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=<FeaturePathType.PATH: 'path'>, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())","mindwm_two_hosts_one_user","pytest_bdd_scenario","@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')","mindwm_test","namespace(create=False, name='default')"]},{"name":"test_scenarios[file:features/3_mindwm_ping_pong.feature-MindWM Ping-pong EDA test-Send pind to knative ping service[table_rows:[line: 50]]]","uid":"c47873192af511c6","parentUid":"3961740595044ffd97a03e46799bfc30","status":"passed","time":{"start":1728403806958,"stop":1728403807433,"duration":475},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["Feature(gherkin_document=GherkinDocument(uri='file:features/3_mindwm_ping_pong.feature', feature=Feature(location=Location(line=3, column=1), tags=[Tag(location=Location(line=1, column=1), name='@mindwm_ping_pong', id='380'), Tag(location=Location(line=2, column=1), name='@mindwm_test', id='381')], language='en', keyword='Feature', name='MindWM Ping-pong EDA test', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='306'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='307')], id='308'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Prepare environment for ping tests', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='309'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='310'), Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='311'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='pong')], id='312')]), id='313'), Step(location=Location(line=15, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='314'), Step(location=Location(line=16, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='315'), Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='316'), Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='317'), Step(location=Location(line=20, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace', doc_string=None, data_table=None, id='318'), Step(location=Location(line=22, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='319')], examples=[Examples(location=Location(line=24, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=25, column=6), cells=[TableCell(location=Location(line=25, column=8), value='context'), TableCell(location=Location(line=25, column=18), value='username'), TableCell(location=Location(line=25, column=31), value='host')], id='320'), table_body=[TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='green4'), TableCell(location=Location(line=26, column=19), value='amanda4'), TableCell(location=Location(line=26, column=31), value='pi6-host')], id='321')], id='322')], id='323')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=28, column=3), tags=[], keyword='Scenario', name='Send pind to knative ping service', description='', steps=[Step(location=Location(line=29, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='324'), Step(location=Location(line=30, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='325'), Step(location=Location(line=31, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='326'), Step(location=Location(line=32, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"', doc_string=None, data_table=None, id='327'), Step(location=Location(line=33, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to knative service \"pong\" in \"context-<context>\" namespace', doc_string=DocString(location=Location(line=34, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='328'), Step(location=Location(line=42, column=7), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"200\"', doc_string=None, data_table=None, id='329'), Step(location=Location(line=44, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=45, column=7), rows=[TableRow(location=Location(line=45, column=7), cells=[TableCell(location=Location(line=45, column=9), value='Deployment name')], id='330'), TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='pong-00001-deployment')], id='331')]), id='332')], examples=[Examples(location=Location(line=48, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=49, column=6), cells=[TableCell(location=Location(line=49, column=8), value='context'), TableCell(location=Location(line=49, column=18), value='username'), TableCell(location=Location(line=49, column=31), value='host')], id='333'), table_body=[TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='green4'), TableCell(location=Location(line=50, column=19), value='amanda4'), TableCell(location=Location(line=50, column=31), value='pi6-host')], id='334')], id='335')], id='336')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=52, column=3), tags=[], keyword='Scenario', name='Send ping via <endpoint>', description='', steps=[Step(location=Location(line=53, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='337'), Step(location=Location(line=54, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='338'), Step(location=Location(line=55, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='339'), Step(location=Location(line=56, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='340'), Step(location=Location(line=57, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"', doc_string=None, data_table=None, id='341'), Step(location=Location(line=58, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to \"<endpoint>\"', doc_string=DocString(location=Location(line=59, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='342'), Step(location=Location(line=67, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"202\"', doc_string=None, data_table=None, id='343'), Step(location=Location(line=69, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=70, column=7), rows=[TableRow(location=Location(line=70, column=7), cells=[TableCell(location=Location(line=70, column=9), value='Deployment name')], id='344'), TableRow(location=Location(line=71, column=7), cells=[TableCell(location=Location(line=71, column=9), value='pong-00001-deployment')], id='345')]), id='346'), Step(location=Location(line=72, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the trace with \"<traceparent>\" should appear in TraceQL', doc_string=None, data_table=None, id='347'), Step(location=Location(line=73, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the trace should contains', doc_string=None, data_table=DataTable(location=Location(line=74, column=7), rows=[TableRow(location=Location(line=74, column=7), cells=[TableCell(location=Location(line=74, column=9), value='service name')], id='348'), TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='broker-ingress.knative-eventing')], id='349'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='unknown_service')], id='350'), TableRow(location=Location(line=77, column=7), cells=[TableCell(location=Location(line=77, column=9), value='jetstream-ch-dispatcher')], id='351')]), id='352'), Step(location=Location(line=78, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='353')], examples=[Examples(location=Location(line=80, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=81, column=6), cells=[TableCell(location=Location(line=81, column=8), value='context'), TableCell(location=Location(line=81, column=18), value='username'), TableCell(location=Location(line=81, column=31), value='host'), TableCell(location=Location(line=81, column=43), value='endpoint'), TableCell(location=Location(line=81, column=54), value='traceparent')], id='354'), table_body=[TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='green4'), TableCell(location=Location(line=82, column=19), value='amanda4'), TableCell(location=Location(line=82, column=31), value='pi6-host'), TableCell(location=Location(line=82, column=43), value='broker-ingress.knative-eventing/context-green4/context-broker'), TableCell(location=Location(line=82, column=109), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='355'), TableRow(location=Location(line=83, column=6), cells=[TableCell(location=Location(line=83, column=8), value='green4'), TableCell(location=Location(line=83, column=19), value='amanda4'), TableCell(location=Location(line=83, column=31), value='pi6-host'), TableCell(location=Location(line=83, column=43), value='broker-ingress.knative-eventing/user-amanda4/user-broker'), TableCell(location=Location(line=83, column=102), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='356')], id='357')], id='358')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=86, column=3), tags=[], keyword='Scenario', name='Send ping via nats', description='', steps=[Step(location=Location(line=87, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='359'), Step(location=Location(line=88, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='360'), Step(location=Location(line=89, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='361'), Step(location=Location(line=90, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='362'), Step(location=Location(line=91, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=92, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='363'), Step(location=Location(line=101, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=102, column=7), rows=[TableRow(location=Location(line=102, column=7), cells=[TableCell(location=Location(line=102, column=9), value='Deployment name')], id='364'), TableRow(location=Location(line=103, column=7), cells=[TableCell(location=Location(line=103, column=9), value='pong-00001-deployment')], id='365')]), id='366'), Step(location=Location(line=105, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='367')], examples=[Examples(location=Location(line=108, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=109, column=6), cells=[TableCell(location=Location(line=109, column=8), value='context'), TableCell(location=Location(line=109, column=18), value='username'), TableCell(location=Location(line=109, column=31), value='host'), TableCell(location=Location(line=109, column=43), value='tmux_pane'), TableCell(location=Location(line=109, column=55), value='tmux_window'), TableCell(location=Location(line=109, column=69), value='uuid'), TableCell(location=Location(line=109, column=109), value='tmux_socket')], id='368'), table_body=[TableRow(location=Location(line=110, column=6), cells=[TableCell(location=Location(line=110, column=8), value='green4'), TableCell(location=Location(line=110, column=19), value='amanda4'), TableCell(location=Location(line=110, column=31), value='pi6-host'), TableCell(location=Location(line=110, column=43), value='23'), TableCell(location=Location(line=110, column=55), value='36'), TableCell(location=Location(line=110, column=69), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=110, column=108), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='369')], id='370')], id='371')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=113, column=4), tags=[], keyword='Scenario', name='Cleanup <username>@<host> in <context>', description='', steps=[Step(location=Location(line=114, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='372'), Step(location=Location(line=115, column=6), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='373'), Step(location=Location(line=117, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='374'), Step(location=Location(line=119, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='375')], examples=[Examples(location=Location(line=121, column=6), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=122, column=6), cells=[TableCell(location=Location(line=122, column=8), value='context'), TableCell(location=Location(line=122, column=18), value='username'), TableCell(location=Location(line=122, column=29), value='host')], id='376'), table_body=[TableRow(location=Location(line=123, column=6), cells=[TableCell(location=Location(line=123, column=8), value='green4'), TableCell(location=Location(line=123, column=19), value='amanda4'), TableCell(location=Location(line=123, column=31), value='pi6-host')], id='377')], id='378')], id='379'))]), comments=[]), uri='file:features/3_mindwm_ping_pong.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/3_mindwm_ping_pong.feature', registry={'380': Tag(location=Location(line=1, column=1), name='@mindwm_ping_pong', id='380'), '381': Tag(location=Location(line=2, column=1), name='@mindwm_test', id='381'), '308': Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='306'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='307')], id='308'), '306': Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='306'), '307': Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='307'), '323': Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Prepare environment for ping tests', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='309'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='310'), Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='311'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='pong')], id='312')]), id='313'), Step(location=Location(line=15, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='314'), Step(location=Location(line=16, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='315'), Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='316'), Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='317'), Step(location=Location(line=20, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace', doc_string=None, data_table=None, id='318'), Step(location=Location(line=22, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='319')], examples=[Examples(location=Location(line=24, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=25, column=6), cells=[TableCell(location=Location(line=25, column=8), value='context'), TableCell(location=Location(line=25, column=18), value='username'), TableCell(location=Location(line=25, column=31), value='host')], id='320'), table_body=[TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='green4'), TableCell(location=Location(line=26, column=19), value='amanda4'), TableCell(location=Location(line=26, column=31), value='pi6-host')], id='321')], id='322')], id='323'), '309': Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='309'), '310': Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='310'), '313': Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='311'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='pong')], id='312')]), id='313'), '314': Step(location=Location(line=15, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='314'), '315': Step(location=Location(line=16, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='315'), '316': Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='316'), '317': Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='317'), '318': Step(location=Location(line=20, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace', doc_string=None, data_table=None, id='318'), '319': Step(location=Location(line=22, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='319'), '322': Examples(location=Location(line=24, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=25, column=6), cells=[TableCell(location=Location(line=25, column=8), value='context'), TableCell(location=Location(line=25, column=18), value='username'), TableCell(location=Location(line=25, column=31), value='host')], id='320'), table_body=[TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='green4'), TableCell(location=Location(line=26, column=19), value='amanda4'), TableCell(location=Location(line=26, column=31), value='pi6-host')], id='321')], id='322'), '320': TableRow(location=Location(line=25, column=6), cells=[TableCell(location=Location(line=25, column=8), value='context'), TableCell(location=Location(line=25, column=18), value='username'), TableCell(location=Location(line=25, column=31), value='host')], id='320'), '321': TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='green4'), TableCell(location=Location(line=26, column=19), value='amanda4'), TableCell(location=Location(line=26, column=31), value='pi6-host')], id='321'), '336': Scenario(location=Location(line=28, column=3), tags=[], keyword='Scenario', name='Send pind to knative ping service', description='', steps=[Step(location=Location(line=29, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='324'), Step(location=Location(line=30, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='325'), Step(location=Location(line=31, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='326'), Step(location=Location(line=32, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"', doc_string=None, data_table=None, id='327'), Step(location=Location(line=33, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to knative service \"pong\" in \"context-<context>\" namespace', doc_string=DocString(location=Location(line=34, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='328'), Step(location=Location(line=42, column=7), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"200\"', doc_string=None, data_table=None, id='329'), Step(location=Location(line=44, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=45, column=7), rows=[TableRow(location=Location(line=45, column=7), cells=[TableCell(location=Location(line=45, column=9), value='Deployment name')], id='330'), TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='pong-00001-deployment')], id='331')]), id='332')], examples=[Examples(location=Location(line=48, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=49, column=6), cells=[TableCell(location=Location(line=49, column=8), value='context'), TableCell(location=Location(line=49, column=18), value='username'), TableCell(location=Location(line=49, column=31), value='host')], id='333'), table_body=[TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='green4'), TableCell(location=Location(line=50, column=19), value='amanda4'), TableCell(location=Location(line=50, column=31), value='pi6-host')], id='334')], id='335')], id='336'), '324': Step(location=Location(line=29, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='324'), '325': Step(location=Location(line=30, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='325'), '326': Step(location=Location(line=31, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='326'), '327': Step(location=Location(line=32, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"', doc_string=None, data_table=None, id='327'), '328': Step(location=Location(line=33, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to knative service \"pong\" in \"context-<context>\" namespace', doc_string=DocString(location=Location(line=34, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='328'), '329': Step(location=Location(line=42, column=7), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"200\"', doc_string=None, data_table=None, id='329'), '332': Step(location=Location(line=44, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=45, column=7), rows=[TableRow(location=Location(line=45, column=7), cells=[TableCell(location=Location(line=45, column=9), value='Deployment name')], id='330'), TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='pong-00001-deployment')], id='331')]), id='332'), '335': Examples(location=Location(line=48, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=49, column=6), cells=[TableCell(location=Location(line=49, column=8), value='context'), TableCell(location=Location(line=49, column=18), value='username'), TableCell(location=Location(line=49, column=31), value='host')], id='333'), table_body=[TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='green4'), TableCell(location=Location(line=50, column=19), value='amanda4'), TableCell(location=Location(line=50, column=31), value='pi6-host')], id='334')], id='335'), '333': TableRow(location=Location(line=49, column=6), cells=[TableCell(location=Location(line=49, column=8), value='context'), TableCell(location=Location(line=49, column=18), value='username'), TableCell(location=Location(line=49, column=31), value='host')], id='333'), '334': TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='green4'), TableCell(location=Location(line=50, column=19), value='amanda4'), TableCell(location=Location(line=50, column=31), value='pi6-host')], id='334'), '358': Scenario(location=Location(line=52, column=3), tags=[], keyword='Scenario', name='Send ping via <endpoint>', description='', steps=[Step(location=Location(line=53, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='337'), Step(location=Location(line=54, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='338'), Step(location=Location(line=55, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='339'), Step(location=Location(line=56, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='340'), Step(location=Location(line=57, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"', doc_string=None, data_table=None, id='341'), Step(location=Location(line=58, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to \"<endpoint>\"', doc_string=DocString(location=Location(line=59, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='342'), Step(location=Location(line=67, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"202\"', doc_string=None, data_table=None, id='343'), Step(location=Location(line=69, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=70, column=7), rows=[TableRow(location=Location(line=70, column=7), cells=[TableCell(location=Location(line=70, column=9), value='Deployment name')], id='344'), TableRow(location=Location(line=71, column=7), cells=[TableCell(location=Location(line=71, column=9), value='pong-00001-deployment')], id='345')]), id='346'), Step(location=Location(line=72, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the trace with \"<traceparent>\" should appear in TraceQL', doc_string=None, data_table=None, id='347'), Step(location=Location(line=73, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the trace should contains', doc_string=None, data_table=DataTable(location=Location(line=74, column=7), rows=[TableRow(location=Location(line=74, column=7), cells=[TableCell(location=Location(line=74, column=9), value='service name')], id='348'), TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='broker-ingress.knative-eventing')], id='349'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='unknown_service')], id='350'), TableRow(location=Location(line=77, column=7), cells=[TableCell(location=Location(line=77, column=9), value='jetstream-ch-dispatcher')], id='351')]), id='352'), Step(location=Location(line=78, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='353')], examples=[Examples(location=Location(line=80, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=81, column=6), cells=[TableCell(location=Location(line=81, column=8), value='context'), TableCell(location=Location(line=81, column=18), value='username'), TableCell(location=Location(line=81, column=31), value='host'), TableCell(location=Location(line=81, column=43), value='endpoint'), TableCell(location=Location(line=81, column=54), value='traceparent')], id='354'), table_body=[TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='green4'), TableCell(location=Location(line=82, column=19), value='amanda4'), TableCell(location=Location(line=82, column=31), value='pi6-host'), TableCell(location=Location(line=82, column=43), value='broker-ingress.knative-eventing/context-green4/context-broker'), TableCell(location=Location(line=82, column=109), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='355'), TableRow(location=Location(line=83, column=6), cells=[TableCell(location=Location(line=83, column=8), value='green4'), TableCell(location=Location(line=83, column=19), value='amanda4'), TableCell(location=Location(line=83, column=31), value='pi6-host'), TableCell(location=Location(line=83, column=43), value='broker-ingress.knative-eventing/user-amanda4/user-broker'), TableCell(location=Location(line=83, column=102), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='356')], id='357')], id='358'), '337': Step(location=Location(line=53, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='337'), '338': Step(location=Location(line=54, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='338'), '339': Step(location=Location(line=55, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='339'), '340': Step(location=Location(line=56, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='340'), '341': Step(location=Location(line=57, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"', doc_string=None, data_table=None, id='341'), '342': Step(location=Location(line=58, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to \"<endpoint>\"', doc_string=DocString(location=Location(line=59, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='342'), '343': Step(location=Location(line=67, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"202\"', doc_string=None, data_table=None, id='343'), '346': Step(location=Location(line=69, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=70, column=7), rows=[TableRow(location=Location(line=70, column=7), cells=[TableCell(location=Location(line=70, column=9), value='Deployment name')], id='344'), TableRow(location=Location(line=71, column=7), cells=[TableCell(location=Location(line=71, column=9), value='pong-00001-deployment')], id='345')]), id='346'), '347': Step(location=Location(line=72, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the trace with \"<traceparent>\" should appear in TraceQL', doc_string=None, data_table=None, id='347'), '352': Step(location=Location(line=73, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the trace should contains', doc_string=None, data_table=DataTable(location=Location(line=74, column=7), rows=[TableRow(location=Location(line=74, column=7), cells=[TableCell(location=Location(line=74, column=9), value='service name')], id='348'), TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='broker-ingress.knative-eventing')], id='349'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='unknown_service')], id='350'), TableRow(location=Location(line=77, column=7), cells=[TableCell(location=Location(line=77, column=9), value='jetstream-ch-dispatcher')], id='351')]), id='352'), '353': Step(location=Location(line=78, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='353'), '357': Examples(location=Location(line=80, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=81, column=6), cells=[TableCell(location=Location(line=81, column=8), value='context'), TableCell(location=Location(line=81, column=18), value='username'), TableCell(location=Location(line=81, column=31), value='host'), TableCell(location=Location(line=81, column=43), value='endpoint'), TableCell(location=Location(line=81, column=54), value='traceparent')], id='354'), table_body=[TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='green4'), TableCell(location=Location(line=82, column=19), value='amanda4'), TableCell(location=Location(line=82, column=31), value='pi6-host'), TableCell(location=Location(line=82, column=43), value='broker-ingress.knative-eventing/context-green4/context-broker'), TableCell(location=Location(line=82, column=109), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='355'), TableRow(location=Location(line=83, column=6), cells=[TableCell(location=Location(line=83, column=8), value='green4'), TableCell(location=Location(line=83, column=19), value='amanda4'), TableCell(location=Location(line=83, column=31), value='pi6-host'), TableCell(location=Location(line=83, column=43), value='broker-ingress.knative-eventing/user-amanda4/user-broker'), TableCell(location=Location(line=83, column=102), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='356')], id='357'), '354': TableRow(location=Location(line=81, column=6), cells=[TableCell(location=Location(line=81, column=8), value='context'), TableCell(location=Location(line=81, column=18), value='username'), TableCell(location=Location(line=81, column=31), value='host'), TableCell(location=Location(line=81, column=43), value='endpoint'), TableCell(location=Location(line=81, column=54), value='traceparent')], id='354'), '355': TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='green4'), TableCell(location=Location(line=82, column=19), value='amanda4'), TableCell(location=Location(line=82, column=31), value='pi6-host'), TableCell(location=Location(line=82, column=43), value='broker-ingress.knative-eventing/context-green4/context-broker'), TableCell(location=Location(line=82, column=109), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='355'), '356': TableRow(location=Location(line=83, column=6), cells=[TableCell(location=Location(line=83, column=8), value='green4'), TableCell(location=Location(line=83, column=19), value='amanda4'), TableCell(location=Location(line=83, column=31), value='pi6-host'), TableCell(location=Location(line=83, column=43), value='broker-ingress.knative-eventing/user-amanda4/user-broker'), TableCell(location=Location(line=83, column=102), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='356'), '371': Scenario(location=Location(line=86, column=3), tags=[], keyword='Scenario', name='Send ping via nats', description='', steps=[Step(location=Location(line=87, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='359'), Step(location=Location(line=88, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='360'), Step(location=Location(line=89, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='361'), Step(location=Location(line=90, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='362'), Step(location=Location(line=91, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=92, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='363'), Step(location=Location(line=101, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=102, column=7), rows=[TableRow(location=Location(line=102, column=7), cells=[TableCell(location=Location(line=102, column=9), value='Deployment name')], id='364'), TableRow(location=Location(line=103, column=7), cells=[TableCell(location=Location(line=103, column=9), value='pong-00001-deployment')], id='365')]), id='366'), Step(location=Location(line=105, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='367')], examples=[Examples(location=Location(line=108, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=109, column=6), cells=[TableCell(location=Location(line=109, column=8), value='context'), TableCell(location=Location(line=109, column=18), value='username'), TableCell(location=Location(line=109, column=31), value='host'), TableCell(location=Location(line=109, column=43), value='tmux_pane'), TableCell(location=Location(line=109, column=55), value='tmux_window'), TableCell(location=Location(line=109, column=69), value='uuid'), TableCell(location=Location(line=109, column=109), value='tmux_socket')], id='368'), table_body=[TableRow(location=Location(line=110, column=6), cells=[TableCell(location=Location(line=110, column=8), value='green4'), TableCell(location=Location(line=110, column=19), value='amanda4'), TableCell(location=Location(line=110, column=31), value='pi6-host'), TableCell(location=Location(line=110, column=43), value='23'), TableCell(location=Location(line=110, column=55), value='36'), TableCell(location=Location(line=110, column=69), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=110, column=108), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='369')], id='370')], id='371'), '359': Step(location=Location(line=87, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='359'), '360': Step(location=Location(line=88, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='360'), '361': Step(location=Location(line=89, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='361'), '362': Step(location=Location(line=90, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='362'), '363': Step(location=Location(line=91, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=92, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='363'), '366': Step(location=Location(line=101, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=102, column=7), rows=[TableRow(location=Location(line=102, column=7), cells=[TableCell(location=Location(line=102, column=9), value='Deployment name')], id='364'), TableRow(location=Location(line=103, column=7), cells=[TableCell(location=Location(line=103, column=9), value='pong-00001-deployment')], id='365')]), id='366'), '367': Step(location=Location(line=105, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='367'), '370': Examples(location=Location(line=108, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=109, column=6), cells=[TableCell(location=Location(line=109, column=8), value='context'), TableCell(location=Location(line=109, column=18), value='username'), TableCell(location=Location(line=109, column=31), value='host'), TableCell(location=Location(line=109, column=43), value='tmux_pane'), TableCell(location=Location(line=109, column=55), value='tmux_window'), TableCell(location=Location(line=109, column=69), value='uuid'), TableCell(location=Location(line=109, column=109), value='tmux_socket')], id='368'), table_body=[TableRow(location=Location(line=110, column=6), cells=[TableCell(location=Location(line=110, column=8), value='green4'), TableCell(location=Location(line=110, column=19), value='amanda4'), TableCell(location=Location(line=110, column=31), value='pi6-host'), TableCell(location=Location(line=110, column=43), value='23'), TableCell(location=Location(line=110, column=55), value='36'), TableCell(location=Location(line=110, column=69), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=110, column=108), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='369')], id='370'), '368': TableRow(location=Location(line=109, column=6), cells=[TableCell(location=Location(line=109, column=8), value='context'), TableCell(location=Location(line=109, column=18), value='username'), TableCell(location=Location(line=109, column=31), value='host'), TableCell(location=Location(line=109, column=43), value='tmux_pane'), TableCell(location=Location(line=109, column=55), value='tmux_window'), TableCell(location=Location(line=109, column=69), value='uuid'), TableCell(location=Location(line=109, column=109), value='tmux_socket')], id='368'), '369': TableRow(location=Location(line=110, column=6), cells=[TableCell(location=Location(line=110, column=8), value='green4'), TableCell(location=Location(line=110, column=19), value='amanda4'), TableCell(location=Location(line=110, column=31), value='pi6-host'), TableCell(location=Location(line=110, column=43), value='23'), TableCell(location=Location(line=110, column=55), value='36'), TableCell(location=Location(line=110, column=69), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=110, column=108), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='369'), '379': Scenario(location=Location(line=113, column=4), tags=[], keyword='Scenario', name='Cleanup <username>@<host> in <context>', description='', steps=[Step(location=Location(line=114, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='372'), Step(location=Location(line=115, column=6), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='373'), Step(location=Location(line=117, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='374'), Step(location=Location(line=119, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='375')], examples=[Examples(location=Location(line=121, column=6), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=122, column=6), cells=[TableCell(location=Location(line=122, column=8), value='context'), TableCell(location=Location(line=122, column=18), value='username'), TableCell(location=Location(line=122, column=29), value='host')], id='376'), table_body=[TableRow(location=Location(line=123, column=6), cells=[TableCell(location=Location(line=123, column=8), value='green4'), TableCell(location=Location(line=123, column=19), value='amanda4'), TableCell(location=Location(line=123, column=31), value='pi6-host')], id='377')], id='378')], id='379'), '372': Step(location=Location(line=114, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='372'), '373': Step(location=Location(line=115, column=6), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='373'), '374': Step(location=Location(line=117, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='374'), '375': Step(location=Location(line=119, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='375'), '378': Examples(location=Location(line=121, column=6), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=122, column=6), cells=[TableCell(location=Location(line=122, column=8), value='context'), TableCell(location=Location(line=122, column=18), value='username'), TableCell(location=Location(line=122, column=29), value='host')], id='376'), table_body=[TableRow(location=Location(line=123, column=6), cells=[TableCell(location=Location(line=123, column=8), value='green4'), TableCell(location=Location(line=123, column=19), value='amanda4'), TableCell(location=Location(line=123, column=31), value='pi6-host')], id='377')], id='378'), '376': TableRow(location=Location(line=122, column=6), cells=[TableCell(location=Location(line=122, column=8), value='context'), TableCell(location=Location(line=122, column=18), value='username'), TableCell(location=Location(line=122, column=29), value='host')], id='376'), '377': TableRow(location=Location(line=123, column=6), cells=[TableCell(location=Location(line=123, column=8), value='green4'), TableCell(location=Location(line=123, column=19), value='amanda4'), TableCell(location=Location(line=123, column=31), value='pi6-host')], id='377')}, pickles=[Pickle(id='393', uri='file:features/3_mindwm_ping_pong.feature', name='Prepare environment for ping tests', language='en', steps=[PickleStep(argument=None, ast_node_ids=['306'], id='382', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['307'], id='383', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['309', '321'], id='384', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"green4\"'), PickleStep(argument=None, ast_node_ids=['310', '321'], id='385', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='pong')])])), ast_node_ids=['313', '321'], id='386', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-green4\" namespace'), PickleStep(argument=None, ast_node_ids=['314', '321'], id='387', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"amanda4\" and connects it to the context \"green4\"'), PickleStep(argument=None, ast_node_ids=['315', '321'], id='388', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['316', '321'], id='389', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"pi6-host\" and connects it to the user \"amanda4\"'), PickleStep(argument=None, ast_node_ids=['317', '321'], id='390', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['318', '321'], id='391', type=<Type.outcome: 'Outcome'>, text='NatsJetStreamChannel \"pi6-host-host-broker-kne-trigger\" is ready in \"user-amanda4\" namespace'), PickleStep(argument=None, ast_node_ids=['319', '321'], id='392', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"')], tags=[PickleTag(name='@mindwm_ping_pong', ast_node_id='380'), PickleTag(name='@mindwm_test', ast_node_id='381')], ast_node_ids=['323', '321']), Pickle(id='403', uri='file:features/3_mindwm_ping_pong.feature', name='Send pind to knative ping service', language='en', steps=[PickleStep(argument=None, ast_node_ids=['306'], id='394', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['307'], id='395', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['324', '334'], id='396', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['325', '334'], id='397', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['326', '334'], id='398', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['327', '334'], id='399', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.amanda4.pi6-host.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['328', '334'], id='400', type=<Type.action: 'Action'>, text='sends cloudevent to knative service \"pong\" in \"context-green4\" namespace'), PickleStep(argument=None, ast_node_ids=['329', '334'], id='401', type=<Type.outcome: 'Outcome'>, text='the response http code should be \"200\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='pong-00001-deployment')])])), ast_node_ids=['332', '334'], id='402', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-green4\" namespace')], tags=[PickleTag(name='@mindwm_ping_pong', ast_node_id='380'), PickleTag(name='@mindwm_test', ast_node_id='381')], ast_node_ids=['336', '334']), Pickle(id='417', uri='file:features/3_mindwm_ping_pong.feature', name='Send ping via broker-ingress.knative-eventing/context-green4/context-broker', language='en', steps=[PickleStep(argument=None, ast_node_ids=['306'], id='404', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['307'], id='405', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['337', '355'], id='406', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['338', '355'], id='407', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['339', '355'], id='408', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['340', '355'], id='409', type=<Type.action: 'Action'>, text='sets cloudevent header \"traceparent\" to \"00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00\"'), PickleStep(argument=None, ast_node_ids=['341', '355'], id='410', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.amanda4.pi6-host.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['342', '355'], id='411', type=<Type.action: 'Action'>, text='sends cloudevent to \"broker-ingress.knative-eventing/context-green4/context-broker\"'), PickleStep(argument=None, ast_node_ids=['343', '355'], id='412', type=<Type.outcome: 'Outcome'>, text='the response http code should be \"202\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='pong-00001-deployment')])])), ast_node_ids=['346', '355'], id='413', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-green4\" namespace'), PickleStep(argument=None, ast_node_ids=['347', '355'], id='414', type=<Type.outcome: 'Outcome'>, text='the trace with \"00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00\" should appear in TraceQL'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='service name')]), PickleTableRow(cells=[PickleTableCell(value='broker-ingress.knative-eventing')]), PickleTableRow(cells=[PickleTableCell(value='unknown_service')]), PickleTableRow(cells=[PickleTableCell(value='jetstream-ch-dispatcher')])])), ast_node_ids=['352', '355'], id='415', type=<Type.outcome: 'Outcome'>, text='the trace should contains'), PickleStep(argument=None, ast_node_ids=['353', '355'], id='416', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-amanda4.pi6-host-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_ping_pong', ast_node_id='380'), PickleTag(name='@mindwm_test', ast_node_id='381')], ast_node_ids=['358', '355']), Pickle(id='431', uri='file:features/3_mindwm_ping_pong.feature', name='Send ping via broker-ingress.knative-eventing/user-amanda4/user-broker', language='en', steps=[PickleStep(argument=None, ast_node_ids=['306'], id='418', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['307'], id='419', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['337', '356'], id='420', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['338', '356'], id='421', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['339', '356'], id='422', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['340', '356'], id='423', type=<Type.action: 'Action'>, text='sets cloudevent header \"traceparent\" to \"00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00\"'), PickleStep(argument=None, ast_node_ids=['341', '356'], id='424', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.amanda4.pi6-host.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['342', '356'], id='425', type=<Type.action: 'Action'>, text='sends cloudevent to \"broker-ingress.knative-eventing/user-amanda4/user-broker\"'), PickleStep(argument=None, ast_node_ids=['343', '356'], id='426', type=<Type.outcome: 'Outcome'>, text='the response http code should be \"202\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='pong-00001-deployment')])])), ast_node_ids=['346', '356'], id='427', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-green4\" namespace'), PickleStep(argument=None, ast_node_ids=['347', '356'], id='428', type=<Type.outcome: 'Outcome'>, text='the trace with \"00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00\" should appear in TraceQL'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='service name')]), PickleTableRow(cells=[PickleTableCell(value='broker-ingress.knative-eventing')]), PickleTableRow(cells=[PickleTableCell(value='unknown_service')]), PickleTableRow(cells=[PickleTableCell(value='jetstream-ch-dispatcher')])])), ast_node_ids=['352', '356'], id='429', type=<Type.outcome: 'Outcome'>, text='the trace should contains'), PickleStep(argument=None, ast_node_ids=['353', '356'], id='430', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-amanda4.pi6-host-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_ping_pong', ast_node_id='380'), PickleTag(name='@mindwm_test', ast_node_id='381')], ast_node_ids=['358', '356']), Pickle(id='441', uri='file:features/3_mindwm_ping_pong.feature', name='Send ping via nats', language='en', steps=[PickleStep(argument=None, ast_node_ids=['306'], id='432', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['307'], id='433', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['359', '369'], id='434', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['360', '369'], id='435', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['361', '369'], id='436', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['362', '369'], id='437', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.amanda4.pi6-host.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['363', '369'], id='438', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.amanda4.pi6-host.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.3623.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='pong-00001-deployment')])])), ast_node_ids=['366', '369'], id='439', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-green4\" namespace'), PickleStep(argument=None, ast_node_ids=['367', '369'], id='440', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-amanda4.pi6-host-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_ping_pong', ast_node_id='380'), PickleTag(name='@mindwm_test', ast_node_id='381')], ast_node_ids=['371', '369']), Pickle(id='448', uri='file:features/3_mindwm_ping_pong.feature', name='Cleanup amanda4@pi6-host in green4', language='en', steps=[PickleStep(argument=None, ast_node_ids=['306'], id='442', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['307'], id='443', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['372', '377'], id='444', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"pi6-host\"'), PickleStep(argument=None, ast_node_ids=['373', '377'], id='445', type=<Type.outcome: 'Outcome'>, text='the host \"pi6-host\" should be deleted'), PickleStep(argument=None, ast_node_ids=['374', '377'], id='446', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"amanda4\"'), PickleStep(argument=None, ast_node_ids=['375', '377'], id='447', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"green4\"')], tags=[PickleTag(name='@mindwm_ping_pong', ast_node_id='380'), PickleTag(name='@mindwm_test', ast_node_id='381')], ast_node_ids=['379', '377'])])","Source(uri='file:features/3_mindwm_ping_pong.feature', data='@mindwm_ping_pong\\n@mindwm_test\\nFeature: MindWM Ping-pong EDA test\\n  Background:\\n    Given A MindWM environment\\n    Then all nodes in Kubernetes are ready\\n\\n  Scenario: Prepare environment for ping tests \\n    When God creates a MindWM context with the name \"<context>\"\\n    Then the context should be ready and operable\\n    And the following knative services are in a ready state in the \"context-<context>\" namespace\\n      | Knative service name |\\n      | pong                 |\\n\\n    When God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"\\n    Then the user resource should be ready and operable\\n\\n    When God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"\\n    Then the host resource should be ready and operable\\n    And NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace\\n\\n    When God starts reading message from NATS topic \">\"\\n\\n    Examples:\\n     | context | username   | host      |\\n     | green4   | amanda4   | pi6-host  | \\n\\n  Scenario: Send pind to knative ping service\\n    When God creates a new cloudevent \\n      And sets cloudevent header \"ce-subject\" to \"#ping\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"\\n      And sends cloudevent to knative service \"pong\" in \"context-<context>\" namespace\\n      \"\"\"\\n      {\\n        \"input\": \"#ping\",\\n        \"output\": \"\",\\n        \"ps1\": \"❯\",\\n        \"type\": \"org.mindwm.v1.iodocument\"\\n      } \\n      \"\"\"\\n      Then the response http code should be \"200\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name       |\\n      | pong-00001-deployment |\\n\\n    Examples:\\n     | context | username   | host      |\\n     | green4   | amanda4   | pi6-host  | \\n\\n  Scenario: Send ping via <endpoint>\\n    When God creates a new cloudevent \\n      And sets cloudevent header \"ce-subject\" to \"#ping\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"\\n      And sets cloudevent header \"traceparent\" to \"<traceparent>\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"\\n      And sends cloudevent to \"<endpoint>\"\\n      \"\"\"\\n      {\\n        \"input\": \"#ping\",\\n        \"output\": \"\",\\n        \"ps1\": \"❯\",\\n        \"type\": \"org.mindwm.v1.iodocument\"\\n      } \\n      \"\"\"\\n    Then the response http code should be \"202\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name            |\\n      | pong-00001-deployment |\\n    Then the trace with \"<traceparent>\" should appear in TraceQL\\n    And the trace should contains \\n      | service name                    | \\n      | broker-ingress.knative-eventing | \\n      | unknown_service                 | \\n      | jetstream-ch-dispatcher         |\\n    And a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"\\n\\n    Examples:\\n     | context | username   | host      | endpoint | traceparent \\t\\t\\t\\t\\t         |\\n     | green4   | amanda4   | pi6-host  | broker-ingress.knative-eventing/context-green4/context-broker   | 00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00 |\\n     | green4   | amanda4   | pi6-host  | broker-ingress.knative-eventing/user-amanda4/user-broker | 00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00 |\\n\\n\\n  Scenario: Send ping via nats\\n    When God creates a new cloudevent \\n      And sets cloudevent header \"ce-subject\" to \"#ping\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"\\n      And sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"\\n      \"\"\"\\n      {\\n        \"input\": \"#ping\",\\n        \"output\": \"\",\\n        \"ps1\": \"❯\",\\n        \"type\": \"org.mindwm.v1.iodocument\"\\n      } \\n      \"\"\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name       |\\n      | pong-00001-deployment |\\n\\n    And a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"\\n\\n\\n    Examples:\\n     | context | username   | host      | tmux_pane | tmux_window | uuid                                  | tmux_socket                     |\\n     | green4   | amanda4   | pi6-host  | 23        | 36          | 09fb195c-c419-6d62-15e0-51b6ee990922  |L3RtcC90bXV4LTEwMDAvZGVmYXVsdA== |\\n\\n\\n   Scenario: Cleanup <username>@<host> in <context>\\n     When God deletes the MindWM host resource \"<host>\"\\n     Then the host \"<host>\" should be deleted\\n\\n     When God deletes the MindWM user resource \"<username>\"\\n\\n     When God deletes the MindWM context resource \"<context>\"\\n\\n     Examples:\\n     | context | username | host        | \\n     | green4   | amanda4   | pi6-host         |\\n\\n', media_type='text/x.cucumber.gherkin+plain')","Pickle(id='403', uri='file:features/3_mindwm_ping_pong.feature', name='Send pind to knative ping service', language='en', steps=[PickleStep(argument=None, ast_node_ids=['306'], id='394', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['307'], id='395', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['324', '334'], id='396', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['325', '334'], id='397', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['326', '334'], id='398', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['327', '334'], id='399', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.amanda4.pi6-host.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['328', '334'], id='400', type=<Type.action: 'Action'>, text='sends cloudevent to knative service \"pong\" in \"context-green4\" namespace'), PickleStep(argument=None, ast_node_ids=['329', '334'], id='401', type=<Type.outcome: 'Outcome'>, text='the response http code should be \"200\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='pong-00001-deployment')])])), ast_node_ids=['332', '334'], id='402', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-green4\" namespace')], tags=[PickleTag(name='@mindwm_ping_pong', ast_node_id='380'), PickleTag(name='@mindwm_test', ast_node_id='381')], ast_node_ids=['336', '334'])"],"tags":["pytest_bdd_scenario","scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/3_mindwm_ping_pong.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=<FeaturePathType.PATH: 'path'>, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())","@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')","mindwm_ping_pong","mindwm_test","namespace(create=False, name='default')"]},{"name":"test_scenarios[file:features/7_mindwm_two_users_one_context.feature-MindWM two users one context function test-Send iodocument via nats host: <host>, user: <username> and check that second user received graph update[table_rows:[line: 64]]]","uid":"641f175630739f5c","parentUid":"3961740595044ffd97a03e46799bfc30","status":"passed","time":{"start":1728404569135,"stop":1728404580423,"duration":11288},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["Feature(gherkin_document=GherkinDocument(uri='file:features/7_mindwm_two_users_one_context.feature', feature=Feature(location=Location(line=3, column=1), tags=[Tag(location=Location(line=1, column=1), name='@mindwm_two_users_one_context', id='801'), Tag(location=Location(line=2, column=1), name='@mindwm_test', id='802')], language='en', keyword='Feature', name='MindWM two users one context function test', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='736'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='737')], id='738'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Create context <context>', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='739'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='740'), Step(location=Location(line=12, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=13, column=7), rows=[TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='Knative service name')], id='741'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='iocontext')], id='742'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='pong')], id='743'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='kafka-cdc')], id='744')]), id='745'), Step(location=Location(line=17, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='746')], examples=[Examples(location=Location(line=18, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=19, column=5), cells=[TableCell(location=Location(line=19, column=7), value='context')], id='747'), table_body=[TableRow(location=Location(line=20, column=5), cells=[TableCell(location=Location(line=20, column=7), value='tokyo')], id='748')], id='749')], id='750')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=22, column=3), tags=[], keyword='Scenario', name='Create <username> and connects it to <context>', description='', steps=[Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='751'), Step(location=Location(line=24, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='752')], examples=[Examples(location=Location(line=25, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=26, column=5), cells=[TableCell(location=Location(line=26, column=7), value='context'), TableCell(location=Location(line=26, column=17), value='username')], id='753'), table_body=[TableRow(location=Location(line=27, column=5), cells=[TableCell(location=Location(line=27, column=7), value='tokyo'), TableCell(location=Location(line=27, column=17), value='godzilla')], id='754'), TableRow(location=Location(line=28, column=5), cells=[TableCell(location=Location(line=28, column=7), value='tokyo'), TableCell(location=Location(line=28, column=17), value='tengu')], id='755')], id='756')], id='757')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=29, column=3), tags=[], keyword='Scenario', name='Create <host> resource and connects it to <username> user', description='', steps=[Step(location=Location(line=30, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='758'), Step(location=Location(line=31, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='759')], examples=[Examples(location=Location(line=33, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='username'), TableCell(location=Location(line=34, column=18), value='host')], id='760'), table_body=[TableRow(location=Location(line=35, column=5), cells=[TableCell(location=Location(line=35, column=7), value='godzilla'), TableCell(location=Location(line=35, column=18), value='laptop')], id='761'), TableRow(location=Location(line=36, column=5), cells=[TableCell(location=Location(line=36, column=7), value='tengu'), TableCell(location=Location(line=36, column=18), value='tablet')], id='762')], id='763')], id='764')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=38, column=3), tags=[], keyword='Scenario', name='Send iodocument via nats host: <host>, user: <username> and check that second user received graph update', description='', steps=[Step(location=Location(line=39, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='765'), Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='766'), Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='767'), Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='768'), Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=None, data_table=None, id='769'), Step(location=Location(line=44, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=DocString(location=Location(line=45, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='770'), Step(location=Location(line=54, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=55, column=7), rows=[TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='Deployment name')], id='771'), TableRow(location=Location(line=56, column=7), cells=[TableCell(location=Location(line=56, column=9), value='iocontext-00001-deployment')], id='772'), TableRow(location=Location(line=57, column=7), cells=[TableCell(location=Location(line=57, column=9), value='kafka-cdc-00001-deployment')], id='773')]), id='774'), Step(location=Location(line=59, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<dst_user>.<dst_host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='775')], examples=[Examples(location=Location(line=61, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=62, column=5), cells=[TableCell(location=Location(line=62, column=7), value='context'), TableCell(location=Location(line=62, column=17), value='src_user'), TableCell(location=Location(line=62, column=28), value='src_host'), TableCell(location=Location(line=62, column=39), value='dst_user'), TableCell(location=Location(line=62, column=50), value='dst_host')], id='776'), table_body=[TableRow(location=Location(line=63, column=5), cells=[TableCell(location=Location(line=63, column=7), value='tokyo'), TableCell(location=Location(line=63, column=17), value='godzilla'), TableCell(location=Location(line=63, column=28), value='laptop'), TableCell(location=Location(line=63, column=39), value='tengu'), TableCell(location=Location(line=63, column=50), value='tablet')], id='777'), TableRow(location=Location(line=64, column=5), cells=[TableCell(location=Location(line=64, column=7), value='tokyo'), TableCell(location=Location(line=64, column=17), value='tengu'), TableCell(location=Location(line=64, column=28), value='tablet'), TableCell(location=Location(line=64, column=39), value='godzilla'), TableCell(location=Location(line=64, column=50), value='laptop')], id='778')], id='779')], id='780')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=67, column=3), tags=[], keyword='Scenario', name='Cleanup <host> host for <username> username', description='', steps=[Step(location=Location(line=69, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='781'), Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='782')], examples=[Examples(location=Location(line=72, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=73, column=5), cells=[TableCell(location=Location(line=73, column=7), value='username'), TableCell(location=Location(line=73, column=18), value='host')], id='783'), table_body=[TableRow(location=Location(line=74, column=5), cells=[TableCell(location=Location(line=74, column=7), value='godzilla'), TableCell(location=Location(line=74, column=18), value='laptop')], id='784'), TableRow(location=Location(line=75, column=5), cells=[TableCell(location=Location(line=75, column=7), value='tengu'), TableCell(location=Location(line=75, column=18), value='tablet')], id='785')], id='786')], id='787')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=77, column=3), tags=[], keyword='Scenario', name='Cleanup <username> username', description='', steps=[Step(location=Location(line=78, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='788'), Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='789')], examples=[Examples(location=Location(line=81, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='username')], id='790'), table_body=[TableRow(location=Location(line=83, column=5), cells=[TableCell(location=Location(line=83, column=7), value='godzilla')], id='791'), TableRow(location=Location(line=84, column=5), cells=[TableCell(location=Location(line=84, column=7), value='tengu')], id='792')], id='793')], id='794')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=86, column=3), tags=[], keyword='Scenario', name='Cleanup <context> context', description='', steps=[Step(location=Location(line=87, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='795'), Step(location=Location(line=88, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='796')], examples=[Examples(location=Location(line=90, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=91, column=5), cells=[TableCell(location=Location(line=91, column=7), value='context')], id='797'), table_body=[TableRow(location=Location(line=92, column=5), cells=[TableCell(location=Location(line=92, column=7), value='tokyo')], id='798')], id='799')], id='800'))]), comments=[]), uri='file:features/7_mindwm_two_users_one_context.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/7_mindwm_two_users_one_context.feature', registry={'801': Tag(location=Location(line=1, column=1), name='@mindwm_two_users_one_context', id='801'), '802': Tag(location=Location(line=2, column=1), name='@mindwm_test', id='802'), '738': Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='736'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='737')], id='738'), '736': Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='736'), '737': Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='737'), '750': Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Create context <context>', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='739'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='740'), Step(location=Location(line=12, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=13, column=7), rows=[TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='Knative service name')], id='741'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='iocontext')], id='742'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='pong')], id='743'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='kafka-cdc')], id='744')]), id='745'), Step(location=Location(line=17, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='746')], examples=[Examples(location=Location(line=18, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=19, column=5), cells=[TableCell(location=Location(line=19, column=7), value='context')], id='747'), table_body=[TableRow(location=Location(line=20, column=5), cells=[TableCell(location=Location(line=20, column=7), value='tokyo')], id='748')], id='749')], id='750'), '739': Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='739'), '740': Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='740'), '745': Step(location=Location(line=12, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=13, column=7), rows=[TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='Knative service name')], id='741'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='iocontext')], id='742'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='pong')], id='743'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='kafka-cdc')], id='744')]), id='745'), '746': Step(location=Location(line=17, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='746'), '749': Examples(location=Location(line=18, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=19, column=5), cells=[TableCell(location=Location(line=19, column=7), value='context')], id='747'), table_body=[TableRow(location=Location(line=20, column=5), cells=[TableCell(location=Location(line=20, column=7), value='tokyo')], id='748')], id='749'), '747': TableRow(location=Location(line=19, column=5), cells=[TableCell(location=Location(line=19, column=7), value='context')], id='747'), '748': TableRow(location=Location(line=20, column=5), cells=[TableCell(location=Location(line=20, column=7), value='tokyo')], id='748'), '757': Scenario(location=Location(line=22, column=3), tags=[], keyword='Scenario', name='Create <username> and connects it to <context>', description='', steps=[Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='751'), Step(location=Location(line=24, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='752')], examples=[Examples(location=Location(line=25, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=26, column=5), cells=[TableCell(location=Location(line=26, column=7), value='context'), TableCell(location=Location(line=26, column=17), value='username')], id='753'), table_body=[TableRow(location=Location(line=27, column=5), cells=[TableCell(location=Location(line=27, column=7), value='tokyo'), TableCell(location=Location(line=27, column=17), value='godzilla')], id='754'), TableRow(location=Location(line=28, column=5), cells=[TableCell(location=Location(line=28, column=7), value='tokyo'), TableCell(location=Location(line=28, column=17), value='tengu')], id='755')], id='756')], id='757'), '751': Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='751'), '752': Step(location=Location(line=24, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='752'), '756': Examples(location=Location(line=25, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=26, column=5), cells=[TableCell(location=Location(line=26, column=7), value='context'), TableCell(location=Location(line=26, column=17), value='username')], id='753'), table_body=[TableRow(location=Location(line=27, column=5), cells=[TableCell(location=Location(line=27, column=7), value='tokyo'), TableCell(location=Location(line=27, column=17), value='godzilla')], id='754'), TableRow(location=Location(line=28, column=5), cells=[TableCell(location=Location(line=28, column=7), value='tokyo'), TableCell(location=Location(line=28, column=17), value='tengu')], id='755')], id='756'), '753': TableRow(location=Location(line=26, column=5), cells=[TableCell(location=Location(line=26, column=7), value='context'), TableCell(location=Location(line=26, column=17), value='username')], id='753'), '754': TableRow(location=Location(line=27, column=5), cells=[TableCell(location=Location(line=27, column=7), value='tokyo'), TableCell(location=Location(line=27, column=17), value='godzilla')], id='754'), '755': TableRow(location=Location(line=28, column=5), cells=[TableCell(location=Location(line=28, column=7), value='tokyo'), TableCell(location=Location(line=28, column=17), value='tengu')], id='755'), '764': Scenario(location=Location(line=29, column=3), tags=[], keyword='Scenario', name='Create <host> resource and connects it to <username> user', description='', steps=[Step(location=Location(line=30, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='758'), Step(location=Location(line=31, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='759')], examples=[Examples(location=Location(line=33, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='username'), TableCell(location=Location(line=34, column=18), value='host')], id='760'), table_body=[TableRow(location=Location(line=35, column=5), cells=[TableCell(location=Location(line=35, column=7), value='godzilla'), TableCell(location=Location(line=35, column=18), value='laptop')], id='761'), TableRow(location=Location(line=36, column=5), cells=[TableCell(location=Location(line=36, column=7), value='tengu'), TableCell(location=Location(line=36, column=18), value='tablet')], id='762')], id='763')], id='764'), '758': Step(location=Location(line=30, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='758'), '759': Step(location=Location(line=31, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='759'), '763': Examples(location=Location(line=33, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='username'), TableCell(location=Location(line=34, column=18), value='host')], id='760'), table_body=[TableRow(location=Location(line=35, column=5), cells=[TableCell(location=Location(line=35, column=7), value='godzilla'), TableCell(location=Location(line=35, column=18), value='laptop')], id='761'), TableRow(location=Location(line=36, column=5), cells=[TableCell(location=Location(line=36, column=7), value='tengu'), TableCell(location=Location(line=36, column=18), value='tablet')], id='762')], id='763'), '760': TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='username'), TableCell(location=Location(line=34, column=18), value='host')], id='760'), '761': TableRow(location=Location(line=35, column=5), cells=[TableCell(location=Location(line=35, column=7), value='godzilla'), TableCell(location=Location(line=35, column=18), value='laptop')], id='761'), '762': TableRow(location=Location(line=36, column=5), cells=[TableCell(location=Location(line=36, column=7), value='tengu'), TableCell(location=Location(line=36, column=18), value='tablet')], id='762'), '780': Scenario(location=Location(line=38, column=3), tags=[], keyword='Scenario', name='Send iodocument via nats host: <host>, user: <username> and check that second user received graph update', description='', steps=[Step(location=Location(line=39, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='765'), Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='766'), Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='767'), Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='768'), Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=None, data_table=None, id='769'), Step(location=Location(line=44, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=DocString(location=Location(line=45, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='770'), Step(location=Location(line=54, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=55, column=7), rows=[TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='Deployment name')], id='771'), TableRow(location=Location(line=56, column=7), cells=[TableCell(location=Location(line=56, column=9), value='iocontext-00001-deployment')], id='772'), TableRow(location=Location(line=57, column=7), cells=[TableCell(location=Location(line=57, column=9), value='kafka-cdc-00001-deployment')], id='773')]), id='774'), Step(location=Location(line=59, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<dst_user>.<dst_host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='775')], examples=[Examples(location=Location(line=61, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=62, column=5), cells=[TableCell(location=Location(line=62, column=7), value='context'), TableCell(location=Location(line=62, column=17), value='src_user'), TableCell(location=Location(line=62, column=28), value='src_host'), TableCell(location=Location(line=62, column=39), value='dst_user'), TableCell(location=Location(line=62, column=50), value='dst_host')], id='776'), table_body=[TableRow(location=Location(line=63, column=5), cells=[TableCell(location=Location(line=63, column=7), value='tokyo'), TableCell(location=Location(line=63, column=17), value='godzilla'), TableCell(location=Location(line=63, column=28), value='laptop'), TableCell(location=Location(line=63, column=39), value='tengu'), TableCell(location=Location(line=63, column=50), value='tablet')], id='777'), TableRow(location=Location(line=64, column=5), cells=[TableCell(location=Location(line=64, column=7), value='tokyo'), TableCell(location=Location(line=64, column=17), value='tengu'), TableCell(location=Location(line=64, column=28), value='tablet'), TableCell(location=Location(line=64, column=39), value='godzilla'), TableCell(location=Location(line=64, column=50), value='laptop')], id='778')], id='779')], id='780'), '765': Step(location=Location(line=39, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='765'), '766': Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='766'), '767': Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='767'), '768': Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='768'), '769': Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=None, data_table=None, id='769'), '770': Step(location=Location(line=44, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=DocString(location=Location(line=45, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='770'), '774': Step(location=Location(line=54, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=55, column=7), rows=[TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='Deployment name')], id='771'), TableRow(location=Location(line=56, column=7), cells=[TableCell(location=Location(line=56, column=9), value='iocontext-00001-deployment')], id='772'), TableRow(location=Location(line=57, column=7), cells=[TableCell(location=Location(line=57, column=9), value='kafka-cdc-00001-deployment')], id='773')]), id='774'), '775': Step(location=Location(line=59, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<dst_user>.<dst_host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='775'), '779': Examples(location=Location(line=61, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=62, column=5), cells=[TableCell(location=Location(line=62, column=7), value='context'), TableCell(location=Location(line=62, column=17), value='src_user'), TableCell(location=Location(line=62, column=28), value='src_host'), TableCell(location=Location(line=62, column=39), value='dst_user'), TableCell(location=Location(line=62, column=50), value='dst_host')], id='776'), table_body=[TableRow(location=Location(line=63, column=5), cells=[TableCell(location=Location(line=63, column=7), value='tokyo'), TableCell(location=Location(line=63, column=17), value='godzilla'), TableCell(location=Location(line=63, column=28), value='laptop'), TableCell(location=Location(line=63, column=39), value='tengu'), TableCell(location=Location(line=63, column=50), value='tablet')], id='777'), TableRow(location=Location(line=64, column=5), cells=[TableCell(location=Location(line=64, column=7), value='tokyo'), TableCell(location=Location(line=64, column=17), value='tengu'), TableCell(location=Location(line=64, column=28), value='tablet'), TableCell(location=Location(line=64, column=39), value='godzilla'), TableCell(location=Location(line=64, column=50), value='laptop')], id='778')], id='779'), '776': TableRow(location=Location(line=62, column=5), cells=[TableCell(location=Location(line=62, column=7), value='context'), TableCell(location=Location(line=62, column=17), value='src_user'), TableCell(location=Location(line=62, column=28), value='src_host'), TableCell(location=Location(line=62, column=39), value='dst_user'), TableCell(location=Location(line=62, column=50), value='dst_host')], id='776'), '777': TableRow(location=Location(line=63, column=5), cells=[TableCell(location=Location(line=63, column=7), value='tokyo'), TableCell(location=Location(line=63, column=17), value='godzilla'), TableCell(location=Location(line=63, column=28), value='laptop'), TableCell(location=Location(line=63, column=39), value='tengu'), TableCell(location=Location(line=63, column=50), value='tablet')], id='777'), '778': TableRow(location=Location(line=64, column=5), cells=[TableCell(location=Location(line=64, column=7), value='tokyo'), TableCell(location=Location(line=64, column=17), value='tengu'), TableCell(location=Location(line=64, column=28), value='tablet'), TableCell(location=Location(line=64, column=39), value='godzilla'), TableCell(location=Location(line=64, column=50), value='laptop')], id='778'), '787': Scenario(location=Location(line=67, column=3), tags=[], keyword='Scenario', name='Cleanup <host> host for <username> username', description='', steps=[Step(location=Location(line=69, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='781'), Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='782')], examples=[Examples(location=Location(line=72, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=73, column=5), cells=[TableCell(location=Location(line=73, column=7), value='username'), TableCell(location=Location(line=73, column=18), value='host')], id='783'), table_body=[TableRow(location=Location(line=74, column=5), cells=[TableCell(location=Location(line=74, column=7), value='godzilla'), TableCell(location=Location(line=74, column=18), value='laptop')], id='784'), TableRow(location=Location(line=75, column=5), cells=[TableCell(location=Location(line=75, column=7), value='tengu'), TableCell(location=Location(line=75, column=18), value='tablet')], id='785')], id='786')], id='787'), '781': Step(location=Location(line=69, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='781'), '782': Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='782'), '786': Examples(location=Location(line=72, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=73, column=5), cells=[TableCell(location=Location(line=73, column=7), value='username'), TableCell(location=Location(line=73, column=18), value='host')], id='783'), table_body=[TableRow(location=Location(line=74, column=5), cells=[TableCell(location=Location(line=74, column=7), value='godzilla'), TableCell(location=Location(line=74, column=18), value='laptop')], id='784'), TableRow(location=Location(line=75, column=5), cells=[TableCell(location=Location(line=75, column=7), value='tengu'), TableCell(location=Location(line=75, column=18), value='tablet')], id='785')], id='786'), '783': TableRow(location=Location(line=73, column=5), cells=[TableCell(location=Location(line=73, column=7), value='username'), TableCell(location=Location(line=73, column=18), value='host')], id='783'), '784': TableRow(location=Location(line=74, column=5), cells=[TableCell(location=Location(line=74, column=7), value='godzilla'), TableCell(location=Location(line=74, column=18), value='laptop')], id='784'), '785': TableRow(location=Location(line=75, column=5), cells=[TableCell(location=Location(line=75, column=7), value='tengu'), TableCell(location=Location(line=75, column=18), value='tablet')], id='785'), '794': Scenario(location=Location(line=77, column=3), tags=[], keyword='Scenario', name='Cleanup <username> username', description='', steps=[Step(location=Location(line=78, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='788'), Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='789')], examples=[Examples(location=Location(line=81, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='username')], id='790'), table_body=[TableRow(location=Location(line=83, column=5), cells=[TableCell(location=Location(line=83, column=7), value='godzilla')], id='791'), TableRow(location=Location(line=84, column=5), cells=[TableCell(location=Location(line=84, column=7), value='tengu')], id='792')], id='793')], id='794'), '788': Step(location=Location(line=78, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='788'), '789': Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='789'), '793': Examples(location=Location(line=81, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='username')], id='790'), table_body=[TableRow(location=Location(line=83, column=5), cells=[TableCell(location=Location(line=83, column=7), value='godzilla')], id='791'), TableRow(location=Location(line=84, column=5), cells=[TableCell(location=Location(line=84, column=7), value='tengu')], id='792')], id='793'), '790': TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='username')], id='790'), '791': TableRow(location=Location(line=83, column=5), cells=[TableCell(location=Location(line=83, column=7), value='godzilla')], id='791'), '792': TableRow(location=Location(line=84, column=5), cells=[TableCell(location=Location(line=84, column=7), value='tengu')], id='792'), '800': Scenario(location=Location(line=86, column=3), tags=[], keyword='Scenario', name='Cleanup <context> context', description='', steps=[Step(location=Location(line=87, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='795'), Step(location=Location(line=88, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='796')], examples=[Examples(location=Location(line=90, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=91, column=5), cells=[TableCell(location=Location(line=91, column=7), value='context')], id='797'), table_body=[TableRow(location=Location(line=92, column=5), cells=[TableCell(location=Location(line=92, column=7), value='tokyo')], id='798')], id='799')], id='800'), '795': Step(location=Location(line=87, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='795'), '796': Step(location=Location(line=88, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='796'), '799': Examples(location=Location(line=90, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=91, column=5), cells=[TableCell(location=Location(line=91, column=7), value='context')], id='797'), table_body=[TableRow(location=Location(line=92, column=5), cells=[TableCell(location=Location(line=92, column=7), value='tokyo')], id='798')], id='799'), '797': TableRow(location=Location(line=91, column=5), cells=[TableCell(location=Location(line=91, column=7), value='context')], id='797'), '798': TableRow(location=Location(line=92, column=5), cells=[TableCell(location=Location(line=92, column=7), value='tokyo')], id='798')}, pickles=[Pickle(id='809', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create context tokyo', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='803', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='804', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['739', '748'], id='805', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"tokyo\"'), PickleStep(argument=None, ast_node_ids=['740', '748'], id='806', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext')]), PickleTableRow(cells=[PickleTableCell(value='pong')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')])])), ast_node_ids=['745', '748'], id='807', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-tokyo\" namespace'), PickleStep(argument=None, ast_node_ids=['746', '748'], id='808', type=<Type.outcome: 'Outcome'>, text='statefulset \"tokyo-neo4j\" in namespace \"context-tokyo\" is in ready state')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['750', '748']), Pickle(id='814', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create godzilla and connects it to tokyo', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='810', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='811', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['751', '754'], id='812', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"godzilla\" and connects it to the context \"tokyo\"'), PickleStep(argument=None, ast_node_ids=['752', '754'], id='813', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['757', '754']), Pickle(id='819', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create tengu and connects it to tokyo', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='815', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='816', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['751', '755'], id='817', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"tengu\" and connects it to the context \"tokyo\"'), PickleStep(argument=None, ast_node_ids=['752', '755'], id='818', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['757', '755']), Pickle(id='824', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create laptop resource and connects it to godzilla user', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='820', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='821', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['758', '761'], id='822', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"laptop\" and connects it to the user \"godzilla\"'), PickleStep(argument=None, ast_node_ids=['759', '761'], id='823', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['764', '761']), Pickle(id='829', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create tablet resource and connects it to tengu user', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='825', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='826', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['758', '762'], id='827', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"tablet\" and connects it to the user \"tengu\"'), PickleStep(argument=None, ast_node_ids=['759', '762'], id='828', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['764', '762']), Pickle(id='840', uri='file:features/7_mindwm_two_users_one_context.feature', name='Send iodocument via nats host: <host>, user: <username> and check that second user received graph update', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='830', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='831', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['765', '777'], id='832', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['766', '777'], id='833', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['767', '777'], id='834', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"id\"'), PickleStep(argument=None, ast_node_ids=['768', '777'], id='835', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['769', '777'], id='836', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.godzilla.laptop.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['770', '777'], id='837', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.godzilla.laptop.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-00001-deployment')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-00001-deployment')])])), ast_node_ids=['774', '777'], id='838', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-tokyo\" namespace'), PickleStep(argument=None, ast_node_ids=['775', '777'], id='839', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-tengu.tablet-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['780', '777']), Pickle(id='851', uri='file:features/7_mindwm_two_users_one_context.feature', name='Send iodocument via nats host: <host>, user: <username> and check that second user received graph update', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='841', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='842', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['765', '778'], id='843', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['766', '778'], id='844', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['767', '778'], id='845', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"id\"'), PickleStep(argument=None, ast_node_ids=['768', '778'], id='846', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['769', '778'], id='847', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.tengu.tablet.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['770', '778'], id='848', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.tengu.tablet.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-00001-deployment')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-00001-deployment')])])), ast_node_ids=['774', '778'], id='849', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-tokyo\" namespace'), PickleStep(argument=None, ast_node_ids=['775', '778'], id='850', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-godzilla.laptop-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['780', '778']), Pickle(id='856', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup laptop host for godzilla username', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='852', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='853', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['781', '784'], id='854', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"laptop\"'), PickleStep(argument=None, ast_node_ids=['782', '784'], id='855', type=<Type.outcome: 'Outcome'>, text='the host \"laptop\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['787', '784']), Pickle(id='861', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup tablet host for tengu username', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='857', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='858', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['781', '785'], id='859', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"tablet\"'), PickleStep(argument=None, ast_node_ids=['782', '785'], id='860', type=<Type.outcome: 'Outcome'>, text='the host \"tablet\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['787', '785']), Pickle(id='866', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup godzilla username', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='862', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='863', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['788', '791'], id='864', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"godzilla\"'), PickleStep(argument=None, ast_node_ids=['789', '791'], id='865', type=<Type.outcome: 'Outcome'>, text='the user \"godzilla\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['794', '791']), Pickle(id='871', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup tengu username', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='867', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='868', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['788', '792'], id='869', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"tengu\"'), PickleStep(argument=None, ast_node_ids=['789', '792'], id='870', type=<Type.outcome: 'Outcome'>, text='the user \"tengu\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['794', '792']), Pickle(id='876', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup tokyo context', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='872', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='873', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['795', '798'], id='874', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"tokyo\"'), PickleStep(argument=None, ast_node_ids=['796', '798'], id='875', type=<Type.outcome: 'Outcome'>, text='the context \"tokyo\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['800', '798'])])","Source(uri='file:features/7_mindwm_two_users_one_context.feature', data='@mindwm_two_users_one_context\\n@mindwm_test\\nFeature: MindWM two users one context function test\\n  Background:\\n    Given A MindWM environment\\n    Then all nodes in Kubernetes are ready\\n\\n  Scenario: Create context <context>\\n    When God creates a MindWM context with the name \"<context>\"\\n    Then the context should be ready and operable\\n\\n    Then the following knative services are in a ready state in the \"context-<context>\" namespace\\n      | Knative service name |\\n      | iocontext            |\\n      | pong                 |\\n      | kafka-cdc            |\\n    And statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state\\n    Examples:\\n    | context | \\n    | tokyo   | \\n    \\n  Scenario: Create <username> and connects it to <context>\\n    When God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"\\n    Then the user resource should be ready and operable\\n    Examples:\\n    | context | username |\\n    | tokyo   | godzilla |\\n    | tokyo   | tengu    |\\n  Scenario: Create <host> resource and connects it to <username> user\\n    When God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"\\n    Then the host resource should be ready and operable\\n\\n    Examples: \\n    | username | host   |\\n    | godzilla | laptop | \\n    | tengu    | tablet | \\n\\n  Scenario: Send iodocument via nats host: <host>, user: <username> and check that second user received graph update\\n    When God creates a new cloudevent \\n      And God starts reading message from NATS topic \">\"\\n      And sets cloudevent header \"ce-subject\" to \"id\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"\\n      And sends cloudevent to nats topic \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"\\n      \"\"\"\\n      {\\n        \"input\": \"id\",\\n        \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n        \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n        \"type\": \"org.mindwm.v1.iodocument\"\\n      } \\n      \"\"\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name            |\\n      | iocontext-00001-deployment |\\n      | kafka-cdc-00001-deployment |\\n\\n    And a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<dst_user>.<dst_host>-host-broker-kne-trigger._knative\"\\n\\n    Examples:\\n    | context | src_user | src_host | dst_user | dst_host |  \\n    | tokyo   | godzilla | laptop   | tengu    | tablet   |\\n    | tokyo   | tengu    | tablet   | godzilla | laptop   | \\n\\n\\n  Scenario: Cleanup <host> host for <username> username\\n\\n    When God deletes the MindWM host resource \"<host>\"\\n    Then the host \"<host>\" should be deleted\\n\\n    Examples:\\n    | username | host   |\\n    | godzilla | laptop | \\n    | tengu    | tablet | \\n\\n  Scenario: Cleanup <username> username\\n    When God deletes the MindWM user resource \"<username>\"\\n    Then the user \"<username>\" should be deleted\\n\\n    Examples:\\n    | username | \\n    | godzilla |\\n    | tengu    | \\n\\n  Scenario: Cleanup <context> context\\n    When God deletes the MindWM context resource \"<context>\"\\n    Then the context \"<context>\" should be deleted\\n\\n    Examples:\\n    | context | \\n    | tokyo   |\\n', media_type='text/x.cucumber.gherkin+plain')","Pickle(id='851', uri='file:features/7_mindwm_two_users_one_context.feature', name='Send iodocument via nats host: <host>, user: <username> and check that second user received graph update', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='841', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='842', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['765', '778'], id='843', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['766', '778'], id='844', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['767', '778'], id='845', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"id\"'), PickleStep(argument=None, ast_node_ids=['768', '778'], id='846', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['769', '778'], id='847', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.tengu.tablet.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['770', '778'], id='848', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.tengu.tablet.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-00001-deployment')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-00001-deployment')])])), ast_node_ids=['774', '778'], id='849', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-tokyo\" namespace'), PickleStep(argument=None, ast_node_ids=['775', '778'], id='850', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-godzilla.laptop-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['780', '778'])"],"tags":["scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/7_mindwm_two_users_one_context.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=<FeaturePathType.PATH: 'path'>, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())","pytest_bdd_scenario","@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')","mindwm_test","mindwm_two_users_one_context","namespace(create=False, name='default')"]},{"name":"test_scenarios[file:features/0_0_mindwm_lifecycle.feature-Mindwm Lifecycle Management-Deploy Mindwm Cluster and Applications]","uid":"a60cfde9f4ad6494","parentUid":"3961740595044ffd97a03e46799bfc30","status":"passed","time":{"start":1728402565274,"stop":1728403417599,"duration":852325},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["Feature(gherkin_document=GherkinDocument(uri='file:features/0_0_mindwm_lifecycle.feature', feature=Feature(location=Location(line=2, column=1), tags=[Tag(location=Location(line=1, column=1), name='@lifecycle', id='34')], language='en', keyword='Feature', name='Mindwm Lifecycle Management', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='an Ubuntu 24.04 system with 6 CPUs and 16 GB of RAM', doc_string=None, data_table=None, id='0'), Step(location=Location(line=6, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the mindwm-gitops repository is cloned into the \"~/mindwm-gitops\" directory', doc_string=None, data_table=None, id='1')], id='2'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Deploy Mindwm Cluster and Applications', description='', steps=[Step(location=Location(line=9, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God executes \"make cluster\"', doc_string=None, data_table=None, id='3'), Step(location=Location(line=10, column=6), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='4'), Step(location=Location(line=12, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God executes \"make argocd\"', doc_string=None, data_table=None, id='5'), Step(location=Location(line=13, column=6), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='helm release \"argocd\" is deployed in \"argocd\" namespace', doc_string=None, data_table=None, id='6'), Step(location=Location(line=15, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God executes \"make argocd_app\"', doc_string=None, data_table=None, id='7'), Step(location=Location(line=16, column=6), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the argocd \"mindwm-gitops\" application appears in \"argocd\" namespace', doc_string=None, data_table=None, id='8'), Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God executes \"make argocd_app_sync_async\"', doc_string=None, data_table=None, id='9'), Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the argocd \"mindwm-gitops\" application is argocd namespace in a progressing status', doc_string=None, data_table=None, id='10'), Step(location=Location(line=21, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God executes \"make argocd_app_async_wait\"', doc_string=None, data_table=None, id='11'), Step(location=Location(line=22, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all argocd applications are in a healthy state', doc_string=None, data_table=DataTable(location=Location(line=23, column=7), rows=[TableRow(location=Location(line=23, column=7), cells=[TableCell(location=Location(line=23, column=9), value='ArgoCD Application name')], id='12'), TableRow(location=Location(line=24, column=7), cells=[TableCell(location=Location(line=24, column=9), value='cert-manager')], id='13'), TableRow(location=Location(line=25, column=7), cells=[TableCell(location=Location(line=25, column=9), value='crossplane')], id='14'), TableRow(location=Location(line=26, column=7), cells=[TableCell(location=Location(line=26, column=9), value='flux')], id='15'), TableRow(location=Location(line=27, column=7), cells=[TableCell(location=Location(line=27, column=9), value='istio-base')], id='16'), TableRow(location=Location(line=28, column=7), cells=[TableCell(location=Location(line=28, column=9), value='istio-ingressgateway')], id='17'), TableRow(location=Location(line=29, column=7), cells=[TableCell(location=Location(line=29, column=9), value='istiod')], id='18'), TableRow(location=Location(line=30, column=7), cells=[TableCell(location=Location(line=30, column=9), value='loki')], id='19'), TableRow(location=Location(line=31, column=7), cells=[TableCell(location=Location(line=31, column=9), value='mindwm-gitops')], id='20'), TableRow(location=Location(line=32, column=7), cells=[TableCell(location=Location(line=32, column=9), value='nats')], id='21'), TableRow(location=Location(line=33, column=7), cells=[TableCell(location=Location(line=33, column=9), value='otel-collector')], id='22'), TableRow(location=Location(line=34, column=7), cells=[TableCell(location=Location(line=34, column=9), value='promtail')], id='23'), TableRow(location=Location(line=35, column=7), cells=[TableCell(location=Location(line=35, column=9), value='redpanda-operator')], id='24'), TableRow(location=Location(line=36, column=7), cells=[TableCell(location=Location(line=36, column=9), value='tempo')], id='25'), TableRow(location=Location(line=37, column=7), cells=[TableCell(location=Location(line=37, column=9), value='vm-aio')], id='26'), TableRow(location=Location(line=38, column=7), cells=[TableCell(location=Location(line=38, column=9), value='redpanda-operator')], id='27')]), id='28'), Step(location=Location(line=40, column=4), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God executes \"make crossplane_rolebinding_workaround\"', doc_string=None, data_table=None, id='29'), Step(location=Location(line=41, column=4), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following roles should exist:', doc_string=None, data_table=DataTable(location=Location(line=42, column=7), rows=[TableRow(location=Location(line=42, column=7), cells=[TableCell(location=Location(line=42, column=9), value='Role name')], id='30'), TableRow(location=Location(line=45, column=7), cells=[TableCell(location=Location(line=45, column=9), value='crossplane-admin')], id='31')]), id='32')], examples=[], id='33'))]), comments=[Comment(location=Location(line=43, column=1), text='#      | provider-kubernetes-admin      |'), Comment(location=Location(line=44, column=1), text='#     | provider-helm-admin            |'), Comment(location=Location(line=46, column=1), text='#      | jetstream-ch-dispatcher-admin  |')]), uri='file:features/0_0_mindwm_lifecycle.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/0_0_mindwm_lifecycle.feature', registry={'34': Tag(location=Location(line=1, column=1), name='@lifecycle', id='34'), '2': Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='an Ubuntu 24.04 system with 6 CPUs and 16 GB of RAM', doc_string=None, data_table=None, id='0'), Step(location=Location(line=6, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the mindwm-gitops repository is cloned into the \"~/mindwm-gitops\" directory', doc_string=None, data_table=None, id='1')], id='2'), '0': Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='an Ubuntu 24.04 system with 6 CPUs and 16 GB of RAM', doc_string=None, data_table=None, id='0'), '1': Step(location=Location(line=6, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the mindwm-gitops repository is cloned into the \"~/mindwm-gitops\" directory', doc_string=None, data_table=None, id='1'), '33': Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Deploy Mindwm Cluster and Applications', description='', steps=[Step(location=Location(line=9, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God executes \"make cluster\"', doc_string=None, data_table=None, id='3'), Step(location=Location(line=10, column=6), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='4'), Step(location=Location(line=12, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God executes \"make argocd\"', doc_string=None, data_table=None, id='5'), Step(location=Location(line=13, column=6), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='helm release \"argocd\" is deployed in \"argocd\" namespace', doc_string=None, data_table=None, id='6'), Step(location=Location(line=15, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God executes \"make argocd_app\"', doc_string=None, data_table=None, id='7'), Step(location=Location(line=16, column=6), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the argocd \"mindwm-gitops\" application appears in \"argocd\" namespace', doc_string=None, data_table=None, id='8'), Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God executes \"make argocd_app_sync_async\"', doc_string=None, data_table=None, id='9'), Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the argocd \"mindwm-gitops\" application is argocd namespace in a progressing status', doc_string=None, data_table=None, id='10'), Step(location=Location(line=21, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God executes \"make argocd_app_async_wait\"', doc_string=None, data_table=None, id='11'), Step(location=Location(line=22, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all argocd applications are in a healthy state', doc_string=None, data_table=DataTable(location=Location(line=23, column=7), rows=[TableRow(location=Location(line=23, column=7), cells=[TableCell(location=Location(line=23, column=9), value='ArgoCD Application name')], id='12'), TableRow(location=Location(line=24, column=7), cells=[TableCell(location=Location(line=24, column=9), value='cert-manager')], id='13'), TableRow(location=Location(line=25, column=7), cells=[TableCell(location=Location(line=25, column=9), value='crossplane')], id='14'), TableRow(location=Location(line=26, column=7), cells=[TableCell(location=Location(line=26, column=9), value='flux')], id='15'), TableRow(location=Location(line=27, column=7), cells=[TableCell(location=Location(line=27, column=9), value='istio-base')], id='16'), TableRow(location=Location(line=28, column=7), cells=[TableCell(location=Location(line=28, column=9), value='istio-ingressgateway')], id='17'), TableRow(location=Location(line=29, column=7), cells=[TableCell(location=Location(line=29, column=9), value='istiod')], id='18'), TableRow(location=Location(line=30, column=7), cells=[TableCell(location=Location(line=30, column=9), value='loki')], id='19'), TableRow(location=Location(line=31, column=7), cells=[TableCell(location=Location(line=31, column=9), value='mindwm-gitops')], id='20'), TableRow(location=Location(line=32, column=7), cells=[TableCell(location=Location(line=32, column=9), value='nats')], id='21'), TableRow(location=Location(line=33, column=7), cells=[TableCell(location=Location(line=33, column=9), value='otel-collector')], id='22'), TableRow(location=Location(line=34, column=7), cells=[TableCell(location=Location(line=34, column=9), value='promtail')], id='23'), TableRow(location=Location(line=35, column=7), cells=[TableCell(location=Location(line=35, column=9), value='redpanda-operator')], id='24'), TableRow(location=Location(line=36, column=7), cells=[TableCell(location=Location(line=36, column=9), value='tempo')], id='25'), TableRow(location=Location(line=37, column=7), cells=[TableCell(location=Location(line=37, column=9), value='vm-aio')], id='26'), TableRow(location=Location(line=38, column=7), cells=[TableCell(location=Location(line=38, column=9), value='redpanda-operator')], id='27')]), id='28'), Step(location=Location(line=40, column=4), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God executes \"make crossplane_rolebinding_workaround\"', doc_string=None, data_table=None, id='29'), Step(location=Location(line=41, column=4), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following roles should exist:', doc_string=None, data_table=DataTable(location=Location(line=42, column=7), rows=[TableRow(location=Location(line=42, column=7), cells=[TableCell(location=Location(line=42, column=9), value='Role name')], id='30'), TableRow(location=Location(line=45, column=7), cells=[TableCell(location=Location(line=45, column=9), value='crossplane-admin')], id='31')]), id='32')], examples=[], id='33'), '3': Step(location=Location(line=9, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God executes \"make cluster\"', doc_string=None, data_table=None, id='3'), '4': Step(location=Location(line=10, column=6), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='4'), '5': Step(location=Location(line=12, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God executes \"make argocd\"', doc_string=None, data_table=None, id='5'), '6': Step(location=Location(line=13, column=6), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='helm release \"argocd\" is deployed in \"argocd\" namespace', doc_string=None, data_table=None, id='6'), '7': Step(location=Location(line=15, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God executes \"make argocd_app\"', doc_string=None, data_table=None, id='7'), '8': Step(location=Location(line=16, column=6), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the argocd \"mindwm-gitops\" application appears in \"argocd\" namespace', doc_string=None, data_table=None, id='8'), '9': Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God executes \"make argocd_app_sync_async\"', doc_string=None, data_table=None, id='9'), '10': Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the argocd \"mindwm-gitops\" application is argocd namespace in a progressing status', doc_string=None, data_table=None, id='10'), '11': Step(location=Location(line=21, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God executes \"make argocd_app_async_wait\"', doc_string=None, data_table=None, id='11'), '28': Step(location=Location(line=22, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all argocd applications are in a healthy state', doc_string=None, data_table=DataTable(location=Location(line=23, column=7), rows=[TableRow(location=Location(line=23, column=7), cells=[TableCell(location=Location(line=23, column=9), value='ArgoCD Application name')], id='12'), TableRow(location=Location(line=24, column=7), cells=[TableCell(location=Location(line=24, column=9), value='cert-manager')], id='13'), TableRow(location=Location(line=25, column=7), cells=[TableCell(location=Location(line=25, column=9), value='crossplane')], id='14'), TableRow(location=Location(line=26, column=7), cells=[TableCell(location=Location(line=26, column=9), value='flux')], id='15'), TableRow(location=Location(line=27, column=7), cells=[TableCell(location=Location(line=27, column=9), value='istio-base')], id='16'), TableRow(location=Location(line=28, column=7), cells=[TableCell(location=Location(line=28, column=9), value='istio-ingressgateway')], id='17'), TableRow(location=Location(line=29, column=7), cells=[TableCell(location=Location(line=29, column=9), value='istiod')], id='18'), TableRow(location=Location(line=30, column=7), cells=[TableCell(location=Location(line=30, column=9), value='loki')], id='19'), TableRow(location=Location(line=31, column=7), cells=[TableCell(location=Location(line=31, column=9), value='mindwm-gitops')], id='20'), TableRow(location=Location(line=32, column=7), cells=[TableCell(location=Location(line=32, column=9), value='nats')], id='21'), TableRow(location=Location(line=33, column=7), cells=[TableCell(location=Location(line=33, column=9), value='otel-collector')], id='22'), TableRow(location=Location(line=34, column=7), cells=[TableCell(location=Location(line=34, column=9), value='promtail')], id='23'), TableRow(location=Location(line=35, column=7), cells=[TableCell(location=Location(line=35, column=9), value='redpanda-operator')], id='24'), TableRow(location=Location(line=36, column=7), cells=[TableCell(location=Location(line=36, column=9), value='tempo')], id='25'), TableRow(location=Location(line=37, column=7), cells=[TableCell(location=Location(line=37, column=9), value='vm-aio')], id='26'), TableRow(location=Location(line=38, column=7), cells=[TableCell(location=Location(line=38, column=9), value='redpanda-operator')], id='27')]), id='28'), '29': Step(location=Location(line=40, column=4), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God executes \"make crossplane_rolebinding_workaround\"', doc_string=None, data_table=None, id='29'), '32': Step(location=Location(line=41, column=4), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following roles should exist:', doc_string=None, data_table=DataTable(location=Location(line=42, column=7), rows=[TableRow(location=Location(line=42, column=7), cells=[TableCell(location=Location(line=42, column=9), value='Role name')], id='30'), TableRow(location=Location(line=45, column=7), cells=[TableCell(location=Location(line=45, column=9), value='crossplane-admin')], id='31')]), id='32')}, pickles=[Pickle(id='49', uri='file:features/0_0_mindwm_lifecycle.feature', name='Deploy Mindwm Cluster and Applications', language='en', steps=[PickleStep(argument=None, ast_node_ids=['0'], id='35', type=<Type.context: 'Context'>, text='an Ubuntu 24.04 system with 6 CPUs and 16 GB of RAM'), PickleStep(argument=None, ast_node_ids=['1'], id='36', type=<Type.context: 'Context'>, text='the mindwm-gitops repository is cloned into the \"~/mindwm-gitops\" directory'), PickleStep(argument=None, ast_node_ids=['3'], id='37', type=<Type.action: 'Action'>, text='God executes \"make cluster\"'), PickleStep(argument=None, ast_node_ids=['4'], id='38', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['5'], id='39', type=<Type.action: 'Action'>, text='God executes \"make argocd\"'), PickleStep(argument=None, ast_node_ids=['6'], id='40', type=<Type.outcome: 'Outcome'>, text='helm release \"argocd\" is deployed in \"argocd\" namespace'), PickleStep(argument=None, ast_node_ids=['7'], id='41', type=<Type.action: 'Action'>, text='God executes \"make argocd_app\"'), PickleStep(argument=None, ast_node_ids=['8'], id='42', type=<Type.outcome: 'Outcome'>, text='the argocd \"mindwm-gitops\" application appears in \"argocd\" namespace'), PickleStep(argument=None, ast_node_ids=['9'], id='43', type=<Type.action: 'Action'>, text='God executes \"make argocd_app_sync_async\"'), PickleStep(argument=None, ast_node_ids=['10'], id='44', type=<Type.outcome: 'Outcome'>, text='the argocd \"mindwm-gitops\" application is argocd namespace in a progressing status'), PickleStep(argument=None, ast_node_ids=['11'], id='45', type=<Type.action: 'Action'>, text='God executes \"make argocd_app_async_wait\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='ArgoCD Application name')]), PickleTableRow(cells=[PickleTableCell(value='cert-manager')]), PickleTableRow(cells=[PickleTableCell(value='crossplane')]), PickleTableRow(cells=[PickleTableCell(value='flux')]), PickleTableRow(cells=[PickleTableCell(value='istio-base')]), PickleTableRow(cells=[PickleTableCell(value='istio-ingressgateway')]), PickleTableRow(cells=[PickleTableCell(value='istiod')]), PickleTableRow(cells=[PickleTableCell(value='loki')]), PickleTableRow(cells=[PickleTableCell(value='mindwm-gitops')]), PickleTableRow(cells=[PickleTableCell(value='nats')]), PickleTableRow(cells=[PickleTableCell(value='otel-collector')]), PickleTableRow(cells=[PickleTableCell(value='promtail')]), PickleTableRow(cells=[PickleTableCell(value='redpanda-operator')]), PickleTableRow(cells=[PickleTableCell(value='tempo')]), PickleTableRow(cells=[PickleTableCell(value='vm-aio')]), PickleTableRow(cells=[PickleTableCell(value='redpanda-operator')])])), ast_node_ids=['28'], id='46', type=<Type.outcome: 'Outcome'>, text='all argocd applications are in a healthy state'), PickleStep(argument=None, ast_node_ids=['29'], id='47', type=<Type.action: 'Action'>, text='God executes \"make crossplane_rolebinding_workaround\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Role name')]), PickleTableRow(cells=[PickleTableCell(value='crossplane-admin')])])), ast_node_ids=['32'], id='48', type=<Type.outcome: 'Outcome'>, text='the following roles should exist:')], tags=[PickleTag(name='@lifecycle', ast_node_id='34')], ast_node_ids=['33'])])","Source(uri='file:features/0_0_mindwm_lifecycle.feature', data='@lifecycle\\nFeature: Mindwm Lifecycle Management\\n\\n  Background:\\n    Given an Ubuntu 24.04 system with 6 CPUs and 16 GB of RAM\\n    And the mindwm-gitops repository is cloned into the \"~/mindwm-gitops\" directory\\n\\n  Scenario: Deploy Mindwm Cluster and Applications\\n     When God executes \"make cluster\"\\n     Then all nodes in Kubernetes are ready\\n\\n     When God executes \"make argocd\"\\n     Then helm release \"argocd\" is deployed in \"argocd\" namespace\\n\\n     When God executes \"make argocd_app\"\\n     Then the argocd \"mindwm-gitops\" application appears in \"argocd\" namespace\\n\\n    When God executes \"make argocd_app_sync_async\"\\n    Then the argocd \"mindwm-gitops\" application is argocd namespace in a progressing status \\n\\n    When God executes \"make argocd_app_async_wait\"\\n    Then all argocd applications are in a healthy state\\n      | ArgoCD Application name      |\\n      | cert-manager\\t\\t     |\\n      | crossplane\\t\\t     |\\n      | flux\\t\\t\\t     |\\n      | istio-base\\t\\t     |\\n      | istio-ingressgateway\\t     |\\n      | istiod\\t\\t\\t     |\\n      | loki\\t\\t\\t     |\\n      | mindwm-gitops\\t\\t     |\\n      | nats\\t\\t\\t     |\\n      | otel-collector\\t\\t     |\\n      | promtail\\t\\t     |\\n      | redpanda-operator\\t     |\\n      | tempo\\t\\t\\t     |\\n      | vm-aio\\t\\t\\t     |\\n      | redpanda-operator            |\\n\\n   When God executes \"make crossplane_rolebinding_workaround\"\\n   Then the following roles should exist:\\n      | Role name                      |\\n#      | provider-kubernetes-admin      |\\n#     | provider-helm-admin            |\\n      | crossplane-admin               |\\n#      | jetstream-ch-dispatcher-admin  |\\n', media_type='text/x.cucumber.gherkin+plain')","Pickle(id='49', uri='file:features/0_0_mindwm_lifecycle.feature', name='Deploy Mindwm Cluster and Applications', language='en', steps=[PickleStep(argument=None, ast_node_ids=['0'], id='35', type=<Type.context: 'Context'>, text='an Ubuntu 24.04 system with 6 CPUs and 16 GB of RAM'), PickleStep(argument=None, ast_node_ids=['1'], id='36', type=<Type.context: 'Context'>, text='the mindwm-gitops repository is cloned into the \"~/mindwm-gitops\" directory'), PickleStep(argument=None, ast_node_ids=['3'], id='37', type=<Type.action: 'Action'>, text='God executes \"make cluster\"'), PickleStep(argument=None, ast_node_ids=['4'], id='38', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['5'], id='39', type=<Type.action: 'Action'>, text='God executes \"make argocd\"'), PickleStep(argument=None, ast_node_ids=['6'], id='40', type=<Type.outcome: 'Outcome'>, text='helm release \"argocd\" is deployed in \"argocd\" namespace'), PickleStep(argument=None, ast_node_ids=['7'], id='41', type=<Type.action: 'Action'>, text='God executes \"make argocd_app\"'), PickleStep(argument=None, ast_node_ids=['8'], id='42', type=<Type.outcome: 'Outcome'>, text='the argocd \"mindwm-gitops\" application appears in \"argocd\" namespace'), PickleStep(argument=None, ast_node_ids=['9'], id='43', type=<Type.action: 'Action'>, text='God executes \"make argocd_app_sync_async\"'), PickleStep(argument=None, ast_node_ids=['10'], id='44', type=<Type.outcome: 'Outcome'>, text='the argocd \"mindwm-gitops\" application is argocd namespace in a progressing status'), PickleStep(argument=None, ast_node_ids=['11'], id='45', type=<Type.action: 'Action'>, text='God executes \"make argocd_app_async_wait\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='ArgoCD Application name')]), PickleTableRow(cells=[PickleTableCell(value='cert-manager')]), PickleTableRow(cells=[PickleTableCell(value='crossplane')]), PickleTableRow(cells=[PickleTableCell(value='flux')]), PickleTableRow(cells=[PickleTableCell(value='istio-base')]), PickleTableRow(cells=[PickleTableCell(value='istio-ingressgateway')]), PickleTableRow(cells=[PickleTableCell(value='istiod')]), PickleTableRow(cells=[PickleTableCell(value='loki')]), PickleTableRow(cells=[PickleTableCell(value='mindwm-gitops')]), PickleTableRow(cells=[PickleTableCell(value='nats')]), PickleTableRow(cells=[PickleTableCell(value='otel-collector')]), PickleTableRow(cells=[PickleTableCell(value='promtail')]), PickleTableRow(cells=[PickleTableCell(value='redpanda-operator')]), PickleTableRow(cells=[PickleTableCell(value='tempo')]), PickleTableRow(cells=[PickleTableCell(value='vm-aio')]), PickleTableRow(cells=[PickleTableCell(value='redpanda-operator')])])), ast_node_ids=['28'], id='46', type=<Type.outcome: 'Outcome'>, text='all argocd applications are in a healthy state'), PickleStep(argument=None, ast_node_ids=['29'], id='47', type=<Type.action: 'Action'>, text='God executes \"make crossplane_rolebinding_workaround\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Role name')]), PickleTableRow(cells=[PickleTableCell(value='crossplane-admin')])])), ast_node_ids=['32'], id='48', type=<Type.outcome: 'Outcome'>, text='the following roles should exist:')], tags=[PickleTag(name='@lifecycle', ast_node_id='34')], ast_node_ids=['33'])"],"tags":["lifecycle","scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/0_0_mindwm_lifecycle.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=<FeaturePathType.PATH: 'path'>, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())","pytest_bdd_scenario","@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')","namespace(create=False, name='default')"]},{"name":"test_scenarios[file:features/6_mindwm_two_hosts_one_user.feature-MindWM two hosts one user function test-Cleanup user shesha and context varanasi[table_rows:[line: 110]]]","uid":"57995f574a7a088d","parentUid":"3961740595044ffd97a03e46799bfc30","status":"passed","time":{"start":1728404382561,"stop":1728404383825,"duration":1264},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["Feature(gherkin_document=GherkinDocument(uri='file:features/6_mindwm_two_hosts_one_user.feature', feature=Feature(location=Location(line=3, column=1), tags=[Tag(location=Location(line=1, column=1), name='@mindwm_two_hosts_one_user', id='666'), Tag(location=Location(line=2, column=1), name='@mindwm_test', id='667')], language='en', keyword='Feature', name='MindWM two hosts one user function test', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='598'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='599')], id='600'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Create context <context> and user <username>', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='601'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='602'), Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='603'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='iocontext')], id='604'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='pong')], id='605'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='kafka-cdc')], id='606')]), id='607'), Step(location=Location(line=16, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='608'), Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='609'), Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='610')], examples=[Examples(location=Location(line=22, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=23, column=5), cells=[TableCell(location=Location(line=23, column=7), value='context'), TableCell(location=Location(line=23, column=18), value='username')], id='611'), table_body=[TableRow(location=Location(line=24, column=5), cells=[TableCell(location=Location(line=24, column=7), value='varanasi'), TableCell(location=Location(line=24, column=18), value='shesha')], id='612')], id='613')], id='614')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=26, column=3), tags=[], keyword='Scenario', name='Create <host> for user <username>', description='', steps=[Step(location=Location(line=28, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='615'), Step(location=Location(line=29, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='616')], examples=[Examples(location=Location(line=31, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=32, column=5), cells=[TableCell(location=Location(line=32, column=7), value='username'), TableCell(location=Location(line=32, column=18), value='host')], id='617'), table_body=[TableRow(location=Location(line=33, column=5), cells=[TableCell(location=Location(line=33, column=7), value='shesha'), TableCell(location=Location(line=33, column=18), value='workstation01')], id='618'), TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='shesha'), TableCell(location=Location(line=34, column=18), value='travellaptop')], id='619')], id='620')], id='621')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=37, column=3), tags=[], keyword='Scenario', name='Send ping via nats host: <host>, user: <username>', description='', steps=[Step(location=Location(line=38, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='622'), Step(location=Location(line=39, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='623'), Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='624'), Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='625'), Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='626'), Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=44, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='627'), Step(location=Location(line=53, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=54, column=7), rows=[TableRow(location=Location(line=54, column=7), cells=[TableCell(location=Location(line=54, column=9), value='Deployment name')], id='628'), TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='pong-00001-deployment')], id='629')]), id='630'), Step(location=Location(line=57, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='631')], examples=[Examples(location=Location(line=59, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=60, column=6), cells=[TableCell(location=Location(line=60, column=8), value='context'), TableCell(location=Location(line=60, column=18), value='username'), TableCell(location=Location(line=60, column=31), value='host'), TableCell(location=Location(line=60, column=43), value='tmux_pane'), TableCell(location=Location(line=60, column=55), value='tmux_window'), TableCell(location=Location(line=60, column=69), value='uuid'), TableCell(location=Location(line=60, column=109), value='tmux_socket')], id='632'), table_body=[TableRow(location=Location(line=61, column=6), cells=[TableCell(location=Location(line=61, column=8), value='varanasi'), TableCell(location=Location(line=61, column=20), value='shesha'), TableCell(location=Location(line=61, column=31), value='workstation01'), TableCell(location=Location(line=61, column=48), value='23'), TableCell(location=Location(line=61, column=60), value='36'), TableCell(location=Location(line=61, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=61, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='633'), TableRow(location=Location(line=62, column=6), cells=[TableCell(location=Location(line=62, column=8), value='varanasi'), TableCell(location=Location(line=62, column=20), value='shesha'), TableCell(location=Location(line=62, column=31), value='travellaptop'), TableCell(location=Location(line=62, column=47), value='23'), TableCell(location=Location(line=62, column=59), value='36'), TableCell(location=Location(line=62, column=73), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=62, column=112), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='634')], id='635')], id='636')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=64, column=3), tags=[], keyword='Scenario', name='Send iodocument via nats host: <host>, user: <username> and check that second host received graph the update', description='', steps=[Step(location=Location(line=65, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='637'), Step(location=Location(line=66, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='638'), Step(location=Location(line=67, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='639'), Step(location=Location(line=68, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='640'), Step(location=Location(line=69, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=70, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='641'), Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=80, column=7), rows=[TableRow(location=Location(line=80, column=7), cells=[TableCell(location=Location(line=80, column=9), value='Deployment name')], id='642'), TableRow(location=Location(line=81, column=7), cells=[TableCell(location=Location(line=81, column=9), value='iocontext-00001-deployment')], id='643'), TableRow(location=Location(line=82, column=7), cells=[TableCell(location=Location(line=82, column=9), value='kafka-cdc-00001-deployment')], id='644')]), id='645'), Step(location=Location(line=84, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.travellaptop-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='646')], examples=[Examples(location=Location(line=86, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=87, column=6), cells=[TableCell(location=Location(line=87, column=8), value='context'), TableCell(location=Location(line=87, column=18), value='username'), TableCell(location=Location(line=87, column=31), value='host'), TableCell(location=Location(line=87, column=43), value='tmux_pane'), TableCell(location=Location(line=87, column=55), value='tmux_window'), TableCell(location=Location(line=87, column=69), value='uuid'), TableCell(location=Location(line=87, column=109), value='tmux_socket')], id='647'), table_body=[TableRow(location=Location(line=88, column=6), cells=[TableCell(location=Location(line=88, column=8), value='varanasi'), TableCell(location=Location(line=88, column=20), value='shesha'), TableCell(location=Location(line=88, column=31), value='workstation01'), TableCell(location=Location(line=88, column=48), value='23'), TableCell(location=Location(line=88, column=60), value='36'), TableCell(location=Location(line=88, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=88, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='648')], id='649')], id='650')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=92, column=3), tags=[], keyword='Scenario', name='Cleanup hosts <host> in user <username>', description='', steps=[Step(location=Location(line=93, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='651'), Step(location=Location(line=94, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='652')], examples=[Examples(location=Location(line=96, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=97, column=5), cells=[TableCell(location=Location(line=97, column=7), value='username'), TableCell(location=Location(line=97, column=18), value='host')], id='653'), table_body=[TableRow(location=Location(line=98, column=5), cells=[TableCell(location=Location(line=98, column=7), value='shesha'), TableCell(location=Location(line=98, column=18), value='workstation01')], id='654'), TableRow(location=Location(line=99, column=5), cells=[TableCell(location=Location(line=99, column=7), value='shesha'), TableCell(location=Location(line=99, column=18), value='travellaptop')], id='655')], id='656')], id='657')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=101, column=3), tags=[], keyword='Scenario', name='Cleanup user <username> and context <context>', description='', steps=[Step(location=Location(line=102, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='658'), Step(location=Location(line=103, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='659'), Step(location=Location(line=105, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='660'), Step(location=Location(line=106, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='661')], examples=[Examples(location=Location(line=108, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=109, column=5), cells=[TableCell(location=Location(line=109, column=7), value='context'), TableCell(location=Location(line=109, column=18), value='username')], id='662'), table_body=[TableRow(location=Location(line=110, column=5), cells=[TableCell(location=Location(line=110, column=7), value='varanasi'), TableCell(location=Location(line=110, column=18), value='shesha')], id='663')], id='664')], id='665'))]), comments=[Comment(location=Location(line=89, column=1), text='     #| varanasi  | shesha   | travellaptop  | 23        | 36          | 8d839f82-79da-11ef-bc9f-f74fac7543ac  |L3RtcC90bXV4LTEwMDAvZGVmYXVsdA== |')]), uri='file:features/6_mindwm_two_hosts_one_user.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/6_mindwm_two_hosts_one_user.feature', registry={'666': Tag(location=Location(line=1, column=1), name='@mindwm_two_hosts_one_user', id='666'), '667': Tag(location=Location(line=2, column=1), name='@mindwm_test', id='667'), '600': Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='598'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='599')], id='600'), '598': Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='598'), '599': Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='599'), '614': Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Create context <context> and user <username>', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='601'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='602'), Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='603'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='iocontext')], id='604'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='pong')], id='605'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='kafka-cdc')], id='606')]), id='607'), Step(location=Location(line=16, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='608'), Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='609'), Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='610')], examples=[Examples(location=Location(line=22, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=23, column=5), cells=[TableCell(location=Location(line=23, column=7), value='context'), TableCell(location=Location(line=23, column=18), value='username')], id='611'), table_body=[TableRow(location=Location(line=24, column=5), cells=[TableCell(location=Location(line=24, column=7), value='varanasi'), TableCell(location=Location(line=24, column=18), value='shesha')], id='612')], id='613')], id='614'), '601': Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='601'), '602': Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='602'), '607': Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='603'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='iocontext')], id='604'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='pong')], id='605'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='kafka-cdc')], id='606')]), id='607'), '608': Step(location=Location(line=16, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='608'), '609': Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='609'), '610': Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='610'), '613': Examples(location=Location(line=22, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=23, column=5), cells=[TableCell(location=Location(line=23, column=7), value='context'), TableCell(location=Location(line=23, column=18), value='username')], id='611'), table_body=[TableRow(location=Location(line=24, column=5), cells=[TableCell(location=Location(line=24, column=7), value='varanasi'), TableCell(location=Location(line=24, column=18), value='shesha')], id='612')], id='613'), '611': TableRow(location=Location(line=23, column=5), cells=[TableCell(location=Location(line=23, column=7), value='context'), TableCell(location=Location(line=23, column=18), value='username')], id='611'), '612': TableRow(location=Location(line=24, column=5), cells=[TableCell(location=Location(line=24, column=7), value='varanasi'), TableCell(location=Location(line=24, column=18), value='shesha')], id='612'), '621': Scenario(location=Location(line=26, column=3), tags=[], keyword='Scenario', name='Create <host> for user <username>', description='', steps=[Step(location=Location(line=28, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='615'), Step(location=Location(line=29, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='616')], examples=[Examples(location=Location(line=31, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=32, column=5), cells=[TableCell(location=Location(line=32, column=7), value='username'), TableCell(location=Location(line=32, column=18), value='host')], id='617'), table_body=[TableRow(location=Location(line=33, column=5), cells=[TableCell(location=Location(line=33, column=7), value='shesha'), TableCell(location=Location(line=33, column=18), value='workstation01')], id='618'), TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='shesha'), TableCell(location=Location(line=34, column=18), value='travellaptop')], id='619')], id='620')], id='621'), '615': Step(location=Location(line=28, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='615'), '616': Step(location=Location(line=29, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='616'), '620': Examples(location=Location(line=31, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=32, column=5), cells=[TableCell(location=Location(line=32, column=7), value='username'), TableCell(location=Location(line=32, column=18), value='host')], id='617'), table_body=[TableRow(location=Location(line=33, column=5), cells=[TableCell(location=Location(line=33, column=7), value='shesha'), TableCell(location=Location(line=33, column=18), value='workstation01')], id='618'), TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='shesha'), TableCell(location=Location(line=34, column=18), value='travellaptop')], id='619')], id='620'), '617': TableRow(location=Location(line=32, column=5), cells=[TableCell(location=Location(line=32, column=7), value='username'), TableCell(location=Location(line=32, column=18), value='host')], id='617'), '618': TableRow(location=Location(line=33, column=5), cells=[TableCell(location=Location(line=33, column=7), value='shesha'), TableCell(location=Location(line=33, column=18), value='workstation01')], id='618'), '619': TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='shesha'), TableCell(location=Location(line=34, column=18), value='travellaptop')], id='619'), '636': Scenario(location=Location(line=37, column=3), tags=[], keyword='Scenario', name='Send ping via nats host: <host>, user: <username>', description='', steps=[Step(location=Location(line=38, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='622'), Step(location=Location(line=39, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='623'), Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='624'), Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='625'), Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='626'), Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=44, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='627'), Step(location=Location(line=53, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=54, column=7), rows=[TableRow(location=Location(line=54, column=7), cells=[TableCell(location=Location(line=54, column=9), value='Deployment name')], id='628'), TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='pong-00001-deployment')], id='629')]), id='630'), Step(location=Location(line=57, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='631')], examples=[Examples(location=Location(line=59, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=60, column=6), cells=[TableCell(location=Location(line=60, column=8), value='context'), TableCell(location=Location(line=60, column=18), value='username'), TableCell(location=Location(line=60, column=31), value='host'), TableCell(location=Location(line=60, column=43), value='tmux_pane'), TableCell(location=Location(line=60, column=55), value='tmux_window'), TableCell(location=Location(line=60, column=69), value='uuid'), TableCell(location=Location(line=60, column=109), value='tmux_socket')], id='632'), table_body=[TableRow(location=Location(line=61, column=6), cells=[TableCell(location=Location(line=61, column=8), value='varanasi'), TableCell(location=Location(line=61, column=20), value='shesha'), TableCell(location=Location(line=61, column=31), value='workstation01'), TableCell(location=Location(line=61, column=48), value='23'), TableCell(location=Location(line=61, column=60), value='36'), TableCell(location=Location(line=61, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=61, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='633'), TableRow(location=Location(line=62, column=6), cells=[TableCell(location=Location(line=62, column=8), value='varanasi'), TableCell(location=Location(line=62, column=20), value='shesha'), TableCell(location=Location(line=62, column=31), value='travellaptop'), TableCell(location=Location(line=62, column=47), value='23'), TableCell(location=Location(line=62, column=59), value='36'), TableCell(location=Location(line=62, column=73), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=62, column=112), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='634')], id='635')], id='636'), '622': Step(location=Location(line=38, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='622'), '623': Step(location=Location(line=39, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='623'), '624': Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='624'), '625': Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='625'), '626': Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='626'), '627': Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=44, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='627'), '630': Step(location=Location(line=53, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=54, column=7), rows=[TableRow(location=Location(line=54, column=7), cells=[TableCell(location=Location(line=54, column=9), value='Deployment name')], id='628'), TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='pong-00001-deployment')], id='629')]), id='630'), '631': Step(location=Location(line=57, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='631'), '635': Examples(location=Location(line=59, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=60, column=6), cells=[TableCell(location=Location(line=60, column=8), value='context'), TableCell(location=Location(line=60, column=18), value='username'), TableCell(location=Location(line=60, column=31), value='host'), TableCell(location=Location(line=60, column=43), value='tmux_pane'), TableCell(location=Location(line=60, column=55), value='tmux_window'), TableCell(location=Location(line=60, column=69), value='uuid'), TableCell(location=Location(line=60, column=109), value='tmux_socket')], id='632'), table_body=[TableRow(location=Location(line=61, column=6), cells=[TableCell(location=Location(line=61, column=8), value='varanasi'), TableCell(location=Location(line=61, column=20), value='shesha'), TableCell(location=Location(line=61, column=31), value='workstation01'), TableCell(location=Location(line=61, column=48), value='23'), TableCell(location=Location(line=61, column=60), value='36'), TableCell(location=Location(line=61, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=61, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='633'), TableRow(location=Location(line=62, column=6), cells=[TableCell(location=Location(line=62, column=8), value='varanasi'), TableCell(location=Location(line=62, column=20), value='shesha'), TableCell(location=Location(line=62, column=31), value='travellaptop'), TableCell(location=Location(line=62, column=47), value='23'), TableCell(location=Location(line=62, column=59), value='36'), TableCell(location=Location(line=62, column=73), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=62, column=112), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='634')], id='635'), '632': TableRow(location=Location(line=60, column=6), cells=[TableCell(location=Location(line=60, column=8), value='context'), TableCell(location=Location(line=60, column=18), value='username'), TableCell(location=Location(line=60, column=31), value='host'), TableCell(location=Location(line=60, column=43), value='tmux_pane'), TableCell(location=Location(line=60, column=55), value='tmux_window'), TableCell(location=Location(line=60, column=69), value='uuid'), TableCell(location=Location(line=60, column=109), value='tmux_socket')], id='632'), '633': TableRow(location=Location(line=61, column=6), cells=[TableCell(location=Location(line=61, column=8), value='varanasi'), TableCell(location=Location(line=61, column=20), value='shesha'), TableCell(location=Location(line=61, column=31), value='workstation01'), TableCell(location=Location(line=61, column=48), value='23'), TableCell(location=Location(line=61, column=60), value='36'), TableCell(location=Location(line=61, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=61, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='633'), '634': TableRow(location=Location(line=62, column=6), cells=[TableCell(location=Location(line=62, column=8), value='varanasi'), TableCell(location=Location(line=62, column=20), value='shesha'), TableCell(location=Location(line=62, column=31), value='travellaptop'), TableCell(location=Location(line=62, column=47), value='23'), TableCell(location=Location(line=62, column=59), value='36'), TableCell(location=Location(line=62, column=73), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=62, column=112), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='634'), '650': Scenario(location=Location(line=64, column=3), tags=[], keyword='Scenario', name='Send iodocument via nats host: <host>, user: <username> and check that second host received graph the update', description='', steps=[Step(location=Location(line=65, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='637'), Step(location=Location(line=66, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='638'), Step(location=Location(line=67, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='639'), Step(location=Location(line=68, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='640'), Step(location=Location(line=69, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=70, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='641'), Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=80, column=7), rows=[TableRow(location=Location(line=80, column=7), cells=[TableCell(location=Location(line=80, column=9), value='Deployment name')], id='642'), TableRow(location=Location(line=81, column=7), cells=[TableCell(location=Location(line=81, column=9), value='iocontext-00001-deployment')], id='643'), TableRow(location=Location(line=82, column=7), cells=[TableCell(location=Location(line=82, column=9), value='kafka-cdc-00001-deployment')], id='644')]), id='645'), Step(location=Location(line=84, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.travellaptop-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='646')], examples=[Examples(location=Location(line=86, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=87, column=6), cells=[TableCell(location=Location(line=87, column=8), value='context'), TableCell(location=Location(line=87, column=18), value='username'), TableCell(location=Location(line=87, column=31), value='host'), TableCell(location=Location(line=87, column=43), value='tmux_pane'), TableCell(location=Location(line=87, column=55), value='tmux_window'), TableCell(location=Location(line=87, column=69), value='uuid'), TableCell(location=Location(line=87, column=109), value='tmux_socket')], id='647'), table_body=[TableRow(location=Location(line=88, column=6), cells=[TableCell(location=Location(line=88, column=8), value='varanasi'), TableCell(location=Location(line=88, column=20), value='shesha'), TableCell(location=Location(line=88, column=31), value='workstation01'), TableCell(location=Location(line=88, column=48), value='23'), TableCell(location=Location(line=88, column=60), value='36'), TableCell(location=Location(line=88, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=88, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='648')], id='649')], id='650'), '637': Step(location=Location(line=65, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='637'), '638': Step(location=Location(line=66, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='638'), '639': Step(location=Location(line=67, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='639'), '640': Step(location=Location(line=68, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='640'), '641': Step(location=Location(line=69, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=70, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='641'), '645': Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=80, column=7), rows=[TableRow(location=Location(line=80, column=7), cells=[TableCell(location=Location(line=80, column=9), value='Deployment name')], id='642'), TableRow(location=Location(line=81, column=7), cells=[TableCell(location=Location(line=81, column=9), value='iocontext-00001-deployment')], id='643'), TableRow(location=Location(line=82, column=7), cells=[TableCell(location=Location(line=82, column=9), value='kafka-cdc-00001-deployment')], id='644')]), id='645'), '646': Step(location=Location(line=84, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.travellaptop-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='646'), '649': Examples(location=Location(line=86, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=87, column=6), cells=[TableCell(location=Location(line=87, column=8), value='context'), TableCell(location=Location(line=87, column=18), value='username'), TableCell(location=Location(line=87, column=31), value='host'), TableCell(location=Location(line=87, column=43), value='tmux_pane'), TableCell(location=Location(line=87, column=55), value='tmux_window'), TableCell(location=Location(line=87, column=69), value='uuid'), TableCell(location=Location(line=87, column=109), value='tmux_socket')], id='647'), table_body=[TableRow(location=Location(line=88, column=6), cells=[TableCell(location=Location(line=88, column=8), value='varanasi'), TableCell(location=Location(line=88, column=20), value='shesha'), TableCell(location=Location(line=88, column=31), value='workstation01'), TableCell(location=Location(line=88, column=48), value='23'), TableCell(location=Location(line=88, column=60), value='36'), TableCell(location=Location(line=88, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=88, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='648')], id='649'), '647': TableRow(location=Location(line=87, column=6), cells=[TableCell(location=Location(line=87, column=8), value='context'), TableCell(location=Location(line=87, column=18), value='username'), TableCell(location=Location(line=87, column=31), value='host'), TableCell(location=Location(line=87, column=43), value='tmux_pane'), TableCell(location=Location(line=87, column=55), value='tmux_window'), TableCell(location=Location(line=87, column=69), value='uuid'), TableCell(location=Location(line=87, column=109), value='tmux_socket')], id='647'), '648': TableRow(location=Location(line=88, column=6), cells=[TableCell(location=Location(line=88, column=8), value='varanasi'), TableCell(location=Location(line=88, column=20), value='shesha'), TableCell(location=Location(line=88, column=31), value='workstation01'), TableCell(location=Location(line=88, column=48), value='23'), TableCell(location=Location(line=88, column=60), value='36'), TableCell(location=Location(line=88, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=88, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='648'), '657': Scenario(location=Location(line=92, column=3), tags=[], keyword='Scenario', name='Cleanup hosts <host> in user <username>', description='', steps=[Step(location=Location(line=93, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='651'), Step(location=Location(line=94, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='652')], examples=[Examples(location=Location(line=96, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=97, column=5), cells=[TableCell(location=Location(line=97, column=7), value='username'), TableCell(location=Location(line=97, column=18), value='host')], id='653'), table_body=[TableRow(location=Location(line=98, column=5), cells=[TableCell(location=Location(line=98, column=7), value='shesha'), TableCell(location=Location(line=98, column=18), value='workstation01')], id='654'), TableRow(location=Location(line=99, column=5), cells=[TableCell(location=Location(line=99, column=7), value='shesha'), TableCell(location=Location(line=99, column=18), value='travellaptop')], id='655')], id='656')], id='657'), '651': Step(location=Location(line=93, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='651'), '652': Step(location=Location(line=94, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='652'), '656': Examples(location=Location(line=96, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=97, column=5), cells=[TableCell(location=Location(line=97, column=7), value='username'), TableCell(location=Location(line=97, column=18), value='host')], id='653'), table_body=[TableRow(location=Location(line=98, column=5), cells=[TableCell(location=Location(line=98, column=7), value='shesha'), TableCell(location=Location(line=98, column=18), value='workstation01')], id='654'), TableRow(location=Location(line=99, column=5), cells=[TableCell(location=Location(line=99, column=7), value='shesha'), TableCell(location=Location(line=99, column=18), value='travellaptop')], id='655')], id='656'), '653': TableRow(location=Location(line=97, column=5), cells=[TableCell(location=Location(line=97, column=7), value='username'), TableCell(location=Location(line=97, column=18), value='host')], id='653'), '654': TableRow(location=Location(line=98, column=5), cells=[TableCell(location=Location(line=98, column=7), value='shesha'), TableCell(location=Location(line=98, column=18), value='workstation01')], id='654'), '655': TableRow(location=Location(line=99, column=5), cells=[TableCell(location=Location(line=99, column=7), value='shesha'), TableCell(location=Location(line=99, column=18), value='travellaptop')], id='655'), '665': Scenario(location=Location(line=101, column=3), tags=[], keyword='Scenario', name='Cleanup user <username> and context <context>', description='', steps=[Step(location=Location(line=102, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='658'), Step(location=Location(line=103, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='659'), Step(location=Location(line=105, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='660'), Step(location=Location(line=106, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='661')], examples=[Examples(location=Location(line=108, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=109, column=5), cells=[TableCell(location=Location(line=109, column=7), value='context'), TableCell(location=Location(line=109, column=18), value='username')], id='662'), table_body=[TableRow(location=Location(line=110, column=5), cells=[TableCell(location=Location(line=110, column=7), value='varanasi'), TableCell(location=Location(line=110, column=18), value='shesha')], id='663')], id='664')], id='665'), '658': Step(location=Location(line=102, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='658'), '659': Step(location=Location(line=103, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='659'), '660': Step(location=Location(line=105, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='660'), '661': Step(location=Location(line=106, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='661'), '664': Examples(location=Location(line=108, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=109, column=5), cells=[TableCell(location=Location(line=109, column=7), value='context'), TableCell(location=Location(line=109, column=18), value='username')], id='662'), table_body=[TableRow(location=Location(line=110, column=5), cells=[TableCell(location=Location(line=110, column=7), value='varanasi'), TableCell(location=Location(line=110, column=18), value='shesha')], id='663')], id='664'), '662': TableRow(location=Location(line=109, column=5), cells=[TableCell(location=Location(line=109, column=7), value='context'), TableCell(location=Location(line=109, column=18), value='username')], id='662'), '663': TableRow(location=Location(line=110, column=5), cells=[TableCell(location=Location(line=110, column=7), value='varanasi'), TableCell(location=Location(line=110, column=18), value='shesha')], id='663')}, pickles=[Pickle(id='676', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Create context varanasi and user shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='668', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='669', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['601', '612'], id='670', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"varanasi\"'), PickleStep(argument=None, ast_node_ids=['602', '612'], id='671', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext')]), PickleTableRow(cells=[PickleTableCell(value='pong')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')])])), ast_node_ids=['607', '612'], id='672', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-varanasi\" namespace'), PickleStep(argument=None, ast_node_ids=['608', '612'], id='673', type=<Type.outcome: 'Outcome'>, text='statefulset \"varanasi-neo4j\" in namespace \"context-varanasi\" is in ready state'), PickleStep(argument=None, ast_node_ids=['609', '612'], id='674', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"shesha\" and connects it to the context \"varanasi\"'), PickleStep(argument=None, ast_node_ids=['610', '612'], id='675', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['614', '612']), Pickle(id='681', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Create workstation01 for user shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='677', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='678', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['615', '618'], id='679', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"workstation01\" and connects it to the user \"shesha\"'), PickleStep(argument=None, ast_node_ids=['616', '618'], id='680', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['621', '618']), Pickle(id='686', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Create travellaptop for user shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='682', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='683', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['615', '619'], id='684', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"travellaptop\" and connects it to the user \"shesha\"'), PickleStep(argument=None, ast_node_ids=['616', '619'], id='685', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['621', '619']), Pickle(id='697', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Send ping via nats host: workstation01, user: shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='687', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='688', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['622', '633'], id='689', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['623', '633'], id='690', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['624', '633'], id='691', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['625', '633'], id='692', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['626', '633'], id='693', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.shesha.workstation01.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['627', '633'], id='694', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.shesha.workstation01.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='pong-00001-deployment')])])), ast_node_ids=['630', '633'], id='695', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-varanasi\" namespace'), PickleStep(argument=None, ast_node_ids=['631', '633'], id='696', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-shesha.workstation01-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['636', '633']), Pickle(id='708', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Send ping via nats host: travellaptop, user: shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='698', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='699', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['622', '634'], id='700', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['623', '634'], id='701', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['624', '634'], id='702', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['625', '634'], id='703', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['626', '634'], id='704', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.shesha.travellaptop.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['627', '634'], id='705', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.shesha.travellaptop.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='pong-00001-deployment')])])), ast_node_ids=['630', '634'], id='706', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-varanasi\" namespace'), PickleStep(argument=None, ast_node_ids=['631', '634'], id='707', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-shesha.travellaptop-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['636', '634']), Pickle(id='718', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Send iodocument via nats host: workstation01, user: shesha and check that second host received graph the update', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='709', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='710', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['637', '648'], id='711', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['638', '648'], id='712', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"id\"'), PickleStep(argument=None, ast_node_ids=['639', '648'], id='713', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['640', '648'], id='714', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.shesha.workstation01.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['641', '648'], id='715', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.shesha.workstation01.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.3623.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-00001-deployment')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-00001-deployment')])])), ast_node_ids=['645', '648'], id='716', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-varanasi\" namespace'), PickleStep(argument=None, ast_node_ids=['646', '648'], id='717', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-shesha.travellaptop-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['650', '648']), Pickle(id='723', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Cleanup hosts workstation01 in user shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='719', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='720', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['651', '654'], id='721', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"workstation01\"'), PickleStep(argument=None, ast_node_ids=['652', '654'], id='722', type=<Type.outcome: 'Outcome'>, text='the host \"workstation01\" should be deleted')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['657', '654']), Pickle(id='728', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Cleanup hosts travellaptop in user shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='724', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='725', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['651', '655'], id='726', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"travellaptop\"'), PickleStep(argument=None, ast_node_ids=['652', '655'], id='727', type=<Type.outcome: 'Outcome'>, text='the host \"travellaptop\" should be deleted')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['657', '655']), Pickle(id='735', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Cleanup user shesha and context varanasi', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='729', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='730', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['658', '663'], id='731', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"shesha\"'), PickleStep(argument=None, ast_node_ids=['659', '663'], id='732', type=<Type.outcome: 'Outcome'>, text='the user \"shesha\" should be deleted'), PickleStep(argument=None, ast_node_ids=['660', '663'], id='733', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"varanasi\"'), PickleStep(argument=None, ast_node_ids=['661', '663'], id='734', type=<Type.outcome: 'Outcome'>, text='the context \"varanasi\" should be deleted')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['665', '663'])])","Source(uri='file:features/6_mindwm_two_hosts_one_user.feature', data='@mindwm_two_hosts_one_user\\n@mindwm_test\\nFeature: MindWM two hosts one user function test\\n  Background:\\n    Given A MindWM environment\\n    Then all nodes in Kubernetes are ready\\n\\n  Scenario: Create context <context> and user <username>\\n    When God creates a MindWM context with the name \"<context>\"\\n    Then the context should be ready and operable\\n    Then the following knative services are in a ready state in the \"context-<context>\" namespace\\n      | Knative service name |\\n      | iocontext            |\\n      | pong                 |\\n      | kafka-cdc            |\\n    And statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state\\n\\n    When God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"\\n    Then the user resource should be ready and operable\\n\\n\\n    Examples:\\n    | context  | username |\\n    | varanasi | shesha   |\\n\\n  Scenario: Create <host> for user <username>\\n\\n    When God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"\\n    Then the host resource should be ready and operable\\n\\n    Examples:\\n    | username | host           |\\n    | shesha   | workstation01  |\\n    | shesha   | travellaptop   |\\n\\n\\n  Scenario: Send ping via nats host: <host>, user: <username>\\n    When God creates a new cloudevent \\n      And God starts reading message from NATS topic \">\"\\n      And sets cloudevent header \"ce-subject\" to \"#ping\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"\\n      And sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"\\n      \"\"\"\\n      {\\n        \"input\": \"#ping\",\\n        \"output\": \"\",\\n        \"ps1\": \"❯\",\\n        \"type\": \"org.mindwm.v1.iodocument\"\\n      } \\n      \"\"\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name       |\\n      | pong-00001-deployment |\\n\\n    And a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"\\n\\n    Examples:\\n     | context | username   | host      | tmux_pane | tmux_window | uuid                                  | tmux_socket                     |\\n     | varanasi  | shesha   | workstation01  | 23        | 36          | 8d839f82-79da-11ef-bc9f-f74fac7543ac  |L3RtcC90bXV4LTEwMDAvZGVmYXVsdA== |\\n     | varanasi  | shesha   | travellaptop  | 23        | 36          | 8d839f82-79da-11ef-bc9f-f74fac7543ac  |L3RtcC90bXV4LTEwMDAvZGVmYXVsdA== |\\n\\n  Scenario: Send iodocument via nats host: <host>, user: <username> and check that second host received graph the update\\n    When God creates a new cloudevent \\n      And sets cloudevent header \"ce-subject\" to \"id\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"\\n      And sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"\\n      \"\"\"\\n      {\\n        \"input\": \"id\",\\n        \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n        \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n        \"type\": \"org.mindwm.v1.iodocument\"\\n      } \\n      \"\"\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name       |\\n      | iocontext-00001-deployment |\\n      | kafka-cdc-00001-deployment |\\n\\n    And a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.travellaptop-host-broker-kne-trigger._knative\"\\n\\n    Examples:\\n     | context | username   | host      | tmux_pane | tmux_window | uuid                                  | tmux_socket                     |\\n     | varanasi  | shesha   | workstation01  | 23        | 36          | 8d839f82-79da-11ef-bc9f-f74fac7543ac  |L3RtcC90bXV4LTEwMDAvZGVmYXVsdA== |\\n     #| varanasi  | shesha   | travellaptop  | 23        | 36          | 8d839f82-79da-11ef-bc9f-f74fac7543ac  |L3RtcC90bXV4LTEwMDAvZGVmYXVsdA== |\\n\\n\\n  Scenario: Cleanup hosts <host> in user <username>\\n    When God deletes the MindWM host resource \"<host>\"\\n    Then the host \"<host>\" should be deleted\\n\\n    Examples:\\n    | username | host           |\\n    | shesha   | workstation01  |\\n    | shesha   | travellaptop   |\\n\\n  Scenario: Cleanup user <username> and context <context>\\n    When God deletes the MindWM user resource \"<username>\"\\n    Then the user \"<username>\" should be deleted\\n\\n    When God deletes the MindWM context resource \"<context>\"\\n    Then the context \"<context>\" should be deleted\\n\\n    Examples:\\n    | context  | username |\\n    | varanasi | shesha   |\\n', media_type='text/x.cucumber.gherkin+plain')","Pickle(id='735', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Cleanup user shesha and context varanasi', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='729', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='730', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['658', '663'], id='731', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"shesha\"'), PickleStep(argument=None, ast_node_ids=['659', '663'], id='732', type=<Type.outcome: 'Outcome'>, text='the user \"shesha\" should be deleted'), PickleStep(argument=None, ast_node_ids=['660', '663'], id='733', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"varanasi\"'), PickleStep(argument=None, ast_node_ids=['661', '663'], id='734', type=<Type.outcome: 'Outcome'>, text='the context \"varanasi\" should be deleted')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['665', '663'])"],"tags":["scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/6_mindwm_two_hosts_one_user.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=<FeaturePathType.PATH: 'path'>, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())","mindwm_two_hosts_one_user","pytest_bdd_scenario","@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')","mindwm_test","namespace(create=False, name='default')"]},{"name":"test_scenarios[file:features/3_mindwm_ping_pong.feature-MindWM Ping-pong EDA test-Send ping via broker-ingress.knative-eventing/user-amanda4/user-broker[table_rows:[line: 83]]]","uid":"e1fa7680dc86d2db","parentUid":"3961740595044ffd97a03e46799bfc30","status":"passed","time":{"start":1728403829242,"stop":1728403850620,"duration":21378},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["Feature(gherkin_document=GherkinDocument(uri='file:features/3_mindwm_ping_pong.feature', feature=Feature(location=Location(line=3, column=1), tags=[Tag(location=Location(line=1, column=1), name='@mindwm_ping_pong', id='380'), Tag(location=Location(line=2, column=1), name='@mindwm_test', id='381')], language='en', keyword='Feature', name='MindWM Ping-pong EDA test', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='306'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='307')], id='308'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Prepare environment for ping tests', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='309'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='310'), Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='311'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='pong')], id='312')]), id='313'), Step(location=Location(line=15, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='314'), Step(location=Location(line=16, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='315'), Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='316'), Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='317'), Step(location=Location(line=20, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace', doc_string=None, data_table=None, id='318'), Step(location=Location(line=22, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='319')], examples=[Examples(location=Location(line=24, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=25, column=6), cells=[TableCell(location=Location(line=25, column=8), value='context'), TableCell(location=Location(line=25, column=18), value='username'), TableCell(location=Location(line=25, column=31), value='host')], id='320'), table_body=[TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='green4'), TableCell(location=Location(line=26, column=19), value='amanda4'), TableCell(location=Location(line=26, column=31), value='pi6-host')], id='321')], id='322')], id='323')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=28, column=3), tags=[], keyword='Scenario', name='Send pind to knative ping service', description='', steps=[Step(location=Location(line=29, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='324'), Step(location=Location(line=30, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='325'), Step(location=Location(line=31, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='326'), Step(location=Location(line=32, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"', doc_string=None, data_table=None, id='327'), Step(location=Location(line=33, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to knative service \"pong\" in \"context-<context>\" namespace', doc_string=DocString(location=Location(line=34, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='328'), Step(location=Location(line=42, column=7), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"200\"', doc_string=None, data_table=None, id='329'), Step(location=Location(line=44, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=45, column=7), rows=[TableRow(location=Location(line=45, column=7), cells=[TableCell(location=Location(line=45, column=9), value='Deployment name')], id='330'), TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='pong-00001-deployment')], id='331')]), id='332')], examples=[Examples(location=Location(line=48, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=49, column=6), cells=[TableCell(location=Location(line=49, column=8), value='context'), TableCell(location=Location(line=49, column=18), value='username'), TableCell(location=Location(line=49, column=31), value='host')], id='333'), table_body=[TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='green4'), TableCell(location=Location(line=50, column=19), value='amanda4'), TableCell(location=Location(line=50, column=31), value='pi6-host')], id='334')], id='335')], id='336')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=52, column=3), tags=[], keyword='Scenario', name='Send ping via <endpoint>', description='', steps=[Step(location=Location(line=53, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='337'), Step(location=Location(line=54, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='338'), Step(location=Location(line=55, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='339'), Step(location=Location(line=56, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='340'), Step(location=Location(line=57, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"', doc_string=None, data_table=None, id='341'), Step(location=Location(line=58, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to \"<endpoint>\"', doc_string=DocString(location=Location(line=59, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='342'), Step(location=Location(line=67, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"202\"', doc_string=None, data_table=None, id='343'), Step(location=Location(line=69, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=70, column=7), rows=[TableRow(location=Location(line=70, column=7), cells=[TableCell(location=Location(line=70, column=9), value='Deployment name')], id='344'), TableRow(location=Location(line=71, column=7), cells=[TableCell(location=Location(line=71, column=9), value='pong-00001-deployment')], id='345')]), id='346'), Step(location=Location(line=72, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the trace with \"<traceparent>\" should appear in TraceQL', doc_string=None, data_table=None, id='347'), Step(location=Location(line=73, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the trace should contains', doc_string=None, data_table=DataTable(location=Location(line=74, column=7), rows=[TableRow(location=Location(line=74, column=7), cells=[TableCell(location=Location(line=74, column=9), value='service name')], id='348'), TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='broker-ingress.knative-eventing')], id='349'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='unknown_service')], id='350'), TableRow(location=Location(line=77, column=7), cells=[TableCell(location=Location(line=77, column=9), value='jetstream-ch-dispatcher')], id='351')]), id='352'), Step(location=Location(line=78, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='353')], examples=[Examples(location=Location(line=80, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=81, column=6), cells=[TableCell(location=Location(line=81, column=8), value='context'), TableCell(location=Location(line=81, column=18), value='username'), TableCell(location=Location(line=81, column=31), value='host'), TableCell(location=Location(line=81, column=43), value='endpoint'), TableCell(location=Location(line=81, column=54), value='traceparent')], id='354'), table_body=[TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='green4'), TableCell(location=Location(line=82, column=19), value='amanda4'), TableCell(location=Location(line=82, column=31), value='pi6-host'), TableCell(location=Location(line=82, column=43), value='broker-ingress.knative-eventing/context-green4/context-broker'), TableCell(location=Location(line=82, column=109), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='355'), TableRow(location=Location(line=83, column=6), cells=[TableCell(location=Location(line=83, column=8), value='green4'), TableCell(location=Location(line=83, column=19), value='amanda4'), TableCell(location=Location(line=83, column=31), value='pi6-host'), TableCell(location=Location(line=83, column=43), value='broker-ingress.knative-eventing/user-amanda4/user-broker'), TableCell(location=Location(line=83, column=102), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='356')], id='357')], id='358')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=86, column=3), tags=[], keyword='Scenario', name='Send ping via nats', description='', steps=[Step(location=Location(line=87, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='359'), Step(location=Location(line=88, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='360'), Step(location=Location(line=89, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='361'), Step(location=Location(line=90, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='362'), Step(location=Location(line=91, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=92, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='363'), Step(location=Location(line=101, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=102, column=7), rows=[TableRow(location=Location(line=102, column=7), cells=[TableCell(location=Location(line=102, column=9), value='Deployment name')], id='364'), TableRow(location=Location(line=103, column=7), cells=[TableCell(location=Location(line=103, column=9), value='pong-00001-deployment')], id='365')]), id='366'), Step(location=Location(line=105, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='367')], examples=[Examples(location=Location(line=108, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=109, column=6), cells=[TableCell(location=Location(line=109, column=8), value='context'), TableCell(location=Location(line=109, column=18), value='username'), TableCell(location=Location(line=109, column=31), value='host'), TableCell(location=Location(line=109, column=43), value='tmux_pane'), TableCell(location=Location(line=109, column=55), value='tmux_window'), TableCell(location=Location(line=109, column=69), value='uuid'), TableCell(location=Location(line=109, column=109), value='tmux_socket')], id='368'), table_body=[TableRow(location=Location(line=110, column=6), cells=[TableCell(location=Location(line=110, column=8), value='green4'), TableCell(location=Location(line=110, column=19), value='amanda4'), TableCell(location=Location(line=110, column=31), value='pi6-host'), TableCell(location=Location(line=110, column=43), value='23'), TableCell(location=Location(line=110, column=55), value='36'), TableCell(location=Location(line=110, column=69), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=110, column=108), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='369')], id='370')], id='371')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=113, column=4), tags=[], keyword='Scenario', name='Cleanup <username>@<host> in <context>', description='', steps=[Step(location=Location(line=114, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='372'), Step(location=Location(line=115, column=6), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='373'), Step(location=Location(line=117, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='374'), Step(location=Location(line=119, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='375')], examples=[Examples(location=Location(line=121, column=6), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=122, column=6), cells=[TableCell(location=Location(line=122, column=8), value='context'), TableCell(location=Location(line=122, column=18), value='username'), TableCell(location=Location(line=122, column=29), value='host')], id='376'), table_body=[TableRow(location=Location(line=123, column=6), cells=[TableCell(location=Location(line=123, column=8), value='green4'), TableCell(location=Location(line=123, column=19), value='amanda4'), TableCell(location=Location(line=123, column=31), value='pi6-host')], id='377')], id='378')], id='379'))]), comments=[]), uri='file:features/3_mindwm_ping_pong.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/3_mindwm_ping_pong.feature', registry={'380': Tag(location=Location(line=1, column=1), name='@mindwm_ping_pong', id='380'), '381': Tag(location=Location(line=2, column=1), name='@mindwm_test', id='381'), '308': Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='306'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='307')], id='308'), '306': Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='306'), '307': Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='307'), '323': Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Prepare environment for ping tests', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='309'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='310'), Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='311'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='pong')], id='312')]), id='313'), Step(location=Location(line=15, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='314'), Step(location=Location(line=16, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='315'), Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='316'), Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='317'), Step(location=Location(line=20, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace', doc_string=None, data_table=None, id='318'), Step(location=Location(line=22, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='319')], examples=[Examples(location=Location(line=24, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=25, column=6), cells=[TableCell(location=Location(line=25, column=8), value='context'), TableCell(location=Location(line=25, column=18), value='username'), TableCell(location=Location(line=25, column=31), value='host')], id='320'), table_body=[TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='green4'), TableCell(location=Location(line=26, column=19), value='amanda4'), TableCell(location=Location(line=26, column=31), value='pi6-host')], id='321')], id='322')], id='323'), '309': Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='309'), '310': Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='310'), '313': Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='311'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='pong')], id='312')]), id='313'), '314': Step(location=Location(line=15, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='314'), '315': Step(location=Location(line=16, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='315'), '316': Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='316'), '317': Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='317'), '318': Step(location=Location(line=20, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace', doc_string=None, data_table=None, id='318'), '319': Step(location=Location(line=22, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='319'), '322': Examples(location=Location(line=24, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=25, column=6), cells=[TableCell(location=Location(line=25, column=8), value='context'), TableCell(location=Location(line=25, column=18), value='username'), TableCell(location=Location(line=25, column=31), value='host')], id='320'), table_body=[TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='green4'), TableCell(location=Location(line=26, column=19), value='amanda4'), TableCell(location=Location(line=26, column=31), value='pi6-host')], id='321')], id='322'), '320': TableRow(location=Location(line=25, column=6), cells=[TableCell(location=Location(line=25, column=8), value='context'), TableCell(location=Location(line=25, column=18), value='username'), TableCell(location=Location(line=25, column=31), value='host')], id='320'), '321': TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='green4'), TableCell(location=Location(line=26, column=19), value='amanda4'), TableCell(location=Location(line=26, column=31), value='pi6-host')], id='321'), '336': Scenario(location=Location(line=28, column=3), tags=[], keyword='Scenario', name='Send pind to knative ping service', description='', steps=[Step(location=Location(line=29, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='324'), Step(location=Location(line=30, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='325'), Step(location=Location(line=31, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='326'), Step(location=Location(line=32, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"', doc_string=None, data_table=None, id='327'), Step(location=Location(line=33, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to knative service \"pong\" in \"context-<context>\" namespace', doc_string=DocString(location=Location(line=34, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='328'), Step(location=Location(line=42, column=7), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"200\"', doc_string=None, data_table=None, id='329'), Step(location=Location(line=44, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=45, column=7), rows=[TableRow(location=Location(line=45, column=7), cells=[TableCell(location=Location(line=45, column=9), value='Deployment name')], id='330'), TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='pong-00001-deployment')], id='331')]), id='332')], examples=[Examples(location=Location(line=48, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=49, column=6), cells=[TableCell(location=Location(line=49, column=8), value='context'), TableCell(location=Location(line=49, column=18), value='username'), TableCell(location=Location(line=49, column=31), value='host')], id='333'), table_body=[TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='green4'), TableCell(location=Location(line=50, column=19), value='amanda4'), TableCell(location=Location(line=50, column=31), value='pi6-host')], id='334')], id='335')], id='336'), '324': Step(location=Location(line=29, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='324'), '325': Step(location=Location(line=30, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='325'), '326': Step(location=Location(line=31, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='326'), '327': Step(location=Location(line=32, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"', doc_string=None, data_table=None, id='327'), '328': Step(location=Location(line=33, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to knative service \"pong\" in \"context-<context>\" namespace', doc_string=DocString(location=Location(line=34, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='328'), '329': Step(location=Location(line=42, column=7), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"200\"', doc_string=None, data_table=None, id='329'), '332': Step(location=Location(line=44, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=45, column=7), rows=[TableRow(location=Location(line=45, column=7), cells=[TableCell(location=Location(line=45, column=9), value='Deployment name')], id='330'), TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='pong-00001-deployment')], id='331')]), id='332'), '335': Examples(location=Location(line=48, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=49, column=6), cells=[TableCell(location=Location(line=49, column=8), value='context'), TableCell(location=Location(line=49, column=18), value='username'), TableCell(location=Location(line=49, column=31), value='host')], id='333'), table_body=[TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='green4'), TableCell(location=Location(line=50, column=19), value='amanda4'), TableCell(location=Location(line=50, column=31), value='pi6-host')], id='334')], id='335'), '333': TableRow(location=Location(line=49, column=6), cells=[TableCell(location=Location(line=49, column=8), value='context'), TableCell(location=Location(line=49, column=18), value='username'), TableCell(location=Location(line=49, column=31), value='host')], id='333'), '334': TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='green4'), TableCell(location=Location(line=50, column=19), value='amanda4'), TableCell(location=Location(line=50, column=31), value='pi6-host')], id='334'), '358': Scenario(location=Location(line=52, column=3), tags=[], keyword='Scenario', name='Send ping via <endpoint>', description='', steps=[Step(location=Location(line=53, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='337'), Step(location=Location(line=54, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='338'), Step(location=Location(line=55, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='339'), Step(location=Location(line=56, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='340'), Step(location=Location(line=57, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"', doc_string=None, data_table=None, id='341'), Step(location=Location(line=58, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to \"<endpoint>\"', doc_string=DocString(location=Location(line=59, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='342'), Step(location=Location(line=67, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"202\"', doc_string=None, data_table=None, id='343'), Step(location=Location(line=69, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=70, column=7), rows=[TableRow(location=Location(line=70, column=7), cells=[TableCell(location=Location(line=70, column=9), value='Deployment name')], id='344'), TableRow(location=Location(line=71, column=7), cells=[TableCell(location=Location(line=71, column=9), value='pong-00001-deployment')], id='345')]), id='346'), Step(location=Location(line=72, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the trace with \"<traceparent>\" should appear in TraceQL', doc_string=None, data_table=None, id='347'), Step(location=Location(line=73, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the trace should contains', doc_string=None, data_table=DataTable(location=Location(line=74, column=7), rows=[TableRow(location=Location(line=74, column=7), cells=[TableCell(location=Location(line=74, column=9), value='service name')], id='348'), TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='broker-ingress.knative-eventing')], id='349'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='unknown_service')], id='350'), TableRow(location=Location(line=77, column=7), cells=[TableCell(location=Location(line=77, column=9), value='jetstream-ch-dispatcher')], id='351')]), id='352'), Step(location=Location(line=78, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='353')], examples=[Examples(location=Location(line=80, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=81, column=6), cells=[TableCell(location=Location(line=81, column=8), value='context'), TableCell(location=Location(line=81, column=18), value='username'), TableCell(location=Location(line=81, column=31), value='host'), TableCell(location=Location(line=81, column=43), value='endpoint'), TableCell(location=Location(line=81, column=54), value='traceparent')], id='354'), table_body=[TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='green4'), TableCell(location=Location(line=82, column=19), value='amanda4'), TableCell(location=Location(line=82, column=31), value='pi6-host'), TableCell(location=Location(line=82, column=43), value='broker-ingress.knative-eventing/context-green4/context-broker'), TableCell(location=Location(line=82, column=109), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='355'), TableRow(location=Location(line=83, column=6), cells=[TableCell(location=Location(line=83, column=8), value='green4'), TableCell(location=Location(line=83, column=19), value='amanda4'), TableCell(location=Location(line=83, column=31), value='pi6-host'), TableCell(location=Location(line=83, column=43), value='broker-ingress.knative-eventing/user-amanda4/user-broker'), TableCell(location=Location(line=83, column=102), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='356')], id='357')], id='358'), '337': Step(location=Location(line=53, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='337'), '338': Step(location=Location(line=54, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='338'), '339': Step(location=Location(line=55, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='339'), '340': Step(location=Location(line=56, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='340'), '341': Step(location=Location(line=57, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"', doc_string=None, data_table=None, id='341'), '342': Step(location=Location(line=58, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to \"<endpoint>\"', doc_string=DocString(location=Location(line=59, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='342'), '343': Step(location=Location(line=67, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"202\"', doc_string=None, data_table=None, id='343'), '346': Step(location=Location(line=69, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=70, column=7), rows=[TableRow(location=Location(line=70, column=7), cells=[TableCell(location=Location(line=70, column=9), value='Deployment name')], id='344'), TableRow(location=Location(line=71, column=7), cells=[TableCell(location=Location(line=71, column=9), value='pong-00001-deployment')], id='345')]), id='346'), '347': Step(location=Location(line=72, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the trace with \"<traceparent>\" should appear in TraceQL', doc_string=None, data_table=None, id='347'), '352': Step(location=Location(line=73, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the trace should contains', doc_string=None, data_table=DataTable(location=Location(line=74, column=7), rows=[TableRow(location=Location(line=74, column=7), cells=[TableCell(location=Location(line=74, column=9), value='service name')], id='348'), TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='broker-ingress.knative-eventing')], id='349'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='unknown_service')], id='350'), TableRow(location=Location(line=77, column=7), cells=[TableCell(location=Location(line=77, column=9), value='jetstream-ch-dispatcher')], id='351')]), id='352'), '353': Step(location=Location(line=78, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='353'), '357': Examples(location=Location(line=80, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=81, column=6), cells=[TableCell(location=Location(line=81, column=8), value='context'), TableCell(location=Location(line=81, column=18), value='username'), TableCell(location=Location(line=81, column=31), value='host'), TableCell(location=Location(line=81, column=43), value='endpoint'), TableCell(location=Location(line=81, column=54), value='traceparent')], id='354'), table_body=[TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='green4'), TableCell(location=Location(line=82, column=19), value='amanda4'), TableCell(location=Location(line=82, column=31), value='pi6-host'), TableCell(location=Location(line=82, column=43), value='broker-ingress.knative-eventing/context-green4/context-broker'), TableCell(location=Location(line=82, column=109), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='355'), TableRow(location=Location(line=83, column=6), cells=[TableCell(location=Location(line=83, column=8), value='green4'), TableCell(location=Location(line=83, column=19), value='amanda4'), TableCell(location=Location(line=83, column=31), value='pi6-host'), TableCell(location=Location(line=83, column=43), value='broker-ingress.knative-eventing/user-amanda4/user-broker'), TableCell(location=Location(line=83, column=102), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='356')], id='357'), '354': TableRow(location=Location(line=81, column=6), cells=[TableCell(location=Location(line=81, column=8), value='context'), TableCell(location=Location(line=81, column=18), value='username'), TableCell(location=Location(line=81, column=31), value='host'), TableCell(location=Location(line=81, column=43), value='endpoint'), TableCell(location=Location(line=81, column=54), value='traceparent')], id='354'), '355': TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='green4'), TableCell(location=Location(line=82, column=19), value='amanda4'), TableCell(location=Location(line=82, column=31), value='pi6-host'), TableCell(location=Location(line=82, column=43), value='broker-ingress.knative-eventing/context-green4/context-broker'), TableCell(location=Location(line=82, column=109), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='355'), '356': TableRow(location=Location(line=83, column=6), cells=[TableCell(location=Location(line=83, column=8), value='green4'), TableCell(location=Location(line=83, column=19), value='amanda4'), TableCell(location=Location(line=83, column=31), value='pi6-host'), TableCell(location=Location(line=83, column=43), value='broker-ingress.knative-eventing/user-amanda4/user-broker'), TableCell(location=Location(line=83, column=102), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='356'), '371': Scenario(location=Location(line=86, column=3), tags=[], keyword='Scenario', name='Send ping via nats', description='', steps=[Step(location=Location(line=87, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='359'), Step(location=Location(line=88, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='360'), Step(location=Location(line=89, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='361'), Step(location=Location(line=90, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='362'), Step(location=Location(line=91, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=92, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='363'), Step(location=Location(line=101, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=102, column=7), rows=[TableRow(location=Location(line=102, column=7), cells=[TableCell(location=Location(line=102, column=9), value='Deployment name')], id='364'), TableRow(location=Location(line=103, column=7), cells=[TableCell(location=Location(line=103, column=9), value='pong-00001-deployment')], id='365')]), id='366'), Step(location=Location(line=105, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='367')], examples=[Examples(location=Location(line=108, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=109, column=6), cells=[TableCell(location=Location(line=109, column=8), value='context'), TableCell(location=Location(line=109, column=18), value='username'), TableCell(location=Location(line=109, column=31), value='host'), TableCell(location=Location(line=109, column=43), value='tmux_pane'), TableCell(location=Location(line=109, column=55), value='tmux_window'), TableCell(location=Location(line=109, column=69), value='uuid'), TableCell(location=Location(line=109, column=109), value='tmux_socket')], id='368'), table_body=[TableRow(location=Location(line=110, column=6), cells=[TableCell(location=Location(line=110, column=8), value='green4'), TableCell(location=Location(line=110, column=19), value='amanda4'), TableCell(location=Location(line=110, column=31), value='pi6-host'), TableCell(location=Location(line=110, column=43), value='23'), TableCell(location=Location(line=110, column=55), value='36'), TableCell(location=Location(line=110, column=69), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=110, column=108), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='369')], id='370')], id='371'), '359': Step(location=Location(line=87, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='359'), '360': Step(location=Location(line=88, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='360'), '361': Step(location=Location(line=89, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='361'), '362': Step(location=Location(line=90, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='362'), '363': Step(location=Location(line=91, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=92, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='363'), '366': Step(location=Location(line=101, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=102, column=7), rows=[TableRow(location=Location(line=102, column=7), cells=[TableCell(location=Location(line=102, column=9), value='Deployment name')], id='364'), TableRow(location=Location(line=103, column=7), cells=[TableCell(location=Location(line=103, column=9), value='pong-00001-deployment')], id='365')]), id='366'), '367': Step(location=Location(line=105, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='367'), '370': Examples(location=Location(line=108, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=109, column=6), cells=[TableCell(location=Location(line=109, column=8), value='context'), TableCell(location=Location(line=109, column=18), value='username'), TableCell(location=Location(line=109, column=31), value='host'), TableCell(location=Location(line=109, column=43), value='tmux_pane'), TableCell(location=Location(line=109, column=55), value='tmux_window'), TableCell(location=Location(line=109, column=69), value='uuid'), TableCell(location=Location(line=109, column=109), value='tmux_socket')], id='368'), table_body=[TableRow(location=Location(line=110, column=6), cells=[TableCell(location=Location(line=110, column=8), value='green4'), TableCell(location=Location(line=110, column=19), value='amanda4'), TableCell(location=Location(line=110, column=31), value='pi6-host'), TableCell(location=Location(line=110, column=43), value='23'), TableCell(location=Location(line=110, column=55), value='36'), TableCell(location=Location(line=110, column=69), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=110, column=108), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='369')], id='370'), '368': TableRow(location=Location(line=109, column=6), cells=[TableCell(location=Location(line=109, column=8), value='context'), TableCell(location=Location(line=109, column=18), value='username'), TableCell(location=Location(line=109, column=31), value='host'), TableCell(location=Location(line=109, column=43), value='tmux_pane'), TableCell(location=Location(line=109, column=55), value='tmux_window'), TableCell(location=Location(line=109, column=69), value='uuid'), TableCell(location=Location(line=109, column=109), value='tmux_socket')], id='368'), '369': TableRow(location=Location(line=110, column=6), cells=[TableCell(location=Location(line=110, column=8), value='green4'), TableCell(location=Location(line=110, column=19), value='amanda4'), TableCell(location=Location(line=110, column=31), value='pi6-host'), TableCell(location=Location(line=110, column=43), value='23'), TableCell(location=Location(line=110, column=55), value='36'), TableCell(location=Location(line=110, column=69), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=110, column=108), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='369'), '379': Scenario(location=Location(line=113, column=4), tags=[], keyword='Scenario', name='Cleanup <username>@<host> in <context>', description='', steps=[Step(location=Location(line=114, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='372'), Step(location=Location(line=115, column=6), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='373'), Step(location=Location(line=117, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='374'), Step(location=Location(line=119, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='375')], examples=[Examples(location=Location(line=121, column=6), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=122, column=6), cells=[TableCell(location=Location(line=122, column=8), value='context'), TableCell(location=Location(line=122, column=18), value='username'), TableCell(location=Location(line=122, column=29), value='host')], id='376'), table_body=[TableRow(location=Location(line=123, column=6), cells=[TableCell(location=Location(line=123, column=8), value='green4'), TableCell(location=Location(line=123, column=19), value='amanda4'), TableCell(location=Location(line=123, column=31), value='pi6-host')], id='377')], id='378')], id='379'), '372': Step(location=Location(line=114, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='372'), '373': Step(location=Location(line=115, column=6), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='373'), '374': Step(location=Location(line=117, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='374'), '375': Step(location=Location(line=119, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='375'), '378': Examples(location=Location(line=121, column=6), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=122, column=6), cells=[TableCell(location=Location(line=122, column=8), value='context'), TableCell(location=Location(line=122, column=18), value='username'), TableCell(location=Location(line=122, column=29), value='host')], id='376'), table_body=[TableRow(location=Location(line=123, column=6), cells=[TableCell(location=Location(line=123, column=8), value='green4'), TableCell(location=Location(line=123, column=19), value='amanda4'), TableCell(location=Location(line=123, column=31), value='pi6-host')], id='377')], id='378'), '376': TableRow(location=Location(line=122, column=6), cells=[TableCell(location=Location(line=122, column=8), value='context'), TableCell(location=Location(line=122, column=18), value='username'), TableCell(location=Location(line=122, column=29), value='host')], id='376'), '377': TableRow(location=Location(line=123, column=6), cells=[TableCell(location=Location(line=123, column=8), value='green4'), TableCell(location=Location(line=123, column=19), value='amanda4'), TableCell(location=Location(line=123, column=31), value='pi6-host')], id='377')}, pickles=[Pickle(id='393', uri='file:features/3_mindwm_ping_pong.feature', name='Prepare environment for ping tests', language='en', steps=[PickleStep(argument=None, ast_node_ids=['306'], id='382', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['307'], id='383', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['309', '321'], id='384', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"green4\"'), PickleStep(argument=None, ast_node_ids=['310', '321'], id='385', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='pong')])])), ast_node_ids=['313', '321'], id='386', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-green4\" namespace'), PickleStep(argument=None, ast_node_ids=['314', '321'], id='387', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"amanda4\" and connects it to the context \"green4\"'), PickleStep(argument=None, ast_node_ids=['315', '321'], id='388', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['316', '321'], id='389', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"pi6-host\" and connects it to the user \"amanda4\"'), PickleStep(argument=None, ast_node_ids=['317', '321'], id='390', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['318', '321'], id='391', type=<Type.outcome: 'Outcome'>, text='NatsJetStreamChannel \"pi6-host-host-broker-kne-trigger\" is ready in \"user-amanda4\" namespace'), PickleStep(argument=None, ast_node_ids=['319', '321'], id='392', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"')], tags=[PickleTag(name='@mindwm_ping_pong', ast_node_id='380'), PickleTag(name='@mindwm_test', ast_node_id='381')], ast_node_ids=['323', '321']), Pickle(id='403', uri='file:features/3_mindwm_ping_pong.feature', name='Send pind to knative ping service', language='en', steps=[PickleStep(argument=None, ast_node_ids=['306'], id='394', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['307'], id='395', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['324', '334'], id='396', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['325', '334'], id='397', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['326', '334'], id='398', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['327', '334'], id='399', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.amanda4.pi6-host.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['328', '334'], id='400', type=<Type.action: 'Action'>, text='sends cloudevent to knative service \"pong\" in \"context-green4\" namespace'), PickleStep(argument=None, ast_node_ids=['329', '334'], id='401', type=<Type.outcome: 'Outcome'>, text='the response http code should be \"200\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='pong-00001-deployment')])])), ast_node_ids=['332', '334'], id='402', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-green4\" namespace')], tags=[PickleTag(name='@mindwm_ping_pong', ast_node_id='380'), PickleTag(name='@mindwm_test', ast_node_id='381')], ast_node_ids=['336', '334']), Pickle(id='417', uri='file:features/3_mindwm_ping_pong.feature', name='Send ping via broker-ingress.knative-eventing/context-green4/context-broker', language='en', steps=[PickleStep(argument=None, ast_node_ids=['306'], id='404', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['307'], id='405', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['337', '355'], id='406', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['338', '355'], id='407', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['339', '355'], id='408', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['340', '355'], id='409', type=<Type.action: 'Action'>, text='sets cloudevent header \"traceparent\" to \"00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00\"'), PickleStep(argument=None, ast_node_ids=['341', '355'], id='410', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.amanda4.pi6-host.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['342', '355'], id='411', type=<Type.action: 'Action'>, text='sends cloudevent to \"broker-ingress.knative-eventing/context-green4/context-broker\"'), PickleStep(argument=None, ast_node_ids=['343', '355'], id='412', type=<Type.outcome: 'Outcome'>, text='the response http code should be \"202\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='pong-00001-deployment')])])), ast_node_ids=['346', '355'], id='413', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-green4\" namespace'), PickleStep(argument=None, ast_node_ids=['347', '355'], id='414', type=<Type.outcome: 'Outcome'>, text='the trace with \"00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00\" should appear in TraceQL'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='service name')]), PickleTableRow(cells=[PickleTableCell(value='broker-ingress.knative-eventing')]), PickleTableRow(cells=[PickleTableCell(value='unknown_service')]), PickleTableRow(cells=[PickleTableCell(value='jetstream-ch-dispatcher')])])), ast_node_ids=['352', '355'], id='415', type=<Type.outcome: 'Outcome'>, text='the trace should contains'), PickleStep(argument=None, ast_node_ids=['353', '355'], id='416', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-amanda4.pi6-host-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_ping_pong', ast_node_id='380'), PickleTag(name='@mindwm_test', ast_node_id='381')], ast_node_ids=['358', '355']), Pickle(id='431', uri='file:features/3_mindwm_ping_pong.feature', name='Send ping via broker-ingress.knative-eventing/user-amanda4/user-broker', language='en', steps=[PickleStep(argument=None, ast_node_ids=['306'], id='418', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['307'], id='419', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['337', '356'], id='420', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['338', '356'], id='421', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['339', '356'], id='422', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['340', '356'], id='423', type=<Type.action: 'Action'>, text='sets cloudevent header \"traceparent\" to \"00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00\"'), PickleStep(argument=None, ast_node_ids=['341', '356'], id='424', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.amanda4.pi6-host.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['342', '356'], id='425', type=<Type.action: 'Action'>, text='sends cloudevent to \"broker-ingress.knative-eventing/user-amanda4/user-broker\"'), PickleStep(argument=None, ast_node_ids=['343', '356'], id='426', type=<Type.outcome: 'Outcome'>, text='the response http code should be \"202\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='pong-00001-deployment')])])), ast_node_ids=['346', '356'], id='427', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-green4\" namespace'), PickleStep(argument=None, ast_node_ids=['347', '356'], id='428', type=<Type.outcome: 'Outcome'>, text='the trace with \"00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00\" should appear in TraceQL'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='service name')]), PickleTableRow(cells=[PickleTableCell(value='broker-ingress.knative-eventing')]), PickleTableRow(cells=[PickleTableCell(value='unknown_service')]), PickleTableRow(cells=[PickleTableCell(value='jetstream-ch-dispatcher')])])), ast_node_ids=['352', '356'], id='429', type=<Type.outcome: 'Outcome'>, text='the trace should contains'), PickleStep(argument=None, ast_node_ids=['353', '356'], id='430', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-amanda4.pi6-host-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_ping_pong', ast_node_id='380'), PickleTag(name='@mindwm_test', ast_node_id='381')], ast_node_ids=['358', '356']), Pickle(id='441', uri='file:features/3_mindwm_ping_pong.feature', name='Send ping via nats', language='en', steps=[PickleStep(argument=None, ast_node_ids=['306'], id='432', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['307'], id='433', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['359', '369'], id='434', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['360', '369'], id='435', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['361', '369'], id='436', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['362', '369'], id='437', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.amanda4.pi6-host.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['363', '369'], id='438', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.amanda4.pi6-host.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.3623.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='pong-00001-deployment')])])), ast_node_ids=['366', '369'], id='439', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-green4\" namespace'), PickleStep(argument=None, ast_node_ids=['367', '369'], id='440', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-amanda4.pi6-host-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_ping_pong', ast_node_id='380'), PickleTag(name='@mindwm_test', ast_node_id='381')], ast_node_ids=['371', '369']), Pickle(id='448', uri='file:features/3_mindwm_ping_pong.feature', name='Cleanup amanda4@pi6-host in green4', language='en', steps=[PickleStep(argument=None, ast_node_ids=['306'], id='442', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['307'], id='443', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['372', '377'], id='444', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"pi6-host\"'), PickleStep(argument=None, ast_node_ids=['373', '377'], id='445', type=<Type.outcome: 'Outcome'>, text='the host \"pi6-host\" should be deleted'), PickleStep(argument=None, ast_node_ids=['374', '377'], id='446', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"amanda4\"'), PickleStep(argument=None, ast_node_ids=['375', '377'], id='447', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"green4\"')], tags=[PickleTag(name='@mindwm_ping_pong', ast_node_id='380'), PickleTag(name='@mindwm_test', ast_node_id='381')], ast_node_ids=['379', '377'])])","Source(uri='file:features/3_mindwm_ping_pong.feature', data='@mindwm_ping_pong\\n@mindwm_test\\nFeature: MindWM Ping-pong EDA test\\n  Background:\\n    Given A MindWM environment\\n    Then all nodes in Kubernetes are ready\\n\\n  Scenario: Prepare environment for ping tests \\n    When God creates a MindWM context with the name \"<context>\"\\n    Then the context should be ready and operable\\n    And the following knative services are in a ready state in the \"context-<context>\" namespace\\n      | Knative service name |\\n      | pong                 |\\n\\n    When God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"\\n    Then the user resource should be ready and operable\\n\\n    When God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"\\n    Then the host resource should be ready and operable\\n    And NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace\\n\\n    When God starts reading message from NATS topic \">\"\\n\\n    Examples:\\n     | context | username   | host      |\\n     | green4   | amanda4   | pi6-host  | \\n\\n  Scenario: Send pind to knative ping service\\n    When God creates a new cloudevent \\n      And sets cloudevent header \"ce-subject\" to \"#ping\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"\\n      And sends cloudevent to knative service \"pong\" in \"context-<context>\" namespace\\n      \"\"\"\\n      {\\n        \"input\": \"#ping\",\\n        \"output\": \"\",\\n        \"ps1\": \"❯\",\\n        \"type\": \"org.mindwm.v1.iodocument\"\\n      } \\n      \"\"\"\\n      Then the response http code should be \"200\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name       |\\n      | pong-00001-deployment |\\n\\n    Examples:\\n     | context | username   | host      |\\n     | green4   | amanda4   | pi6-host  | \\n\\n  Scenario: Send ping via <endpoint>\\n    When God creates a new cloudevent \\n      And sets cloudevent header \"ce-subject\" to \"#ping\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"\\n      And sets cloudevent header \"traceparent\" to \"<traceparent>\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"\\n      And sends cloudevent to \"<endpoint>\"\\n      \"\"\"\\n      {\\n        \"input\": \"#ping\",\\n        \"output\": \"\",\\n        \"ps1\": \"❯\",\\n        \"type\": \"org.mindwm.v1.iodocument\"\\n      } \\n      \"\"\"\\n    Then the response http code should be \"202\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name            |\\n      | pong-00001-deployment |\\n    Then the trace with \"<traceparent>\" should appear in TraceQL\\n    And the trace should contains \\n      | service name                    | \\n      | broker-ingress.knative-eventing | \\n      | unknown_service                 | \\n      | jetstream-ch-dispatcher         |\\n    And a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"\\n\\n    Examples:\\n     | context | username   | host      | endpoint | traceparent \\t\\t\\t\\t\\t         |\\n     | green4   | amanda4   | pi6-host  | broker-ingress.knative-eventing/context-green4/context-broker   | 00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00 |\\n     | green4   | amanda4   | pi6-host  | broker-ingress.knative-eventing/user-amanda4/user-broker | 00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00 |\\n\\n\\n  Scenario: Send ping via nats\\n    When God creates a new cloudevent \\n      And sets cloudevent header \"ce-subject\" to \"#ping\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"\\n      And sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"\\n      \"\"\"\\n      {\\n        \"input\": \"#ping\",\\n        \"output\": \"\",\\n        \"ps1\": \"❯\",\\n        \"type\": \"org.mindwm.v1.iodocument\"\\n      } \\n      \"\"\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name       |\\n      | pong-00001-deployment |\\n\\n    And a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"\\n\\n\\n    Examples:\\n     | context | username   | host      | tmux_pane | tmux_window | uuid                                  | tmux_socket                     |\\n     | green4   | amanda4   | pi6-host  | 23        | 36          | 09fb195c-c419-6d62-15e0-51b6ee990922  |L3RtcC90bXV4LTEwMDAvZGVmYXVsdA== |\\n\\n\\n   Scenario: Cleanup <username>@<host> in <context>\\n     When God deletes the MindWM host resource \"<host>\"\\n     Then the host \"<host>\" should be deleted\\n\\n     When God deletes the MindWM user resource \"<username>\"\\n\\n     When God deletes the MindWM context resource \"<context>\"\\n\\n     Examples:\\n     | context | username | host        | \\n     | green4   | amanda4   | pi6-host         |\\n\\n', media_type='text/x.cucumber.gherkin+plain')","Pickle(id='431', uri='file:features/3_mindwm_ping_pong.feature', name='Send ping via broker-ingress.knative-eventing/user-amanda4/user-broker', language='en', steps=[PickleStep(argument=None, ast_node_ids=['306'], id='418', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['307'], id='419', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['337', '356'], id='420', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['338', '356'], id='421', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['339', '356'], id='422', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['340', '356'], id='423', type=<Type.action: 'Action'>, text='sets cloudevent header \"traceparent\" to \"00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00\"'), PickleStep(argument=None, ast_node_ids=['341', '356'], id='424', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.amanda4.pi6-host.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['342', '356'], id='425', type=<Type.action: 'Action'>, text='sends cloudevent to \"broker-ingress.knative-eventing/user-amanda4/user-broker\"'), PickleStep(argument=None, ast_node_ids=['343', '356'], id='426', type=<Type.outcome: 'Outcome'>, text='the response http code should be \"202\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='pong-00001-deployment')])])), ast_node_ids=['346', '356'], id='427', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-green4\" namespace'), PickleStep(argument=None, ast_node_ids=['347', '356'], id='428', type=<Type.outcome: 'Outcome'>, text='the trace with \"00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00\" should appear in TraceQL'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='service name')]), PickleTableRow(cells=[PickleTableCell(value='broker-ingress.knative-eventing')]), PickleTableRow(cells=[PickleTableCell(value='unknown_service')]), PickleTableRow(cells=[PickleTableCell(value='jetstream-ch-dispatcher')])])), ast_node_ids=['352', '356'], id='429', type=<Type.outcome: 'Outcome'>, text='the trace should contains'), PickleStep(argument=None, ast_node_ids=['353', '356'], id='430', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-amanda4.pi6-host-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_ping_pong', ast_node_id='380'), PickleTag(name='@mindwm_test', ast_node_id='381')], ast_node_ids=['358', '356'])"],"tags":["pytest_bdd_scenario","scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/3_mindwm_ping_pong.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=<FeaturePathType.PATH: 'path'>, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())","@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')","mindwm_ping_pong","mindwm_test","namespace(create=False, name='default')"]},{"name":"test_scenarios[file:features/9_mindwm_clipboard.feature-MindWM clipboard EDA test-Send ping directly to function broker-ingress.knative-eventing/context-philadelphia/context-broker[table_rows:[line: 83]]]","uid":"794de0e713226189","parentUid":"3961740595044ffd97a03e46799bfc30","status":"passed","time":{"start":1728404951123,"stop":1728404973358,"duration":22235},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["Feature(gherkin_document=GherkinDocument(uri='file:features/9_mindwm_clipboard.feature', feature=Feature(location=Location(line=3, column=1), tags=[Tag(location=Location(line=1, column=1), name='@mindwm_clipboard', id='1036'), Tag(location=Location(line=2, column=1), name='@mindwm_test', id='1037')], language='en', keyword='Feature', name='MindWM clipboard EDA test', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='957'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='958')], id='959'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Prepare environment for ping tests', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='960'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='961'), Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='962'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='clipboard')], id='963')]), id='964'), Step(location=Location(line=14, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='965'), Step(location=Location(line=16, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='966'), Step(location=Location(line=17, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='967'), Step(location=Location(line=19, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='968'), Step(location=Location(line=20, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='969'), Step(location=Location(line=21, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace', doc_string=None, data_table=None, id='970'), Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='971')], examples=[Examples(location=Location(line=25, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='context'), TableCell(location=Location(line=26, column=18), value='username'), TableCell(location=Location(line=26, column=31), value='host')], id='972'), table_body=[TableRow(location=Location(line=27, column=6), cells=[TableCell(location=Location(line=27, column=8), value='philadelphia'), TableCell(location=Location(line=27, column=25), value='flukeman'), TableCell(location=Location(line=27, column=38), value='the-host')], id='973')], id='974')], id='975')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=29, column=3), tags=[], keyword='Scenario', name='Send clipboard to knative ping service', description='', steps=[Step(location=Location(line=30, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='976'), Step(location=Location(line=31, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='977'), Step(location=Location(line=32, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='978'), Step(location=Location(line=33, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='979'), Step(location=Location(line=34, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='980'), Step(location=Location(line=35, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to knative service \"clipboard\" in \"context-<context>\" namespace', doc_string=DocString(location=Location(line=36, column=7), media_type=None, content='{\\n  \"uuid\": \"6ca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325473,\\n  \"data\": \"clipboard primary data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='981'), Step(location=Location(line=43, column=7), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"200\"', doc_string=None, data_table=None, id='982'), Step(location=Location(line=45, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=46, column=7), rows=[TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='Deployment name')], id='983'), TableRow(location=Location(line=47, column=7), cells=[TableCell(location=Location(line=47, column=9), value='clipboard-00001-deployment')], id='984')]), id='985')], examples=[Examples(location=Location(line=49, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='context'), TableCell(location=Location(line=50, column=18), value='username'), TableCell(location=Location(line=50, column=31), value='host'), TableCell(location=Location(line=50, column=43), value='traceparent')], id='986'), table_body=[TableRow(location=Location(line=51, column=6), cells=[TableCell(location=Location(line=51, column=8), value='philadelphia'), TableCell(location=Location(line=51, column=25), value='flukeman'), TableCell(location=Location(line=51, column=38), value='the-host'), TableCell(location=Location(line=51, column=50), value='00-6ef92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='987')], id='988')], id='989')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=53, column=3), tags=[], keyword='Scenario', name='Send ping directly to function <endpoint>', description='', steps=[Step(location=Location(line=54, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='990'), Step(location=Location(line=55, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='991'), Step(location=Location(line=56, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='992'), Step(location=Location(line=57, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='993'), Step(location=Location(line=58, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='994'), Step(location=Location(line=59, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='995'), Step(location=Location(line=60, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to \"<endpoint>\"', doc_string=DocString(location=Location(line=61, column=7), media_type=None, content='{\\n  \"uuid\": \"4bca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard secondary data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='996'), Step(location=Location(line=68, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"202\"', doc_string=None, data_table=None, id='997'), Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=71, column=7), rows=[TableRow(location=Location(line=71, column=7), cells=[TableCell(location=Location(line=71, column=9), value='Deployment name')], id='998'), TableRow(location=Location(line=72, column=7), cells=[TableCell(location=Location(line=72, column=9), value='clipboard-00001-deployment')], id='999')]), id='1000'), Step(location=Location(line=73, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the trace with \"<traceparent>\" should appear in TraceQL', doc_string=None, data_table=None, id='1001'), Step(location=Location(line=74, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the trace should contains', doc_string=None, data_table=DataTable(location=Location(line=75, column=7), rows=[TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='service name')], id='1002'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='broker-ingress.knative-eventing')], id='1003'), TableRow(location=Location(line=77, column=7), cells=[TableCell(location=Location(line=77, column=9), value='unknown_service')], id='1004'), TableRow(location=Location(line=78, column=7), cells=[TableCell(location=Location(line=78, column=9), value='jetstream-ch-dispatcher')], id='1005')]), id='1006'), Step(location=Location(line=79, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='1007')], examples=[Examples(location=Location(line=81, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='context'), TableCell(location=Location(line=82, column=18), value='username'), TableCell(location=Location(line=82, column=31), value='host'), TableCell(location=Location(line=82, column=43), value='endpoint'), TableCell(location=Location(line=82, column=54), value='traceparent')], id='1008'), table_body=[TableRow(location=Location(line=83, column=6), cells=[TableCell(location=Location(line=83, column=8), value='philadelphia'), TableCell(location=Location(line=83, column=25), value='flukeman'), TableCell(location=Location(line=83, column=38), value='the-host'), TableCell(location=Location(line=83, column=50), value='broker-ingress.knative-eventing/context-philadelphia/context-broker'), TableCell(location=Location(line=83, column=122), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='1009'), TableRow(location=Location(line=84, column=6), cells=[TableCell(location=Location(line=84, column=8), value='philadelphia'), TableCell(location=Location(line=84, column=25), value='flukeman'), TableCell(location=Location(line=84, column=38), value='the-host'), TableCell(location=Location(line=84, column=50), value='broker-ingress.knative-eventing/user-flukeman/user-broker'), TableCell(location=Location(line=84, column=110), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1010')], id='1011')], id='1012')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=87, column=3), tags=[], keyword='Scenario', name='Send ping via nats', description='', steps=[Step(location=Location(line=88, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='1013'), Step(location=Location(line=89, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-id\" to \"<uuid>\"', doc_string=None, data_table=None, id='1014'), Step(location=Location(line=90, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='1015'), Step(location=Location(line=91, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='1016'), Step(location=Location(line=92, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='1017'), Step(location=Location(line=93, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='1018'), Step(location=Location(line=94, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.clipboard\"', doc_string=DocString(location=Location(line=95, column=7), media_type=None, content='{\\n  \"uuid\": \"3bca8a133-aba6-4f7f-ab95-242802fcac3c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard #3 data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='1019'), Step(location=Location(line=103, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=104, column=7), rows=[TableRow(location=Location(line=104, column=7), cells=[TableCell(location=Location(line=104, column=9), value='Deployment name')], id='1020'), TableRow(location=Location(line=105, column=7), cells=[TableCell(location=Location(line=105, column=9), value='clipboard-00001-deployment')], id='1021')]), id='1022'), Step(location=Location(line=107, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='1023')], examples=[Examples(location=Location(line=110, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=111, column=6), cells=[TableCell(location=Location(line=111, column=8), value='context'), TableCell(location=Location(line=111, column=18), value='username'), TableCell(location=Location(line=111, column=31), value='host'), TableCell(location=Location(line=111, column=43), value='uuid'), TableCell(location=Location(line=111, column=83), value='traceparent')], id='1024'), table_body=[TableRow(location=Location(line=112, column=6), cells=[TableCell(location=Location(line=112, column=8), value='philadelphia'), TableCell(location=Location(line=112, column=25), value='flukeman'), TableCell(location=Location(line=112, column=38), value='the-host'), TableCell(location=Location(line=112, column=50), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=112, column=89), value='00-8af92f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1025')], id='1026')], id='1027')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=115, column=3), tags=[], keyword='Scenario', name='Cleanup <username>@<host> in <context>', description='', steps=[Step(location=Location(line=116, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='1028'), Step(location=Location(line=117, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='1029'), Step(location=Location(line=119, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='1030'), Step(location=Location(line=121, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='1031')], examples=[Examples(location=Location(line=123, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=124, column=5), cells=[TableCell(location=Location(line=124, column=7), value='context'), TableCell(location=Location(line=124, column=17), value='username'), TableCell(location=Location(line=124, column=28), value='host')], id='1032'), table_body=[TableRow(location=Location(line=125, column=5), cells=[TableCell(location=Location(line=125, column=7), value='philadelphia'), TableCell(location=Location(line=125, column=24), value='flukeman'), TableCell(location=Location(line=125, column=37), value='the-host')], id='1033')], id='1034')], id='1035'))]), comments=[]), uri='file:features/9_mindwm_clipboard.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/9_mindwm_clipboard.feature', registry={'1036': Tag(location=Location(line=1, column=1), name='@mindwm_clipboard', id='1036'), '1037': Tag(location=Location(line=2, column=1), name='@mindwm_test', id='1037'), '959': Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='957'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='958')], id='959'), '957': Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='957'), '958': Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='958'), '975': Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Prepare environment for ping tests', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='960'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='961'), Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='962'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='clipboard')], id='963')]), id='964'), Step(location=Location(line=14, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='965'), Step(location=Location(line=16, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='966'), Step(location=Location(line=17, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='967'), Step(location=Location(line=19, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='968'), Step(location=Location(line=20, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='969'), Step(location=Location(line=21, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace', doc_string=None, data_table=None, id='970'), Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='971')], examples=[Examples(location=Location(line=25, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='context'), TableCell(location=Location(line=26, column=18), value='username'), TableCell(location=Location(line=26, column=31), value='host')], id='972'), table_body=[TableRow(location=Location(line=27, column=6), cells=[TableCell(location=Location(line=27, column=8), value='philadelphia'), TableCell(location=Location(line=27, column=25), value='flukeman'), TableCell(location=Location(line=27, column=38), value='the-host')], id='973')], id='974')], id='975'), '960': Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='960'), '961': Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='961'), '964': Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='962'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='clipboard')], id='963')]), id='964'), '965': Step(location=Location(line=14, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='965'), '966': Step(location=Location(line=16, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='966'), '967': Step(location=Location(line=17, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='967'), '968': Step(location=Location(line=19, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='968'), '969': Step(location=Location(line=20, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='969'), '970': Step(location=Location(line=21, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace', doc_string=None, data_table=None, id='970'), '971': Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='971'), '974': Examples(location=Location(line=25, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='context'), TableCell(location=Location(line=26, column=18), value='username'), TableCell(location=Location(line=26, column=31), value='host')], id='972'), table_body=[TableRow(location=Location(line=27, column=6), cells=[TableCell(location=Location(line=27, column=8), value='philadelphia'), TableCell(location=Location(line=27, column=25), value='flukeman'), TableCell(location=Location(line=27, column=38), value='the-host')], id='973')], id='974'), '972': TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='context'), TableCell(location=Location(line=26, column=18), value='username'), TableCell(location=Location(line=26, column=31), value='host')], id='972'), '973': TableRow(location=Location(line=27, column=6), cells=[TableCell(location=Location(line=27, column=8), value='philadelphia'), TableCell(location=Location(line=27, column=25), value='flukeman'), TableCell(location=Location(line=27, column=38), value='the-host')], id='973'), '989': Scenario(location=Location(line=29, column=3), tags=[], keyword='Scenario', name='Send clipboard to knative ping service', description='', steps=[Step(location=Location(line=30, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='976'), Step(location=Location(line=31, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='977'), Step(location=Location(line=32, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='978'), Step(location=Location(line=33, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='979'), Step(location=Location(line=34, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='980'), Step(location=Location(line=35, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to knative service \"clipboard\" in \"context-<context>\" namespace', doc_string=DocString(location=Location(line=36, column=7), media_type=None, content='{\\n  \"uuid\": \"6ca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325473,\\n  \"data\": \"clipboard primary data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='981'), Step(location=Location(line=43, column=7), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"200\"', doc_string=None, data_table=None, id='982'), Step(location=Location(line=45, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=46, column=7), rows=[TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='Deployment name')], id='983'), TableRow(location=Location(line=47, column=7), cells=[TableCell(location=Location(line=47, column=9), value='clipboard-00001-deployment')], id='984')]), id='985')], examples=[Examples(location=Location(line=49, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='context'), TableCell(location=Location(line=50, column=18), value='username'), TableCell(location=Location(line=50, column=31), value='host'), TableCell(location=Location(line=50, column=43), value='traceparent')], id='986'), table_body=[TableRow(location=Location(line=51, column=6), cells=[TableCell(location=Location(line=51, column=8), value='philadelphia'), TableCell(location=Location(line=51, column=25), value='flukeman'), TableCell(location=Location(line=51, column=38), value='the-host'), TableCell(location=Location(line=51, column=50), value='00-6ef92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='987')], id='988')], id='989'), '976': Step(location=Location(line=30, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='976'), '977': Step(location=Location(line=31, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='977'), '978': Step(location=Location(line=32, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='978'), '979': Step(location=Location(line=33, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='979'), '980': Step(location=Location(line=34, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='980'), '981': Step(location=Location(line=35, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to knative service \"clipboard\" in \"context-<context>\" namespace', doc_string=DocString(location=Location(line=36, column=7), media_type=None, content='{\\n  \"uuid\": \"6ca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325473,\\n  \"data\": \"clipboard primary data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='981'), '982': Step(location=Location(line=43, column=7), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"200\"', doc_string=None, data_table=None, id='982'), '985': Step(location=Location(line=45, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=46, column=7), rows=[TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='Deployment name')], id='983'), TableRow(location=Location(line=47, column=7), cells=[TableCell(location=Location(line=47, column=9), value='clipboard-00001-deployment')], id='984')]), id='985'), '988': Examples(location=Location(line=49, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='context'), TableCell(location=Location(line=50, column=18), value='username'), TableCell(location=Location(line=50, column=31), value='host'), TableCell(location=Location(line=50, column=43), value='traceparent')], id='986'), table_body=[TableRow(location=Location(line=51, column=6), cells=[TableCell(location=Location(line=51, column=8), value='philadelphia'), TableCell(location=Location(line=51, column=25), value='flukeman'), TableCell(location=Location(line=51, column=38), value='the-host'), TableCell(location=Location(line=51, column=50), value='00-6ef92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='987')], id='988'), '986': TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='context'), TableCell(location=Location(line=50, column=18), value='username'), TableCell(location=Location(line=50, column=31), value='host'), TableCell(location=Location(line=50, column=43), value='traceparent')], id='986'), '987': TableRow(location=Location(line=51, column=6), cells=[TableCell(location=Location(line=51, column=8), value='philadelphia'), TableCell(location=Location(line=51, column=25), value='flukeman'), TableCell(location=Location(line=51, column=38), value='the-host'), TableCell(location=Location(line=51, column=50), value='00-6ef92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='987'), '1012': Scenario(location=Location(line=53, column=3), tags=[], keyword='Scenario', name='Send ping directly to function <endpoint>', description='', steps=[Step(location=Location(line=54, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='990'), Step(location=Location(line=55, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='991'), Step(location=Location(line=56, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='992'), Step(location=Location(line=57, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='993'), Step(location=Location(line=58, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='994'), Step(location=Location(line=59, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='995'), Step(location=Location(line=60, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to \"<endpoint>\"', doc_string=DocString(location=Location(line=61, column=7), media_type=None, content='{\\n  \"uuid\": \"4bca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard secondary data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='996'), Step(location=Location(line=68, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"202\"', doc_string=None, data_table=None, id='997'), Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=71, column=7), rows=[TableRow(location=Location(line=71, column=7), cells=[TableCell(location=Location(line=71, column=9), value='Deployment name')], id='998'), TableRow(location=Location(line=72, column=7), cells=[TableCell(location=Location(line=72, column=9), value='clipboard-00001-deployment')], id='999')]), id='1000'), Step(location=Location(line=73, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the trace with \"<traceparent>\" should appear in TraceQL', doc_string=None, data_table=None, id='1001'), Step(location=Location(line=74, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the trace should contains', doc_string=None, data_table=DataTable(location=Location(line=75, column=7), rows=[TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='service name')], id='1002'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='broker-ingress.knative-eventing')], id='1003'), TableRow(location=Location(line=77, column=7), cells=[TableCell(location=Location(line=77, column=9), value='unknown_service')], id='1004'), TableRow(location=Location(line=78, column=7), cells=[TableCell(location=Location(line=78, column=9), value='jetstream-ch-dispatcher')], id='1005')]), id='1006'), Step(location=Location(line=79, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='1007')], examples=[Examples(location=Location(line=81, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='context'), TableCell(location=Location(line=82, column=18), value='username'), TableCell(location=Location(line=82, column=31), value='host'), TableCell(location=Location(line=82, column=43), value='endpoint'), TableCell(location=Location(line=82, column=54), value='traceparent')], id='1008'), table_body=[TableRow(location=Location(line=83, column=6), cells=[TableCell(location=Location(line=83, column=8), value='philadelphia'), TableCell(location=Location(line=83, column=25), value='flukeman'), TableCell(location=Location(line=83, column=38), value='the-host'), TableCell(location=Location(line=83, column=50), value='broker-ingress.knative-eventing/context-philadelphia/context-broker'), TableCell(location=Location(line=83, column=122), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='1009'), TableRow(location=Location(line=84, column=6), cells=[TableCell(location=Location(line=84, column=8), value='philadelphia'), TableCell(location=Location(line=84, column=25), value='flukeman'), TableCell(location=Location(line=84, column=38), value='the-host'), TableCell(location=Location(line=84, column=50), value='broker-ingress.knative-eventing/user-flukeman/user-broker'), TableCell(location=Location(line=84, column=110), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1010')], id='1011')], id='1012'), '990': Step(location=Location(line=54, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='990'), '991': Step(location=Location(line=55, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='991'), '992': Step(location=Location(line=56, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='992'), '993': Step(location=Location(line=57, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='993'), '994': Step(location=Location(line=58, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='994'), '995': Step(location=Location(line=59, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='995'), '996': Step(location=Location(line=60, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to \"<endpoint>\"', doc_string=DocString(location=Location(line=61, column=7), media_type=None, content='{\\n  \"uuid\": \"4bca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard secondary data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='996'), '997': Step(location=Location(line=68, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"202\"', doc_string=None, data_table=None, id='997'), '1000': Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=71, column=7), rows=[TableRow(location=Location(line=71, column=7), cells=[TableCell(location=Location(line=71, column=9), value='Deployment name')], id='998'), TableRow(location=Location(line=72, column=7), cells=[TableCell(location=Location(line=72, column=9), value='clipboard-00001-deployment')], id='999')]), id='1000'), '1001': Step(location=Location(line=73, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the trace with \"<traceparent>\" should appear in TraceQL', doc_string=None, data_table=None, id='1001'), '1006': Step(location=Location(line=74, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the trace should contains', doc_string=None, data_table=DataTable(location=Location(line=75, column=7), rows=[TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='service name')], id='1002'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='broker-ingress.knative-eventing')], id='1003'), TableRow(location=Location(line=77, column=7), cells=[TableCell(location=Location(line=77, column=9), value='unknown_service')], id='1004'), TableRow(location=Location(line=78, column=7), cells=[TableCell(location=Location(line=78, column=9), value='jetstream-ch-dispatcher')], id='1005')]), id='1006'), '1007': Step(location=Location(line=79, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='1007'), '1011': Examples(location=Location(line=81, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='context'), TableCell(location=Location(line=82, column=18), value='username'), TableCell(location=Location(line=82, column=31), value='host'), TableCell(location=Location(line=82, column=43), value='endpoint'), TableCell(location=Location(line=82, column=54), value='traceparent')], id='1008'), table_body=[TableRow(location=Location(line=83, column=6), cells=[TableCell(location=Location(line=83, column=8), value='philadelphia'), TableCell(location=Location(line=83, column=25), value='flukeman'), TableCell(location=Location(line=83, column=38), value='the-host'), TableCell(location=Location(line=83, column=50), value='broker-ingress.knative-eventing/context-philadelphia/context-broker'), TableCell(location=Location(line=83, column=122), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='1009'), TableRow(location=Location(line=84, column=6), cells=[TableCell(location=Location(line=84, column=8), value='philadelphia'), TableCell(location=Location(line=84, column=25), value='flukeman'), TableCell(location=Location(line=84, column=38), value='the-host'), TableCell(location=Location(line=84, column=50), value='broker-ingress.knative-eventing/user-flukeman/user-broker'), TableCell(location=Location(line=84, column=110), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1010')], id='1011'), '1008': TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='context'), TableCell(location=Location(line=82, column=18), value='username'), TableCell(location=Location(line=82, column=31), value='host'), TableCell(location=Location(line=82, column=43), value='endpoint'), TableCell(location=Location(line=82, column=54), value='traceparent')], id='1008'), '1009': TableRow(location=Location(line=83, column=6), cells=[TableCell(location=Location(line=83, column=8), value='philadelphia'), TableCell(location=Location(line=83, column=25), value='flukeman'), TableCell(location=Location(line=83, column=38), value='the-host'), TableCell(location=Location(line=83, column=50), value='broker-ingress.knative-eventing/context-philadelphia/context-broker'), TableCell(location=Location(line=83, column=122), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='1009'), '1010': TableRow(location=Location(line=84, column=6), cells=[TableCell(location=Location(line=84, column=8), value='philadelphia'), TableCell(location=Location(line=84, column=25), value='flukeman'), TableCell(location=Location(line=84, column=38), value='the-host'), TableCell(location=Location(line=84, column=50), value='broker-ingress.knative-eventing/user-flukeman/user-broker'), TableCell(location=Location(line=84, column=110), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1010'), '1027': Scenario(location=Location(line=87, column=3), tags=[], keyword='Scenario', name='Send ping via nats', description='', steps=[Step(location=Location(line=88, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='1013'), Step(location=Location(line=89, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-id\" to \"<uuid>\"', doc_string=None, data_table=None, id='1014'), Step(location=Location(line=90, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='1015'), Step(location=Location(line=91, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='1016'), Step(location=Location(line=92, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='1017'), Step(location=Location(line=93, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='1018'), Step(location=Location(line=94, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.clipboard\"', doc_string=DocString(location=Location(line=95, column=7), media_type=None, content='{\\n  \"uuid\": \"3bca8a133-aba6-4f7f-ab95-242802fcac3c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard #3 data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='1019'), Step(location=Location(line=103, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=104, column=7), rows=[TableRow(location=Location(line=104, column=7), cells=[TableCell(location=Location(line=104, column=9), value='Deployment name')], id='1020'), TableRow(location=Location(line=105, column=7), cells=[TableCell(location=Location(line=105, column=9), value='clipboard-00001-deployment')], id='1021')]), id='1022'), Step(location=Location(line=107, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='1023')], examples=[Examples(location=Location(line=110, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=111, column=6), cells=[TableCell(location=Location(line=111, column=8), value='context'), TableCell(location=Location(line=111, column=18), value='username'), TableCell(location=Location(line=111, column=31), value='host'), TableCell(location=Location(line=111, column=43), value='uuid'), TableCell(location=Location(line=111, column=83), value='traceparent')], id='1024'), table_body=[TableRow(location=Location(line=112, column=6), cells=[TableCell(location=Location(line=112, column=8), value='philadelphia'), TableCell(location=Location(line=112, column=25), value='flukeman'), TableCell(location=Location(line=112, column=38), value='the-host'), TableCell(location=Location(line=112, column=50), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=112, column=89), value='00-8af92f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1025')], id='1026')], id='1027'), '1013': Step(location=Location(line=88, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='1013'), '1014': Step(location=Location(line=89, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-id\" to \"<uuid>\"', doc_string=None, data_table=None, id='1014'), '1015': Step(location=Location(line=90, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='1015'), '1016': Step(location=Location(line=91, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='1016'), '1017': Step(location=Location(line=92, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='1017'), '1018': Step(location=Location(line=93, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='1018'), '1019': Step(location=Location(line=94, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.clipboard\"', doc_string=DocString(location=Location(line=95, column=7), media_type=None, content='{\\n  \"uuid\": \"3bca8a133-aba6-4f7f-ab95-242802fcac3c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard #3 data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='1019'), '1022': Step(location=Location(line=103, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=104, column=7), rows=[TableRow(location=Location(line=104, column=7), cells=[TableCell(location=Location(line=104, column=9), value='Deployment name')], id='1020'), TableRow(location=Location(line=105, column=7), cells=[TableCell(location=Location(line=105, column=9), value='clipboard-00001-deployment')], id='1021')]), id='1022'), '1023': Step(location=Location(line=107, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='1023'), '1026': Examples(location=Location(line=110, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=111, column=6), cells=[TableCell(location=Location(line=111, column=8), value='context'), TableCell(location=Location(line=111, column=18), value='username'), TableCell(location=Location(line=111, column=31), value='host'), TableCell(location=Location(line=111, column=43), value='uuid'), TableCell(location=Location(line=111, column=83), value='traceparent')], id='1024'), table_body=[TableRow(location=Location(line=112, column=6), cells=[TableCell(location=Location(line=112, column=8), value='philadelphia'), TableCell(location=Location(line=112, column=25), value='flukeman'), TableCell(location=Location(line=112, column=38), value='the-host'), TableCell(location=Location(line=112, column=50), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=112, column=89), value='00-8af92f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1025')], id='1026'), '1024': TableRow(location=Location(line=111, column=6), cells=[TableCell(location=Location(line=111, column=8), value='context'), TableCell(location=Location(line=111, column=18), value='username'), TableCell(location=Location(line=111, column=31), value='host'), TableCell(location=Location(line=111, column=43), value='uuid'), TableCell(location=Location(line=111, column=83), value='traceparent')], id='1024'), '1025': TableRow(location=Location(line=112, column=6), cells=[TableCell(location=Location(line=112, column=8), value='philadelphia'), TableCell(location=Location(line=112, column=25), value='flukeman'), TableCell(location=Location(line=112, column=38), value='the-host'), TableCell(location=Location(line=112, column=50), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=112, column=89), value='00-8af92f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1025'), '1035': Scenario(location=Location(line=115, column=3), tags=[], keyword='Scenario', name='Cleanup <username>@<host> in <context>', description='', steps=[Step(location=Location(line=116, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='1028'), Step(location=Location(line=117, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='1029'), Step(location=Location(line=119, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='1030'), Step(location=Location(line=121, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='1031')], examples=[Examples(location=Location(line=123, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=124, column=5), cells=[TableCell(location=Location(line=124, column=7), value='context'), TableCell(location=Location(line=124, column=17), value='username'), TableCell(location=Location(line=124, column=28), value='host')], id='1032'), table_body=[TableRow(location=Location(line=125, column=5), cells=[TableCell(location=Location(line=125, column=7), value='philadelphia'), TableCell(location=Location(line=125, column=24), value='flukeman'), TableCell(location=Location(line=125, column=37), value='the-host')], id='1033')], id='1034')], id='1035'), '1028': Step(location=Location(line=116, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='1028'), '1029': Step(location=Location(line=117, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='1029'), '1030': Step(location=Location(line=119, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='1030'), '1031': Step(location=Location(line=121, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='1031'), '1034': Examples(location=Location(line=123, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=124, column=5), cells=[TableCell(location=Location(line=124, column=7), value='context'), TableCell(location=Location(line=124, column=17), value='username'), TableCell(location=Location(line=124, column=28), value='host')], id='1032'), table_body=[TableRow(location=Location(line=125, column=5), cells=[TableCell(location=Location(line=125, column=7), value='philadelphia'), TableCell(location=Location(line=125, column=24), value='flukeman'), TableCell(location=Location(line=125, column=37), value='the-host')], id='1033')], id='1034'), '1032': TableRow(location=Location(line=124, column=5), cells=[TableCell(location=Location(line=124, column=7), value='context'), TableCell(location=Location(line=124, column=17), value='username'), TableCell(location=Location(line=124, column=28), value='host')], id='1032'), '1033': TableRow(location=Location(line=125, column=5), cells=[TableCell(location=Location(line=125, column=7), value='philadelphia'), TableCell(location=Location(line=125, column=24), value='flukeman'), TableCell(location=Location(line=125, column=37), value='the-host')], id='1033')}, pickles=[Pickle(id='1050', uri='file:features/9_mindwm_clipboard.feature', name='Prepare environment for ping tests', language='en', steps=[PickleStep(argument=None, ast_node_ids=['957'], id='1038', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['958'], id='1039', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['960', '973'], id='1040', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"philadelphia\"'), PickleStep(argument=None, ast_node_ids=['961', '973'], id='1041', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='clipboard')])])), ast_node_ids=['964', '973'], id='1042', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-philadelphia\" namespace'), PickleStep(argument=None, ast_node_ids=['965', '973'], id='1043', type=<Type.outcome: 'Outcome'>, text='statefulset \"philadelphia-neo4j\" in namespace \"context-philadelphia\" is in ready state'), PickleStep(argument=None, ast_node_ids=['966', '973'], id='1044', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"flukeman\" and connects it to the context \"philadelphia\"'), PickleStep(argument=None, ast_node_ids=['967', '973'], id='1045', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['968', '973'], id='1046', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"the-host\" and connects it to the user \"flukeman\"'), PickleStep(argument=None, ast_node_ids=['969', '973'], id='1047', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['970', '973'], id='1048', type=<Type.outcome: 'Outcome'>, text='NatsJetStreamChannel \"the-host-host-broker-kne-trigger\" is ready in \"user-flukeman\" namespace'), PickleStep(argument=None, ast_node_ids=['971', '973'], id='1049', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"')], tags=[PickleTag(name='@mindwm_clipboard', ast_node_id='1036'), PickleTag(name='@mindwm_test', ast_node_id='1037')], ast_node_ids=['975', '973']), Pickle(id='1061', uri='file:features/9_mindwm_clipboard.feature', name='Send clipboard to knative ping service', language='en', steps=[PickleStep(argument=None, ast_node_ids=['957'], id='1051', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['958'], id='1052', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['976', '987'], id='1053', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['977', '987'], id='1054', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"'), PickleStep(argument=None, ast_node_ids=['978', '987'], id='1055', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"'), PickleStep(argument=None, ast_node_ids=['979', '987'], id='1056', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.flukeman.the-host.clipboard\"'), PickleStep(argument=None, ast_node_ids=['980', '987'], id='1057', type=<Type.action: 'Action'>, text='sets cloudevent header \"traceparent\" to \"00-6ef92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"uuid\": \"6ca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325473,\\n  \"data\": \"clipboard primary data\"\\n} '), data_table=None), ast_node_ids=['981', '987'], id='1058', type=<Type.action: 'Action'>, text='sends cloudevent to knative service \"clipboard\" in \"context-philadelphia\" namespace'), PickleStep(argument=None, ast_node_ids=['982', '987'], id='1059', type=<Type.outcome: 'Outcome'>, text='the response http code should be \"200\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='clipboard-00001-deployment')])])), ast_node_ids=['985', '987'], id='1060', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-philadelphia\" namespace')], tags=[PickleTag(name='@mindwm_clipboard', ast_node_id='1036'), PickleTag(name='@mindwm_test', ast_node_id='1037')], ast_node_ids=['989', '987']), Pickle(id='1076', uri='file:features/9_mindwm_clipboard.feature', name='Send ping directly to function broker-ingress.knative-eventing/context-philadelphia/context-broker', language='en', steps=[PickleStep(argument=None, ast_node_ids=['957'], id='1062', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['958'], id='1063', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['990', '1009'], id='1064', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['991', '1009'], id='1065', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['992', '1009'], id='1066', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"'), PickleStep(argument=None, ast_node_ids=['993', '1009'], id='1067', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"'), PickleStep(argument=None, ast_node_ids=['994', '1009'], id='1068', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.flukeman.the-host.clipboard\"'), PickleStep(argument=None, ast_node_ids=['995', '1009'], id='1069', type=<Type.action: 'Action'>, text='sets cloudevent header \"traceparent\" to \"00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"uuid\": \"4bca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard secondary data\"\\n} '), data_table=None), ast_node_ids=['996', '1009'], id='1070', type=<Type.action: 'Action'>, text='sends cloudevent to \"broker-ingress.knative-eventing/context-philadelphia/context-broker\"'), PickleStep(argument=None, ast_node_ids=['997', '1009'], id='1071', type=<Type.outcome: 'Outcome'>, text='the response http code should be \"202\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='clipboard-00001-deployment')])])), ast_node_ids=['1000', '1009'], id='1072', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-philadelphia\" namespace'), PickleStep(argument=None, ast_node_ids=['1001', '1009'], id='1073', type=<Type.outcome: 'Outcome'>, text='the trace with \"00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00\" should appear in TraceQL'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='service name')]), PickleTableRow(cells=[PickleTableCell(value='broker-ingress.knative-eventing')]), PickleTableRow(cells=[PickleTableCell(value='unknown_service')]), PickleTableRow(cells=[PickleTableCell(value='jetstream-ch-dispatcher')])])), ast_node_ids=['1006', '1009'], id='1074', type=<Type.outcome: 'Outcome'>, text='the trace should contains'), PickleStep(argument=None, ast_node_ids=['1007', '1009'], id='1075', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-flukeman.the-host-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_clipboard', ast_node_id='1036'), PickleTag(name='@mindwm_test', ast_node_id='1037')], ast_node_ids=['1012', '1009']), Pickle(id='1091', uri='file:features/9_mindwm_clipboard.feature', name='Send ping directly to function broker-ingress.knative-eventing/user-flukeman/user-broker', language='en', steps=[PickleStep(argument=None, ast_node_ids=['957'], id='1077', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['958'], id='1078', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['990', '1010'], id='1079', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['991', '1010'], id='1080', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['992', '1010'], id='1081', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"'), PickleStep(argument=None, ast_node_ids=['993', '1010'], id='1082', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"'), PickleStep(argument=None, ast_node_ids=['994', '1010'], id='1083', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.flukeman.the-host.clipboard\"'), PickleStep(argument=None, ast_node_ids=['995', '1010'], id='1084', type=<Type.action: 'Action'>, text='sets cloudevent header \"traceparent\" to \"00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"uuid\": \"4bca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard secondary data\"\\n} '), data_table=None), ast_node_ids=['996', '1010'], id='1085', type=<Type.action: 'Action'>, text='sends cloudevent to \"broker-ingress.knative-eventing/user-flukeman/user-broker\"'), PickleStep(argument=None, ast_node_ids=['997', '1010'], id='1086', type=<Type.outcome: 'Outcome'>, text='the response http code should be \"202\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='clipboard-00001-deployment')])])), ast_node_ids=['1000', '1010'], id='1087', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-philadelphia\" namespace'), PickleStep(argument=None, ast_node_ids=['1001', '1010'], id='1088', type=<Type.outcome: 'Outcome'>, text='the trace with \"00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00\" should appear in TraceQL'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='service name')]), PickleTableRow(cells=[PickleTableCell(value='broker-ingress.knative-eventing')]), PickleTableRow(cells=[PickleTableCell(value='unknown_service')]), PickleTableRow(cells=[PickleTableCell(value='jetstream-ch-dispatcher')])])), ast_node_ids=['1006', '1010'], id='1089', type=<Type.outcome: 'Outcome'>, text='the trace should contains'), PickleStep(argument=None, ast_node_ids=['1007', '1010'], id='1090', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-flukeman.the-host-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_clipboard', ast_node_id='1036'), PickleTag(name='@mindwm_test', ast_node_id='1037')], ast_node_ids=['1012', '1010']), Pickle(id='1103', uri='file:features/9_mindwm_clipboard.feature', name='Send ping via nats', language='en', steps=[PickleStep(argument=None, ast_node_ids=['957'], id='1092', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['958'], id='1093', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['1013', '1025'], id='1094', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['1014', '1025'], id='1095', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-id\" to \"09fb195c-c419-6d62-15e0-51b6ee990922\"'), PickleStep(argument=None, ast_node_ids=['1015', '1025'], id='1096', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"'), PickleStep(argument=None, ast_node_ids=['1016', '1025'], id='1097', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"'), PickleStep(argument=None, ast_node_ids=['1017', '1025'], id='1098', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.flukeman.the-host.clipboard\"'), PickleStep(argument=None, ast_node_ids=['1018', '1025'], id='1099', type=<Type.action: 'Action'>, text='sets cloudevent header \"traceparent\" to \"00-8af92f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"uuid\": \"3bca8a133-aba6-4f7f-ab95-242802fcac3c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard #3 data\"\\n} '), data_table=None), ast_node_ids=['1019', '1025'], id='1100', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.flukeman.the-host.clipboard\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='clipboard-00001-deployment')])])), ast_node_ids=['1022', '1025'], id='1101', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-philadelphia\" namespace'), PickleStep(argument=None, ast_node_ids=['1023', '1025'], id='1102', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-flukeman.the-host-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_clipboard', ast_node_id='1036'), PickleTag(name='@mindwm_test', ast_node_id='1037')], ast_node_ids=['1027', '1025']), Pickle(id='1110', uri='file:features/9_mindwm_clipboard.feature', name='Cleanup flukeman@the-host in philadelphia', language='en', steps=[PickleStep(argument=None, ast_node_ids=['957'], id='1104', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['958'], id='1105', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['1028', '1033'], id='1106', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"the-host\"'), PickleStep(argument=None, ast_node_ids=['1029', '1033'], id='1107', type=<Type.outcome: 'Outcome'>, text='the host \"the-host\" should be deleted'), PickleStep(argument=None, ast_node_ids=['1030', '1033'], id='1108', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"flukeman\"'), PickleStep(argument=None, ast_node_ids=['1031', '1033'], id='1109', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"philadelphia\"')], tags=[PickleTag(name='@mindwm_clipboard', ast_node_id='1036'), PickleTag(name='@mindwm_test', ast_node_id='1037')], ast_node_ids=['1035', '1033'])])","Source(uri='file:features/9_mindwm_clipboard.feature', data='@mindwm_clipboard\\n@mindwm_test\\nFeature: MindWM clipboard EDA test\\n  Background:\\n    Given A MindWM environment\\n    Then all nodes in Kubernetes are ready\\n\\n  Scenario: Prepare environment for ping tests \\n    When God creates a MindWM context with the name \"<context>\"\\n    Then the context should be ready and operable\\n    And the following knative services are in a ready state in the \"context-<context>\" namespace\\n      | Knative service name |\\n      | clipboard            |\\n    And statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state\\n\\n    When God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"\\n    Then the user resource should be ready and operable\\n\\n    When God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"\\n    Then the host resource should be ready and operable\\n    And NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace\\n\\n    When God starts reading message from NATS topic \">\"\\n\\n    Examples:\\n     | context | username   | host      |\\n     | philadelphia   | flukeman   | the-host  | \\n\\n  Scenario: Send clipboard to knative ping service\\n    When God creates a new cloudevent \\n      And sets cloudevent header \"ce-subject\" to \"clipboard\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"\\n      And sets cloudevent header \"traceparent\" to \"<traceparent>\"\\n      And sends cloudevent to knative service \"clipboard\" in \"context-<context>\" namespace\\n      \"\"\"\\n      {\\n        \"uuid\": \"6ca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n        \"time\": 1728325473,\\n        \"data\": \"clipboard primary data\"\\n      } \\n      \"\"\"\\n      Then the response http code should be \"200\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name       |\\n      | clipboard-00001-deployment |\\n\\n    Examples:\\n     | context | username   | host      | traceparent                                             |\\n     | philadelphia   | flukeman   | the-host  | 00-6ef92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00 |\\n\\n  Scenario: Send ping directly to function <endpoint>\\n    When God creates a new cloudevent \\n      And God starts reading message from NATS topic \">\"\\n      And sets cloudevent header \"ce-subject\" to \"clipboard\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"\\n      And sets cloudevent header \"traceparent\" to \"<traceparent>\"\\n      And sends cloudevent to \"<endpoint>\"\\n      \"\"\"\\n      {\\n        \"uuid\": \"4bca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n        \"time\": 1728325474,\\n        \"data\": \"clipboard secondary data\"\\n      } \\n      \"\"\"\\n    Then the response http code should be \"202\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name            |\\n      | clipboard-00001-deployment |\\n    Then the trace with \"<traceparent>\" should appear in TraceQL\\n    And the trace should contains \\n      | service name                    | \\n      | broker-ingress.knative-eventing | \\n      | unknown_service                 | \\n      | jetstream-ch-dispatcher         |\\n    And a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"\\n\\n    Examples:\\n     | context | username   | host      | endpoint | traceparent \\t\\t\\t\\t\\t         |\\n     | philadelphia   | flukeman   | the-host  | broker-ingress.knative-eventing/context-philadelphia/context-broker   | 00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00 |\\n     | philadelphia   | flukeman   | the-host  | broker-ingress.knative-eventing/user-flukeman/user-broker | 00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00 |\\n\\n\\n  Scenario: Send ping via nats\\n    When God creates a new cloudevent \\n      And sets cloudevent header \"ce-id\" to \"<uuid>\"\\n      And sets cloudevent header \"ce-subject\" to \"clipboard\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"\\n      And sets cloudevent header \"traceparent\" to \"<traceparent>\"\\n      And sends cloudevent to nats topic \"org.mindwm.<username>.<host>.clipboard\"\\n      \"\"\"\\n      {\\n        \"uuid\": \"3bca8a133-aba6-4f7f-ab95-242802fcac3c\",\\n        \"time\": 1728325474,\\n        \"data\": \"clipboard #3 data\"\\n      } \\n      \"\"\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name       |\\n      | clipboard-00001-deployment |\\n\\n    And a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"\\n\\n\\n    Examples:\\n     | context | username   | host      | uuid                                  | traceparent |\\n     | philadelphia   | flukeman   | the-host  | 09fb195c-c419-6d62-15e0-51b6ee990922 | 00-8af92f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00 |\\n\\n\\n  Scenario: Cleanup <username>@<host> in <context>\\n    When God deletes the MindWM host resource \"<host>\"\\n    Then the host \"<host>\" should be deleted\\n\\n    When God deletes the MindWM user resource \"<username>\"\\n\\n    When God deletes the MindWM context resource \"<context>\"\\n\\n    Examples:\\n    | context | username | host        | \\n    | philadelphia   | flukeman   | the-host         |\\n\\n', media_type='text/x.cucumber.gherkin+plain')","Pickle(id='1076', uri='file:features/9_mindwm_clipboard.feature', name='Send ping directly to function broker-ingress.knative-eventing/context-philadelphia/context-broker', language='en', steps=[PickleStep(argument=None, ast_node_ids=['957'], id='1062', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['958'], id='1063', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['990', '1009'], id='1064', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['991', '1009'], id='1065', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['992', '1009'], id='1066', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"'), PickleStep(argument=None, ast_node_ids=['993', '1009'], id='1067', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"'), PickleStep(argument=None, ast_node_ids=['994', '1009'], id='1068', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.flukeman.the-host.clipboard\"'), PickleStep(argument=None, ast_node_ids=['995', '1009'], id='1069', type=<Type.action: 'Action'>, text='sets cloudevent header \"traceparent\" to \"00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"uuid\": \"4bca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard secondary data\"\\n} '), data_table=None), ast_node_ids=['996', '1009'], id='1070', type=<Type.action: 'Action'>, text='sends cloudevent to \"broker-ingress.knative-eventing/context-philadelphia/context-broker\"'), PickleStep(argument=None, ast_node_ids=['997', '1009'], id='1071', type=<Type.outcome: 'Outcome'>, text='the response http code should be \"202\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='clipboard-00001-deployment')])])), ast_node_ids=['1000', '1009'], id='1072', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-philadelphia\" namespace'), PickleStep(argument=None, ast_node_ids=['1001', '1009'], id='1073', type=<Type.outcome: 'Outcome'>, text='the trace with \"00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00\" should appear in TraceQL'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='service name')]), PickleTableRow(cells=[PickleTableCell(value='broker-ingress.knative-eventing')]), PickleTableRow(cells=[PickleTableCell(value='unknown_service')]), PickleTableRow(cells=[PickleTableCell(value='jetstream-ch-dispatcher')])])), ast_node_ids=['1006', '1009'], id='1074', type=<Type.outcome: 'Outcome'>, text='the trace should contains'), PickleStep(argument=None, ast_node_ids=['1007', '1009'], id='1075', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-flukeman.the-host-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_clipboard', ast_node_id='1036'), PickleTag(name='@mindwm_test', ast_node_id='1037')], ast_node_ids=['1012', '1009'])"],"tags":["scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/9_mindwm_clipboard.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=<FeaturePathType.PATH: 'path'>, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())","pytest_bdd_scenario","@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')","mindwm_clipboard","mindwm_test","namespace(create=False, name='default')"]},{"name":"test_scenarios[file:features/7_mindwm_two_users_one_context.feature-MindWM two users one context function test-Cleanup tablet host for tengu username[table_rows:[line: 75]]]","uid":"fae3c3f18cb33aee","parentUid":"3961740595044ffd97a03e46799bfc30","status":"passed","time":{"start":1728404580555,"stop":1728404581834,"duration":1279},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["Feature(gherkin_document=GherkinDocument(uri='file:features/7_mindwm_two_users_one_context.feature', feature=Feature(location=Location(line=3, column=1), tags=[Tag(location=Location(line=1, column=1), name='@mindwm_two_users_one_context', id='801'), Tag(location=Location(line=2, column=1), name='@mindwm_test', id='802')], language='en', keyword='Feature', name='MindWM two users one context function test', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='736'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='737')], id='738'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Create context <context>', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='739'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='740'), Step(location=Location(line=12, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=13, column=7), rows=[TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='Knative service name')], id='741'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='iocontext')], id='742'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='pong')], id='743'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='kafka-cdc')], id='744')]), id='745'), Step(location=Location(line=17, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='746')], examples=[Examples(location=Location(line=18, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=19, column=5), cells=[TableCell(location=Location(line=19, column=7), value='context')], id='747'), table_body=[TableRow(location=Location(line=20, column=5), cells=[TableCell(location=Location(line=20, column=7), value='tokyo')], id='748')], id='749')], id='750')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=22, column=3), tags=[], keyword='Scenario', name='Create <username> and connects it to <context>', description='', steps=[Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='751'), Step(location=Location(line=24, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='752')], examples=[Examples(location=Location(line=25, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=26, column=5), cells=[TableCell(location=Location(line=26, column=7), value='context'), TableCell(location=Location(line=26, column=17), value='username')], id='753'), table_body=[TableRow(location=Location(line=27, column=5), cells=[TableCell(location=Location(line=27, column=7), value='tokyo'), TableCell(location=Location(line=27, column=17), value='godzilla')], id='754'), TableRow(location=Location(line=28, column=5), cells=[TableCell(location=Location(line=28, column=7), value='tokyo'), TableCell(location=Location(line=28, column=17), value='tengu')], id='755')], id='756')], id='757')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=29, column=3), tags=[], keyword='Scenario', name='Create <host> resource and connects it to <username> user', description='', steps=[Step(location=Location(line=30, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='758'), Step(location=Location(line=31, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='759')], examples=[Examples(location=Location(line=33, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='username'), TableCell(location=Location(line=34, column=18), value='host')], id='760'), table_body=[TableRow(location=Location(line=35, column=5), cells=[TableCell(location=Location(line=35, column=7), value='godzilla'), TableCell(location=Location(line=35, column=18), value='laptop')], id='761'), TableRow(location=Location(line=36, column=5), cells=[TableCell(location=Location(line=36, column=7), value='tengu'), TableCell(location=Location(line=36, column=18), value='tablet')], id='762')], id='763')], id='764')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=38, column=3), tags=[], keyword='Scenario', name='Send iodocument via nats host: <host>, user: <username> and check that second user received graph update', description='', steps=[Step(location=Location(line=39, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='765'), Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='766'), Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='767'), Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='768'), Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=None, data_table=None, id='769'), Step(location=Location(line=44, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=DocString(location=Location(line=45, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='770'), Step(location=Location(line=54, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=55, column=7), rows=[TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='Deployment name')], id='771'), TableRow(location=Location(line=56, column=7), cells=[TableCell(location=Location(line=56, column=9), value='iocontext-00001-deployment')], id='772'), TableRow(location=Location(line=57, column=7), cells=[TableCell(location=Location(line=57, column=9), value='kafka-cdc-00001-deployment')], id='773')]), id='774'), Step(location=Location(line=59, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<dst_user>.<dst_host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='775')], examples=[Examples(location=Location(line=61, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=62, column=5), cells=[TableCell(location=Location(line=62, column=7), value='context'), TableCell(location=Location(line=62, column=17), value='src_user'), TableCell(location=Location(line=62, column=28), value='src_host'), TableCell(location=Location(line=62, column=39), value='dst_user'), TableCell(location=Location(line=62, column=50), value='dst_host')], id='776'), table_body=[TableRow(location=Location(line=63, column=5), cells=[TableCell(location=Location(line=63, column=7), value='tokyo'), TableCell(location=Location(line=63, column=17), value='godzilla'), TableCell(location=Location(line=63, column=28), value='laptop'), TableCell(location=Location(line=63, column=39), value='tengu'), TableCell(location=Location(line=63, column=50), value='tablet')], id='777'), TableRow(location=Location(line=64, column=5), cells=[TableCell(location=Location(line=64, column=7), value='tokyo'), TableCell(location=Location(line=64, column=17), value='tengu'), TableCell(location=Location(line=64, column=28), value='tablet'), TableCell(location=Location(line=64, column=39), value='godzilla'), TableCell(location=Location(line=64, column=50), value='laptop')], id='778')], id='779')], id='780')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=67, column=3), tags=[], keyword='Scenario', name='Cleanup <host> host for <username> username', description='', steps=[Step(location=Location(line=69, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='781'), Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='782')], examples=[Examples(location=Location(line=72, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=73, column=5), cells=[TableCell(location=Location(line=73, column=7), value='username'), TableCell(location=Location(line=73, column=18), value='host')], id='783'), table_body=[TableRow(location=Location(line=74, column=5), cells=[TableCell(location=Location(line=74, column=7), value='godzilla'), TableCell(location=Location(line=74, column=18), value='laptop')], id='784'), TableRow(location=Location(line=75, column=5), cells=[TableCell(location=Location(line=75, column=7), value='tengu'), TableCell(location=Location(line=75, column=18), value='tablet')], id='785')], id='786')], id='787')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=77, column=3), tags=[], keyword='Scenario', name='Cleanup <username> username', description='', steps=[Step(location=Location(line=78, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='788'), Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='789')], examples=[Examples(location=Location(line=81, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='username')], id='790'), table_body=[TableRow(location=Location(line=83, column=5), cells=[TableCell(location=Location(line=83, column=7), value='godzilla')], id='791'), TableRow(location=Location(line=84, column=5), cells=[TableCell(location=Location(line=84, column=7), value='tengu')], id='792')], id='793')], id='794')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=86, column=3), tags=[], keyword='Scenario', name='Cleanup <context> context', description='', steps=[Step(location=Location(line=87, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='795'), Step(location=Location(line=88, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='796')], examples=[Examples(location=Location(line=90, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=91, column=5), cells=[TableCell(location=Location(line=91, column=7), value='context')], id='797'), table_body=[TableRow(location=Location(line=92, column=5), cells=[TableCell(location=Location(line=92, column=7), value='tokyo')], id='798')], id='799')], id='800'))]), comments=[]), uri='file:features/7_mindwm_two_users_one_context.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/7_mindwm_two_users_one_context.feature', registry={'801': Tag(location=Location(line=1, column=1), name='@mindwm_two_users_one_context', id='801'), '802': Tag(location=Location(line=2, column=1), name='@mindwm_test', id='802'), '738': Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='736'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='737')], id='738'), '736': Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='736'), '737': Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='737'), '750': Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Create context <context>', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='739'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='740'), Step(location=Location(line=12, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=13, column=7), rows=[TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='Knative service name')], id='741'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='iocontext')], id='742'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='pong')], id='743'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='kafka-cdc')], id='744')]), id='745'), Step(location=Location(line=17, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='746')], examples=[Examples(location=Location(line=18, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=19, column=5), cells=[TableCell(location=Location(line=19, column=7), value='context')], id='747'), table_body=[TableRow(location=Location(line=20, column=5), cells=[TableCell(location=Location(line=20, column=7), value='tokyo')], id='748')], id='749')], id='750'), '739': Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='739'), '740': Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='740'), '745': Step(location=Location(line=12, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=13, column=7), rows=[TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='Knative service name')], id='741'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='iocontext')], id='742'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='pong')], id='743'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='kafka-cdc')], id='744')]), id='745'), '746': Step(location=Location(line=17, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='746'), '749': Examples(location=Location(line=18, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=19, column=5), cells=[TableCell(location=Location(line=19, column=7), value='context')], id='747'), table_body=[TableRow(location=Location(line=20, column=5), cells=[TableCell(location=Location(line=20, column=7), value='tokyo')], id='748')], id='749'), '747': TableRow(location=Location(line=19, column=5), cells=[TableCell(location=Location(line=19, column=7), value='context')], id='747'), '748': TableRow(location=Location(line=20, column=5), cells=[TableCell(location=Location(line=20, column=7), value='tokyo')], id='748'), '757': Scenario(location=Location(line=22, column=3), tags=[], keyword='Scenario', name='Create <username> and connects it to <context>', description='', steps=[Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='751'), Step(location=Location(line=24, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='752')], examples=[Examples(location=Location(line=25, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=26, column=5), cells=[TableCell(location=Location(line=26, column=7), value='context'), TableCell(location=Location(line=26, column=17), value='username')], id='753'), table_body=[TableRow(location=Location(line=27, column=5), cells=[TableCell(location=Location(line=27, column=7), value='tokyo'), TableCell(location=Location(line=27, column=17), value='godzilla')], id='754'), TableRow(location=Location(line=28, column=5), cells=[TableCell(location=Location(line=28, column=7), value='tokyo'), TableCell(location=Location(line=28, column=17), value='tengu')], id='755')], id='756')], id='757'), '751': Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='751'), '752': Step(location=Location(line=24, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='752'), '756': Examples(location=Location(line=25, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=26, column=5), cells=[TableCell(location=Location(line=26, column=7), value='context'), TableCell(location=Location(line=26, column=17), value='username')], id='753'), table_body=[TableRow(location=Location(line=27, column=5), cells=[TableCell(location=Location(line=27, column=7), value='tokyo'), TableCell(location=Location(line=27, column=17), value='godzilla')], id='754'), TableRow(location=Location(line=28, column=5), cells=[TableCell(location=Location(line=28, column=7), value='tokyo'), TableCell(location=Location(line=28, column=17), value='tengu')], id='755')], id='756'), '753': TableRow(location=Location(line=26, column=5), cells=[TableCell(location=Location(line=26, column=7), value='context'), TableCell(location=Location(line=26, column=17), value='username')], id='753'), '754': TableRow(location=Location(line=27, column=5), cells=[TableCell(location=Location(line=27, column=7), value='tokyo'), TableCell(location=Location(line=27, column=17), value='godzilla')], id='754'), '755': TableRow(location=Location(line=28, column=5), cells=[TableCell(location=Location(line=28, column=7), value='tokyo'), TableCell(location=Location(line=28, column=17), value='tengu')], id='755'), '764': Scenario(location=Location(line=29, column=3), tags=[], keyword='Scenario', name='Create <host> resource and connects it to <username> user', description='', steps=[Step(location=Location(line=30, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='758'), Step(location=Location(line=31, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='759')], examples=[Examples(location=Location(line=33, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='username'), TableCell(location=Location(line=34, column=18), value='host')], id='760'), table_body=[TableRow(location=Location(line=35, column=5), cells=[TableCell(location=Location(line=35, column=7), value='godzilla'), TableCell(location=Location(line=35, column=18), value='laptop')], id='761'), TableRow(location=Location(line=36, column=5), cells=[TableCell(location=Location(line=36, column=7), value='tengu'), TableCell(location=Location(line=36, column=18), value='tablet')], id='762')], id='763')], id='764'), '758': Step(location=Location(line=30, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='758'), '759': Step(location=Location(line=31, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='759'), '763': Examples(location=Location(line=33, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='username'), TableCell(location=Location(line=34, column=18), value='host')], id='760'), table_body=[TableRow(location=Location(line=35, column=5), cells=[TableCell(location=Location(line=35, column=7), value='godzilla'), TableCell(location=Location(line=35, column=18), value='laptop')], id='761'), TableRow(location=Location(line=36, column=5), cells=[TableCell(location=Location(line=36, column=7), value='tengu'), TableCell(location=Location(line=36, column=18), value='tablet')], id='762')], id='763'), '760': TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='username'), TableCell(location=Location(line=34, column=18), value='host')], id='760'), '761': TableRow(location=Location(line=35, column=5), cells=[TableCell(location=Location(line=35, column=7), value='godzilla'), TableCell(location=Location(line=35, column=18), value='laptop')], id='761'), '762': TableRow(location=Location(line=36, column=5), cells=[TableCell(location=Location(line=36, column=7), value='tengu'), TableCell(location=Location(line=36, column=18), value='tablet')], id='762'), '780': Scenario(location=Location(line=38, column=3), tags=[], keyword='Scenario', name='Send iodocument via nats host: <host>, user: <username> and check that second user received graph update', description='', steps=[Step(location=Location(line=39, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='765'), Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='766'), Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='767'), Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='768'), Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=None, data_table=None, id='769'), Step(location=Location(line=44, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=DocString(location=Location(line=45, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='770'), Step(location=Location(line=54, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=55, column=7), rows=[TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='Deployment name')], id='771'), TableRow(location=Location(line=56, column=7), cells=[TableCell(location=Location(line=56, column=9), value='iocontext-00001-deployment')], id='772'), TableRow(location=Location(line=57, column=7), cells=[TableCell(location=Location(line=57, column=9), value='kafka-cdc-00001-deployment')], id='773')]), id='774'), Step(location=Location(line=59, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<dst_user>.<dst_host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='775')], examples=[Examples(location=Location(line=61, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=62, column=5), cells=[TableCell(location=Location(line=62, column=7), value='context'), TableCell(location=Location(line=62, column=17), value='src_user'), TableCell(location=Location(line=62, column=28), value='src_host'), TableCell(location=Location(line=62, column=39), value='dst_user'), TableCell(location=Location(line=62, column=50), value='dst_host')], id='776'), table_body=[TableRow(location=Location(line=63, column=5), cells=[TableCell(location=Location(line=63, column=7), value='tokyo'), TableCell(location=Location(line=63, column=17), value='godzilla'), TableCell(location=Location(line=63, column=28), value='laptop'), TableCell(location=Location(line=63, column=39), value='tengu'), TableCell(location=Location(line=63, column=50), value='tablet')], id='777'), TableRow(location=Location(line=64, column=5), cells=[TableCell(location=Location(line=64, column=7), value='tokyo'), TableCell(location=Location(line=64, column=17), value='tengu'), TableCell(location=Location(line=64, column=28), value='tablet'), TableCell(location=Location(line=64, column=39), value='godzilla'), TableCell(location=Location(line=64, column=50), value='laptop')], id='778')], id='779')], id='780'), '765': Step(location=Location(line=39, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='765'), '766': Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='766'), '767': Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='767'), '768': Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='768'), '769': Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=None, data_table=None, id='769'), '770': Step(location=Location(line=44, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=DocString(location=Location(line=45, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='770'), '774': Step(location=Location(line=54, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=55, column=7), rows=[TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='Deployment name')], id='771'), TableRow(location=Location(line=56, column=7), cells=[TableCell(location=Location(line=56, column=9), value='iocontext-00001-deployment')], id='772'), TableRow(location=Location(line=57, column=7), cells=[TableCell(location=Location(line=57, column=9), value='kafka-cdc-00001-deployment')], id='773')]), id='774'), '775': Step(location=Location(line=59, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<dst_user>.<dst_host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='775'), '779': Examples(location=Location(line=61, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=62, column=5), cells=[TableCell(location=Location(line=62, column=7), value='context'), TableCell(location=Location(line=62, column=17), value='src_user'), TableCell(location=Location(line=62, column=28), value='src_host'), TableCell(location=Location(line=62, column=39), value='dst_user'), TableCell(location=Location(line=62, column=50), value='dst_host')], id='776'), table_body=[TableRow(location=Location(line=63, column=5), cells=[TableCell(location=Location(line=63, column=7), value='tokyo'), TableCell(location=Location(line=63, column=17), value='godzilla'), TableCell(location=Location(line=63, column=28), value='laptop'), TableCell(location=Location(line=63, column=39), value='tengu'), TableCell(location=Location(line=63, column=50), value='tablet')], id='777'), TableRow(location=Location(line=64, column=5), cells=[TableCell(location=Location(line=64, column=7), value='tokyo'), TableCell(location=Location(line=64, column=17), value='tengu'), TableCell(location=Location(line=64, column=28), value='tablet'), TableCell(location=Location(line=64, column=39), value='godzilla'), TableCell(location=Location(line=64, column=50), value='laptop')], id='778')], id='779'), '776': TableRow(location=Location(line=62, column=5), cells=[TableCell(location=Location(line=62, column=7), value='context'), TableCell(location=Location(line=62, column=17), value='src_user'), TableCell(location=Location(line=62, column=28), value='src_host'), TableCell(location=Location(line=62, column=39), value='dst_user'), TableCell(location=Location(line=62, column=50), value='dst_host')], id='776'), '777': TableRow(location=Location(line=63, column=5), cells=[TableCell(location=Location(line=63, column=7), value='tokyo'), TableCell(location=Location(line=63, column=17), value='godzilla'), TableCell(location=Location(line=63, column=28), value='laptop'), TableCell(location=Location(line=63, column=39), value='tengu'), TableCell(location=Location(line=63, column=50), value='tablet')], id='777'), '778': TableRow(location=Location(line=64, column=5), cells=[TableCell(location=Location(line=64, column=7), value='tokyo'), TableCell(location=Location(line=64, column=17), value='tengu'), TableCell(location=Location(line=64, column=28), value='tablet'), TableCell(location=Location(line=64, column=39), value='godzilla'), TableCell(location=Location(line=64, column=50), value='laptop')], id='778'), '787': Scenario(location=Location(line=67, column=3), tags=[], keyword='Scenario', name='Cleanup <host> host for <username> username', description='', steps=[Step(location=Location(line=69, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='781'), Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='782')], examples=[Examples(location=Location(line=72, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=73, column=5), cells=[TableCell(location=Location(line=73, column=7), value='username'), TableCell(location=Location(line=73, column=18), value='host')], id='783'), table_body=[TableRow(location=Location(line=74, column=5), cells=[TableCell(location=Location(line=74, column=7), value='godzilla'), TableCell(location=Location(line=74, column=18), value='laptop')], id='784'), TableRow(location=Location(line=75, column=5), cells=[TableCell(location=Location(line=75, column=7), value='tengu'), TableCell(location=Location(line=75, column=18), value='tablet')], id='785')], id='786')], id='787'), '781': Step(location=Location(line=69, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='781'), '782': Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='782'), '786': Examples(location=Location(line=72, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=73, column=5), cells=[TableCell(location=Location(line=73, column=7), value='username'), TableCell(location=Location(line=73, column=18), value='host')], id='783'), table_body=[TableRow(location=Location(line=74, column=5), cells=[TableCell(location=Location(line=74, column=7), value='godzilla'), TableCell(location=Location(line=74, column=18), value='laptop')], id='784'), TableRow(location=Location(line=75, column=5), cells=[TableCell(location=Location(line=75, column=7), value='tengu'), TableCell(location=Location(line=75, column=18), value='tablet')], id='785')], id='786'), '783': TableRow(location=Location(line=73, column=5), cells=[TableCell(location=Location(line=73, column=7), value='username'), TableCell(location=Location(line=73, column=18), value='host')], id='783'), '784': TableRow(location=Location(line=74, column=5), cells=[TableCell(location=Location(line=74, column=7), value='godzilla'), TableCell(location=Location(line=74, column=18), value='laptop')], id='784'), '785': TableRow(location=Location(line=75, column=5), cells=[TableCell(location=Location(line=75, column=7), value='tengu'), TableCell(location=Location(line=75, column=18), value='tablet')], id='785'), '794': Scenario(location=Location(line=77, column=3), tags=[], keyword='Scenario', name='Cleanup <username> username', description='', steps=[Step(location=Location(line=78, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='788'), Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='789')], examples=[Examples(location=Location(line=81, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='username')], id='790'), table_body=[TableRow(location=Location(line=83, column=5), cells=[TableCell(location=Location(line=83, column=7), value='godzilla')], id='791'), TableRow(location=Location(line=84, column=5), cells=[TableCell(location=Location(line=84, column=7), value='tengu')], id='792')], id='793')], id='794'), '788': Step(location=Location(line=78, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='788'), '789': Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='789'), '793': Examples(location=Location(line=81, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='username')], id='790'), table_body=[TableRow(location=Location(line=83, column=5), cells=[TableCell(location=Location(line=83, column=7), value='godzilla')], id='791'), TableRow(location=Location(line=84, column=5), cells=[TableCell(location=Location(line=84, column=7), value='tengu')], id='792')], id='793'), '790': TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='username')], id='790'), '791': TableRow(location=Location(line=83, column=5), cells=[TableCell(location=Location(line=83, column=7), value='godzilla')], id='791'), '792': TableRow(location=Location(line=84, column=5), cells=[TableCell(location=Location(line=84, column=7), value='tengu')], id='792'), '800': Scenario(location=Location(line=86, column=3), tags=[], keyword='Scenario', name='Cleanup <context> context', description='', steps=[Step(location=Location(line=87, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='795'), Step(location=Location(line=88, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='796')], examples=[Examples(location=Location(line=90, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=91, column=5), cells=[TableCell(location=Location(line=91, column=7), value='context')], id='797'), table_body=[TableRow(location=Location(line=92, column=5), cells=[TableCell(location=Location(line=92, column=7), value='tokyo')], id='798')], id='799')], id='800'), '795': Step(location=Location(line=87, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='795'), '796': Step(location=Location(line=88, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='796'), '799': Examples(location=Location(line=90, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=91, column=5), cells=[TableCell(location=Location(line=91, column=7), value='context')], id='797'), table_body=[TableRow(location=Location(line=92, column=5), cells=[TableCell(location=Location(line=92, column=7), value='tokyo')], id='798')], id='799'), '797': TableRow(location=Location(line=91, column=5), cells=[TableCell(location=Location(line=91, column=7), value='context')], id='797'), '798': TableRow(location=Location(line=92, column=5), cells=[TableCell(location=Location(line=92, column=7), value='tokyo')], id='798')}, pickles=[Pickle(id='809', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create context tokyo', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='803', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='804', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['739', '748'], id='805', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"tokyo\"'), PickleStep(argument=None, ast_node_ids=['740', '748'], id='806', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext')]), PickleTableRow(cells=[PickleTableCell(value='pong')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')])])), ast_node_ids=['745', '748'], id='807', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-tokyo\" namespace'), PickleStep(argument=None, ast_node_ids=['746', '748'], id='808', type=<Type.outcome: 'Outcome'>, text='statefulset \"tokyo-neo4j\" in namespace \"context-tokyo\" is in ready state')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['750', '748']), Pickle(id='814', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create godzilla and connects it to tokyo', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='810', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='811', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['751', '754'], id='812', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"godzilla\" and connects it to the context \"tokyo\"'), PickleStep(argument=None, ast_node_ids=['752', '754'], id='813', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['757', '754']), Pickle(id='819', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create tengu and connects it to tokyo', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='815', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='816', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['751', '755'], id='817', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"tengu\" and connects it to the context \"tokyo\"'), PickleStep(argument=None, ast_node_ids=['752', '755'], id='818', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['757', '755']), Pickle(id='824', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create laptop resource and connects it to godzilla user', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='820', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='821', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['758', '761'], id='822', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"laptop\" and connects it to the user \"godzilla\"'), PickleStep(argument=None, ast_node_ids=['759', '761'], id='823', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['764', '761']), Pickle(id='829', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create tablet resource and connects it to tengu user', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='825', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='826', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['758', '762'], id='827', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"tablet\" and connects it to the user \"tengu\"'), PickleStep(argument=None, ast_node_ids=['759', '762'], id='828', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['764', '762']), Pickle(id='840', uri='file:features/7_mindwm_two_users_one_context.feature', name='Send iodocument via nats host: <host>, user: <username> and check that second user received graph update', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='830', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='831', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['765', '777'], id='832', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['766', '777'], id='833', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['767', '777'], id='834', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"id\"'), PickleStep(argument=None, ast_node_ids=['768', '777'], id='835', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['769', '777'], id='836', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.godzilla.laptop.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['770', '777'], id='837', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.godzilla.laptop.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-00001-deployment')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-00001-deployment')])])), ast_node_ids=['774', '777'], id='838', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-tokyo\" namespace'), PickleStep(argument=None, ast_node_ids=['775', '777'], id='839', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-tengu.tablet-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['780', '777']), Pickle(id='851', uri='file:features/7_mindwm_two_users_one_context.feature', name='Send iodocument via nats host: <host>, user: <username> and check that second user received graph update', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='841', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='842', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['765', '778'], id='843', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['766', '778'], id='844', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['767', '778'], id='845', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"id\"'), PickleStep(argument=None, ast_node_ids=['768', '778'], id='846', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['769', '778'], id='847', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.tengu.tablet.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['770', '778'], id='848', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.tengu.tablet.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-00001-deployment')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-00001-deployment')])])), ast_node_ids=['774', '778'], id='849', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-tokyo\" namespace'), PickleStep(argument=None, ast_node_ids=['775', '778'], id='850', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-godzilla.laptop-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['780', '778']), Pickle(id='856', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup laptop host for godzilla username', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='852', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='853', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['781', '784'], id='854', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"laptop\"'), PickleStep(argument=None, ast_node_ids=['782', '784'], id='855', type=<Type.outcome: 'Outcome'>, text='the host \"laptop\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['787', '784']), Pickle(id='861', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup tablet host for tengu username', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='857', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='858', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['781', '785'], id='859', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"tablet\"'), PickleStep(argument=None, ast_node_ids=['782', '785'], id='860', type=<Type.outcome: 'Outcome'>, text='the host \"tablet\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['787', '785']), Pickle(id='866', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup godzilla username', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='862', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='863', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['788', '791'], id='864', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"godzilla\"'), PickleStep(argument=None, ast_node_ids=['789', '791'], id='865', type=<Type.outcome: 'Outcome'>, text='the user \"godzilla\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['794', '791']), Pickle(id='871', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup tengu username', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='867', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='868', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['788', '792'], id='869', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"tengu\"'), PickleStep(argument=None, ast_node_ids=['789', '792'], id='870', type=<Type.outcome: 'Outcome'>, text='the user \"tengu\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['794', '792']), Pickle(id='876', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup tokyo context', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='872', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='873', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['795', '798'], id='874', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"tokyo\"'), PickleStep(argument=None, ast_node_ids=['796', '798'], id='875', type=<Type.outcome: 'Outcome'>, text='the context \"tokyo\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['800', '798'])])","Source(uri='file:features/7_mindwm_two_users_one_context.feature', data='@mindwm_two_users_one_context\\n@mindwm_test\\nFeature: MindWM two users one context function test\\n  Background:\\n    Given A MindWM environment\\n    Then all nodes in Kubernetes are ready\\n\\n  Scenario: Create context <context>\\n    When God creates a MindWM context with the name \"<context>\"\\n    Then the context should be ready and operable\\n\\n    Then the following knative services are in a ready state in the \"context-<context>\" namespace\\n      | Knative service name |\\n      | iocontext            |\\n      | pong                 |\\n      | kafka-cdc            |\\n    And statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state\\n    Examples:\\n    | context | \\n    | tokyo   | \\n    \\n  Scenario: Create <username> and connects it to <context>\\n    When God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"\\n    Then the user resource should be ready and operable\\n    Examples:\\n    | context | username |\\n    | tokyo   | godzilla |\\n    | tokyo   | tengu    |\\n  Scenario: Create <host> resource and connects it to <username> user\\n    When God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"\\n    Then the host resource should be ready and operable\\n\\n    Examples: \\n    | username | host   |\\n    | godzilla | laptop | \\n    | tengu    | tablet | \\n\\n  Scenario: Send iodocument via nats host: <host>, user: <username> and check that second user received graph update\\n    When God creates a new cloudevent \\n      And God starts reading message from NATS topic \">\"\\n      And sets cloudevent header \"ce-subject\" to \"id\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"\\n      And sends cloudevent to nats topic \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"\\n      \"\"\"\\n      {\\n        \"input\": \"id\",\\n        \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n        \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n        \"type\": \"org.mindwm.v1.iodocument\"\\n      } \\n      \"\"\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name            |\\n      | iocontext-00001-deployment |\\n      | kafka-cdc-00001-deployment |\\n\\n    And a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<dst_user>.<dst_host>-host-broker-kne-trigger._knative\"\\n\\n    Examples:\\n    | context | src_user | src_host | dst_user | dst_host |  \\n    | tokyo   | godzilla | laptop   | tengu    | tablet   |\\n    | tokyo   | tengu    | tablet   | godzilla | laptop   | \\n\\n\\n  Scenario: Cleanup <host> host for <username> username\\n\\n    When God deletes the MindWM host resource \"<host>\"\\n    Then the host \"<host>\" should be deleted\\n\\n    Examples:\\n    | username | host   |\\n    | godzilla | laptop | \\n    | tengu    | tablet | \\n\\n  Scenario: Cleanup <username> username\\n    When God deletes the MindWM user resource \"<username>\"\\n    Then the user \"<username>\" should be deleted\\n\\n    Examples:\\n    | username | \\n    | godzilla |\\n    | tengu    | \\n\\n  Scenario: Cleanup <context> context\\n    When God deletes the MindWM context resource \"<context>\"\\n    Then the context \"<context>\" should be deleted\\n\\n    Examples:\\n    | context | \\n    | tokyo   |\\n', media_type='text/x.cucumber.gherkin+plain')","Pickle(id='861', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup tablet host for tengu username', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='857', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='858', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['781', '785'], id='859', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"tablet\"'), PickleStep(argument=None, ast_node_ids=['782', '785'], id='860', type=<Type.outcome: 'Outcome'>, text='the host \"tablet\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['787', '785'])"],"tags":["scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/7_mindwm_two_users_one_context.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=<FeaturePathType.PATH: 'path'>, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())","pytest_bdd_scenario","@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')","mindwm_test","mindwm_two_users_one_context","namespace(create=False, name='default')"]},{"name":"test_scenarios[file:features/6_mindwm_two_hosts_one_user.feature-MindWM two hosts one user function test-Create workstation01 for user shesha[table_rows:[line: 33]]]","uid":"b62b72f88375db39","parentUid":"3961740595044ffd97a03e46799bfc30","status":"passed","time":{"start":1728404305766,"stop":1728404316957,"duration":11191},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["Feature(gherkin_document=GherkinDocument(uri='file:features/6_mindwm_two_hosts_one_user.feature', feature=Feature(location=Location(line=3, column=1), tags=[Tag(location=Location(line=1, column=1), name='@mindwm_two_hosts_one_user', id='666'), Tag(location=Location(line=2, column=1), name='@mindwm_test', id='667')], language='en', keyword='Feature', name='MindWM two hosts one user function test', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='598'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='599')], id='600'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Create context <context> and user <username>', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='601'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='602'), Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='603'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='iocontext')], id='604'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='pong')], id='605'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='kafka-cdc')], id='606')]), id='607'), Step(location=Location(line=16, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='608'), Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='609'), Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='610')], examples=[Examples(location=Location(line=22, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=23, column=5), cells=[TableCell(location=Location(line=23, column=7), value='context'), TableCell(location=Location(line=23, column=18), value='username')], id='611'), table_body=[TableRow(location=Location(line=24, column=5), cells=[TableCell(location=Location(line=24, column=7), value='varanasi'), TableCell(location=Location(line=24, column=18), value='shesha')], id='612')], id='613')], id='614')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=26, column=3), tags=[], keyword='Scenario', name='Create <host> for user <username>', description='', steps=[Step(location=Location(line=28, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='615'), Step(location=Location(line=29, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='616')], examples=[Examples(location=Location(line=31, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=32, column=5), cells=[TableCell(location=Location(line=32, column=7), value='username'), TableCell(location=Location(line=32, column=18), value='host')], id='617'), table_body=[TableRow(location=Location(line=33, column=5), cells=[TableCell(location=Location(line=33, column=7), value='shesha'), TableCell(location=Location(line=33, column=18), value='workstation01')], id='618'), TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='shesha'), TableCell(location=Location(line=34, column=18), value='travellaptop')], id='619')], id='620')], id='621')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=37, column=3), tags=[], keyword='Scenario', name='Send ping via nats host: <host>, user: <username>', description='', steps=[Step(location=Location(line=38, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='622'), Step(location=Location(line=39, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='623'), Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='624'), Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='625'), Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='626'), Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=44, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='627'), Step(location=Location(line=53, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=54, column=7), rows=[TableRow(location=Location(line=54, column=7), cells=[TableCell(location=Location(line=54, column=9), value='Deployment name')], id='628'), TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='pong-00001-deployment')], id='629')]), id='630'), Step(location=Location(line=57, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='631')], examples=[Examples(location=Location(line=59, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=60, column=6), cells=[TableCell(location=Location(line=60, column=8), value='context'), TableCell(location=Location(line=60, column=18), value='username'), TableCell(location=Location(line=60, column=31), value='host'), TableCell(location=Location(line=60, column=43), value='tmux_pane'), TableCell(location=Location(line=60, column=55), value='tmux_window'), TableCell(location=Location(line=60, column=69), value='uuid'), TableCell(location=Location(line=60, column=109), value='tmux_socket')], id='632'), table_body=[TableRow(location=Location(line=61, column=6), cells=[TableCell(location=Location(line=61, column=8), value='varanasi'), TableCell(location=Location(line=61, column=20), value='shesha'), TableCell(location=Location(line=61, column=31), value='workstation01'), TableCell(location=Location(line=61, column=48), value='23'), TableCell(location=Location(line=61, column=60), value='36'), TableCell(location=Location(line=61, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=61, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='633'), TableRow(location=Location(line=62, column=6), cells=[TableCell(location=Location(line=62, column=8), value='varanasi'), TableCell(location=Location(line=62, column=20), value='shesha'), TableCell(location=Location(line=62, column=31), value='travellaptop'), TableCell(location=Location(line=62, column=47), value='23'), TableCell(location=Location(line=62, column=59), value='36'), TableCell(location=Location(line=62, column=73), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=62, column=112), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='634')], id='635')], id='636')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=64, column=3), tags=[], keyword='Scenario', name='Send iodocument via nats host: <host>, user: <username> and check that second host received graph the update', description='', steps=[Step(location=Location(line=65, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='637'), Step(location=Location(line=66, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='638'), Step(location=Location(line=67, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='639'), Step(location=Location(line=68, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='640'), Step(location=Location(line=69, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=70, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='641'), Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=80, column=7), rows=[TableRow(location=Location(line=80, column=7), cells=[TableCell(location=Location(line=80, column=9), value='Deployment name')], id='642'), TableRow(location=Location(line=81, column=7), cells=[TableCell(location=Location(line=81, column=9), value='iocontext-00001-deployment')], id='643'), TableRow(location=Location(line=82, column=7), cells=[TableCell(location=Location(line=82, column=9), value='kafka-cdc-00001-deployment')], id='644')]), id='645'), Step(location=Location(line=84, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.travellaptop-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='646')], examples=[Examples(location=Location(line=86, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=87, column=6), cells=[TableCell(location=Location(line=87, column=8), value='context'), TableCell(location=Location(line=87, column=18), value='username'), TableCell(location=Location(line=87, column=31), value='host'), TableCell(location=Location(line=87, column=43), value='tmux_pane'), TableCell(location=Location(line=87, column=55), value='tmux_window'), TableCell(location=Location(line=87, column=69), value='uuid'), TableCell(location=Location(line=87, column=109), value='tmux_socket')], id='647'), table_body=[TableRow(location=Location(line=88, column=6), cells=[TableCell(location=Location(line=88, column=8), value='varanasi'), TableCell(location=Location(line=88, column=20), value='shesha'), TableCell(location=Location(line=88, column=31), value='workstation01'), TableCell(location=Location(line=88, column=48), value='23'), TableCell(location=Location(line=88, column=60), value='36'), TableCell(location=Location(line=88, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=88, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='648')], id='649')], id='650')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=92, column=3), tags=[], keyword='Scenario', name='Cleanup hosts <host> in user <username>', description='', steps=[Step(location=Location(line=93, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='651'), Step(location=Location(line=94, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='652')], examples=[Examples(location=Location(line=96, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=97, column=5), cells=[TableCell(location=Location(line=97, column=7), value='username'), TableCell(location=Location(line=97, column=18), value='host')], id='653'), table_body=[TableRow(location=Location(line=98, column=5), cells=[TableCell(location=Location(line=98, column=7), value='shesha'), TableCell(location=Location(line=98, column=18), value='workstation01')], id='654'), TableRow(location=Location(line=99, column=5), cells=[TableCell(location=Location(line=99, column=7), value='shesha'), TableCell(location=Location(line=99, column=18), value='travellaptop')], id='655')], id='656')], id='657')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=101, column=3), tags=[], keyword='Scenario', name='Cleanup user <username> and context <context>', description='', steps=[Step(location=Location(line=102, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='658'), Step(location=Location(line=103, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='659'), Step(location=Location(line=105, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='660'), Step(location=Location(line=106, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='661')], examples=[Examples(location=Location(line=108, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=109, column=5), cells=[TableCell(location=Location(line=109, column=7), value='context'), TableCell(location=Location(line=109, column=18), value='username')], id='662'), table_body=[TableRow(location=Location(line=110, column=5), cells=[TableCell(location=Location(line=110, column=7), value='varanasi'), TableCell(location=Location(line=110, column=18), value='shesha')], id='663')], id='664')], id='665'))]), comments=[Comment(location=Location(line=89, column=1), text='     #| varanasi  | shesha   | travellaptop  | 23        | 36          | 8d839f82-79da-11ef-bc9f-f74fac7543ac  |L3RtcC90bXV4LTEwMDAvZGVmYXVsdA== |')]), uri='file:features/6_mindwm_two_hosts_one_user.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/6_mindwm_two_hosts_one_user.feature', registry={'666': Tag(location=Location(line=1, column=1), name='@mindwm_two_hosts_one_user', id='666'), '667': Tag(location=Location(line=2, column=1), name='@mindwm_test', id='667'), '600': Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='598'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='599')], id='600'), '598': Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='598'), '599': Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='599'), '614': Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Create context <context> and user <username>', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='601'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='602'), Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='603'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='iocontext')], id='604'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='pong')], id='605'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='kafka-cdc')], id='606')]), id='607'), Step(location=Location(line=16, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='608'), Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='609'), Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='610')], examples=[Examples(location=Location(line=22, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=23, column=5), cells=[TableCell(location=Location(line=23, column=7), value='context'), TableCell(location=Location(line=23, column=18), value='username')], id='611'), table_body=[TableRow(location=Location(line=24, column=5), cells=[TableCell(location=Location(line=24, column=7), value='varanasi'), TableCell(location=Location(line=24, column=18), value='shesha')], id='612')], id='613')], id='614'), '601': Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='601'), '602': Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='602'), '607': Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='603'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='iocontext')], id='604'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='pong')], id='605'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='kafka-cdc')], id='606')]), id='607'), '608': Step(location=Location(line=16, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='608'), '609': Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='609'), '610': Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='610'), '613': Examples(location=Location(line=22, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=23, column=5), cells=[TableCell(location=Location(line=23, column=7), value='context'), TableCell(location=Location(line=23, column=18), value='username')], id='611'), table_body=[TableRow(location=Location(line=24, column=5), cells=[TableCell(location=Location(line=24, column=7), value='varanasi'), TableCell(location=Location(line=24, column=18), value='shesha')], id='612')], id='613'), '611': TableRow(location=Location(line=23, column=5), cells=[TableCell(location=Location(line=23, column=7), value='context'), TableCell(location=Location(line=23, column=18), value='username')], id='611'), '612': TableRow(location=Location(line=24, column=5), cells=[TableCell(location=Location(line=24, column=7), value='varanasi'), TableCell(location=Location(line=24, column=18), value='shesha')], id='612'), '621': Scenario(location=Location(line=26, column=3), tags=[], keyword='Scenario', name='Create <host> for user <username>', description='', steps=[Step(location=Location(line=28, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='615'), Step(location=Location(line=29, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='616')], examples=[Examples(location=Location(line=31, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=32, column=5), cells=[TableCell(location=Location(line=32, column=7), value='username'), TableCell(location=Location(line=32, column=18), value='host')], id='617'), table_body=[TableRow(location=Location(line=33, column=5), cells=[TableCell(location=Location(line=33, column=7), value='shesha'), TableCell(location=Location(line=33, column=18), value='workstation01')], id='618'), TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='shesha'), TableCell(location=Location(line=34, column=18), value='travellaptop')], id='619')], id='620')], id='621'), '615': Step(location=Location(line=28, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='615'), '616': Step(location=Location(line=29, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='616'), '620': Examples(location=Location(line=31, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=32, column=5), cells=[TableCell(location=Location(line=32, column=7), value='username'), TableCell(location=Location(line=32, column=18), value='host')], id='617'), table_body=[TableRow(location=Location(line=33, column=5), cells=[TableCell(location=Location(line=33, column=7), value='shesha'), TableCell(location=Location(line=33, column=18), value='workstation01')], id='618'), TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='shesha'), TableCell(location=Location(line=34, column=18), value='travellaptop')], id='619')], id='620'), '617': TableRow(location=Location(line=32, column=5), cells=[TableCell(location=Location(line=32, column=7), value='username'), TableCell(location=Location(line=32, column=18), value='host')], id='617'), '618': TableRow(location=Location(line=33, column=5), cells=[TableCell(location=Location(line=33, column=7), value='shesha'), TableCell(location=Location(line=33, column=18), value='workstation01')], id='618'), '619': TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='shesha'), TableCell(location=Location(line=34, column=18), value='travellaptop')], id='619'), '636': Scenario(location=Location(line=37, column=3), tags=[], keyword='Scenario', name='Send ping via nats host: <host>, user: <username>', description='', steps=[Step(location=Location(line=38, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='622'), Step(location=Location(line=39, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='623'), Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='624'), Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='625'), Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='626'), Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=44, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='627'), Step(location=Location(line=53, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=54, column=7), rows=[TableRow(location=Location(line=54, column=7), cells=[TableCell(location=Location(line=54, column=9), value='Deployment name')], id='628'), TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='pong-00001-deployment')], id='629')]), id='630'), Step(location=Location(line=57, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='631')], examples=[Examples(location=Location(line=59, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=60, column=6), cells=[TableCell(location=Location(line=60, column=8), value='context'), TableCell(location=Location(line=60, column=18), value='username'), TableCell(location=Location(line=60, column=31), value='host'), TableCell(location=Location(line=60, column=43), value='tmux_pane'), TableCell(location=Location(line=60, column=55), value='tmux_window'), TableCell(location=Location(line=60, column=69), value='uuid'), TableCell(location=Location(line=60, column=109), value='tmux_socket')], id='632'), table_body=[TableRow(location=Location(line=61, column=6), cells=[TableCell(location=Location(line=61, column=8), value='varanasi'), TableCell(location=Location(line=61, column=20), value='shesha'), TableCell(location=Location(line=61, column=31), value='workstation01'), TableCell(location=Location(line=61, column=48), value='23'), TableCell(location=Location(line=61, column=60), value='36'), TableCell(location=Location(line=61, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=61, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='633'), TableRow(location=Location(line=62, column=6), cells=[TableCell(location=Location(line=62, column=8), value='varanasi'), TableCell(location=Location(line=62, column=20), value='shesha'), TableCell(location=Location(line=62, column=31), value='travellaptop'), TableCell(location=Location(line=62, column=47), value='23'), TableCell(location=Location(line=62, column=59), value='36'), TableCell(location=Location(line=62, column=73), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=62, column=112), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='634')], id='635')], id='636'), '622': Step(location=Location(line=38, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='622'), '623': Step(location=Location(line=39, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='623'), '624': Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='624'), '625': Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='625'), '626': Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='626'), '627': Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=44, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='627'), '630': Step(location=Location(line=53, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=54, column=7), rows=[TableRow(location=Location(line=54, column=7), cells=[TableCell(location=Location(line=54, column=9), value='Deployment name')], id='628'), TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='pong-00001-deployment')], id='629')]), id='630'), '631': Step(location=Location(line=57, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='631'), '635': Examples(location=Location(line=59, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=60, column=6), cells=[TableCell(location=Location(line=60, column=8), value='context'), TableCell(location=Location(line=60, column=18), value='username'), TableCell(location=Location(line=60, column=31), value='host'), TableCell(location=Location(line=60, column=43), value='tmux_pane'), TableCell(location=Location(line=60, column=55), value='tmux_window'), TableCell(location=Location(line=60, column=69), value='uuid'), TableCell(location=Location(line=60, column=109), value='tmux_socket')], id='632'), table_body=[TableRow(location=Location(line=61, column=6), cells=[TableCell(location=Location(line=61, column=8), value='varanasi'), TableCell(location=Location(line=61, column=20), value='shesha'), TableCell(location=Location(line=61, column=31), value='workstation01'), TableCell(location=Location(line=61, column=48), value='23'), TableCell(location=Location(line=61, column=60), value='36'), TableCell(location=Location(line=61, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=61, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='633'), TableRow(location=Location(line=62, column=6), cells=[TableCell(location=Location(line=62, column=8), value='varanasi'), TableCell(location=Location(line=62, column=20), value='shesha'), TableCell(location=Location(line=62, column=31), value='travellaptop'), TableCell(location=Location(line=62, column=47), value='23'), TableCell(location=Location(line=62, column=59), value='36'), TableCell(location=Location(line=62, column=73), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=62, column=112), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='634')], id='635'), '632': TableRow(location=Location(line=60, column=6), cells=[TableCell(location=Location(line=60, column=8), value='context'), TableCell(location=Location(line=60, column=18), value='username'), TableCell(location=Location(line=60, column=31), value='host'), TableCell(location=Location(line=60, column=43), value='tmux_pane'), TableCell(location=Location(line=60, column=55), value='tmux_window'), TableCell(location=Location(line=60, column=69), value='uuid'), TableCell(location=Location(line=60, column=109), value='tmux_socket')], id='632'), '633': TableRow(location=Location(line=61, column=6), cells=[TableCell(location=Location(line=61, column=8), value='varanasi'), TableCell(location=Location(line=61, column=20), value='shesha'), TableCell(location=Location(line=61, column=31), value='workstation01'), TableCell(location=Location(line=61, column=48), value='23'), TableCell(location=Location(line=61, column=60), value='36'), TableCell(location=Location(line=61, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=61, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='633'), '634': TableRow(location=Location(line=62, column=6), cells=[TableCell(location=Location(line=62, column=8), value='varanasi'), TableCell(location=Location(line=62, column=20), value='shesha'), TableCell(location=Location(line=62, column=31), value='travellaptop'), TableCell(location=Location(line=62, column=47), value='23'), TableCell(location=Location(line=62, column=59), value='36'), TableCell(location=Location(line=62, column=73), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=62, column=112), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='634'), '650': Scenario(location=Location(line=64, column=3), tags=[], keyword='Scenario', name='Send iodocument via nats host: <host>, user: <username> and check that second host received graph the update', description='', steps=[Step(location=Location(line=65, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='637'), Step(location=Location(line=66, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='638'), Step(location=Location(line=67, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='639'), Step(location=Location(line=68, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='640'), Step(location=Location(line=69, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=70, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='641'), Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=80, column=7), rows=[TableRow(location=Location(line=80, column=7), cells=[TableCell(location=Location(line=80, column=9), value='Deployment name')], id='642'), TableRow(location=Location(line=81, column=7), cells=[TableCell(location=Location(line=81, column=9), value='iocontext-00001-deployment')], id='643'), TableRow(location=Location(line=82, column=7), cells=[TableCell(location=Location(line=82, column=9), value='kafka-cdc-00001-deployment')], id='644')]), id='645'), Step(location=Location(line=84, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.travellaptop-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='646')], examples=[Examples(location=Location(line=86, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=87, column=6), cells=[TableCell(location=Location(line=87, column=8), value='context'), TableCell(location=Location(line=87, column=18), value='username'), TableCell(location=Location(line=87, column=31), value='host'), TableCell(location=Location(line=87, column=43), value='tmux_pane'), TableCell(location=Location(line=87, column=55), value='tmux_window'), TableCell(location=Location(line=87, column=69), value='uuid'), TableCell(location=Location(line=87, column=109), value='tmux_socket')], id='647'), table_body=[TableRow(location=Location(line=88, column=6), cells=[TableCell(location=Location(line=88, column=8), value='varanasi'), TableCell(location=Location(line=88, column=20), value='shesha'), TableCell(location=Location(line=88, column=31), value='workstation01'), TableCell(location=Location(line=88, column=48), value='23'), TableCell(location=Location(line=88, column=60), value='36'), TableCell(location=Location(line=88, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=88, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='648')], id='649')], id='650'), '637': Step(location=Location(line=65, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='637'), '638': Step(location=Location(line=66, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='638'), '639': Step(location=Location(line=67, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='639'), '640': Step(location=Location(line=68, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='640'), '641': Step(location=Location(line=69, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=70, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='641'), '645': Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=80, column=7), rows=[TableRow(location=Location(line=80, column=7), cells=[TableCell(location=Location(line=80, column=9), value='Deployment name')], id='642'), TableRow(location=Location(line=81, column=7), cells=[TableCell(location=Location(line=81, column=9), value='iocontext-00001-deployment')], id='643'), TableRow(location=Location(line=82, column=7), cells=[TableCell(location=Location(line=82, column=9), value='kafka-cdc-00001-deployment')], id='644')]), id='645'), '646': Step(location=Location(line=84, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.travellaptop-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='646'), '649': Examples(location=Location(line=86, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=87, column=6), cells=[TableCell(location=Location(line=87, column=8), value='context'), TableCell(location=Location(line=87, column=18), value='username'), TableCell(location=Location(line=87, column=31), value='host'), TableCell(location=Location(line=87, column=43), value='tmux_pane'), TableCell(location=Location(line=87, column=55), value='tmux_window'), TableCell(location=Location(line=87, column=69), value='uuid'), TableCell(location=Location(line=87, column=109), value='tmux_socket')], id='647'), table_body=[TableRow(location=Location(line=88, column=6), cells=[TableCell(location=Location(line=88, column=8), value='varanasi'), TableCell(location=Location(line=88, column=20), value='shesha'), TableCell(location=Location(line=88, column=31), value='workstation01'), TableCell(location=Location(line=88, column=48), value='23'), TableCell(location=Location(line=88, column=60), value='36'), TableCell(location=Location(line=88, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=88, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='648')], id='649'), '647': TableRow(location=Location(line=87, column=6), cells=[TableCell(location=Location(line=87, column=8), value='context'), TableCell(location=Location(line=87, column=18), value='username'), TableCell(location=Location(line=87, column=31), value='host'), TableCell(location=Location(line=87, column=43), value='tmux_pane'), TableCell(location=Location(line=87, column=55), value='tmux_window'), TableCell(location=Location(line=87, column=69), value='uuid'), TableCell(location=Location(line=87, column=109), value='tmux_socket')], id='647'), '648': TableRow(location=Location(line=88, column=6), cells=[TableCell(location=Location(line=88, column=8), value='varanasi'), TableCell(location=Location(line=88, column=20), value='shesha'), TableCell(location=Location(line=88, column=31), value='workstation01'), TableCell(location=Location(line=88, column=48), value='23'), TableCell(location=Location(line=88, column=60), value='36'), TableCell(location=Location(line=88, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=88, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='648'), '657': Scenario(location=Location(line=92, column=3), tags=[], keyword='Scenario', name='Cleanup hosts <host> in user <username>', description='', steps=[Step(location=Location(line=93, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='651'), Step(location=Location(line=94, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='652')], examples=[Examples(location=Location(line=96, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=97, column=5), cells=[TableCell(location=Location(line=97, column=7), value='username'), TableCell(location=Location(line=97, column=18), value='host')], id='653'), table_body=[TableRow(location=Location(line=98, column=5), cells=[TableCell(location=Location(line=98, column=7), value='shesha'), TableCell(location=Location(line=98, column=18), value='workstation01')], id='654'), TableRow(location=Location(line=99, column=5), cells=[TableCell(location=Location(line=99, column=7), value='shesha'), TableCell(location=Location(line=99, column=18), value='travellaptop')], id='655')], id='656')], id='657'), '651': Step(location=Location(line=93, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='651'), '652': Step(location=Location(line=94, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='652'), '656': Examples(location=Location(line=96, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=97, column=5), cells=[TableCell(location=Location(line=97, column=7), value='username'), TableCell(location=Location(line=97, column=18), value='host')], id='653'), table_body=[TableRow(location=Location(line=98, column=5), cells=[TableCell(location=Location(line=98, column=7), value='shesha'), TableCell(location=Location(line=98, column=18), value='workstation01')], id='654'), TableRow(location=Location(line=99, column=5), cells=[TableCell(location=Location(line=99, column=7), value='shesha'), TableCell(location=Location(line=99, column=18), value='travellaptop')], id='655')], id='656'), '653': TableRow(location=Location(line=97, column=5), cells=[TableCell(location=Location(line=97, column=7), value='username'), TableCell(location=Location(line=97, column=18), value='host')], id='653'), '654': TableRow(location=Location(line=98, column=5), cells=[TableCell(location=Location(line=98, column=7), value='shesha'), TableCell(location=Location(line=98, column=18), value='workstation01')], id='654'), '655': TableRow(location=Location(line=99, column=5), cells=[TableCell(location=Location(line=99, column=7), value='shesha'), TableCell(location=Location(line=99, column=18), value='travellaptop')], id='655'), '665': Scenario(location=Location(line=101, column=3), tags=[], keyword='Scenario', name='Cleanup user <username> and context <context>', description='', steps=[Step(location=Location(line=102, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='658'), Step(location=Location(line=103, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='659'), Step(location=Location(line=105, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='660'), Step(location=Location(line=106, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='661')], examples=[Examples(location=Location(line=108, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=109, column=5), cells=[TableCell(location=Location(line=109, column=7), value='context'), TableCell(location=Location(line=109, column=18), value='username')], id='662'), table_body=[TableRow(location=Location(line=110, column=5), cells=[TableCell(location=Location(line=110, column=7), value='varanasi'), TableCell(location=Location(line=110, column=18), value='shesha')], id='663')], id='664')], id='665'), '658': Step(location=Location(line=102, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='658'), '659': Step(location=Location(line=103, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='659'), '660': Step(location=Location(line=105, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='660'), '661': Step(location=Location(line=106, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='661'), '664': Examples(location=Location(line=108, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=109, column=5), cells=[TableCell(location=Location(line=109, column=7), value='context'), TableCell(location=Location(line=109, column=18), value='username')], id='662'), table_body=[TableRow(location=Location(line=110, column=5), cells=[TableCell(location=Location(line=110, column=7), value='varanasi'), TableCell(location=Location(line=110, column=18), value='shesha')], id='663')], id='664'), '662': TableRow(location=Location(line=109, column=5), cells=[TableCell(location=Location(line=109, column=7), value='context'), TableCell(location=Location(line=109, column=18), value='username')], id='662'), '663': TableRow(location=Location(line=110, column=5), cells=[TableCell(location=Location(line=110, column=7), value='varanasi'), TableCell(location=Location(line=110, column=18), value='shesha')], id='663')}, pickles=[Pickle(id='676', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Create context varanasi and user shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='668', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='669', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['601', '612'], id='670', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"varanasi\"'), PickleStep(argument=None, ast_node_ids=['602', '612'], id='671', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext')]), PickleTableRow(cells=[PickleTableCell(value='pong')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')])])), ast_node_ids=['607', '612'], id='672', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-varanasi\" namespace'), PickleStep(argument=None, ast_node_ids=['608', '612'], id='673', type=<Type.outcome: 'Outcome'>, text='statefulset \"varanasi-neo4j\" in namespace \"context-varanasi\" is in ready state'), PickleStep(argument=None, ast_node_ids=['609', '612'], id='674', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"shesha\" and connects it to the context \"varanasi\"'), PickleStep(argument=None, ast_node_ids=['610', '612'], id='675', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['614', '612']), Pickle(id='681', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Create workstation01 for user shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='677', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='678', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['615', '618'], id='679', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"workstation01\" and connects it to the user \"shesha\"'), PickleStep(argument=None, ast_node_ids=['616', '618'], id='680', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['621', '618']), Pickle(id='686', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Create travellaptop for user shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='682', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='683', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['615', '619'], id='684', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"travellaptop\" and connects it to the user \"shesha\"'), PickleStep(argument=None, ast_node_ids=['616', '619'], id='685', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['621', '619']), Pickle(id='697', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Send ping via nats host: workstation01, user: shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='687', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='688', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['622', '633'], id='689', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['623', '633'], id='690', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['624', '633'], id='691', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['625', '633'], id='692', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['626', '633'], id='693', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.shesha.workstation01.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['627', '633'], id='694', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.shesha.workstation01.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='pong-00001-deployment')])])), ast_node_ids=['630', '633'], id='695', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-varanasi\" namespace'), PickleStep(argument=None, ast_node_ids=['631', '633'], id='696', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-shesha.workstation01-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['636', '633']), Pickle(id='708', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Send ping via nats host: travellaptop, user: shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='698', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='699', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['622', '634'], id='700', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['623', '634'], id='701', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['624', '634'], id='702', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['625', '634'], id='703', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['626', '634'], id='704', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.shesha.travellaptop.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['627', '634'], id='705', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.shesha.travellaptop.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='pong-00001-deployment')])])), ast_node_ids=['630', '634'], id='706', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-varanasi\" namespace'), PickleStep(argument=None, ast_node_ids=['631', '634'], id='707', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-shesha.travellaptop-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['636', '634']), Pickle(id='718', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Send iodocument via nats host: workstation01, user: shesha and check that second host received graph the update', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='709', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='710', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['637', '648'], id='711', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['638', '648'], id='712', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"id\"'), PickleStep(argument=None, ast_node_ids=['639', '648'], id='713', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['640', '648'], id='714', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.shesha.workstation01.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['641', '648'], id='715', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.shesha.workstation01.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.3623.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-00001-deployment')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-00001-deployment')])])), ast_node_ids=['645', '648'], id='716', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-varanasi\" namespace'), PickleStep(argument=None, ast_node_ids=['646', '648'], id='717', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-shesha.travellaptop-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['650', '648']), Pickle(id='723', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Cleanup hosts workstation01 in user shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='719', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='720', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['651', '654'], id='721', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"workstation01\"'), PickleStep(argument=None, ast_node_ids=['652', '654'], id='722', type=<Type.outcome: 'Outcome'>, text='the host \"workstation01\" should be deleted')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['657', '654']), Pickle(id='728', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Cleanup hosts travellaptop in user shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='724', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='725', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['651', '655'], id='726', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"travellaptop\"'), PickleStep(argument=None, ast_node_ids=['652', '655'], id='727', type=<Type.outcome: 'Outcome'>, text='the host \"travellaptop\" should be deleted')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['657', '655']), Pickle(id='735', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Cleanup user shesha and context varanasi', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='729', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='730', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['658', '663'], id='731', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"shesha\"'), PickleStep(argument=None, ast_node_ids=['659', '663'], id='732', type=<Type.outcome: 'Outcome'>, text='the user \"shesha\" should be deleted'), PickleStep(argument=None, ast_node_ids=['660', '663'], id='733', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"varanasi\"'), PickleStep(argument=None, ast_node_ids=['661', '663'], id='734', type=<Type.outcome: 'Outcome'>, text='the context \"varanasi\" should be deleted')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['665', '663'])])","Source(uri='file:features/6_mindwm_two_hosts_one_user.feature', data='@mindwm_two_hosts_one_user\\n@mindwm_test\\nFeature: MindWM two hosts one user function test\\n  Background:\\n    Given A MindWM environment\\n    Then all nodes in Kubernetes are ready\\n\\n  Scenario: Create context <context> and user <username>\\n    When God creates a MindWM context with the name \"<context>\"\\n    Then the context should be ready and operable\\n    Then the following knative services are in a ready state in the \"context-<context>\" namespace\\n      | Knative service name |\\n      | iocontext            |\\n      | pong                 |\\n      | kafka-cdc            |\\n    And statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state\\n\\n    When God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"\\n    Then the user resource should be ready and operable\\n\\n\\n    Examples:\\n    | context  | username |\\n    | varanasi | shesha   |\\n\\n  Scenario: Create <host> for user <username>\\n\\n    When God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"\\n    Then the host resource should be ready and operable\\n\\n    Examples:\\n    | username | host           |\\n    | shesha   | workstation01  |\\n    | shesha   | travellaptop   |\\n\\n\\n  Scenario: Send ping via nats host: <host>, user: <username>\\n    When God creates a new cloudevent \\n      And God starts reading message from NATS topic \">\"\\n      And sets cloudevent header \"ce-subject\" to \"#ping\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"\\n      And sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"\\n      \"\"\"\\n      {\\n        \"input\": \"#ping\",\\n        \"output\": \"\",\\n        \"ps1\": \"❯\",\\n        \"type\": \"org.mindwm.v1.iodocument\"\\n      } \\n      \"\"\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name       |\\n      | pong-00001-deployment |\\n\\n    And a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"\\n\\n    Examples:\\n     | context | username   | host      | tmux_pane | tmux_window | uuid                                  | tmux_socket                     |\\n     | varanasi  | shesha   | workstation01  | 23        | 36          | 8d839f82-79da-11ef-bc9f-f74fac7543ac  |L3RtcC90bXV4LTEwMDAvZGVmYXVsdA== |\\n     | varanasi  | shesha   | travellaptop  | 23        | 36          | 8d839f82-79da-11ef-bc9f-f74fac7543ac  |L3RtcC90bXV4LTEwMDAvZGVmYXVsdA== |\\n\\n  Scenario: Send iodocument via nats host: <host>, user: <username> and check that second host received graph the update\\n    When God creates a new cloudevent \\n      And sets cloudevent header \"ce-subject\" to \"id\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"\\n      And sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"\\n      \"\"\"\\n      {\\n        \"input\": \"id\",\\n        \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n        \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n        \"type\": \"org.mindwm.v1.iodocument\"\\n      } \\n      \"\"\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name       |\\n      | iocontext-00001-deployment |\\n      | kafka-cdc-00001-deployment |\\n\\n    And a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.travellaptop-host-broker-kne-trigger._knative\"\\n\\n    Examples:\\n     | context | username   | host      | tmux_pane | tmux_window | uuid                                  | tmux_socket                     |\\n     | varanasi  | shesha   | workstation01  | 23        | 36          | 8d839f82-79da-11ef-bc9f-f74fac7543ac  |L3RtcC90bXV4LTEwMDAvZGVmYXVsdA== |\\n     #| varanasi  | shesha   | travellaptop  | 23        | 36          | 8d839f82-79da-11ef-bc9f-f74fac7543ac  |L3RtcC90bXV4LTEwMDAvZGVmYXVsdA== |\\n\\n\\n  Scenario: Cleanup hosts <host> in user <username>\\n    When God deletes the MindWM host resource \"<host>\"\\n    Then the host \"<host>\" should be deleted\\n\\n    Examples:\\n    | username | host           |\\n    | shesha   | workstation01  |\\n    | shesha   | travellaptop   |\\n\\n  Scenario: Cleanup user <username> and context <context>\\n    When God deletes the MindWM user resource \"<username>\"\\n    Then the user \"<username>\" should be deleted\\n\\n    When God deletes the MindWM context resource \"<context>\"\\n    Then the context \"<context>\" should be deleted\\n\\n    Examples:\\n    | context  | username |\\n    | varanasi | shesha   |\\n', media_type='text/x.cucumber.gherkin+plain')","Pickle(id='681', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Create workstation01 for user shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='677', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='678', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['615', '618'], id='679', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"workstation01\" and connects it to the user \"shesha\"'), PickleStep(argument=None, ast_node_ids=['616', '618'], id='680', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['621', '618'])"],"tags":["scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/6_mindwm_two_hosts_one_user.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=<FeaturePathType.PATH: 'path'>, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())","mindwm_two_hosts_one_user","pytest_bdd_scenario","@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')","mindwm_test","namespace(create=False, name='default')"]},{"name":"test_scenarios[file:features/9_mindwm_clipboard.feature-MindWM clipboard EDA test-Cleanup flukeman@the-host in philadelphia[table_rows:[line: 125]]]","uid":"acef8ad6de201ce6","parentUid":"3961740595044ffd97a03e46799bfc30","status":"passed","time":{"start":1728405007270,"stop":1728405007456,"duration":186},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["Feature(gherkin_document=GherkinDocument(uri='file:features/9_mindwm_clipboard.feature', feature=Feature(location=Location(line=3, column=1), tags=[Tag(location=Location(line=1, column=1), name='@mindwm_clipboard', id='1036'), Tag(location=Location(line=2, column=1), name='@mindwm_test', id='1037')], language='en', keyword='Feature', name='MindWM clipboard EDA test', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='957'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='958')], id='959'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Prepare environment for ping tests', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='960'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='961'), Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='962'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='clipboard')], id='963')]), id='964'), Step(location=Location(line=14, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='965'), Step(location=Location(line=16, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='966'), Step(location=Location(line=17, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='967'), Step(location=Location(line=19, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='968'), Step(location=Location(line=20, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='969'), Step(location=Location(line=21, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace', doc_string=None, data_table=None, id='970'), Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='971')], examples=[Examples(location=Location(line=25, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='context'), TableCell(location=Location(line=26, column=18), value='username'), TableCell(location=Location(line=26, column=31), value='host')], id='972'), table_body=[TableRow(location=Location(line=27, column=6), cells=[TableCell(location=Location(line=27, column=8), value='philadelphia'), TableCell(location=Location(line=27, column=25), value='flukeman'), TableCell(location=Location(line=27, column=38), value='the-host')], id='973')], id='974')], id='975')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=29, column=3), tags=[], keyword='Scenario', name='Send clipboard to knative ping service', description='', steps=[Step(location=Location(line=30, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='976'), Step(location=Location(line=31, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='977'), Step(location=Location(line=32, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='978'), Step(location=Location(line=33, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='979'), Step(location=Location(line=34, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='980'), Step(location=Location(line=35, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to knative service \"clipboard\" in \"context-<context>\" namespace', doc_string=DocString(location=Location(line=36, column=7), media_type=None, content='{\\n  \"uuid\": \"6ca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325473,\\n  \"data\": \"clipboard primary data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='981'), Step(location=Location(line=43, column=7), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"200\"', doc_string=None, data_table=None, id='982'), Step(location=Location(line=45, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=46, column=7), rows=[TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='Deployment name')], id='983'), TableRow(location=Location(line=47, column=7), cells=[TableCell(location=Location(line=47, column=9), value='clipboard-00001-deployment')], id='984')]), id='985')], examples=[Examples(location=Location(line=49, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='context'), TableCell(location=Location(line=50, column=18), value='username'), TableCell(location=Location(line=50, column=31), value='host'), TableCell(location=Location(line=50, column=43), value='traceparent')], id='986'), table_body=[TableRow(location=Location(line=51, column=6), cells=[TableCell(location=Location(line=51, column=8), value='philadelphia'), TableCell(location=Location(line=51, column=25), value='flukeman'), TableCell(location=Location(line=51, column=38), value='the-host'), TableCell(location=Location(line=51, column=50), value='00-6ef92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='987')], id='988')], id='989')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=53, column=3), tags=[], keyword='Scenario', name='Send ping directly to function <endpoint>', description='', steps=[Step(location=Location(line=54, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='990'), Step(location=Location(line=55, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='991'), Step(location=Location(line=56, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='992'), Step(location=Location(line=57, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='993'), Step(location=Location(line=58, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='994'), Step(location=Location(line=59, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='995'), Step(location=Location(line=60, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to \"<endpoint>\"', doc_string=DocString(location=Location(line=61, column=7), media_type=None, content='{\\n  \"uuid\": \"4bca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard secondary data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='996'), Step(location=Location(line=68, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"202\"', doc_string=None, data_table=None, id='997'), Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=71, column=7), rows=[TableRow(location=Location(line=71, column=7), cells=[TableCell(location=Location(line=71, column=9), value='Deployment name')], id='998'), TableRow(location=Location(line=72, column=7), cells=[TableCell(location=Location(line=72, column=9), value='clipboard-00001-deployment')], id='999')]), id='1000'), Step(location=Location(line=73, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the trace with \"<traceparent>\" should appear in TraceQL', doc_string=None, data_table=None, id='1001'), Step(location=Location(line=74, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the trace should contains', doc_string=None, data_table=DataTable(location=Location(line=75, column=7), rows=[TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='service name')], id='1002'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='broker-ingress.knative-eventing')], id='1003'), TableRow(location=Location(line=77, column=7), cells=[TableCell(location=Location(line=77, column=9), value='unknown_service')], id='1004'), TableRow(location=Location(line=78, column=7), cells=[TableCell(location=Location(line=78, column=9), value='jetstream-ch-dispatcher')], id='1005')]), id='1006'), Step(location=Location(line=79, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='1007')], examples=[Examples(location=Location(line=81, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='context'), TableCell(location=Location(line=82, column=18), value='username'), TableCell(location=Location(line=82, column=31), value='host'), TableCell(location=Location(line=82, column=43), value='endpoint'), TableCell(location=Location(line=82, column=54), value='traceparent')], id='1008'), table_body=[TableRow(location=Location(line=83, column=6), cells=[TableCell(location=Location(line=83, column=8), value='philadelphia'), TableCell(location=Location(line=83, column=25), value='flukeman'), TableCell(location=Location(line=83, column=38), value='the-host'), TableCell(location=Location(line=83, column=50), value='broker-ingress.knative-eventing/context-philadelphia/context-broker'), TableCell(location=Location(line=83, column=122), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='1009'), TableRow(location=Location(line=84, column=6), cells=[TableCell(location=Location(line=84, column=8), value='philadelphia'), TableCell(location=Location(line=84, column=25), value='flukeman'), TableCell(location=Location(line=84, column=38), value='the-host'), TableCell(location=Location(line=84, column=50), value='broker-ingress.knative-eventing/user-flukeman/user-broker'), TableCell(location=Location(line=84, column=110), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1010')], id='1011')], id='1012')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=87, column=3), tags=[], keyword='Scenario', name='Send ping via nats', description='', steps=[Step(location=Location(line=88, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='1013'), Step(location=Location(line=89, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-id\" to \"<uuid>\"', doc_string=None, data_table=None, id='1014'), Step(location=Location(line=90, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='1015'), Step(location=Location(line=91, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='1016'), Step(location=Location(line=92, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='1017'), Step(location=Location(line=93, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='1018'), Step(location=Location(line=94, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.clipboard\"', doc_string=DocString(location=Location(line=95, column=7), media_type=None, content='{\\n  \"uuid\": \"3bca8a133-aba6-4f7f-ab95-242802fcac3c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard #3 data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='1019'), Step(location=Location(line=103, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=104, column=7), rows=[TableRow(location=Location(line=104, column=7), cells=[TableCell(location=Location(line=104, column=9), value='Deployment name')], id='1020'), TableRow(location=Location(line=105, column=7), cells=[TableCell(location=Location(line=105, column=9), value='clipboard-00001-deployment')], id='1021')]), id='1022'), Step(location=Location(line=107, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='1023')], examples=[Examples(location=Location(line=110, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=111, column=6), cells=[TableCell(location=Location(line=111, column=8), value='context'), TableCell(location=Location(line=111, column=18), value='username'), TableCell(location=Location(line=111, column=31), value='host'), TableCell(location=Location(line=111, column=43), value='uuid'), TableCell(location=Location(line=111, column=83), value='traceparent')], id='1024'), table_body=[TableRow(location=Location(line=112, column=6), cells=[TableCell(location=Location(line=112, column=8), value='philadelphia'), TableCell(location=Location(line=112, column=25), value='flukeman'), TableCell(location=Location(line=112, column=38), value='the-host'), TableCell(location=Location(line=112, column=50), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=112, column=89), value='00-8af92f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1025')], id='1026')], id='1027')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=115, column=3), tags=[], keyword='Scenario', name='Cleanup <username>@<host> in <context>', description='', steps=[Step(location=Location(line=116, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='1028'), Step(location=Location(line=117, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='1029'), Step(location=Location(line=119, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='1030'), Step(location=Location(line=121, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='1031')], examples=[Examples(location=Location(line=123, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=124, column=5), cells=[TableCell(location=Location(line=124, column=7), value='context'), TableCell(location=Location(line=124, column=17), value='username'), TableCell(location=Location(line=124, column=28), value='host')], id='1032'), table_body=[TableRow(location=Location(line=125, column=5), cells=[TableCell(location=Location(line=125, column=7), value='philadelphia'), TableCell(location=Location(line=125, column=24), value='flukeman'), TableCell(location=Location(line=125, column=37), value='the-host')], id='1033')], id='1034')], id='1035'))]), comments=[]), uri='file:features/9_mindwm_clipboard.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/9_mindwm_clipboard.feature', registry={'1036': Tag(location=Location(line=1, column=1), name='@mindwm_clipboard', id='1036'), '1037': Tag(location=Location(line=2, column=1), name='@mindwm_test', id='1037'), '959': Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='957'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='958')], id='959'), '957': Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='957'), '958': Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='958'), '975': Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Prepare environment for ping tests', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='960'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='961'), Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='962'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='clipboard')], id='963')]), id='964'), Step(location=Location(line=14, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='965'), Step(location=Location(line=16, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='966'), Step(location=Location(line=17, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='967'), Step(location=Location(line=19, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='968'), Step(location=Location(line=20, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='969'), Step(location=Location(line=21, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace', doc_string=None, data_table=None, id='970'), Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='971')], examples=[Examples(location=Location(line=25, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='context'), TableCell(location=Location(line=26, column=18), value='username'), TableCell(location=Location(line=26, column=31), value='host')], id='972'), table_body=[TableRow(location=Location(line=27, column=6), cells=[TableCell(location=Location(line=27, column=8), value='philadelphia'), TableCell(location=Location(line=27, column=25), value='flukeman'), TableCell(location=Location(line=27, column=38), value='the-host')], id='973')], id='974')], id='975'), '960': Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='960'), '961': Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='961'), '964': Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='962'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='clipboard')], id='963')]), id='964'), '965': Step(location=Location(line=14, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='965'), '966': Step(location=Location(line=16, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='966'), '967': Step(location=Location(line=17, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='967'), '968': Step(location=Location(line=19, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='968'), '969': Step(location=Location(line=20, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='969'), '970': Step(location=Location(line=21, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace', doc_string=None, data_table=None, id='970'), '971': Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='971'), '974': Examples(location=Location(line=25, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='context'), TableCell(location=Location(line=26, column=18), value='username'), TableCell(location=Location(line=26, column=31), value='host')], id='972'), table_body=[TableRow(location=Location(line=27, column=6), cells=[TableCell(location=Location(line=27, column=8), value='philadelphia'), TableCell(location=Location(line=27, column=25), value='flukeman'), TableCell(location=Location(line=27, column=38), value='the-host')], id='973')], id='974'), '972': TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='context'), TableCell(location=Location(line=26, column=18), value='username'), TableCell(location=Location(line=26, column=31), value='host')], id='972'), '973': TableRow(location=Location(line=27, column=6), cells=[TableCell(location=Location(line=27, column=8), value='philadelphia'), TableCell(location=Location(line=27, column=25), value='flukeman'), TableCell(location=Location(line=27, column=38), value='the-host')], id='973'), '989': Scenario(location=Location(line=29, column=3), tags=[], keyword='Scenario', name='Send clipboard to knative ping service', description='', steps=[Step(location=Location(line=30, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='976'), Step(location=Location(line=31, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='977'), Step(location=Location(line=32, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='978'), Step(location=Location(line=33, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='979'), Step(location=Location(line=34, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='980'), Step(location=Location(line=35, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to knative service \"clipboard\" in \"context-<context>\" namespace', doc_string=DocString(location=Location(line=36, column=7), media_type=None, content='{\\n  \"uuid\": \"6ca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325473,\\n  \"data\": \"clipboard primary data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='981'), Step(location=Location(line=43, column=7), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"200\"', doc_string=None, data_table=None, id='982'), Step(location=Location(line=45, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=46, column=7), rows=[TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='Deployment name')], id='983'), TableRow(location=Location(line=47, column=7), cells=[TableCell(location=Location(line=47, column=9), value='clipboard-00001-deployment')], id='984')]), id='985')], examples=[Examples(location=Location(line=49, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='context'), TableCell(location=Location(line=50, column=18), value='username'), TableCell(location=Location(line=50, column=31), value='host'), TableCell(location=Location(line=50, column=43), value='traceparent')], id='986'), table_body=[TableRow(location=Location(line=51, column=6), cells=[TableCell(location=Location(line=51, column=8), value='philadelphia'), TableCell(location=Location(line=51, column=25), value='flukeman'), TableCell(location=Location(line=51, column=38), value='the-host'), TableCell(location=Location(line=51, column=50), value='00-6ef92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='987')], id='988')], id='989'), '976': Step(location=Location(line=30, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='976'), '977': Step(location=Location(line=31, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='977'), '978': Step(location=Location(line=32, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='978'), '979': Step(location=Location(line=33, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='979'), '980': Step(location=Location(line=34, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='980'), '981': Step(location=Location(line=35, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to knative service \"clipboard\" in \"context-<context>\" namespace', doc_string=DocString(location=Location(line=36, column=7), media_type=None, content='{\\n  \"uuid\": \"6ca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325473,\\n  \"data\": \"clipboard primary data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='981'), '982': Step(location=Location(line=43, column=7), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"200\"', doc_string=None, data_table=None, id='982'), '985': Step(location=Location(line=45, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=46, column=7), rows=[TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='Deployment name')], id='983'), TableRow(location=Location(line=47, column=7), cells=[TableCell(location=Location(line=47, column=9), value='clipboard-00001-deployment')], id='984')]), id='985'), '988': Examples(location=Location(line=49, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='context'), TableCell(location=Location(line=50, column=18), value='username'), TableCell(location=Location(line=50, column=31), value='host'), TableCell(location=Location(line=50, column=43), value='traceparent')], id='986'), table_body=[TableRow(location=Location(line=51, column=6), cells=[TableCell(location=Location(line=51, column=8), value='philadelphia'), TableCell(location=Location(line=51, column=25), value='flukeman'), TableCell(location=Location(line=51, column=38), value='the-host'), TableCell(location=Location(line=51, column=50), value='00-6ef92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='987')], id='988'), '986': TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='context'), TableCell(location=Location(line=50, column=18), value='username'), TableCell(location=Location(line=50, column=31), value='host'), TableCell(location=Location(line=50, column=43), value='traceparent')], id='986'), '987': TableRow(location=Location(line=51, column=6), cells=[TableCell(location=Location(line=51, column=8), value='philadelphia'), TableCell(location=Location(line=51, column=25), value='flukeman'), TableCell(location=Location(line=51, column=38), value='the-host'), TableCell(location=Location(line=51, column=50), value='00-6ef92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='987'), '1012': Scenario(location=Location(line=53, column=3), tags=[], keyword='Scenario', name='Send ping directly to function <endpoint>', description='', steps=[Step(location=Location(line=54, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='990'), Step(location=Location(line=55, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='991'), Step(location=Location(line=56, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='992'), Step(location=Location(line=57, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='993'), Step(location=Location(line=58, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='994'), Step(location=Location(line=59, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='995'), Step(location=Location(line=60, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to \"<endpoint>\"', doc_string=DocString(location=Location(line=61, column=7), media_type=None, content='{\\n  \"uuid\": \"4bca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard secondary data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='996'), Step(location=Location(line=68, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"202\"', doc_string=None, data_table=None, id='997'), Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=71, column=7), rows=[TableRow(location=Location(line=71, column=7), cells=[TableCell(location=Location(line=71, column=9), value='Deployment name')], id='998'), TableRow(location=Location(line=72, column=7), cells=[TableCell(location=Location(line=72, column=9), value='clipboard-00001-deployment')], id='999')]), id='1000'), Step(location=Location(line=73, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the trace with \"<traceparent>\" should appear in TraceQL', doc_string=None, data_table=None, id='1001'), Step(location=Location(line=74, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the trace should contains', doc_string=None, data_table=DataTable(location=Location(line=75, column=7), rows=[TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='service name')], id='1002'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='broker-ingress.knative-eventing')], id='1003'), TableRow(location=Location(line=77, column=7), cells=[TableCell(location=Location(line=77, column=9), value='unknown_service')], id='1004'), TableRow(location=Location(line=78, column=7), cells=[TableCell(location=Location(line=78, column=9), value='jetstream-ch-dispatcher')], id='1005')]), id='1006'), Step(location=Location(line=79, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='1007')], examples=[Examples(location=Location(line=81, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='context'), TableCell(location=Location(line=82, column=18), value='username'), TableCell(location=Location(line=82, column=31), value='host'), TableCell(location=Location(line=82, column=43), value='endpoint'), TableCell(location=Location(line=82, column=54), value='traceparent')], id='1008'), table_body=[TableRow(location=Location(line=83, column=6), cells=[TableCell(location=Location(line=83, column=8), value='philadelphia'), TableCell(location=Location(line=83, column=25), value='flukeman'), TableCell(location=Location(line=83, column=38), value='the-host'), TableCell(location=Location(line=83, column=50), value='broker-ingress.knative-eventing/context-philadelphia/context-broker'), TableCell(location=Location(line=83, column=122), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='1009'), TableRow(location=Location(line=84, column=6), cells=[TableCell(location=Location(line=84, column=8), value='philadelphia'), TableCell(location=Location(line=84, column=25), value='flukeman'), TableCell(location=Location(line=84, column=38), value='the-host'), TableCell(location=Location(line=84, column=50), value='broker-ingress.knative-eventing/user-flukeman/user-broker'), TableCell(location=Location(line=84, column=110), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1010')], id='1011')], id='1012'), '990': Step(location=Location(line=54, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='990'), '991': Step(location=Location(line=55, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='991'), '992': Step(location=Location(line=56, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='992'), '993': Step(location=Location(line=57, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='993'), '994': Step(location=Location(line=58, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='994'), '995': Step(location=Location(line=59, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='995'), '996': Step(location=Location(line=60, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to \"<endpoint>\"', doc_string=DocString(location=Location(line=61, column=7), media_type=None, content='{\\n  \"uuid\": \"4bca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard secondary data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='996'), '997': Step(location=Location(line=68, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"202\"', doc_string=None, data_table=None, id='997'), '1000': Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=71, column=7), rows=[TableRow(location=Location(line=71, column=7), cells=[TableCell(location=Location(line=71, column=9), value='Deployment name')], id='998'), TableRow(location=Location(line=72, column=7), cells=[TableCell(location=Location(line=72, column=9), value='clipboard-00001-deployment')], id='999')]), id='1000'), '1001': Step(location=Location(line=73, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the trace with \"<traceparent>\" should appear in TraceQL', doc_string=None, data_table=None, id='1001'), '1006': Step(location=Location(line=74, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the trace should contains', doc_string=None, data_table=DataTable(location=Location(line=75, column=7), rows=[TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='service name')], id='1002'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='broker-ingress.knative-eventing')], id='1003'), TableRow(location=Location(line=77, column=7), cells=[TableCell(location=Location(line=77, column=9), value='unknown_service')], id='1004'), TableRow(location=Location(line=78, column=7), cells=[TableCell(location=Location(line=78, column=9), value='jetstream-ch-dispatcher')], id='1005')]), id='1006'), '1007': Step(location=Location(line=79, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='1007'), '1011': Examples(location=Location(line=81, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='context'), TableCell(location=Location(line=82, column=18), value='username'), TableCell(location=Location(line=82, column=31), value='host'), TableCell(location=Location(line=82, column=43), value='endpoint'), TableCell(location=Location(line=82, column=54), value='traceparent')], id='1008'), table_body=[TableRow(location=Location(line=83, column=6), cells=[TableCell(location=Location(line=83, column=8), value='philadelphia'), TableCell(location=Location(line=83, column=25), value='flukeman'), TableCell(location=Location(line=83, column=38), value='the-host'), TableCell(location=Location(line=83, column=50), value='broker-ingress.knative-eventing/context-philadelphia/context-broker'), TableCell(location=Location(line=83, column=122), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='1009'), TableRow(location=Location(line=84, column=6), cells=[TableCell(location=Location(line=84, column=8), value='philadelphia'), TableCell(location=Location(line=84, column=25), value='flukeman'), TableCell(location=Location(line=84, column=38), value='the-host'), TableCell(location=Location(line=84, column=50), value='broker-ingress.knative-eventing/user-flukeman/user-broker'), TableCell(location=Location(line=84, column=110), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1010')], id='1011'), '1008': TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='context'), TableCell(location=Location(line=82, column=18), value='username'), TableCell(location=Location(line=82, column=31), value='host'), TableCell(location=Location(line=82, column=43), value='endpoint'), TableCell(location=Location(line=82, column=54), value='traceparent')], id='1008'), '1009': TableRow(location=Location(line=83, column=6), cells=[TableCell(location=Location(line=83, column=8), value='philadelphia'), TableCell(location=Location(line=83, column=25), value='flukeman'), TableCell(location=Location(line=83, column=38), value='the-host'), TableCell(location=Location(line=83, column=50), value='broker-ingress.knative-eventing/context-philadelphia/context-broker'), TableCell(location=Location(line=83, column=122), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='1009'), '1010': TableRow(location=Location(line=84, column=6), cells=[TableCell(location=Location(line=84, column=8), value='philadelphia'), TableCell(location=Location(line=84, column=25), value='flukeman'), TableCell(location=Location(line=84, column=38), value='the-host'), TableCell(location=Location(line=84, column=50), value='broker-ingress.knative-eventing/user-flukeman/user-broker'), TableCell(location=Location(line=84, column=110), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1010'), '1027': Scenario(location=Location(line=87, column=3), tags=[], keyword='Scenario', name='Send ping via nats', description='', steps=[Step(location=Location(line=88, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='1013'), Step(location=Location(line=89, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-id\" to \"<uuid>\"', doc_string=None, data_table=None, id='1014'), Step(location=Location(line=90, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='1015'), Step(location=Location(line=91, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='1016'), Step(location=Location(line=92, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='1017'), Step(location=Location(line=93, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='1018'), Step(location=Location(line=94, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.clipboard\"', doc_string=DocString(location=Location(line=95, column=7), media_type=None, content='{\\n  \"uuid\": \"3bca8a133-aba6-4f7f-ab95-242802fcac3c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard #3 data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='1019'), Step(location=Location(line=103, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=104, column=7), rows=[TableRow(location=Location(line=104, column=7), cells=[TableCell(location=Location(line=104, column=9), value='Deployment name')], id='1020'), TableRow(location=Location(line=105, column=7), cells=[TableCell(location=Location(line=105, column=9), value='clipboard-00001-deployment')], id='1021')]), id='1022'), Step(location=Location(line=107, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='1023')], examples=[Examples(location=Location(line=110, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=111, column=6), cells=[TableCell(location=Location(line=111, column=8), value='context'), TableCell(location=Location(line=111, column=18), value='username'), TableCell(location=Location(line=111, column=31), value='host'), TableCell(location=Location(line=111, column=43), value='uuid'), TableCell(location=Location(line=111, column=83), value='traceparent')], id='1024'), table_body=[TableRow(location=Location(line=112, column=6), cells=[TableCell(location=Location(line=112, column=8), value='philadelphia'), TableCell(location=Location(line=112, column=25), value='flukeman'), TableCell(location=Location(line=112, column=38), value='the-host'), TableCell(location=Location(line=112, column=50), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=112, column=89), value='00-8af92f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1025')], id='1026')], id='1027'), '1013': Step(location=Location(line=88, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='1013'), '1014': Step(location=Location(line=89, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-id\" to \"<uuid>\"', doc_string=None, data_table=None, id='1014'), '1015': Step(location=Location(line=90, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='1015'), '1016': Step(location=Location(line=91, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='1016'), '1017': Step(location=Location(line=92, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='1017'), '1018': Step(location=Location(line=93, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='1018'), '1019': Step(location=Location(line=94, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.clipboard\"', doc_string=DocString(location=Location(line=95, column=7), media_type=None, content='{\\n  \"uuid\": \"3bca8a133-aba6-4f7f-ab95-242802fcac3c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard #3 data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='1019'), '1022': Step(location=Location(line=103, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=104, column=7), rows=[TableRow(location=Location(line=104, column=7), cells=[TableCell(location=Location(line=104, column=9), value='Deployment name')], id='1020'), TableRow(location=Location(line=105, column=7), cells=[TableCell(location=Location(line=105, column=9), value='clipboard-00001-deployment')], id='1021')]), id='1022'), '1023': Step(location=Location(line=107, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='1023'), '1026': Examples(location=Location(line=110, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=111, column=6), cells=[TableCell(location=Location(line=111, column=8), value='context'), TableCell(location=Location(line=111, column=18), value='username'), TableCell(location=Location(line=111, column=31), value='host'), TableCell(location=Location(line=111, column=43), value='uuid'), TableCell(location=Location(line=111, column=83), value='traceparent')], id='1024'), table_body=[TableRow(location=Location(line=112, column=6), cells=[TableCell(location=Location(line=112, column=8), value='philadelphia'), TableCell(location=Location(line=112, column=25), value='flukeman'), TableCell(location=Location(line=112, column=38), value='the-host'), TableCell(location=Location(line=112, column=50), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=112, column=89), value='00-8af92f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1025')], id='1026'), '1024': TableRow(location=Location(line=111, column=6), cells=[TableCell(location=Location(line=111, column=8), value='context'), TableCell(location=Location(line=111, column=18), value='username'), TableCell(location=Location(line=111, column=31), value='host'), TableCell(location=Location(line=111, column=43), value='uuid'), TableCell(location=Location(line=111, column=83), value='traceparent')], id='1024'), '1025': TableRow(location=Location(line=112, column=6), cells=[TableCell(location=Location(line=112, column=8), value='philadelphia'), TableCell(location=Location(line=112, column=25), value='flukeman'), TableCell(location=Location(line=112, column=38), value='the-host'), TableCell(location=Location(line=112, column=50), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=112, column=89), value='00-8af92f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1025'), '1035': Scenario(location=Location(line=115, column=3), tags=[], keyword='Scenario', name='Cleanup <username>@<host> in <context>', description='', steps=[Step(location=Location(line=116, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='1028'), Step(location=Location(line=117, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='1029'), Step(location=Location(line=119, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='1030'), Step(location=Location(line=121, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='1031')], examples=[Examples(location=Location(line=123, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=124, column=5), cells=[TableCell(location=Location(line=124, column=7), value='context'), TableCell(location=Location(line=124, column=17), value='username'), TableCell(location=Location(line=124, column=28), value='host')], id='1032'), table_body=[TableRow(location=Location(line=125, column=5), cells=[TableCell(location=Location(line=125, column=7), value='philadelphia'), TableCell(location=Location(line=125, column=24), value='flukeman'), TableCell(location=Location(line=125, column=37), value='the-host')], id='1033')], id='1034')], id='1035'), '1028': Step(location=Location(line=116, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='1028'), '1029': Step(location=Location(line=117, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='1029'), '1030': Step(location=Location(line=119, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='1030'), '1031': Step(location=Location(line=121, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='1031'), '1034': Examples(location=Location(line=123, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=124, column=5), cells=[TableCell(location=Location(line=124, column=7), value='context'), TableCell(location=Location(line=124, column=17), value='username'), TableCell(location=Location(line=124, column=28), value='host')], id='1032'), table_body=[TableRow(location=Location(line=125, column=5), cells=[TableCell(location=Location(line=125, column=7), value='philadelphia'), TableCell(location=Location(line=125, column=24), value='flukeman'), TableCell(location=Location(line=125, column=37), value='the-host')], id='1033')], id='1034'), '1032': TableRow(location=Location(line=124, column=5), cells=[TableCell(location=Location(line=124, column=7), value='context'), TableCell(location=Location(line=124, column=17), value='username'), TableCell(location=Location(line=124, column=28), value='host')], id='1032'), '1033': TableRow(location=Location(line=125, column=5), cells=[TableCell(location=Location(line=125, column=7), value='philadelphia'), TableCell(location=Location(line=125, column=24), value='flukeman'), TableCell(location=Location(line=125, column=37), value='the-host')], id='1033')}, pickles=[Pickle(id='1050', uri='file:features/9_mindwm_clipboard.feature', name='Prepare environment for ping tests', language='en', steps=[PickleStep(argument=None, ast_node_ids=['957'], id='1038', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['958'], id='1039', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['960', '973'], id='1040', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"philadelphia\"'), PickleStep(argument=None, ast_node_ids=['961', '973'], id='1041', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='clipboard')])])), ast_node_ids=['964', '973'], id='1042', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-philadelphia\" namespace'), PickleStep(argument=None, ast_node_ids=['965', '973'], id='1043', type=<Type.outcome: 'Outcome'>, text='statefulset \"philadelphia-neo4j\" in namespace \"context-philadelphia\" is in ready state'), PickleStep(argument=None, ast_node_ids=['966', '973'], id='1044', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"flukeman\" and connects it to the context \"philadelphia\"'), PickleStep(argument=None, ast_node_ids=['967', '973'], id='1045', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['968', '973'], id='1046', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"the-host\" and connects it to the user \"flukeman\"'), PickleStep(argument=None, ast_node_ids=['969', '973'], id='1047', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['970', '973'], id='1048', type=<Type.outcome: 'Outcome'>, text='NatsJetStreamChannel \"the-host-host-broker-kne-trigger\" is ready in \"user-flukeman\" namespace'), PickleStep(argument=None, ast_node_ids=['971', '973'], id='1049', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"')], tags=[PickleTag(name='@mindwm_clipboard', ast_node_id='1036'), PickleTag(name='@mindwm_test', ast_node_id='1037')], ast_node_ids=['975', '973']), Pickle(id='1061', uri='file:features/9_mindwm_clipboard.feature', name='Send clipboard to knative ping service', language='en', steps=[PickleStep(argument=None, ast_node_ids=['957'], id='1051', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['958'], id='1052', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['976', '987'], id='1053', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['977', '987'], id='1054', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"'), PickleStep(argument=None, ast_node_ids=['978', '987'], id='1055', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"'), PickleStep(argument=None, ast_node_ids=['979', '987'], id='1056', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.flukeman.the-host.clipboard\"'), PickleStep(argument=None, ast_node_ids=['980', '987'], id='1057', type=<Type.action: 'Action'>, text='sets cloudevent header \"traceparent\" to \"00-6ef92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"uuid\": \"6ca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325473,\\n  \"data\": \"clipboard primary data\"\\n} '), data_table=None), ast_node_ids=['981', '987'], id='1058', type=<Type.action: 'Action'>, text='sends cloudevent to knative service \"clipboard\" in \"context-philadelphia\" namespace'), PickleStep(argument=None, ast_node_ids=['982', '987'], id='1059', type=<Type.outcome: 'Outcome'>, text='the response http code should be \"200\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='clipboard-00001-deployment')])])), ast_node_ids=['985', '987'], id='1060', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-philadelphia\" namespace')], tags=[PickleTag(name='@mindwm_clipboard', ast_node_id='1036'), PickleTag(name='@mindwm_test', ast_node_id='1037')], ast_node_ids=['989', '987']), Pickle(id='1076', uri='file:features/9_mindwm_clipboard.feature', name='Send ping directly to function broker-ingress.knative-eventing/context-philadelphia/context-broker', language='en', steps=[PickleStep(argument=None, ast_node_ids=['957'], id='1062', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['958'], id='1063', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['990', '1009'], id='1064', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['991', '1009'], id='1065', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['992', '1009'], id='1066', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"'), PickleStep(argument=None, ast_node_ids=['993', '1009'], id='1067', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"'), PickleStep(argument=None, ast_node_ids=['994', '1009'], id='1068', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.flukeman.the-host.clipboard\"'), PickleStep(argument=None, ast_node_ids=['995', '1009'], id='1069', type=<Type.action: 'Action'>, text='sets cloudevent header \"traceparent\" to \"00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"uuid\": \"4bca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard secondary data\"\\n} '), data_table=None), ast_node_ids=['996', '1009'], id='1070', type=<Type.action: 'Action'>, text='sends cloudevent to \"broker-ingress.knative-eventing/context-philadelphia/context-broker\"'), PickleStep(argument=None, ast_node_ids=['997', '1009'], id='1071', type=<Type.outcome: 'Outcome'>, text='the response http code should be \"202\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='clipboard-00001-deployment')])])), ast_node_ids=['1000', '1009'], id='1072', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-philadelphia\" namespace'), PickleStep(argument=None, ast_node_ids=['1001', '1009'], id='1073', type=<Type.outcome: 'Outcome'>, text='the trace with \"00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00\" should appear in TraceQL'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='service name')]), PickleTableRow(cells=[PickleTableCell(value='broker-ingress.knative-eventing')]), PickleTableRow(cells=[PickleTableCell(value='unknown_service')]), PickleTableRow(cells=[PickleTableCell(value='jetstream-ch-dispatcher')])])), ast_node_ids=['1006', '1009'], id='1074', type=<Type.outcome: 'Outcome'>, text='the trace should contains'), PickleStep(argument=None, ast_node_ids=['1007', '1009'], id='1075', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-flukeman.the-host-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_clipboard', ast_node_id='1036'), PickleTag(name='@mindwm_test', ast_node_id='1037')], ast_node_ids=['1012', '1009']), Pickle(id='1091', uri='file:features/9_mindwm_clipboard.feature', name='Send ping directly to function broker-ingress.knative-eventing/user-flukeman/user-broker', language='en', steps=[PickleStep(argument=None, ast_node_ids=['957'], id='1077', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['958'], id='1078', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['990', '1010'], id='1079', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['991', '1010'], id='1080', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['992', '1010'], id='1081', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"'), PickleStep(argument=None, ast_node_ids=['993', '1010'], id='1082', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"'), PickleStep(argument=None, ast_node_ids=['994', '1010'], id='1083', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.flukeman.the-host.clipboard\"'), PickleStep(argument=None, ast_node_ids=['995', '1010'], id='1084', type=<Type.action: 'Action'>, text='sets cloudevent header \"traceparent\" to \"00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"uuid\": \"4bca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard secondary data\"\\n} '), data_table=None), ast_node_ids=['996', '1010'], id='1085', type=<Type.action: 'Action'>, text='sends cloudevent to \"broker-ingress.knative-eventing/user-flukeman/user-broker\"'), PickleStep(argument=None, ast_node_ids=['997', '1010'], id='1086', type=<Type.outcome: 'Outcome'>, text='the response http code should be \"202\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='clipboard-00001-deployment')])])), ast_node_ids=['1000', '1010'], id='1087', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-philadelphia\" namespace'), PickleStep(argument=None, ast_node_ids=['1001', '1010'], id='1088', type=<Type.outcome: 'Outcome'>, text='the trace with \"00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00\" should appear in TraceQL'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='service name')]), PickleTableRow(cells=[PickleTableCell(value='broker-ingress.knative-eventing')]), PickleTableRow(cells=[PickleTableCell(value='unknown_service')]), PickleTableRow(cells=[PickleTableCell(value='jetstream-ch-dispatcher')])])), ast_node_ids=['1006', '1010'], id='1089', type=<Type.outcome: 'Outcome'>, text='the trace should contains'), PickleStep(argument=None, ast_node_ids=['1007', '1010'], id='1090', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-flukeman.the-host-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_clipboard', ast_node_id='1036'), PickleTag(name='@mindwm_test', ast_node_id='1037')], ast_node_ids=['1012', '1010']), Pickle(id='1103', uri='file:features/9_mindwm_clipboard.feature', name='Send ping via nats', language='en', steps=[PickleStep(argument=None, ast_node_ids=['957'], id='1092', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['958'], id='1093', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['1013', '1025'], id='1094', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['1014', '1025'], id='1095', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-id\" to \"09fb195c-c419-6d62-15e0-51b6ee990922\"'), PickleStep(argument=None, ast_node_ids=['1015', '1025'], id='1096', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"'), PickleStep(argument=None, ast_node_ids=['1016', '1025'], id='1097', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"'), PickleStep(argument=None, ast_node_ids=['1017', '1025'], id='1098', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.flukeman.the-host.clipboard\"'), PickleStep(argument=None, ast_node_ids=['1018', '1025'], id='1099', type=<Type.action: 'Action'>, text='sets cloudevent header \"traceparent\" to \"00-8af92f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"uuid\": \"3bca8a133-aba6-4f7f-ab95-242802fcac3c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard #3 data\"\\n} '), data_table=None), ast_node_ids=['1019', '1025'], id='1100', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.flukeman.the-host.clipboard\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='clipboard-00001-deployment')])])), ast_node_ids=['1022', '1025'], id='1101', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-philadelphia\" namespace'), PickleStep(argument=None, ast_node_ids=['1023', '1025'], id='1102', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-flukeman.the-host-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_clipboard', ast_node_id='1036'), PickleTag(name='@mindwm_test', ast_node_id='1037')], ast_node_ids=['1027', '1025']), Pickle(id='1110', uri='file:features/9_mindwm_clipboard.feature', name='Cleanup flukeman@the-host in philadelphia', language='en', steps=[PickleStep(argument=None, ast_node_ids=['957'], id='1104', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['958'], id='1105', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['1028', '1033'], id='1106', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"the-host\"'), PickleStep(argument=None, ast_node_ids=['1029', '1033'], id='1107', type=<Type.outcome: 'Outcome'>, text='the host \"the-host\" should be deleted'), PickleStep(argument=None, ast_node_ids=['1030', '1033'], id='1108', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"flukeman\"'), PickleStep(argument=None, ast_node_ids=['1031', '1033'], id='1109', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"philadelphia\"')], tags=[PickleTag(name='@mindwm_clipboard', ast_node_id='1036'), PickleTag(name='@mindwm_test', ast_node_id='1037')], ast_node_ids=['1035', '1033'])])","Source(uri='file:features/9_mindwm_clipboard.feature', data='@mindwm_clipboard\\n@mindwm_test\\nFeature: MindWM clipboard EDA test\\n  Background:\\n    Given A MindWM environment\\n    Then all nodes in Kubernetes are ready\\n\\n  Scenario: Prepare environment for ping tests \\n    When God creates a MindWM context with the name \"<context>\"\\n    Then the context should be ready and operable\\n    And the following knative services are in a ready state in the \"context-<context>\" namespace\\n      | Knative service name |\\n      | clipboard            |\\n    And statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state\\n\\n    When God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"\\n    Then the user resource should be ready and operable\\n\\n    When God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"\\n    Then the host resource should be ready and operable\\n    And NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace\\n\\n    When God starts reading message from NATS topic \">\"\\n\\n    Examples:\\n     | context | username   | host      |\\n     | philadelphia   | flukeman   | the-host  | \\n\\n  Scenario: Send clipboard to knative ping service\\n    When God creates a new cloudevent \\n      And sets cloudevent header \"ce-subject\" to \"clipboard\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"\\n      And sets cloudevent header \"traceparent\" to \"<traceparent>\"\\n      And sends cloudevent to knative service \"clipboard\" in \"context-<context>\" namespace\\n      \"\"\"\\n      {\\n        \"uuid\": \"6ca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n        \"time\": 1728325473,\\n        \"data\": \"clipboard primary data\"\\n      } \\n      \"\"\"\\n      Then the response http code should be \"200\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name       |\\n      | clipboard-00001-deployment |\\n\\n    Examples:\\n     | context | username   | host      | traceparent                                             |\\n     | philadelphia   | flukeman   | the-host  | 00-6ef92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00 |\\n\\n  Scenario: Send ping directly to function <endpoint>\\n    When God creates a new cloudevent \\n      And God starts reading message from NATS topic \">\"\\n      And sets cloudevent header \"ce-subject\" to \"clipboard\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"\\n      And sets cloudevent header \"traceparent\" to \"<traceparent>\"\\n      And sends cloudevent to \"<endpoint>\"\\n      \"\"\"\\n      {\\n        \"uuid\": \"4bca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n        \"time\": 1728325474,\\n        \"data\": \"clipboard secondary data\"\\n      } \\n      \"\"\"\\n    Then the response http code should be \"202\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name            |\\n      | clipboard-00001-deployment |\\n    Then the trace with \"<traceparent>\" should appear in TraceQL\\n    And the trace should contains \\n      | service name                    | \\n      | broker-ingress.knative-eventing | \\n      | unknown_service                 | \\n      | jetstream-ch-dispatcher         |\\n    And a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"\\n\\n    Examples:\\n     | context | username   | host      | endpoint | traceparent \\t\\t\\t\\t\\t         |\\n     | philadelphia   | flukeman   | the-host  | broker-ingress.knative-eventing/context-philadelphia/context-broker   | 00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00 |\\n     | philadelphia   | flukeman   | the-host  | broker-ingress.knative-eventing/user-flukeman/user-broker | 00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00 |\\n\\n\\n  Scenario: Send ping via nats\\n    When God creates a new cloudevent \\n      And sets cloudevent header \"ce-id\" to \"<uuid>\"\\n      And sets cloudevent header \"ce-subject\" to \"clipboard\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"\\n      And sets cloudevent header \"traceparent\" to \"<traceparent>\"\\n      And sends cloudevent to nats topic \"org.mindwm.<username>.<host>.clipboard\"\\n      \"\"\"\\n      {\\n        \"uuid\": \"3bca8a133-aba6-4f7f-ab95-242802fcac3c\",\\n        \"time\": 1728325474,\\n        \"data\": \"clipboard #3 data\"\\n      } \\n      \"\"\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name       |\\n      | clipboard-00001-deployment |\\n\\n    And a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"\\n\\n\\n    Examples:\\n     | context | username   | host      | uuid                                  | traceparent |\\n     | philadelphia   | flukeman   | the-host  | 09fb195c-c419-6d62-15e0-51b6ee990922 | 00-8af92f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00 |\\n\\n\\n  Scenario: Cleanup <username>@<host> in <context>\\n    When God deletes the MindWM host resource \"<host>\"\\n    Then the host \"<host>\" should be deleted\\n\\n    When God deletes the MindWM user resource \"<username>\"\\n\\n    When God deletes the MindWM context resource \"<context>\"\\n\\n    Examples:\\n    | context | username | host        | \\n    | philadelphia   | flukeman   | the-host         |\\n\\n', media_type='text/x.cucumber.gherkin+plain')","Pickle(id='1110', uri='file:features/9_mindwm_clipboard.feature', name='Cleanup flukeman@the-host in philadelphia', language='en', steps=[PickleStep(argument=None, ast_node_ids=['957'], id='1104', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['958'], id='1105', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['1028', '1033'], id='1106', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"the-host\"'), PickleStep(argument=None, ast_node_ids=['1029', '1033'], id='1107', type=<Type.outcome: 'Outcome'>, text='the host \"the-host\" should be deleted'), PickleStep(argument=None, ast_node_ids=['1030', '1033'], id='1108', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"flukeman\"'), PickleStep(argument=None, ast_node_ids=['1031', '1033'], id='1109', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"philadelphia\"')], tags=[PickleTag(name='@mindwm_clipboard', ast_node_id='1036'), PickleTag(name='@mindwm_test', ast_node_id='1037')], ast_node_ids=['1035', '1033'])"],"tags":["scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/9_mindwm_clipboard.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=<FeaturePathType.PATH: 'path'>, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())","pytest_bdd_scenario","@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')","mindwm_clipboard","mindwm_test","namespace(create=False, name='default')"]},{"name":"test_scenarios[file:features/7_mindwm_two_users_one_context.feature-MindWM two users one context function test-Create laptop resource and connects it to godzilla user[table_rows:[line: 35]]]","uid":"a5385e4202d856fe","parentUid":"3961740595044ffd97a03e46799bfc30","status":"passed","time":{"start":1728404521179,"stop":1728404531345,"duration":10166},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["Feature(gherkin_document=GherkinDocument(uri='file:features/7_mindwm_two_users_one_context.feature', feature=Feature(location=Location(line=3, column=1), tags=[Tag(location=Location(line=1, column=1), name='@mindwm_two_users_one_context', id='801'), Tag(location=Location(line=2, column=1), name='@mindwm_test', id='802')], language='en', keyword='Feature', name='MindWM two users one context function test', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='736'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='737')], id='738'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Create context <context>', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='739'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='740'), Step(location=Location(line=12, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=13, column=7), rows=[TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='Knative service name')], id='741'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='iocontext')], id='742'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='pong')], id='743'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='kafka-cdc')], id='744')]), id='745'), Step(location=Location(line=17, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='746')], examples=[Examples(location=Location(line=18, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=19, column=5), cells=[TableCell(location=Location(line=19, column=7), value='context')], id='747'), table_body=[TableRow(location=Location(line=20, column=5), cells=[TableCell(location=Location(line=20, column=7), value='tokyo')], id='748')], id='749')], id='750')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=22, column=3), tags=[], keyword='Scenario', name='Create <username> and connects it to <context>', description='', steps=[Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='751'), Step(location=Location(line=24, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='752')], examples=[Examples(location=Location(line=25, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=26, column=5), cells=[TableCell(location=Location(line=26, column=7), value='context'), TableCell(location=Location(line=26, column=17), value='username')], id='753'), table_body=[TableRow(location=Location(line=27, column=5), cells=[TableCell(location=Location(line=27, column=7), value='tokyo'), TableCell(location=Location(line=27, column=17), value='godzilla')], id='754'), TableRow(location=Location(line=28, column=5), cells=[TableCell(location=Location(line=28, column=7), value='tokyo'), TableCell(location=Location(line=28, column=17), value='tengu')], id='755')], id='756')], id='757')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=29, column=3), tags=[], keyword='Scenario', name='Create <host> resource and connects it to <username> user', description='', steps=[Step(location=Location(line=30, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='758'), Step(location=Location(line=31, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='759')], examples=[Examples(location=Location(line=33, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='username'), TableCell(location=Location(line=34, column=18), value='host')], id='760'), table_body=[TableRow(location=Location(line=35, column=5), cells=[TableCell(location=Location(line=35, column=7), value='godzilla'), TableCell(location=Location(line=35, column=18), value='laptop')], id='761'), TableRow(location=Location(line=36, column=5), cells=[TableCell(location=Location(line=36, column=7), value='tengu'), TableCell(location=Location(line=36, column=18), value='tablet')], id='762')], id='763')], id='764')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=38, column=3), tags=[], keyword='Scenario', name='Send iodocument via nats host: <host>, user: <username> and check that second user received graph update', description='', steps=[Step(location=Location(line=39, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='765'), Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='766'), Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='767'), Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='768'), Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=None, data_table=None, id='769'), Step(location=Location(line=44, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=DocString(location=Location(line=45, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='770'), Step(location=Location(line=54, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=55, column=7), rows=[TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='Deployment name')], id='771'), TableRow(location=Location(line=56, column=7), cells=[TableCell(location=Location(line=56, column=9), value='iocontext-00001-deployment')], id='772'), TableRow(location=Location(line=57, column=7), cells=[TableCell(location=Location(line=57, column=9), value='kafka-cdc-00001-deployment')], id='773')]), id='774'), Step(location=Location(line=59, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<dst_user>.<dst_host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='775')], examples=[Examples(location=Location(line=61, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=62, column=5), cells=[TableCell(location=Location(line=62, column=7), value='context'), TableCell(location=Location(line=62, column=17), value='src_user'), TableCell(location=Location(line=62, column=28), value='src_host'), TableCell(location=Location(line=62, column=39), value='dst_user'), TableCell(location=Location(line=62, column=50), value='dst_host')], id='776'), table_body=[TableRow(location=Location(line=63, column=5), cells=[TableCell(location=Location(line=63, column=7), value='tokyo'), TableCell(location=Location(line=63, column=17), value='godzilla'), TableCell(location=Location(line=63, column=28), value='laptop'), TableCell(location=Location(line=63, column=39), value='tengu'), TableCell(location=Location(line=63, column=50), value='tablet')], id='777'), TableRow(location=Location(line=64, column=5), cells=[TableCell(location=Location(line=64, column=7), value='tokyo'), TableCell(location=Location(line=64, column=17), value='tengu'), TableCell(location=Location(line=64, column=28), value='tablet'), TableCell(location=Location(line=64, column=39), value='godzilla'), TableCell(location=Location(line=64, column=50), value='laptop')], id='778')], id='779')], id='780')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=67, column=3), tags=[], keyword='Scenario', name='Cleanup <host> host for <username> username', description='', steps=[Step(location=Location(line=69, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='781'), Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='782')], examples=[Examples(location=Location(line=72, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=73, column=5), cells=[TableCell(location=Location(line=73, column=7), value='username'), TableCell(location=Location(line=73, column=18), value='host')], id='783'), table_body=[TableRow(location=Location(line=74, column=5), cells=[TableCell(location=Location(line=74, column=7), value='godzilla'), TableCell(location=Location(line=74, column=18), value='laptop')], id='784'), TableRow(location=Location(line=75, column=5), cells=[TableCell(location=Location(line=75, column=7), value='tengu'), TableCell(location=Location(line=75, column=18), value='tablet')], id='785')], id='786')], id='787')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=77, column=3), tags=[], keyword='Scenario', name='Cleanup <username> username', description='', steps=[Step(location=Location(line=78, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='788'), Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='789')], examples=[Examples(location=Location(line=81, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='username')], id='790'), table_body=[TableRow(location=Location(line=83, column=5), cells=[TableCell(location=Location(line=83, column=7), value='godzilla')], id='791'), TableRow(location=Location(line=84, column=5), cells=[TableCell(location=Location(line=84, column=7), value='tengu')], id='792')], id='793')], id='794')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=86, column=3), tags=[], keyword='Scenario', name='Cleanup <context> context', description='', steps=[Step(location=Location(line=87, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='795'), Step(location=Location(line=88, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='796')], examples=[Examples(location=Location(line=90, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=91, column=5), cells=[TableCell(location=Location(line=91, column=7), value='context')], id='797'), table_body=[TableRow(location=Location(line=92, column=5), cells=[TableCell(location=Location(line=92, column=7), value='tokyo')], id='798')], id='799')], id='800'))]), comments=[]), uri='file:features/7_mindwm_two_users_one_context.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/7_mindwm_two_users_one_context.feature', registry={'801': Tag(location=Location(line=1, column=1), name='@mindwm_two_users_one_context', id='801'), '802': Tag(location=Location(line=2, column=1), name='@mindwm_test', id='802'), '738': Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='736'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='737')], id='738'), '736': Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='736'), '737': Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='737'), '750': Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Create context <context>', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='739'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='740'), Step(location=Location(line=12, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=13, column=7), rows=[TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='Knative service name')], id='741'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='iocontext')], id='742'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='pong')], id='743'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='kafka-cdc')], id='744')]), id='745'), Step(location=Location(line=17, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='746')], examples=[Examples(location=Location(line=18, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=19, column=5), cells=[TableCell(location=Location(line=19, column=7), value='context')], id='747'), table_body=[TableRow(location=Location(line=20, column=5), cells=[TableCell(location=Location(line=20, column=7), value='tokyo')], id='748')], id='749')], id='750'), '739': Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='739'), '740': Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='740'), '745': Step(location=Location(line=12, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=13, column=7), rows=[TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='Knative service name')], id='741'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='iocontext')], id='742'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='pong')], id='743'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='kafka-cdc')], id='744')]), id='745'), '746': Step(location=Location(line=17, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='746'), '749': Examples(location=Location(line=18, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=19, column=5), cells=[TableCell(location=Location(line=19, column=7), value='context')], id='747'), table_body=[TableRow(location=Location(line=20, column=5), cells=[TableCell(location=Location(line=20, column=7), value='tokyo')], id='748')], id='749'), '747': TableRow(location=Location(line=19, column=5), cells=[TableCell(location=Location(line=19, column=7), value='context')], id='747'), '748': TableRow(location=Location(line=20, column=5), cells=[TableCell(location=Location(line=20, column=7), value='tokyo')], id='748'), '757': Scenario(location=Location(line=22, column=3), tags=[], keyword='Scenario', name='Create <username> and connects it to <context>', description='', steps=[Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='751'), Step(location=Location(line=24, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='752')], examples=[Examples(location=Location(line=25, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=26, column=5), cells=[TableCell(location=Location(line=26, column=7), value='context'), TableCell(location=Location(line=26, column=17), value='username')], id='753'), table_body=[TableRow(location=Location(line=27, column=5), cells=[TableCell(location=Location(line=27, column=7), value='tokyo'), TableCell(location=Location(line=27, column=17), value='godzilla')], id='754'), TableRow(location=Location(line=28, column=5), cells=[TableCell(location=Location(line=28, column=7), value='tokyo'), TableCell(location=Location(line=28, column=17), value='tengu')], id='755')], id='756')], id='757'), '751': Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='751'), '752': Step(location=Location(line=24, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='752'), '756': Examples(location=Location(line=25, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=26, column=5), cells=[TableCell(location=Location(line=26, column=7), value='context'), TableCell(location=Location(line=26, column=17), value='username')], id='753'), table_body=[TableRow(location=Location(line=27, column=5), cells=[TableCell(location=Location(line=27, column=7), value='tokyo'), TableCell(location=Location(line=27, column=17), value='godzilla')], id='754'), TableRow(location=Location(line=28, column=5), cells=[TableCell(location=Location(line=28, column=7), value='tokyo'), TableCell(location=Location(line=28, column=17), value='tengu')], id='755')], id='756'), '753': TableRow(location=Location(line=26, column=5), cells=[TableCell(location=Location(line=26, column=7), value='context'), TableCell(location=Location(line=26, column=17), value='username')], id='753'), '754': TableRow(location=Location(line=27, column=5), cells=[TableCell(location=Location(line=27, column=7), value='tokyo'), TableCell(location=Location(line=27, column=17), value='godzilla')], id='754'), '755': TableRow(location=Location(line=28, column=5), cells=[TableCell(location=Location(line=28, column=7), value='tokyo'), TableCell(location=Location(line=28, column=17), value='tengu')], id='755'), '764': Scenario(location=Location(line=29, column=3), tags=[], keyword='Scenario', name='Create <host> resource and connects it to <username> user', description='', steps=[Step(location=Location(line=30, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='758'), Step(location=Location(line=31, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='759')], examples=[Examples(location=Location(line=33, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='username'), TableCell(location=Location(line=34, column=18), value='host')], id='760'), table_body=[TableRow(location=Location(line=35, column=5), cells=[TableCell(location=Location(line=35, column=7), value='godzilla'), TableCell(location=Location(line=35, column=18), value='laptop')], id='761'), TableRow(location=Location(line=36, column=5), cells=[TableCell(location=Location(line=36, column=7), value='tengu'), TableCell(location=Location(line=36, column=18), value='tablet')], id='762')], id='763')], id='764'), '758': Step(location=Location(line=30, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='758'), '759': Step(location=Location(line=31, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='759'), '763': Examples(location=Location(line=33, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='username'), TableCell(location=Location(line=34, column=18), value='host')], id='760'), table_body=[TableRow(location=Location(line=35, column=5), cells=[TableCell(location=Location(line=35, column=7), value='godzilla'), TableCell(location=Location(line=35, column=18), value='laptop')], id='761'), TableRow(location=Location(line=36, column=5), cells=[TableCell(location=Location(line=36, column=7), value='tengu'), TableCell(location=Location(line=36, column=18), value='tablet')], id='762')], id='763'), '760': TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='username'), TableCell(location=Location(line=34, column=18), value='host')], id='760'), '761': TableRow(location=Location(line=35, column=5), cells=[TableCell(location=Location(line=35, column=7), value='godzilla'), TableCell(location=Location(line=35, column=18), value='laptop')], id='761'), '762': TableRow(location=Location(line=36, column=5), cells=[TableCell(location=Location(line=36, column=7), value='tengu'), TableCell(location=Location(line=36, column=18), value='tablet')], id='762'), '780': Scenario(location=Location(line=38, column=3), tags=[], keyword='Scenario', name='Send iodocument via nats host: <host>, user: <username> and check that second user received graph update', description='', steps=[Step(location=Location(line=39, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='765'), Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='766'), Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='767'), Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='768'), Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=None, data_table=None, id='769'), Step(location=Location(line=44, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=DocString(location=Location(line=45, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='770'), Step(location=Location(line=54, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=55, column=7), rows=[TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='Deployment name')], id='771'), TableRow(location=Location(line=56, column=7), cells=[TableCell(location=Location(line=56, column=9), value='iocontext-00001-deployment')], id='772'), TableRow(location=Location(line=57, column=7), cells=[TableCell(location=Location(line=57, column=9), value='kafka-cdc-00001-deployment')], id='773')]), id='774'), Step(location=Location(line=59, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<dst_user>.<dst_host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='775')], examples=[Examples(location=Location(line=61, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=62, column=5), cells=[TableCell(location=Location(line=62, column=7), value='context'), TableCell(location=Location(line=62, column=17), value='src_user'), TableCell(location=Location(line=62, column=28), value='src_host'), TableCell(location=Location(line=62, column=39), value='dst_user'), TableCell(location=Location(line=62, column=50), value='dst_host')], id='776'), table_body=[TableRow(location=Location(line=63, column=5), cells=[TableCell(location=Location(line=63, column=7), value='tokyo'), TableCell(location=Location(line=63, column=17), value='godzilla'), TableCell(location=Location(line=63, column=28), value='laptop'), TableCell(location=Location(line=63, column=39), value='tengu'), TableCell(location=Location(line=63, column=50), value='tablet')], id='777'), TableRow(location=Location(line=64, column=5), cells=[TableCell(location=Location(line=64, column=7), value='tokyo'), TableCell(location=Location(line=64, column=17), value='tengu'), TableCell(location=Location(line=64, column=28), value='tablet'), TableCell(location=Location(line=64, column=39), value='godzilla'), TableCell(location=Location(line=64, column=50), value='laptop')], id='778')], id='779')], id='780'), '765': Step(location=Location(line=39, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='765'), '766': Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='766'), '767': Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='767'), '768': Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='768'), '769': Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=None, data_table=None, id='769'), '770': Step(location=Location(line=44, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=DocString(location=Location(line=45, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='770'), '774': Step(location=Location(line=54, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=55, column=7), rows=[TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='Deployment name')], id='771'), TableRow(location=Location(line=56, column=7), cells=[TableCell(location=Location(line=56, column=9), value='iocontext-00001-deployment')], id='772'), TableRow(location=Location(line=57, column=7), cells=[TableCell(location=Location(line=57, column=9), value='kafka-cdc-00001-deployment')], id='773')]), id='774'), '775': Step(location=Location(line=59, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<dst_user>.<dst_host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='775'), '779': Examples(location=Location(line=61, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=62, column=5), cells=[TableCell(location=Location(line=62, column=7), value='context'), TableCell(location=Location(line=62, column=17), value='src_user'), TableCell(location=Location(line=62, column=28), value='src_host'), TableCell(location=Location(line=62, column=39), value='dst_user'), TableCell(location=Location(line=62, column=50), value='dst_host')], id='776'), table_body=[TableRow(location=Location(line=63, column=5), cells=[TableCell(location=Location(line=63, column=7), value='tokyo'), TableCell(location=Location(line=63, column=17), value='godzilla'), TableCell(location=Location(line=63, column=28), value='laptop'), TableCell(location=Location(line=63, column=39), value='tengu'), TableCell(location=Location(line=63, column=50), value='tablet')], id='777'), TableRow(location=Location(line=64, column=5), cells=[TableCell(location=Location(line=64, column=7), value='tokyo'), TableCell(location=Location(line=64, column=17), value='tengu'), TableCell(location=Location(line=64, column=28), value='tablet'), TableCell(location=Location(line=64, column=39), value='godzilla'), TableCell(location=Location(line=64, column=50), value='laptop')], id='778')], id='779'), '776': TableRow(location=Location(line=62, column=5), cells=[TableCell(location=Location(line=62, column=7), value='context'), TableCell(location=Location(line=62, column=17), value='src_user'), TableCell(location=Location(line=62, column=28), value='src_host'), TableCell(location=Location(line=62, column=39), value='dst_user'), TableCell(location=Location(line=62, column=50), value='dst_host')], id='776'), '777': TableRow(location=Location(line=63, column=5), cells=[TableCell(location=Location(line=63, column=7), value='tokyo'), TableCell(location=Location(line=63, column=17), value='godzilla'), TableCell(location=Location(line=63, column=28), value='laptop'), TableCell(location=Location(line=63, column=39), value='tengu'), TableCell(location=Location(line=63, column=50), value='tablet')], id='777'), '778': TableRow(location=Location(line=64, column=5), cells=[TableCell(location=Location(line=64, column=7), value='tokyo'), TableCell(location=Location(line=64, column=17), value='tengu'), TableCell(location=Location(line=64, column=28), value='tablet'), TableCell(location=Location(line=64, column=39), value='godzilla'), TableCell(location=Location(line=64, column=50), value='laptop')], id='778'), '787': Scenario(location=Location(line=67, column=3), tags=[], keyword='Scenario', name='Cleanup <host> host for <username> username', description='', steps=[Step(location=Location(line=69, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='781'), Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='782')], examples=[Examples(location=Location(line=72, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=73, column=5), cells=[TableCell(location=Location(line=73, column=7), value='username'), TableCell(location=Location(line=73, column=18), value='host')], id='783'), table_body=[TableRow(location=Location(line=74, column=5), cells=[TableCell(location=Location(line=74, column=7), value='godzilla'), TableCell(location=Location(line=74, column=18), value='laptop')], id='784'), TableRow(location=Location(line=75, column=5), cells=[TableCell(location=Location(line=75, column=7), value='tengu'), TableCell(location=Location(line=75, column=18), value='tablet')], id='785')], id='786')], id='787'), '781': Step(location=Location(line=69, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='781'), '782': Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='782'), '786': Examples(location=Location(line=72, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=73, column=5), cells=[TableCell(location=Location(line=73, column=7), value='username'), TableCell(location=Location(line=73, column=18), value='host')], id='783'), table_body=[TableRow(location=Location(line=74, column=5), cells=[TableCell(location=Location(line=74, column=7), value='godzilla'), TableCell(location=Location(line=74, column=18), value='laptop')], id='784'), TableRow(location=Location(line=75, column=5), cells=[TableCell(location=Location(line=75, column=7), value='tengu'), TableCell(location=Location(line=75, column=18), value='tablet')], id='785')], id='786'), '783': TableRow(location=Location(line=73, column=5), cells=[TableCell(location=Location(line=73, column=7), value='username'), TableCell(location=Location(line=73, column=18), value='host')], id='783'), '784': TableRow(location=Location(line=74, column=5), cells=[TableCell(location=Location(line=74, column=7), value='godzilla'), TableCell(location=Location(line=74, column=18), value='laptop')], id='784'), '785': TableRow(location=Location(line=75, column=5), cells=[TableCell(location=Location(line=75, column=7), value='tengu'), TableCell(location=Location(line=75, column=18), value='tablet')], id='785'), '794': Scenario(location=Location(line=77, column=3), tags=[], keyword='Scenario', name='Cleanup <username> username', description='', steps=[Step(location=Location(line=78, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='788'), Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='789')], examples=[Examples(location=Location(line=81, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='username')], id='790'), table_body=[TableRow(location=Location(line=83, column=5), cells=[TableCell(location=Location(line=83, column=7), value='godzilla')], id='791'), TableRow(location=Location(line=84, column=5), cells=[TableCell(location=Location(line=84, column=7), value='tengu')], id='792')], id='793')], id='794'), '788': Step(location=Location(line=78, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='788'), '789': Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='789'), '793': Examples(location=Location(line=81, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='username')], id='790'), table_body=[TableRow(location=Location(line=83, column=5), cells=[TableCell(location=Location(line=83, column=7), value='godzilla')], id='791'), TableRow(location=Location(line=84, column=5), cells=[TableCell(location=Location(line=84, column=7), value='tengu')], id='792')], id='793'), '790': TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='username')], id='790'), '791': TableRow(location=Location(line=83, column=5), cells=[TableCell(location=Location(line=83, column=7), value='godzilla')], id='791'), '792': TableRow(location=Location(line=84, column=5), cells=[TableCell(location=Location(line=84, column=7), value='tengu')], id='792'), '800': Scenario(location=Location(line=86, column=3), tags=[], keyword='Scenario', name='Cleanup <context> context', description='', steps=[Step(location=Location(line=87, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='795'), Step(location=Location(line=88, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='796')], examples=[Examples(location=Location(line=90, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=91, column=5), cells=[TableCell(location=Location(line=91, column=7), value='context')], id='797'), table_body=[TableRow(location=Location(line=92, column=5), cells=[TableCell(location=Location(line=92, column=7), value='tokyo')], id='798')], id='799')], id='800'), '795': Step(location=Location(line=87, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='795'), '796': Step(location=Location(line=88, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='796'), '799': Examples(location=Location(line=90, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=91, column=5), cells=[TableCell(location=Location(line=91, column=7), value='context')], id='797'), table_body=[TableRow(location=Location(line=92, column=5), cells=[TableCell(location=Location(line=92, column=7), value='tokyo')], id='798')], id='799'), '797': TableRow(location=Location(line=91, column=5), cells=[TableCell(location=Location(line=91, column=7), value='context')], id='797'), '798': TableRow(location=Location(line=92, column=5), cells=[TableCell(location=Location(line=92, column=7), value='tokyo')], id='798')}, pickles=[Pickle(id='809', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create context tokyo', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='803', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='804', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['739', '748'], id='805', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"tokyo\"'), PickleStep(argument=None, ast_node_ids=['740', '748'], id='806', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext')]), PickleTableRow(cells=[PickleTableCell(value='pong')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')])])), ast_node_ids=['745', '748'], id='807', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-tokyo\" namespace'), PickleStep(argument=None, ast_node_ids=['746', '748'], id='808', type=<Type.outcome: 'Outcome'>, text='statefulset \"tokyo-neo4j\" in namespace \"context-tokyo\" is in ready state')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['750', '748']), Pickle(id='814', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create godzilla and connects it to tokyo', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='810', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='811', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['751', '754'], id='812', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"godzilla\" and connects it to the context \"tokyo\"'), PickleStep(argument=None, ast_node_ids=['752', '754'], id='813', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['757', '754']), Pickle(id='819', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create tengu and connects it to tokyo', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='815', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='816', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['751', '755'], id='817', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"tengu\" and connects it to the context \"tokyo\"'), PickleStep(argument=None, ast_node_ids=['752', '755'], id='818', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['757', '755']), Pickle(id='824', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create laptop resource and connects it to godzilla user', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='820', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='821', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['758', '761'], id='822', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"laptop\" and connects it to the user \"godzilla\"'), PickleStep(argument=None, ast_node_ids=['759', '761'], id='823', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['764', '761']), Pickle(id='829', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create tablet resource and connects it to tengu user', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='825', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='826', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['758', '762'], id='827', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"tablet\" and connects it to the user \"tengu\"'), PickleStep(argument=None, ast_node_ids=['759', '762'], id='828', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['764', '762']), Pickle(id='840', uri='file:features/7_mindwm_two_users_one_context.feature', name='Send iodocument via nats host: <host>, user: <username> and check that second user received graph update', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='830', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='831', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['765', '777'], id='832', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['766', '777'], id='833', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['767', '777'], id='834', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"id\"'), PickleStep(argument=None, ast_node_ids=['768', '777'], id='835', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['769', '777'], id='836', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.godzilla.laptop.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['770', '777'], id='837', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.godzilla.laptop.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-00001-deployment')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-00001-deployment')])])), ast_node_ids=['774', '777'], id='838', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-tokyo\" namespace'), PickleStep(argument=None, ast_node_ids=['775', '777'], id='839', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-tengu.tablet-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['780', '777']), Pickle(id='851', uri='file:features/7_mindwm_two_users_one_context.feature', name='Send iodocument via nats host: <host>, user: <username> and check that second user received graph update', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='841', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='842', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['765', '778'], id='843', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['766', '778'], id='844', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['767', '778'], id='845', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"id\"'), PickleStep(argument=None, ast_node_ids=['768', '778'], id='846', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['769', '778'], id='847', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.tengu.tablet.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['770', '778'], id='848', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.tengu.tablet.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-00001-deployment')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-00001-deployment')])])), ast_node_ids=['774', '778'], id='849', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-tokyo\" namespace'), PickleStep(argument=None, ast_node_ids=['775', '778'], id='850', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-godzilla.laptop-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['780', '778']), Pickle(id='856', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup laptop host for godzilla username', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='852', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='853', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['781', '784'], id='854', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"laptop\"'), PickleStep(argument=None, ast_node_ids=['782', '784'], id='855', type=<Type.outcome: 'Outcome'>, text='the host \"laptop\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['787', '784']), Pickle(id='861', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup tablet host for tengu username', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='857', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='858', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['781', '785'], id='859', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"tablet\"'), PickleStep(argument=None, ast_node_ids=['782', '785'], id='860', type=<Type.outcome: 'Outcome'>, text='the host \"tablet\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['787', '785']), Pickle(id='866', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup godzilla username', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='862', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='863', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['788', '791'], id='864', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"godzilla\"'), PickleStep(argument=None, ast_node_ids=['789', '791'], id='865', type=<Type.outcome: 'Outcome'>, text='the user \"godzilla\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['794', '791']), Pickle(id='871', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup tengu username', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='867', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='868', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['788', '792'], id='869', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"tengu\"'), PickleStep(argument=None, ast_node_ids=['789', '792'], id='870', type=<Type.outcome: 'Outcome'>, text='the user \"tengu\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['794', '792']), Pickle(id='876', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup tokyo context', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='872', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='873', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['795', '798'], id='874', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"tokyo\"'), PickleStep(argument=None, ast_node_ids=['796', '798'], id='875', type=<Type.outcome: 'Outcome'>, text='the context \"tokyo\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['800', '798'])])","Source(uri='file:features/7_mindwm_two_users_one_context.feature', data='@mindwm_two_users_one_context\\n@mindwm_test\\nFeature: MindWM two users one context function test\\n  Background:\\n    Given A MindWM environment\\n    Then all nodes in Kubernetes are ready\\n\\n  Scenario: Create context <context>\\n    When God creates a MindWM context with the name \"<context>\"\\n    Then the context should be ready and operable\\n\\n    Then the following knative services are in a ready state in the \"context-<context>\" namespace\\n      | Knative service name |\\n      | iocontext            |\\n      | pong                 |\\n      | kafka-cdc            |\\n    And statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state\\n    Examples:\\n    | context | \\n    | tokyo   | \\n    \\n  Scenario: Create <username> and connects it to <context>\\n    When God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"\\n    Then the user resource should be ready and operable\\n    Examples:\\n    | context | username |\\n    | tokyo   | godzilla |\\n    | tokyo   | tengu    |\\n  Scenario: Create <host> resource and connects it to <username> user\\n    When God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"\\n    Then the host resource should be ready and operable\\n\\n    Examples: \\n    | username | host   |\\n    | godzilla | laptop | \\n    | tengu    | tablet | \\n\\n  Scenario: Send iodocument via nats host: <host>, user: <username> and check that second user received graph update\\n    When God creates a new cloudevent \\n      And God starts reading message from NATS topic \">\"\\n      And sets cloudevent header \"ce-subject\" to \"id\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"\\n      And sends cloudevent to nats topic \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"\\n      \"\"\"\\n      {\\n        \"input\": \"id\",\\n        \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n        \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n        \"type\": \"org.mindwm.v1.iodocument\"\\n      } \\n      \"\"\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name            |\\n      | iocontext-00001-deployment |\\n      | kafka-cdc-00001-deployment |\\n\\n    And a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<dst_user>.<dst_host>-host-broker-kne-trigger._knative\"\\n\\n    Examples:\\n    | context | src_user | src_host | dst_user | dst_host |  \\n    | tokyo   | godzilla | laptop   | tengu    | tablet   |\\n    | tokyo   | tengu    | tablet   | godzilla | laptop   | \\n\\n\\n  Scenario: Cleanup <host> host for <username> username\\n\\n    When God deletes the MindWM host resource \"<host>\"\\n    Then the host \"<host>\" should be deleted\\n\\n    Examples:\\n    | username | host   |\\n    | godzilla | laptop | \\n    | tengu    | tablet | \\n\\n  Scenario: Cleanup <username> username\\n    When God deletes the MindWM user resource \"<username>\"\\n    Then the user \"<username>\" should be deleted\\n\\n    Examples:\\n    | username | \\n    | godzilla |\\n    | tengu    | \\n\\n  Scenario: Cleanup <context> context\\n    When God deletes the MindWM context resource \"<context>\"\\n    Then the context \"<context>\" should be deleted\\n\\n    Examples:\\n    | context | \\n    | tokyo   |\\n', media_type='text/x.cucumber.gherkin+plain')","Pickle(id='824', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create laptop resource and connects it to godzilla user', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='820', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='821', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['758', '761'], id='822', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"laptop\" and connects it to the user \"godzilla\"'), PickleStep(argument=None, ast_node_ids=['759', '761'], id='823', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['764', '761'])"],"tags":["scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/7_mindwm_two_users_one_context.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=<FeaturePathType.PATH: 'path'>, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())","pytest_bdd_scenario","@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')","mindwm_test","mindwm_two_users_one_context","namespace(create=False, name='default')"]},{"name":"test_scenarios[file:features/8_mindwm_two_contexts.feature-Context Resource Readiness and Cleanup Verification-Create Contexts and Verify All Related Resources Are in Ready State[table_rows:[line: 52]]]","uid":"2fb58f5c1d34e757","parentUid":"3961740595044ffd97a03e46799bfc30","status":"passed","time":{"start":1728404584754,"stop":1728404690878,"duration":106124},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["Feature(gherkin_document=GherkinDocument(uri='file:features/8_mindwm_two_contexts.feature', feature=Feature(location=Location(line=3, column=1), tags=[Tag(location=Location(line=1, column=1), name='@mindwm_two_contexts', id='917'), Tag(location=Location(line=2, column=1), name='@mindwm_test', id='918')], language='en', keyword='Feature', name='Context Resource Readiness and Cleanup Verification', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=5, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=6, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='877'), Step(location=Location(line=7, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='878')], id='879'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=9, column=3), tags=[], keyword='Scenario Outline', name='Create Contexts and Verify All Related Resources Are in Ready State', description='', steps=[Step(location=Location(line=10, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='880'), Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='881'), Step(location=Location(line=14, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-<context>\" should exist', doc_string=None, data_table=None, id='882'), Step(location=Location(line=17, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=18, column=7), rows=[TableRow(location=Location(line=18, column=7), cells=[TableCell(location=Location(line=18, column=9), value='Deployment name')], id='883'), TableRow(location=Location(line=19, column=7), cells=[TableCell(location=Location(line=19, column=9), value='kafka-cdc-00001-deployment')], id='884'), TableRow(location=Location(line=20, column=7), cells=[TableCell(location=Location(line=20, column=9), value='iocontext-00001-deployment')], id='885')]), id='886'), Step(location=Location(line=23, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='887'), Step(location=Location(line=26, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=27, column=7), rows=[TableRow(location=Location(line=27, column=7), cells=[TableCell(location=Location(line=27, column=9), value='Knative service name')], id='888'), TableRow(location=Location(line=28, column=7), cells=[TableCell(location=Location(line=28, column=9), value='iocontext')], id='889'), TableRow(location=Location(line=29, column=7), cells=[TableCell(location=Location(line=29, column=9), value='kafka-cdc')], id='890'), TableRow(location=Location(line=30, column=7), cells=[TableCell(location=Location(line=30, column=9), value='dead-letter')], id='891'), TableRow(location=Location(line=31, column=7), cells=[TableCell(location=Location(line=31, column=9), value='pong')], id='892')]), id='893'), Step(location=Location(line=34, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative triggers are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=35, column=7), rows=[TableRow(location=Location(line=35, column=7), cells=[TableCell(location=Location(line=35, column=9), value='Knative trigger name')], id='894'), TableRow(location=Location(line=36, column=7), cells=[TableCell(location=Location(line=36, column=9), value='iocontext-trigger')], id='895'), TableRow(location=Location(line=37, column=7), cells=[TableCell(location=Location(line=37, column=9), value='kafka-cdc-trigger')], id='896'), TableRow(location=Location(line=38, column=7), cells=[TableCell(location=Location(line=38, column=9), value='pong-trigger')], id='897')]), id='898'), Step(location=Location(line=41, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative brokers are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=42, column=7), rows=[TableRow(location=Location(line=42, column=7), cells=[TableCell(location=Location(line=42, column=9), value='Knative broker name')], id='899'), TableRow(location=Location(line=43, column=7), cells=[TableCell(location=Location(line=43, column=9), value='context-broker')], id='900')]), id='901'), Step(location=Location(line=46, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka topic \"context-<context>-cdc\" is in ready state in \"redpanda\" namespace', doc_string=None, data_table=None, id='902'), Step(location=Location(line=47, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka source \"context-<context>-cdc-kafkasource\" is in ready state in \"context-<context>\" namespace', doc_string=None, data_table=None, id='903')], examples=[Examples(location=Location(line=50, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=51, column=7), cells=[TableCell(location=Location(line=51, column=9), value='context')], id='904'), table_body=[TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='aphrodite')], id='905'), TableRow(location=Location(line=53, column=7), cells=[TableCell(location=Location(line=53, column=9), value='kypros')], id='906')], id='907')], id='908')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=55, column=3), tags=[], keyword='Scenario Outline', name='Cleanup Contexts and Verify Resources Are Deleted', description='', steps=[Step(location=Location(line=56, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='909'), Step(location=Location(line=57, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='910'), Step(location=Location(line=58, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-<context>\" should not exist', doc_string=None, data_table=None, id='911')], examples=[Examples(location=Location(line=60, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=61, column=7), cells=[TableCell(location=Location(line=61, column=9), value='context')], id='912'), table_body=[TableRow(location=Location(line=62, column=7), cells=[TableCell(location=Location(line=62, column=9), value='aphrodite')], id='913'), TableRow(location=Location(line=63, column=7), cells=[TableCell(location=Location(line=63, column=9), value='kypros')], id='914')], id='915')], id='916'))]), comments=[Comment(location=Location(line=13, column=1), text='    # Verify Namespace'), Comment(location=Location(line=16, column=1), text='    # Verify Deployments'), Comment(location=Location(line=22, column=1), text='    # Verify StatefulSets'), Comment(location=Location(line=25, column=1), text='    # Verify Knative Services'), Comment(location=Location(line=33, column=1), text='    # Verify Knative Triggers'), Comment(location=Location(line=40, column=1), text='    # Verify Knative Brokers'), Comment(location=Location(line=45, column=1), text='    # Verify Kafka Topics and Sources')]), uri='file:features/8_mindwm_two_contexts.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/8_mindwm_two_contexts.feature', registry={'917': Tag(location=Location(line=1, column=1), name='@mindwm_two_contexts', id='917'), '918': Tag(location=Location(line=2, column=1), name='@mindwm_test', id='918'), '879': Background(location=Location(line=5, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=6, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='877'), Step(location=Location(line=7, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='878')], id='879'), '877': Step(location=Location(line=6, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='877'), '878': Step(location=Location(line=7, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='878'), '908': Scenario(location=Location(line=9, column=3), tags=[], keyword='Scenario Outline', name='Create Contexts and Verify All Related Resources Are in Ready State', description='', steps=[Step(location=Location(line=10, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='880'), Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='881'), Step(location=Location(line=14, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-<context>\" should exist', doc_string=None, data_table=None, id='882'), Step(location=Location(line=17, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=18, column=7), rows=[TableRow(location=Location(line=18, column=7), cells=[TableCell(location=Location(line=18, column=9), value='Deployment name')], id='883'), TableRow(location=Location(line=19, column=7), cells=[TableCell(location=Location(line=19, column=9), value='kafka-cdc-00001-deployment')], id='884'), TableRow(location=Location(line=20, column=7), cells=[TableCell(location=Location(line=20, column=9), value='iocontext-00001-deployment')], id='885')]), id='886'), Step(location=Location(line=23, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='887'), Step(location=Location(line=26, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=27, column=7), rows=[TableRow(location=Location(line=27, column=7), cells=[TableCell(location=Location(line=27, column=9), value='Knative service name')], id='888'), TableRow(location=Location(line=28, column=7), cells=[TableCell(location=Location(line=28, column=9), value='iocontext')], id='889'), TableRow(location=Location(line=29, column=7), cells=[TableCell(location=Location(line=29, column=9), value='kafka-cdc')], id='890'), TableRow(location=Location(line=30, column=7), cells=[TableCell(location=Location(line=30, column=9), value='dead-letter')], id='891'), TableRow(location=Location(line=31, column=7), cells=[TableCell(location=Location(line=31, column=9), value='pong')], id='892')]), id='893'), Step(location=Location(line=34, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative triggers are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=35, column=7), rows=[TableRow(location=Location(line=35, column=7), cells=[TableCell(location=Location(line=35, column=9), value='Knative trigger name')], id='894'), TableRow(location=Location(line=36, column=7), cells=[TableCell(location=Location(line=36, column=9), value='iocontext-trigger')], id='895'), TableRow(location=Location(line=37, column=7), cells=[TableCell(location=Location(line=37, column=9), value='kafka-cdc-trigger')], id='896'), TableRow(location=Location(line=38, column=7), cells=[TableCell(location=Location(line=38, column=9), value='pong-trigger')], id='897')]), id='898'), Step(location=Location(line=41, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative brokers are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=42, column=7), rows=[TableRow(location=Location(line=42, column=7), cells=[TableCell(location=Location(line=42, column=9), value='Knative broker name')], id='899'), TableRow(location=Location(line=43, column=7), cells=[TableCell(location=Location(line=43, column=9), value='context-broker')], id='900')]), id='901'), Step(location=Location(line=46, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka topic \"context-<context>-cdc\" is in ready state in \"redpanda\" namespace', doc_string=None, data_table=None, id='902'), Step(location=Location(line=47, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka source \"context-<context>-cdc-kafkasource\" is in ready state in \"context-<context>\" namespace', doc_string=None, data_table=None, id='903')], examples=[Examples(location=Location(line=50, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=51, column=7), cells=[TableCell(location=Location(line=51, column=9), value='context')], id='904'), table_body=[TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='aphrodite')], id='905'), TableRow(location=Location(line=53, column=7), cells=[TableCell(location=Location(line=53, column=9), value='kypros')], id='906')], id='907')], id='908'), '880': Step(location=Location(line=10, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='880'), '881': Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='881'), '882': Step(location=Location(line=14, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-<context>\" should exist', doc_string=None, data_table=None, id='882'), '886': Step(location=Location(line=17, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=18, column=7), rows=[TableRow(location=Location(line=18, column=7), cells=[TableCell(location=Location(line=18, column=9), value='Deployment name')], id='883'), TableRow(location=Location(line=19, column=7), cells=[TableCell(location=Location(line=19, column=9), value='kafka-cdc-00001-deployment')], id='884'), TableRow(location=Location(line=20, column=7), cells=[TableCell(location=Location(line=20, column=9), value='iocontext-00001-deployment')], id='885')]), id='886'), '887': Step(location=Location(line=23, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='887'), '893': Step(location=Location(line=26, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=27, column=7), rows=[TableRow(location=Location(line=27, column=7), cells=[TableCell(location=Location(line=27, column=9), value='Knative service name')], id='888'), TableRow(location=Location(line=28, column=7), cells=[TableCell(location=Location(line=28, column=9), value='iocontext')], id='889'), TableRow(location=Location(line=29, column=7), cells=[TableCell(location=Location(line=29, column=9), value='kafka-cdc')], id='890'), TableRow(location=Location(line=30, column=7), cells=[TableCell(location=Location(line=30, column=9), value='dead-letter')], id='891'), TableRow(location=Location(line=31, column=7), cells=[TableCell(location=Location(line=31, column=9), value='pong')], id='892')]), id='893'), '898': Step(location=Location(line=34, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative triggers are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=35, column=7), rows=[TableRow(location=Location(line=35, column=7), cells=[TableCell(location=Location(line=35, column=9), value='Knative trigger name')], id='894'), TableRow(location=Location(line=36, column=7), cells=[TableCell(location=Location(line=36, column=9), value='iocontext-trigger')], id='895'), TableRow(location=Location(line=37, column=7), cells=[TableCell(location=Location(line=37, column=9), value='kafka-cdc-trigger')], id='896'), TableRow(location=Location(line=38, column=7), cells=[TableCell(location=Location(line=38, column=9), value='pong-trigger')], id='897')]), id='898'), '901': Step(location=Location(line=41, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative brokers are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=42, column=7), rows=[TableRow(location=Location(line=42, column=7), cells=[TableCell(location=Location(line=42, column=9), value='Knative broker name')], id='899'), TableRow(location=Location(line=43, column=7), cells=[TableCell(location=Location(line=43, column=9), value='context-broker')], id='900')]), id='901'), '902': Step(location=Location(line=46, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka topic \"context-<context>-cdc\" is in ready state in \"redpanda\" namespace', doc_string=None, data_table=None, id='902'), '903': Step(location=Location(line=47, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka source \"context-<context>-cdc-kafkasource\" is in ready state in \"context-<context>\" namespace', doc_string=None, data_table=None, id='903'), '907': Examples(location=Location(line=50, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=51, column=7), cells=[TableCell(location=Location(line=51, column=9), value='context')], id='904'), table_body=[TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='aphrodite')], id='905'), TableRow(location=Location(line=53, column=7), cells=[TableCell(location=Location(line=53, column=9), value='kypros')], id='906')], id='907'), '904': TableRow(location=Location(line=51, column=7), cells=[TableCell(location=Location(line=51, column=9), value='context')], id='904'), '905': TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='aphrodite')], id='905'), '906': TableRow(location=Location(line=53, column=7), cells=[TableCell(location=Location(line=53, column=9), value='kypros')], id='906'), '916': Scenario(location=Location(line=55, column=3), tags=[], keyword='Scenario Outline', name='Cleanup Contexts and Verify Resources Are Deleted', description='', steps=[Step(location=Location(line=56, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='909'), Step(location=Location(line=57, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='910'), Step(location=Location(line=58, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-<context>\" should not exist', doc_string=None, data_table=None, id='911')], examples=[Examples(location=Location(line=60, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=61, column=7), cells=[TableCell(location=Location(line=61, column=9), value='context')], id='912'), table_body=[TableRow(location=Location(line=62, column=7), cells=[TableCell(location=Location(line=62, column=9), value='aphrodite')], id='913'), TableRow(location=Location(line=63, column=7), cells=[TableCell(location=Location(line=63, column=9), value='kypros')], id='914')], id='915')], id='916'), '909': Step(location=Location(line=56, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='909'), '910': Step(location=Location(line=57, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='910'), '911': Step(location=Location(line=58, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-<context>\" should not exist', doc_string=None, data_table=None, id='911'), '915': Examples(location=Location(line=60, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=61, column=7), cells=[TableCell(location=Location(line=61, column=9), value='context')], id='912'), table_body=[TableRow(location=Location(line=62, column=7), cells=[TableCell(location=Location(line=62, column=9), value='aphrodite')], id='913'), TableRow(location=Location(line=63, column=7), cells=[TableCell(location=Location(line=63, column=9), value='kypros')], id='914')], id='915'), '912': TableRow(location=Location(line=61, column=7), cells=[TableCell(location=Location(line=61, column=9), value='context')], id='912'), '913': TableRow(location=Location(line=62, column=7), cells=[TableCell(location=Location(line=62, column=9), value='aphrodite')], id='913'), '914': TableRow(location=Location(line=63, column=7), cells=[TableCell(location=Location(line=63, column=9), value='kypros')], id='914')}, pickles=[Pickle(id='931', uri='file:features/8_mindwm_two_contexts.feature', name='Create Contexts and Verify All Related Resources Are in Ready State', language='en', steps=[PickleStep(argument=None, ast_node_ids=['877'], id='919', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['878'], id='920', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['880', '905'], id='921', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"aphrodite\"'), PickleStep(argument=None, ast_node_ids=['881', '905'], id='922', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=None, ast_node_ids=['882', '905'], id='923', type=<Type.outcome: 'Outcome'>, text='namespace \"context-aphrodite\" should exist'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-00001-deployment')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-00001-deployment')])])), ast_node_ids=['886', '905'], id='924', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-aphrodite\" namespace'), PickleStep(argument=None, ast_node_ids=['887', '905'], id='925', type=<Type.outcome: 'Outcome'>, text='statefulset \"aphrodite-neo4j\" in namespace \"context-aphrodite\" is in ready state'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')]), PickleTableRow(cells=[PickleTableCell(value='dead-letter')]), PickleTableRow(cells=[PickleTableCell(value='pong')])])), ast_node_ids=['893', '905'], id='926', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-aphrodite\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative trigger name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-trigger')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-trigger')]), PickleTableRow(cells=[PickleTableCell(value='pong-trigger')])])), ast_node_ids=['898', '905'], id='927', type=<Type.outcome: 'Outcome'>, text='the following knative triggers are in a ready state in the \"context-aphrodite\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative broker name')]), PickleTableRow(cells=[PickleTableCell(value='context-broker')])])), ast_node_ids=['901', '905'], id='928', type=<Type.outcome: 'Outcome'>, text='the following knative brokers are in a ready state in the \"context-aphrodite\" namespace'), PickleStep(argument=None, ast_node_ids=['902', '905'], id='929', type=<Type.outcome: 'Outcome'>, text='kafka topic \"context-aphrodite-cdc\" is in ready state in \"redpanda\" namespace'), PickleStep(argument=None, ast_node_ids=['903', '905'], id='930', type=<Type.outcome: 'Outcome'>, text='kafka source \"context-aphrodite-cdc-kafkasource\" is in ready state in \"context-aphrodite\" namespace')], tags=[PickleTag(name='@mindwm_two_contexts', ast_node_id='917'), PickleTag(name='@mindwm_test', ast_node_id='918')], ast_node_ids=['908', '905']), Pickle(id='944', uri='file:features/8_mindwm_two_contexts.feature', name='Create Contexts and Verify All Related Resources Are in Ready State', language='en', steps=[PickleStep(argument=None, ast_node_ids=['877'], id='932', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['878'], id='933', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['880', '906'], id='934', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"kypros\"'), PickleStep(argument=None, ast_node_ids=['881', '906'], id='935', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=None, ast_node_ids=['882', '906'], id='936', type=<Type.outcome: 'Outcome'>, text='namespace \"context-kypros\" should exist'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-00001-deployment')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-00001-deployment')])])), ast_node_ids=['886', '906'], id='937', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-kypros\" namespace'), PickleStep(argument=None, ast_node_ids=['887', '906'], id='938', type=<Type.outcome: 'Outcome'>, text='statefulset \"kypros-neo4j\" in namespace \"context-kypros\" is in ready state'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')]), PickleTableRow(cells=[PickleTableCell(value='dead-letter')]), PickleTableRow(cells=[PickleTableCell(value='pong')])])), ast_node_ids=['893', '906'], id='939', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-kypros\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative trigger name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-trigger')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-trigger')]), PickleTableRow(cells=[PickleTableCell(value='pong-trigger')])])), ast_node_ids=['898', '906'], id='940', type=<Type.outcome: 'Outcome'>, text='the following knative triggers are in a ready state in the \"context-kypros\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative broker name')]), PickleTableRow(cells=[PickleTableCell(value='context-broker')])])), ast_node_ids=['901', '906'], id='941', type=<Type.outcome: 'Outcome'>, text='the following knative brokers are in a ready state in the \"context-kypros\" namespace'), PickleStep(argument=None, ast_node_ids=['902', '906'], id='942', type=<Type.outcome: 'Outcome'>, text='kafka topic \"context-kypros-cdc\" is in ready state in \"redpanda\" namespace'), PickleStep(argument=None, ast_node_ids=['903', '906'], id='943', type=<Type.outcome: 'Outcome'>, text='kafka source \"context-kypros-cdc-kafkasource\" is in ready state in \"context-kypros\" namespace')], tags=[PickleTag(name='@mindwm_two_contexts', ast_node_id='917'), PickleTag(name='@mindwm_test', ast_node_id='918')], ast_node_ids=['908', '906']), Pickle(id='950', uri='file:features/8_mindwm_two_contexts.feature', name='Cleanup Contexts and Verify Resources Are Deleted', language='en', steps=[PickleStep(argument=None, ast_node_ids=['877'], id='945', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['878'], id='946', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['909', '913'], id='947', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"aphrodite\"'), PickleStep(argument=None, ast_node_ids=['910', '913'], id='948', type=<Type.outcome: 'Outcome'>, text='the context \"aphrodite\" should be deleted'), PickleStep(argument=None, ast_node_ids=['911', '913'], id='949', type=<Type.outcome: 'Outcome'>, text='namespace \"context-aphrodite\" should not exist')], tags=[PickleTag(name='@mindwm_two_contexts', ast_node_id='917'), PickleTag(name='@mindwm_test', ast_node_id='918')], ast_node_ids=['916', '913']), Pickle(id='956', uri='file:features/8_mindwm_two_contexts.feature', name='Cleanup Contexts and Verify Resources Are Deleted', language='en', steps=[PickleStep(argument=None, ast_node_ids=['877'], id='951', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['878'], id='952', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['909', '914'], id='953', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"kypros\"'), PickleStep(argument=None, ast_node_ids=['910', '914'], id='954', type=<Type.outcome: 'Outcome'>, text='the context \"kypros\" should be deleted'), PickleStep(argument=None, ast_node_ids=['911', '914'], id='955', type=<Type.outcome: 'Outcome'>, text='namespace \"context-kypros\" should not exist')], tags=[PickleTag(name='@mindwm_two_contexts', ast_node_id='917'), PickleTag(name='@mindwm_test', ast_node_id='918')], ast_node_ids=['916', '914'])])","Source(uri='file:features/8_mindwm_two_contexts.feature', data='@mindwm_two_contexts\\n@mindwm_test\\nFeature: Context Resource Readiness and Cleanup Verification\\n\\n  Background:\\n    Given a MindWM environment\\n    Then all nodes in Kubernetes are ready\\n\\n  Scenario Outline: Create Contexts and Verify All Related Resources Are in Ready State\\n    When God creates a MindWM context with the name \"<context>\"\\n    Then the context should be ready and operable\\n\\n    # Verify Namespace\\n    And namespace \"context-<context>\" should exist\\n\\n    # Verify Deployments\\n    And the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name               |\\n      | kafka-cdc-00001-deployment    |\\n      | iocontext-00001-deployment    |\\n\\n    # Verify StatefulSets\\n    And statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state\\n\\n    # Verify Knative Services\\n    And the following knative services are in a ready state in the \"context-<context>\" namespace\\n      | Knative service name |\\n      | iocontext            |\\n      | kafka-cdc            |\\n      | dead-letter          |\\n      | pong                 |\\n\\n    # Verify Knative Triggers\\n    And the following knative triggers are in a ready state in the \"context-<context>\" namespace\\n      | Knative trigger name          |\\n      | iocontext-trigger             |\\n      | kafka-cdc-trigger             |\\n      | pong-trigger                  |\\n\\n    # Verify Knative Brokers\\n    And the following knative brokers are in a ready state in the \"context-<context>\" namespace\\n      | Knative broker name           |\\n      | context-broker                |\\n\\n    # Verify Kafka Topics and Sources\\n    And kafka topic \"context-<context>-cdc\" is in ready state in \"redpanda\" namespace\\n    And kafka source \"context-<context>-cdc-kafkasource\" is in ready state in \"context-<context>\" namespace\\n\\n\\n    Examples:\\n      | context   |\\n      | aphrodite |\\n      | kypros    |\\n\\n  Scenario Outline: Cleanup Contexts and Verify Resources Are Deleted\\n    When God deletes the MindWM context resource \"<context>\"\\n    Then the context \"<context>\" should be deleted\\n    And namespace \"context-<context>\" should not exist\\n\\n    Examples:\\n      | context   |\\n      | aphrodite |\\n      | kypros    |\\n\\n', media_type='text/x.cucumber.gherkin+plain')","Pickle(id='931', uri='file:features/8_mindwm_two_contexts.feature', name='Create Contexts and Verify All Related Resources Are in Ready State', language='en', steps=[PickleStep(argument=None, ast_node_ids=['877'], id='919', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['878'], id='920', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['880', '905'], id='921', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"aphrodite\"'), PickleStep(argument=None, ast_node_ids=['881', '905'], id='922', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=None, ast_node_ids=['882', '905'], id='923', type=<Type.outcome: 'Outcome'>, text='namespace \"context-aphrodite\" should exist'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-00001-deployment')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-00001-deployment')])])), ast_node_ids=['886', '905'], id='924', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-aphrodite\" namespace'), PickleStep(argument=None, ast_node_ids=['887', '905'], id='925', type=<Type.outcome: 'Outcome'>, text='statefulset \"aphrodite-neo4j\" in namespace \"context-aphrodite\" is in ready state'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')]), PickleTableRow(cells=[PickleTableCell(value='dead-letter')]), PickleTableRow(cells=[PickleTableCell(value='pong')])])), ast_node_ids=['893', '905'], id='926', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-aphrodite\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative trigger name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-trigger')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-trigger')]), PickleTableRow(cells=[PickleTableCell(value='pong-trigger')])])), ast_node_ids=['898', '905'], id='927', type=<Type.outcome: 'Outcome'>, text='the following knative triggers are in a ready state in the \"context-aphrodite\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative broker name')]), PickleTableRow(cells=[PickleTableCell(value='context-broker')])])), ast_node_ids=['901', '905'], id='928', type=<Type.outcome: 'Outcome'>, text='the following knative brokers are in a ready state in the \"context-aphrodite\" namespace'), PickleStep(argument=None, ast_node_ids=['902', '905'], id='929', type=<Type.outcome: 'Outcome'>, text='kafka topic \"context-aphrodite-cdc\" is in ready state in \"redpanda\" namespace'), PickleStep(argument=None, ast_node_ids=['903', '905'], id='930', type=<Type.outcome: 'Outcome'>, text='kafka source \"context-aphrodite-cdc-kafkasource\" is in ready state in \"context-aphrodite\" namespace')], tags=[PickleTag(name='@mindwm_two_contexts', ast_node_id='917'), PickleTag(name='@mindwm_test', ast_node_id='918')], ast_node_ids=['908', '905'])"],"tags":["pytest_bdd_scenario","@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')","mindwm_test","scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/8_mindwm_two_contexts.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=<FeaturePathType.PATH: 'path'>, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())","mindwm_two_contexts","namespace(create=False, name='default')"]},{"name":"test_scenarios[file:features/3_mindwm_ping_pong.feature-MindWM Ping-pong EDA test-Send ping via nats[table_rows:[line: 110]]]","uid":"8bbf42e5b1cc0dae","parentUid":"3961740595044ffd97a03e46799bfc30","status":"passed","time":{"start":1728403850644,"stop":1728403861824,"duration":11180},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["Feature(gherkin_document=GherkinDocument(uri='file:features/3_mindwm_ping_pong.feature', feature=Feature(location=Location(line=3, column=1), tags=[Tag(location=Location(line=1, column=1), name='@mindwm_ping_pong', id='380'), Tag(location=Location(line=2, column=1), name='@mindwm_test', id='381')], language='en', keyword='Feature', name='MindWM Ping-pong EDA test', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='306'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='307')], id='308'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Prepare environment for ping tests', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='309'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='310'), Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='311'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='pong')], id='312')]), id='313'), Step(location=Location(line=15, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='314'), Step(location=Location(line=16, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='315'), Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='316'), Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='317'), Step(location=Location(line=20, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace', doc_string=None, data_table=None, id='318'), Step(location=Location(line=22, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='319')], examples=[Examples(location=Location(line=24, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=25, column=6), cells=[TableCell(location=Location(line=25, column=8), value='context'), TableCell(location=Location(line=25, column=18), value='username'), TableCell(location=Location(line=25, column=31), value='host')], id='320'), table_body=[TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='green4'), TableCell(location=Location(line=26, column=19), value='amanda4'), TableCell(location=Location(line=26, column=31), value='pi6-host')], id='321')], id='322')], id='323')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=28, column=3), tags=[], keyword='Scenario', name='Send pind to knative ping service', description='', steps=[Step(location=Location(line=29, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='324'), Step(location=Location(line=30, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='325'), Step(location=Location(line=31, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='326'), Step(location=Location(line=32, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"', doc_string=None, data_table=None, id='327'), Step(location=Location(line=33, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to knative service \"pong\" in \"context-<context>\" namespace', doc_string=DocString(location=Location(line=34, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='328'), Step(location=Location(line=42, column=7), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"200\"', doc_string=None, data_table=None, id='329'), Step(location=Location(line=44, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=45, column=7), rows=[TableRow(location=Location(line=45, column=7), cells=[TableCell(location=Location(line=45, column=9), value='Deployment name')], id='330'), TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='pong-00001-deployment')], id='331')]), id='332')], examples=[Examples(location=Location(line=48, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=49, column=6), cells=[TableCell(location=Location(line=49, column=8), value='context'), TableCell(location=Location(line=49, column=18), value='username'), TableCell(location=Location(line=49, column=31), value='host')], id='333'), table_body=[TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='green4'), TableCell(location=Location(line=50, column=19), value='amanda4'), TableCell(location=Location(line=50, column=31), value='pi6-host')], id='334')], id='335')], id='336')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=52, column=3), tags=[], keyword='Scenario', name='Send ping via <endpoint>', description='', steps=[Step(location=Location(line=53, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='337'), Step(location=Location(line=54, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='338'), Step(location=Location(line=55, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='339'), Step(location=Location(line=56, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='340'), Step(location=Location(line=57, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"', doc_string=None, data_table=None, id='341'), Step(location=Location(line=58, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to \"<endpoint>\"', doc_string=DocString(location=Location(line=59, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='342'), Step(location=Location(line=67, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"202\"', doc_string=None, data_table=None, id='343'), Step(location=Location(line=69, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=70, column=7), rows=[TableRow(location=Location(line=70, column=7), cells=[TableCell(location=Location(line=70, column=9), value='Deployment name')], id='344'), TableRow(location=Location(line=71, column=7), cells=[TableCell(location=Location(line=71, column=9), value='pong-00001-deployment')], id='345')]), id='346'), Step(location=Location(line=72, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the trace with \"<traceparent>\" should appear in TraceQL', doc_string=None, data_table=None, id='347'), Step(location=Location(line=73, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the trace should contains', doc_string=None, data_table=DataTable(location=Location(line=74, column=7), rows=[TableRow(location=Location(line=74, column=7), cells=[TableCell(location=Location(line=74, column=9), value='service name')], id='348'), TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='broker-ingress.knative-eventing')], id='349'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='unknown_service')], id='350'), TableRow(location=Location(line=77, column=7), cells=[TableCell(location=Location(line=77, column=9), value='jetstream-ch-dispatcher')], id='351')]), id='352'), Step(location=Location(line=78, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='353')], examples=[Examples(location=Location(line=80, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=81, column=6), cells=[TableCell(location=Location(line=81, column=8), value='context'), TableCell(location=Location(line=81, column=18), value='username'), TableCell(location=Location(line=81, column=31), value='host'), TableCell(location=Location(line=81, column=43), value='endpoint'), TableCell(location=Location(line=81, column=54), value='traceparent')], id='354'), table_body=[TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='green4'), TableCell(location=Location(line=82, column=19), value='amanda4'), TableCell(location=Location(line=82, column=31), value='pi6-host'), TableCell(location=Location(line=82, column=43), value='broker-ingress.knative-eventing/context-green4/context-broker'), TableCell(location=Location(line=82, column=109), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='355'), TableRow(location=Location(line=83, column=6), cells=[TableCell(location=Location(line=83, column=8), value='green4'), TableCell(location=Location(line=83, column=19), value='amanda4'), TableCell(location=Location(line=83, column=31), value='pi6-host'), TableCell(location=Location(line=83, column=43), value='broker-ingress.knative-eventing/user-amanda4/user-broker'), TableCell(location=Location(line=83, column=102), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='356')], id='357')], id='358')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=86, column=3), tags=[], keyword='Scenario', name='Send ping via nats', description='', steps=[Step(location=Location(line=87, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='359'), Step(location=Location(line=88, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='360'), Step(location=Location(line=89, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='361'), Step(location=Location(line=90, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='362'), Step(location=Location(line=91, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=92, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='363'), Step(location=Location(line=101, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=102, column=7), rows=[TableRow(location=Location(line=102, column=7), cells=[TableCell(location=Location(line=102, column=9), value='Deployment name')], id='364'), TableRow(location=Location(line=103, column=7), cells=[TableCell(location=Location(line=103, column=9), value='pong-00001-deployment')], id='365')]), id='366'), Step(location=Location(line=105, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='367')], examples=[Examples(location=Location(line=108, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=109, column=6), cells=[TableCell(location=Location(line=109, column=8), value='context'), TableCell(location=Location(line=109, column=18), value='username'), TableCell(location=Location(line=109, column=31), value='host'), TableCell(location=Location(line=109, column=43), value='tmux_pane'), TableCell(location=Location(line=109, column=55), value='tmux_window'), TableCell(location=Location(line=109, column=69), value='uuid'), TableCell(location=Location(line=109, column=109), value='tmux_socket')], id='368'), table_body=[TableRow(location=Location(line=110, column=6), cells=[TableCell(location=Location(line=110, column=8), value='green4'), TableCell(location=Location(line=110, column=19), value='amanda4'), TableCell(location=Location(line=110, column=31), value='pi6-host'), TableCell(location=Location(line=110, column=43), value='23'), TableCell(location=Location(line=110, column=55), value='36'), TableCell(location=Location(line=110, column=69), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=110, column=108), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='369')], id='370')], id='371')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=113, column=4), tags=[], keyword='Scenario', name='Cleanup <username>@<host> in <context>', description='', steps=[Step(location=Location(line=114, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='372'), Step(location=Location(line=115, column=6), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='373'), Step(location=Location(line=117, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='374'), Step(location=Location(line=119, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='375')], examples=[Examples(location=Location(line=121, column=6), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=122, column=6), cells=[TableCell(location=Location(line=122, column=8), value='context'), TableCell(location=Location(line=122, column=18), value='username'), TableCell(location=Location(line=122, column=29), value='host')], id='376'), table_body=[TableRow(location=Location(line=123, column=6), cells=[TableCell(location=Location(line=123, column=8), value='green4'), TableCell(location=Location(line=123, column=19), value='amanda4'), TableCell(location=Location(line=123, column=31), value='pi6-host')], id='377')], id='378')], id='379'))]), comments=[]), uri='file:features/3_mindwm_ping_pong.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/3_mindwm_ping_pong.feature', registry={'380': Tag(location=Location(line=1, column=1), name='@mindwm_ping_pong', id='380'), '381': Tag(location=Location(line=2, column=1), name='@mindwm_test', id='381'), '308': Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='306'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='307')], id='308'), '306': Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='306'), '307': Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='307'), '323': Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Prepare environment for ping tests', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='309'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='310'), Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='311'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='pong')], id='312')]), id='313'), Step(location=Location(line=15, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='314'), Step(location=Location(line=16, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='315'), Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='316'), Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='317'), Step(location=Location(line=20, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace', doc_string=None, data_table=None, id='318'), Step(location=Location(line=22, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='319')], examples=[Examples(location=Location(line=24, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=25, column=6), cells=[TableCell(location=Location(line=25, column=8), value='context'), TableCell(location=Location(line=25, column=18), value='username'), TableCell(location=Location(line=25, column=31), value='host')], id='320'), table_body=[TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='green4'), TableCell(location=Location(line=26, column=19), value='amanda4'), TableCell(location=Location(line=26, column=31), value='pi6-host')], id='321')], id='322')], id='323'), '309': Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='309'), '310': Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='310'), '313': Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='311'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='pong')], id='312')]), id='313'), '314': Step(location=Location(line=15, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='314'), '315': Step(location=Location(line=16, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='315'), '316': Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='316'), '317': Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='317'), '318': Step(location=Location(line=20, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace', doc_string=None, data_table=None, id='318'), '319': Step(location=Location(line=22, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='319'), '322': Examples(location=Location(line=24, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=25, column=6), cells=[TableCell(location=Location(line=25, column=8), value='context'), TableCell(location=Location(line=25, column=18), value='username'), TableCell(location=Location(line=25, column=31), value='host')], id='320'), table_body=[TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='green4'), TableCell(location=Location(line=26, column=19), value='amanda4'), TableCell(location=Location(line=26, column=31), value='pi6-host')], id='321')], id='322'), '320': TableRow(location=Location(line=25, column=6), cells=[TableCell(location=Location(line=25, column=8), value='context'), TableCell(location=Location(line=25, column=18), value='username'), TableCell(location=Location(line=25, column=31), value='host')], id='320'), '321': TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='green4'), TableCell(location=Location(line=26, column=19), value='amanda4'), TableCell(location=Location(line=26, column=31), value='pi6-host')], id='321'), '336': Scenario(location=Location(line=28, column=3), tags=[], keyword='Scenario', name='Send pind to knative ping service', description='', steps=[Step(location=Location(line=29, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='324'), Step(location=Location(line=30, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='325'), Step(location=Location(line=31, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='326'), Step(location=Location(line=32, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"', doc_string=None, data_table=None, id='327'), Step(location=Location(line=33, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to knative service \"pong\" in \"context-<context>\" namespace', doc_string=DocString(location=Location(line=34, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='328'), Step(location=Location(line=42, column=7), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"200\"', doc_string=None, data_table=None, id='329'), Step(location=Location(line=44, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=45, column=7), rows=[TableRow(location=Location(line=45, column=7), cells=[TableCell(location=Location(line=45, column=9), value='Deployment name')], id='330'), TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='pong-00001-deployment')], id='331')]), id='332')], examples=[Examples(location=Location(line=48, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=49, column=6), cells=[TableCell(location=Location(line=49, column=8), value='context'), TableCell(location=Location(line=49, column=18), value='username'), TableCell(location=Location(line=49, column=31), value='host')], id='333'), table_body=[TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='green4'), TableCell(location=Location(line=50, column=19), value='amanda4'), TableCell(location=Location(line=50, column=31), value='pi6-host')], id='334')], id='335')], id='336'), '324': Step(location=Location(line=29, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='324'), '325': Step(location=Location(line=30, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='325'), '326': Step(location=Location(line=31, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='326'), '327': Step(location=Location(line=32, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"', doc_string=None, data_table=None, id='327'), '328': Step(location=Location(line=33, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to knative service \"pong\" in \"context-<context>\" namespace', doc_string=DocString(location=Location(line=34, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='328'), '329': Step(location=Location(line=42, column=7), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"200\"', doc_string=None, data_table=None, id='329'), '332': Step(location=Location(line=44, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=45, column=7), rows=[TableRow(location=Location(line=45, column=7), cells=[TableCell(location=Location(line=45, column=9), value='Deployment name')], id='330'), TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='pong-00001-deployment')], id='331')]), id='332'), '335': Examples(location=Location(line=48, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=49, column=6), cells=[TableCell(location=Location(line=49, column=8), value='context'), TableCell(location=Location(line=49, column=18), value='username'), TableCell(location=Location(line=49, column=31), value='host')], id='333'), table_body=[TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='green4'), TableCell(location=Location(line=50, column=19), value='amanda4'), TableCell(location=Location(line=50, column=31), value='pi6-host')], id='334')], id='335'), '333': TableRow(location=Location(line=49, column=6), cells=[TableCell(location=Location(line=49, column=8), value='context'), TableCell(location=Location(line=49, column=18), value='username'), TableCell(location=Location(line=49, column=31), value='host')], id='333'), '334': TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='green4'), TableCell(location=Location(line=50, column=19), value='amanda4'), TableCell(location=Location(line=50, column=31), value='pi6-host')], id='334'), '358': Scenario(location=Location(line=52, column=3), tags=[], keyword='Scenario', name='Send ping via <endpoint>', description='', steps=[Step(location=Location(line=53, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='337'), Step(location=Location(line=54, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='338'), Step(location=Location(line=55, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='339'), Step(location=Location(line=56, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='340'), Step(location=Location(line=57, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"', doc_string=None, data_table=None, id='341'), Step(location=Location(line=58, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to \"<endpoint>\"', doc_string=DocString(location=Location(line=59, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='342'), Step(location=Location(line=67, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"202\"', doc_string=None, data_table=None, id='343'), Step(location=Location(line=69, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=70, column=7), rows=[TableRow(location=Location(line=70, column=7), cells=[TableCell(location=Location(line=70, column=9), value='Deployment name')], id='344'), TableRow(location=Location(line=71, column=7), cells=[TableCell(location=Location(line=71, column=9), value='pong-00001-deployment')], id='345')]), id='346'), Step(location=Location(line=72, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the trace with \"<traceparent>\" should appear in TraceQL', doc_string=None, data_table=None, id='347'), Step(location=Location(line=73, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the trace should contains', doc_string=None, data_table=DataTable(location=Location(line=74, column=7), rows=[TableRow(location=Location(line=74, column=7), cells=[TableCell(location=Location(line=74, column=9), value='service name')], id='348'), TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='broker-ingress.knative-eventing')], id='349'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='unknown_service')], id='350'), TableRow(location=Location(line=77, column=7), cells=[TableCell(location=Location(line=77, column=9), value='jetstream-ch-dispatcher')], id='351')]), id='352'), Step(location=Location(line=78, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='353')], examples=[Examples(location=Location(line=80, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=81, column=6), cells=[TableCell(location=Location(line=81, column=8), value='context'), TableCell(location=Location(line=81, column=18), value='username'), TableCell(location=Location(line=81, column=31), value='host'), TableCell(location=Location(line=81, column=43), value='endpoint'), TableCell(location=Location(line=81, column=54), value='traceparent')], id='354'), table_body=[TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='green4'), TableCell(location=Location(line=82, column=19), value='amanda4'), TableCell(location=Location(line=82, column=31), value='pi6-host'), TableCell(location=Location(line=82, column=43), value='broker-ingress.knative-eventing/context-green4/context-broker'), TableCell(location=Location(line=82, column=109), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='355'), TableRow(location=Location(line=83, column=6), cells=[TableCell(location=Location(line=83, column=8), value='green4'), TableCell(location=Location(line=83, column=19), value='amanda4'), TableCell(location=Location(line=83, column=31), value='pi6-host'), TableCell(location=Location(line=83, column=43), value='broker-ingress.knative-eventing/user-amanda4/user-broker'), TableCell(location=Location(line=83, column=102), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='356')], id='357')], id='358'), '337': Step(location=Location(line=53, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='337'), '338': Step(location=Location(line=54, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='338'), '339': Step(location=Location(line=55, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='339'), '340': Step(location=Location(line=56, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='340'), '341': Step(location=Location(line=57, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"', doc_string=None, data_table=None, id='341'), '342': Step(location=Location(line=58, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to \"<endpoint>\"', doc_string=DocString(location=Location(line=59, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='342'), '343': Step(location=Location(line=67, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"202\"', doc_string=None, data_table=None, id='343'), '346': Step(location=Location(line=69, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=70, column=7), rows=[TableRow(location=Location(line=70, column=7), cells=[TableCell(location=Location(line=70, column=9), value='Deployment name')], id='344'), TableRow(location=Location(line=71, column=7), cells=[TableCell(location=Location(line=71, column=9), value='pong-00001-deployment')], id='345')]), id='346'), '347': Step(location=Location(line=72, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the trace with \"<traceparent>\" should appear in TraceQL', doc_string=None, data_table=None, id='347'), '352': Step(location=Location(line=73, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the trace should contains', doc_string=None, data_table=DataTable(location=Location(line=74, column=7), rows=[TableRow(location=Location(line=74, column=7), cells=[TableCell(location=Location(line=74, column=9), value='service name')], id='348'), TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='broker-ingress.knative-eventing')], id='349'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='unknown_service')], id='350'), TableRow(location=Location(line=77, column=7), cells=[TableCell(location=Location(line=77, column=9), value='jetstream-ch-dispatcher')], id='351')]), id='352'), '353': Step(location=Location(line=78, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='353'), '357': Examples(location=Location(line=80, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=81, column=6), cells=[TableCell(location=Location(line=81, column=8), value='context'), TableCell(location=Location(line=81, column=18), value='username'), TableCell(location=Location(line=81, column=31), value='host'), TableCell(location=Location(line=81, column=43), value='endpoint'), TableCell(location=Location(line=81, column=54), value='traceparent')], id='354'), table_body=[TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='green4'), TableCell(location=Location(line=82, column=19), value='amanda4'), TableCell(location=Location(line=82, column=31), value='pi6-host'), TableCell(location=Location(line=82, column=43), value='broker-ingress.knative-eventing/context-green4/context-broker'), TableCell(location=Location(line=82, column=109), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='355'), TableRow(location=Location(line=83, column=6), cells=[TableCell(location=Location(line=83, column=8), value='green4'), TableCell(location=Location(line=83, column=19), value='amanda4'), TableCell(location=Location(line=83, column=31), value='pi6-host'), TableCell(location=Location(line=83, column=43), value='broker-ingress.knative-eventing/user-amanda4/user-broker'), TableCell(location=Location(line=83, column=102), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='356')], id='357'), '354': TableRow(location=Location(line=81, column=6), cells=[TableCell(location=Location(line=81, column=8), value='context'), TableCell(location=Location(line=81, column=18), value='username'), TableCell(location=Location(line=81, column=31), value='host'), TableCell(location=Location(line=81, column=43), value='endpoint'), TableCell(location=Location(line=81, column=54), value='traceparent')], id='354'), '355': TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='green4'), TableCell(location=Location(line=82, column=19), value='amanda4'), TableCell(location=Location(line=82, column=31), value='pi6-host'), TableCell(location=Location(line=82, column=43), value='broker-ingress.knative-eventing/context-green4/context-broker'), TableCell(location=Location(line=82, column=109), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='355'), '356': TableRow(location=Location(line=83, column=6), cells=[TableCell(location=Location(line=83, column=8), value='green4'), TableCell(location=Location(line=83, column=19), value='amanda4'), TableCell(location=Location(line=83, column=31), value='pi6-host'), TableCell(location=Location(line=83, column=43), value='broker-ingress.knative-eventing/user-amanda4/user-broker'), TableCell(location=Location(line=83, column=102), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='356'), '371': Scenario(location=Location(line=86, column=3), tags=[], keyword='Scenario', name='Send ping via nats', description='', steps=[Step(location=Location(line=87, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='359'), Step(location=Location(line=88, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='360'), Step(location=Location(line=89, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='361'), Step(location=Location(line=90, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='362'), Step(location=Location(line=91, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=92, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='363'), Step(location=Location(line=101, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=102, column=7), rows=[TableRow(location=Location(line=102, column=7), cells=[TableCell(location=Location(line=102, column=9), value='Deployment name')], id='364'), TableRow(location=Location(line=103, column=7), cells=[TableCell(location=Location(line=103, column=9), value='pong-00001-deployment')], id='365')]), id='366'), Step(location=Location(line=105, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='367')], examples=[Examples(location=Location(line=108, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=109, column=6), cells=[TableCell(location=Location(line=109, column=8), value='context'), TableCell(location=Location(line=109, column=18), value='username'), TableCell(location=Location(line=109, column=31), value='host'), TableCell(location=Location(line=109, column=43), value='tmux_pane'), TableCell(location=Location(line=109, column=55), value='tmux_window'), TableCell(location=Location(line=109, column=69), value='uuid'), TableCell(location=Location(line=109, column=109), value='tmux_socket')], id='368'), table_body=[TableRow(location=Location(line=110, column=6), cells=[TableCell(location=Location(line=110, column=8), value='green4'), TableCell(location=Location(line=110, column=19), value='amanda4'), TableCell(location=Location(line=110, column=31), value='pi6-host'), TableCell(location=Location(line=110, column=43), value='23'), TableCell(location=Location(line=110, column=55), value='36'), TableCell(location=Location(line=110, column=69), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=110, column=108), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='369')], id='370')], id='371'), '359': Step(location=Location(line=87, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='359'), '360': Step(location=Location(line=88, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='360'), '361': Step(location=Location(line=89, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='361'), '362': Step(location=Location(line=90, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='362'), '363': Step(location=Location(line=91, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=92, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='363'), '366': Step(location=Location(line=101, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=102, column=7), rows=[TableRow(location=Location(line=102, column=7), cells=[TableCell(location=Location(line=102, column=9), value='Deployment name')], id='364'), TableRow(location=Location(line=103, column=7), cells=[TableCell(location=Location(line=103, column=9), value='pong-00001-deployment')], id='365')]), id='366'), '367': Step(location=Location(line=105, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='367'), '370': Examples(location=Location(line=108, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=109, column=6), cells=[TableCell(location=Location(line=109, column=8), value='context'), TableCell(location=Location(line=109, column=18), value='username'), TableCell(location=Location(line=109, column=31), value='host'), TableCell(location=Location(line=109, column=43), value='tmux_pane'), TableCell(location=Location(line=109, column=55), value='tmux_window'), TableCell(location=Location(line=109, column=69), value='uuid'), TableCell(location=Location(line=109, column=109), value='tmux_socket')], id='368'), table_body=[TableRow(location=Location(line=110, column=6), cells=[TableCell(location=Location(line=110, column=8), value='green4'), TableCell(location=Location(line=110, column=19), value='amanda4'), TableCell(location=Location(line=110, column=31), value='pi6-host'), TableCell(location=Location(line=110, column=43), value='23'), TableCell(location=Location(line=110, column=55), value='36'), TableCell(location=Location(line=110, column=69), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=110, column=108), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='369')], id='370'), '368': TableRow(location=Location(line=109, column=6), cells=[TableCell(location=Location(line=109, column=8), value='context'), TableCell(location=Location(line=109, column=18), value='username'), TableCell(location=Location(line=109, column=31), value='host'), TableCell(location=Location(line=109, column=43), value='tmux_pane'), TableCell(location=Location(line=109, column=55), value='tmux_window'), TableCell(location=Location(line=109, column=69), value='uuid'), TableCell(location=Location(line=109, column=109), value='tmux_socket')], id='368'), '369': TableRow(location=Location(line=110, column=6), cells=[TableCell(location=Location(line=110, column=8), value='green4'), TableCell(location=Location(line=110, column=19), value='amanda4'), TableCell(location=Location(line=110, column=31), value='pi6-host'), TableCell(location=Location(line=110, column=43), value='23'), TableCell(location=Location(line=110, column=55), value='36'), TableCell(location=Location(line=110, column=69), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=110, column=108), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='369'), '379': Scenario(location=Location(line=113, column=4), tags=[], keyword='Scenario', name='Cleanup <username>@<host> in <context>', description='', steps=[Step(location=Location(line=114, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='372'), Step(location=Location(line=115, column=6), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='373'), Step(location=Location(line=117, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='374'), Step(location=Location(line=119, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='375')], examples=[Examples(location=Location(line=121, column=6), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=122, column=6), cells=[TableCell(location=Location(line=122, column=8), value='context'), TableCell(location=Location(line=122, column=18), value='username'), TableCell(location=Location(line=122, column=29), value='host')], id='376'), table_body=[TableRow(location=Location(line=123, column=6), cells=[TableCell(location=Location(line=123, column=8), value='green4'), TableCell(location=Location(line=123, column=19), value='amanda4'), TableCell(location=Location(line=123, column=31), value='pi6-host')], id='377')], id='378')], id='379'), '372': Step(location=Location(line=114, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='372'), '373': Step(location=Location(line=115, column=6), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='373'), '374': Step(location=Location(line=117, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='374'), '375': Step(location=Location(line=119, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='375'), '378': Examples(location=Location(line=121, column=6), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=122, column=6), cells=[TableCell(location=Location(line=122, column=8), value='context'), TableCell(location=Location(line=122, column=18), value='username'), TableCell(location=Location(line=122, column=29), value='host')], id='376'), table_body=[TableRow(location=Location(line=123, column=6), cells=[TableCell(location=Location(line=123, column=8), value='green4'), TableCell(location=Location(line=123, column=19), value='amanda4'), TableCell(location=Location(line=123, column=31), value='pi6-host')], id='377')], id='378'), '376': TableRow(location=Location(line=122, column=6), cells=[TableCell(location=Location(line=122, column=8), value='context'), TableCell(location=Location(line=122, column=18), value='username'), TableCell(location=Location(line=122, column=29), value='host')], id='376'), '377': TableRow(location=Location(line=123, column=6), cells=[TableCell(location=Location(line=123, column=8), value='green4'), TableCell(location=Location(line=123, column=19), value='amanda4'), TableCell(location=Location(line=123, column=31), value='pi6-host')], id='377')}, pickles=[Pickle(id='393', uri='file:features/3_mindwm_ping_pong.feature', name='Prepare environment for ping tests', language='en', steps=[PickleStep(argument=None, ast_node_ids=['306'], id='382', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['307'], id='383', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['309', '321'], id='384', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"green4\"'), PickleStep(argument=None, ast_node_ids=['310', '321'], id='385', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='pong')])])), ast_node_ids=['313', '321'], id='386', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-green4\" namespace'), PickleStep(argument=None, ast_node_ids=['314', '321'], id='387', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"amanda4\" and connects it to the context \"green4\"'), PickleStep(argument=None, ast_node_ids=['315', '321'], id='388', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['316', '321'], id='389', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"pi6-host\" and connects it to the user \"amanda4\"'), PickleStep(argument=None, ast_node_ids=['317', '321'], id='390', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['318', '321'], id='391', type=<Type.outcome: 'Outcome'>, text='NatsJetStreamChannel \"pi6-host-host-broker-kne-trigger\" is ready in \"user-amanda4\" namespace'), PickleStep(argument=None, ast_node_ids=['319', '321'], id='392', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"')], tags=[PickleTag(name='@mindwm_ping_pong', ast_node_id='380'), PickleTag(name='@mindwm_test', ast_node_id='381')], ast_node_ids=['323', '321']), Pickle(id='403', uri='file:features/3_mindwm_ping_pong.feature', name='Send pind to knative ping service', language='en', steps=[PickleStep(argument=None, ast_node_ids=['306'], id='394', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['307'], id='395', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['324', '334'], id='396', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['325', '334'], id='397', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['326', '334'], id='398', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['327', '334'], id='399', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.amanda4.pi6-host.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['328', '334'], id='400', type=<Type.action: 'Action'>, text='sends cloudevent to knative service \"pong\" in \"context-green4\" namespace'), PickleStep(argument=None, ast_node_ids=['329', '334'], id='401', type=<Type.outcome: 'Outcome'>, text='the response http code should be \"200\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='pong-00001-deployment')])])), ast_node_ids=['332', '334'], id='402', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-green4\" namespace')], tags=[PickleTag(name='@mindwm_ping_pong', ast_node_id='380'), PickleTag(name='@mindwm_test', ast_node_id='381')], ast_node_ids=['336', '334']), Pickle(id='417', uri='file:features/3_mindwm_ping_pong.feature', name='Send ping via broker-ingress.knative-eventing/context-green4/context-broker', language='en', steps=[PickleStep(argument=None, ast_node_ids=['306'], id='404', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['307'], id='405', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['337', '355'], id='406', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['338', '355'], id='407', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['339', '355'], id='408', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['340', '355'], id='409', type=<Type.action: 'Action'>, text='sets cloudevent header \"traceparent\" to \"00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00\"'), PickleStep(argument=None, ast_node_ids=['341', '355'], id='410', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.amanda4.pi6-host.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['342', '355'], id='411', type=<Type.action: 'Action'>, text='sends cloudevent to \"broker-ingress.knative-eventing/context-green4/context-broker\"'), PickleStep(argument=None, ast_node_ids=['343', '355'], id='412', type=<Type.outcome: 'Outcome'>, text='the response http code should be \"202\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='pong-00001-deployment')])])), ast_node_ids=['346', '355'], id='413', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-green4\" namespace'), PickleStep(argument=None, ast_node_ids=['347', '355'], id='414', type=<Type.outcome: 'Outcome'>, text='the trace with \"00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00\" should appear in TraceQL'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='service name')]), PickleTableRow(cells=[PickleTableCell(value='broker-ingress.knative-eventing')]), PickleTableRow(cells=[PickleTableCell(value='unknown_service')]), PickleTableRow(cells=[PickleTableCell(value='jetstream-ch-dispatcher')])])), ast_node_ids=['352', '355'], id='415', type=<Type.outcome: 'Outcome'>, text='the trace should contains'), PickleStep(argument=None, ast_node_ids=['353', '355'], id='416', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-amanda4.pi6-host-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_ping_pong', ast_node_id='380'), PickleTag(name='@mindwm_test', ast_node_id='381')], ast_node_ids=['358', '355']), Pickle(id='431', uri='file:features/3_mindwm_ping_pong.feature', name='Send ping via broker-ingress.knative-eventing/user-amanda4/user-broker', language='en', steps=[PickleStep(argument=None, ast_node_ids=['306'], id='418', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['307'], id='419', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['337', '356'], id='420', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['338', '356'], id='421', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['339', '356'], id='422', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['340', '356'], id='423', type=<Type.action: 'Action'>, text='sets cloudevent header \"traceparent\" to \"00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00\"'), PickleStep(argument=None, ast_node_ids=['341', '356'], id='424', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.amanda4.pi6-host.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['342', '356'], id='425', type=<Type.action: 'Action'>, text='sends cloudevent to \"broker-ingress.knative-eventing/user-amanda4/user-broker\"'), PickleStep(argument=None, ast_node_ids=['343', '356'], id='426', type=<Type.outcome: 'Outcome'>, text='the response http code should be \"202\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='pong-00001-deployment')])])), ast_node_ids=['346', '356'], id='427', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-green4\" namespace'), PickleStep(argument=None, ast_node_ids=['347', '356'], id='428', type=<Type.outcome: 'Outcome'>, text='the trace with \"00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00\" should appear in TraceQL'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='service name')]), PickleTableRow(cells=[PickleTableCell(value='broker-ingress.knative-eventing')]), PickleTableRow(cells=[PickleTableCell(value='unknown_service')]), PickleTableRow(cells=[PickleTableCell(value='jetstream-ch-dispatcher')])])), ast_node_ids=['352', '356'], id='429', type=<Type.outcome: 'Outcome'>, text='the trace should contains'), PickleStep(argument=None, ast_node_ids=['353', '356'], id='430', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-amanda4.pi6-host-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_ping_pong', ast_node_id='380'), PickleTag(name='@mindwm_test', ast_node_id='381')], ast_node_ids=['358', '356']), Pickle(id='441', uri='file:features/3_mindwm_ping_pong.feature', name='Send ping via nats', language='en', steps=[PickleStep(argument=None, ast_node_ids=['306'], id='432', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['307'], id='433', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['359', '369'], id='434', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['360', '369'], id='435', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['361', '369'], id='436', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['362', '369'], id='437', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.amanda4.pi6-host.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['363', '369'], id='438', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.amanda4.pi6-host.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.3623.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='pong-00001-deployment')])])), ast_node_ids=['366', '369'], id='439', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-green4\" namespace'), PickleStep(argument=None, ast_node_ids=['367', '369'], id='440', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-amanda4.pi6-host-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_ping_pong', ast_node_id='380'), PickleTag(name='@mindwm_test', ast_node_id='381')], ast_node_ids=['371', '369']), Pickle(id='448', uri='file:features/3_mindwm_ping_pong.feature', name='Cleanup amanda4@pi6-host in green4', language='en', steps=[PickleStep(argument=None, ast_node_ids=['306'], id='442', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['307'], id='443', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['372', '377'], id='444', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"pi6-host\"'), PickleStep(argument=None, ast_node_ids=['373', '377'], id='445', type=<Type.outcome: 'Outcome'>, text='the host \"pi6-host\" should be deleted'), PickleStep(argument=None, ast_node_ids=['374', '377'], id='446', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"amanda4\"'), PickleStep(argument=None, ast_node_ids=['375', '377'], id='447', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"green4\"')], tags=[PickleTag(name='@mindwm_ping_pong', ast_node_id='380'), PickleTag(name='@mindwm_test', ast_node_id='381')], ast_node_ids=['379', '377'])])","Source(uri='file:features/3_mindwm_ping_pong.feature', data='@mindwm_ping_pong\\n@mindwm_test\\nFeature: MindWM Ping-pong EDA test\\n  Background:\\n    Given A MindWM environment\\n    Then all nodes in Kubernetes are ready\\n\\n  Scenario: Prepare environment for ping tests \\n    When God creates a MindWM context with the name \"<context>\"\\n    Then the context should be ready and operable\\n    And the following knative services are in a ready state in the \"context-<context>\" namespace\\n      | Knative service name |\\n      | pong                 |\\n\\n    When God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"\\n    Then the user resource should be ready and operable\\n\\n    When God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"\\n    Then the host resource should be ready and operable\\n    And NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace\\n\\n    When God starts reading message from NATS topic \">\"\\n\\n    Examples:\\n     | context | username   | host      |\\n     | green4   | amanda4   | pi6-host  | \\n\\n  Scenario: Send pind to knative ping service\\n    When God creates a new cloudevent \\n      And sets cloudevent header \"ce-subject\" to \"#ping\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"\\n      And sends cloudevent to knative service \"pong\" in \"context-<context>\" namespace\\n      \"\"\"\\n      {\\n        \"input\": \"#ping\",\\n        \"output\": \"\",\\n        \"ps1\": \"❯\",\\n        \"type\": \"org.mindwm.v1.iodocument\"\\n      } \\n      \"\"\"\\n      Then the response http code should be \"200\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name       |\\n      | pong-00001-deployment |\\n\\n    Examples:\\n     | context | username   | host      |\\n     | green4   | amanda4   | pi6-host  | \\n\\n  Scenario: Send ping via <endpoint>\\n    When God creates a new cloudevent \\n      And sets cloudevent header \"ce-subject\" to \"#ping\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"\\n      And sets cloudevent header \"traceparent\" to \"<traceparent>\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"\\n      And sends cloudevent to \"<endpoint>\"\\n      \"\"\"\\n      {\\n        \"input\": \"#ping\",\\n        \"output\": \"\",\\n        \"ps1\": \"❯\",\\n        \"type\": \"org.mindwm.v1.iodocument\"\\n      } \\n      \"\"\"\\n    Then the response http code should be \"202\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name            |\\n      | pong-00001-deployment |\\n    Then the trace with \"<traceparent>\" should appear in TraceQL\\n    And the trace should contains \\n      | service name                    | \\n      | broker-ingress.knative-eventing | \\n      | unknown_service                 | \\n      | jetstream-ch-dispatcher         |\\n    And a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"\\n\\n    Examples:\\n     | context | username   | host      | endpoint | traceparent \\t\\t\\t\\t\\t         |\\n     | green4   | amanda4   | pi6-host  | broker-ingress.knative-eventing/context-green4/context-broker   | 00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00 |\\n     | green4   | amanda4   | pi6-host  | broker-ingress.knative-eventing/user-amanda4/user-broker | 00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00 |\\n\\n\\n  Scenario: Send ping via nats\\n    When God creates a new cloudevent \\n      And sets cloudevent header \"ce-subject\" to \"#ping\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"\\n      And sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"\\n      \"\"\"\\n      {\\n        \"input\": \"#ping\",\\n        \"output\": \"\",\\n        \"ps1\": \"❯\",\\n        \"type\": \"org.mindwm.v1.iodocument\"\\n      } \\n      \"\"\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name       |\\n      | pong-00001-deployment |\\n\\n    And a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"\\n\\n\\n    Examples:\\n     | context | username   | host      | tmux_pane | tmux_window | uuid                                  | tmux_socket                     |\\n     | green4   | amanda4   | pi6-host  | 23        | 36          | 09fb195c-c419-6d62-15e0-51b6ee990922  |L3RtcC90bXV4LTEwMDAvZGVmYXVsdA== |\\n\\n\\n   Scenario: Cleanup <username>@<host> in <context>\\n     When God deletes the MindWM host resource \"<host>\"\\n     Then the host \"<host>\" should be deleted\\n\\n     When God deletes the MindWM user resource \"<username>\"\\n\\n     When God deletes the MindWM context resource \"<context>\"\\n\\n     Examples:\\n     | context | username | host        | \\n     | green4   | amanda4   | pi6-host         |\\n\\n', media_type='text/x.cucumber.gherkin+plain')","Pickle(id='441', uri='file:features/3_mindwm_ping_pong.feature', name='Send ping via nats', language='en', steps=[PickleStep(argument=None, ast_node_ids=['306'], id='432', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['307'], id='433', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['359', '369'], id='434', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['360', '369'], id='435', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['361', '369'], id='436', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['362', '369'], id='437', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.amanda4.pi6-host.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['363', '369'], id='438', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.amanda4.pi6-host.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.3623.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='pong-00001-deployment')])])), ast_node_ids=['366', '369'], id='439', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-green4\" namespace'), PickleStep(argument=None, ast_node_ids=['367', '369'], id='440', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-amanda4.pi6-host-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_ping_pong', ast_node_id='380'), PickleTag(name='@mindwm_test', ast_node_id='381')], ast_node_ids=['371', '369'])"],"tags":["pytest_bdd_scenario","scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/3_mindwm_ping_pong.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=<FeaturePathType.PATH: 'path'>, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())","@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')","mindwm_ping_pong","mindwm_test","namespace(create=False, name='default')"]},{"name":"test_scenarios[file:features/0_1_mindwm_eda.feature-Mindwm event driven architecture-Nats]","uid":"955e98cad8756ba7","parentUid":"3961740595044ffd97a03e46799bfc30","status":"passed","time":{"start":1728403419069,"stop":1728403419285,"duration":216},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["Feature(gherkin_document=GherkinDocument(uri='file:features/0_1_mindwm_eda.feature', feature=Feature(location=Location(line=2, column=1), tags=[Tag(location=Location(line=1, column=1), name='@eda', id='124')], language='en', keyword='Feature', name='Mindwm event driven architecture', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=3, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=4, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='50'), Step(location=Location(line=5, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='51')], id='52'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=7, column=3), tags=[], keyword='Scenario', name='Knative', description='', steps=[Step(location=Location(line=8, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"knative-serving\" should exist', doc_string=None, data_table=None, id='53'), Step(location=Location(line=9, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"knative-eventing\" should exist', doc_string=None, data_table=None, id='54'), Step(location=Location(line=10, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"knative-operator\" should exist', doc_string=None, data_table=None, id='55'), Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"knative-serving\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Deployment name')], id='56'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='activator')], id='57'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='autoscaler')], id='58'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='autoscaler-hpa')], id='59'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='controller')], id='60'), TableRow(location=Location(line=17, column=7), cells=[TableCell(location=Location(line=17, column=9), value='net-istio-controller')], id='61'), TableRow(location=Location(line=18, column=7), cells=[TableCell(location=Location(line=18, column=9), value='net-istio-webhook')], id='62'), TableRow(location=Location(line=19, column=7), cells=[TableCell(location=Location(line=19, column=9), value='webhook')], id='63')]), id='64'), Step(location=Location(line=20, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"knative-eventing\" namespace', doc_string=None, data_table=DataTable(location=Location(line=21, column=7), rows=[TableRow(location=Location(line=21, column=7), cells=[TableCell(location=Location(line=21, column=9), value='Deployment name')], id='65'), TableRow(location=Location(line=22, column=7), cells=[TableCell(location=Location(line=22, column=9), value='eventing-controller')], id='66'), TableRow(location=Location(line=23, column=7), cells=[TableCell(location=Location(line=23, column=9), value='eventing-webhook')], id='67'), TableRow(location=Location(line=24, column=7), cells=[TableCell(location=Location(line=24, column=9), value='imc-dispatcher')], id='68'), TableRow(location=Location(line=25, column=7), cells=[TableCell(location=Location(line=25, column=9), value='imc-controller')], id='69'), TableRow(location=Location(line=26, column=7), cells=[TableCell(location=Location(line=26, column=9), value='jetstream-ch-controller')], id='70'), TableRow(location=Location(line=27, column=7), cells=[TableCell(location=Location(line=27, column=9), value='job-sink')], id='71'), TableRow(location=Location(line=28, column=7), cells=[TableCell(location=Location(line=28, column=9), value='kafka-controller')], id='72'), TableRow(location=Location(line=29, column=7), cells=[TableCell(location=Location(line=29, column=9), value='kafka-webhook-eventing')], id='73'), TableRow(location=Location(line=30, column=7), cells=[TableCell(location=Location(line=30, column=9), value='mt-broker-controller')], id='74'), TableRow(location=Location(line=31, column=7), cells=[TableCell(location=Location(line=31, column=9), value='mt-broker-filter')], id='75'), TableRow(location=Location(line=32, column=7), cells=[TableCell(location=Location(line=32, column=9), value='mt-broker-ingress')], id='76'), TableRow(location=Location(line=33, column=7), cells=[TableCell(location=Location(line=33, column=9), value='nats-webhook')], id='77')]), id='78')], examples=[], id='79')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=36, column=3), tags=[], keyword='Scenario', name='Istio', description='', steps=[Step(location=Location(line=37, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"istio-system\" should exist', doc_string=None, data_table=None, id='80'), Step(location=Location(line=38, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"istio-system\" namespace', doc_string=None, data_table=DataTable(location=Location(line=39, column=7), rows=[TableRow(location=Location(line=39, column=7), cells=[TableCell(location=Location(line=39, column=9), value='Deployment name')], id='81'), TableRow(location=Location(line=40, column=7), cells=[TableCell(location=Location(line=40, column=9), value='istiod')], id='82'), TableRow(location=Location(line=41, column=7), cells=[TableCell(location=Location(line=41, column=9), value='istio-ingressgateway')], id='83')]), id='84')], examples=[], id='85')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=43, column=3), tags=[], keyword='Scenario', name='Redpanda', description='', steps=[Step(location=Location(line=44, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"redpanda\" should exist', doc_string=None, data_table=None, id='86'), Step(location=Location(line=45, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"redpanda\" namespace', doc_string=None, data_table=DataTable(location=Location(line=46, column=7), rows=[TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='Deployment name')], id='87'), TableRow(location=Location(line=47, column=7), cells=[TableCell(location=Location(line=47, column=9), value='redpanda-operator')], id='88')]), id='89'), Step(location=Location(line=48, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='helm release \"neo4j-cdc\" is deployed in \"redpanda\" namespace', doc_string=None, data_table=None, id='90'), Step(location=Location(line=49, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"neo4j-cdc\" in namespace \"redpanda\" is in ready state', doc_string=None, data_table=None, id='91'), Step(location=Location(line=50, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"redpanda\" namespace', doc_string=None, data_table=DataTable(location=Location(line=51, column=7), rows=[TableRow(location=Location(line=51, column=7), cells=[TableCell(location=Location(line=51, column=9), value='Deployment name')], id='92'), TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='neo4j-cdc-console')], id='93')]), id='94')], examples=[], id='95')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=54, column=3), tags=[], keyword='Scenario', name='Cert manager', description='', steps=[Step(location=Location(line=55, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"cert-manager\" should exist', doc_string=None, data_table=None, id='96'), Step(location=Location(line=56, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"cert-manager\" namespace', doc_string=None, data_table=DataTable(location=Location(line=57, column=7), rows=[TableRow(location=Location(line=57, column=7), cells=[TableCell(location=Location(line=57, column=9), value='Deployment name')], id='97'), TableRow(location=Location(line=58, column=7), cells=[TableCell(location=Location(line=58, column=9), value='cert-manager')], id='98'), TableRow(location=Location(line=59, column=7), cells=[TableCell(location=Location(line=59, column=9), value='cert-manager-cainjector')], id='99'), TableRow(location=Location(line=60, column=7), cells=[TableCell(location=Location(line=60, column=9), value='cert-manager-webhook')], id='100')]), id='101')], examples=[], id='102')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=62, column=3), tags=[], keyword='Scenario', name='Nats', description='', steps=[Step(location=Location(line=63, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"nats\" should exist', doc_string=None, data_table=None, id='103'), Step(location=Location(line=64, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"nats\" namespace', doc_string=None, data_table=DataTable(location=Location(line=65, column=7), rows=[TableRow(location=Location(line=65, column=7), cells=[TableCell(location=Location(line=65, column=9), value='Deployment name')], id='104'), TableRow(location=Location(line=66, column=7), cells=[TableCell(location=Location(line=66, column=9), value='nats-box')], id='105')]), id='106'), Step(location=Location(line=67, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"nats\" in namespace \"nats\" is in ready state', doc_string=None, data_table=None, id='107')], examples=[], id='108')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=69, column=3), tags=[], keyword='Scenario', name='Monitoring', description='', steps=[Step(location=Location(line=70, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"monitoring\" should exist', doc_string=None, data_table=None, id='109'), Step(location=Location(line=71, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"monitoring\" namespace', doc_string=None, data_table=DataTable(location=Location(line=72, column=7), rows=[TableRow(location=Location(line=72, column=7), cells=[TableCell(location=Location(line=72, column=9), value='Deployment name')], id='110'), TableRow(location=Location(line=73, column=7), cells=[TableCell(location=Location(line=73, column=9), value='loki-gateway')], id='111'), TableRow(location=Location(line=74, column=7), cells=[TableCell(location=Location(line=74, column=9), value='otel-collector-opentelemetry-collector')], id='112'), TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='vm-aio-grafana')], id='113'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='vm-aio-kube-state-metrics')], id='114'), TableRow(location=Location(line=77, column=7), cells=[TableCell(location=Location(line=77, column=9), value='vm-aio-victoria-metrics-operator')], id='115'), TableRow(location=Location(line=78, column=7), cells=[TableCell(location=Location(line=78, column=9), value='vmagent-vm-aio-victoria-metrics-k8s-stack')], id='116'), TableRow(location=Location(line=79, column=7), cells=[TableCell(location=Location(line=79, column=9), value='vmalert-vm-aio-victoria-metrics-k8s-stack')], id='117'), TableRow(location=Location(line=80, column=7), cells=[TableCell(location=Location(line=80, column=9), value='vmsingle-vm-aio-victoria-metrics-k8s-stack')], id='118')]), id='119'), Step(location=Location(line=81, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"loki\" in namespace \"monitoring\" is in ready state', doc_string=None, data_table=None, id='120'), Step(location=Location(line=82, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"tempo\" in namespace \"monitoring\" is in ready state', doc_string=None, data_table=None, id='121'), Step(location=Location(line=83, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"vmalertmanager-vm-aio-victoria-metrics-k8s-stack\" in namespace \"monitoring\" is in ready state', doc_string=None, data_table=None, id='122')], examples=[], id='123'))]), comments=[]), uri='file:features/0_1_mindwm_eda.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/0_1_mindwm_eda.feature', registry={'124': Tag(location=Location(line=1, column=1), name='@eda', id='124'), '52': Background(location=Location(line=3, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=4, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='50'), Step(location=Location(line=5, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='51')], id='52'), '50': Step(location=Location(line=4, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='50'), '51': Step(location=Location(line=5, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='51'), '79': Scenario(location=Location(line=7, column=3), tags=[], keyword='Scenario', name='Knative', description='', steps=[Step(location=Location(line=8, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"knative-serving\" should exist', doc_string=None, data_table=None, id='53'), Step(location=Location(line=9, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"knative-eventing\" should exist', doc_string=None, data_table=None, id='54'), Step(location=Location(line=10, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"knative-operator\" should exist', doc_string=None, data_table=None, id='55'), Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"knative-serving\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Deployment name')], id='56'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='activator')], id='57'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='autoscaler')], id='58'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='autoscaler-hpa')], id='59'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='controller')], id='60'), TableRow(location=Location(line=17, column=7), cells=[TableCell(location=Location(line=17, column=9), value='net-istio-controller')], id='61'), TableRow(location=Location(line=18, column=7), cells=[TableCell(location=Location(line=18, column=9), value='net-istio-webhook')], id='62'), TableRow(location=Location(line=19, column=7), cells=[TableCell(location=Location(line=19, column=9), value='webhook')], id='63')]), id='64'), Step(location=Location(line=20, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"knative-eventing\" namespace', doc_string=None, data_table=DataTable(location=Location(line=21, column=7), rows=[TableRow(location=Location(line=21, column=7), cells=[TableCell(location=Location(line=21, column=9), value='Deployment name')], id='65'), TableRow(location=Location(line=22, column=7), cells=[TableCell(location=Location(line=22, column=9), value='eventing-controller')], id='66'), TableRow(location=Location(line=23, column=7), cells=[TableCell(location=Location(line=23, column=9), value='eventing-webhook')], id='67'), TableRow(location=Location(line=24, column=7), cells=[TableCell(location=Location(line=24, column=9), value='imc-dispatcher')], id='68'), TableRow(location=Location(line=25, column=7), cells=[TableCell(location=Location(line=25, column=9), value='imc-controller')], id='69'), TableRow(location=Location(line=26, column=7), cells=[TableCell(location=Location(line=26, column=9), value='jetstream-ch-controller')], id='70'), TableRow(location=Location(line=27, column=7), cells=[TableCell(location=Location(line=27, column=9), value='job-sink')], id='71'), TableRow(location=Location(line=28, column=7), cells=[TableCell(location=Location(line=28, column=9), value='kafka-controller')], id='72'), TableRow(location=Location(line=29, column=7), cells=[TableCell(location=Location(line=29, column=9), value='kafka-webhook-eventing')], id='73'), TableRow(location=Location(line=30, column=7), cells=[TableCell(location=Location(line=30, column=9), value='mt-broker-controller')], id='74'), TableRow(location=Location(line=31, column=7), cells=[TableCell(location=Location(line=31, column=9), value='mt-broker-filter')], id='75'), TableRow(location=Location(line=32, column=7), cells=[TableCell(location=Location(line=32, column=9), value='mt-broker-ingress')], id='76'), TableRow(location=Location(line=33, column=7), cells=[TableCell(location=Location(line=33, column=9), value='nats-webhook')], id='77')]), id='78')], examples=[], id='79'), '53': Step(location=Location(line=8, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"knative-serving\" should exist', doc_string=None, data_table=None, id='53'), '54': Step(location=Location(line=9, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"knative-eventing\" should exist', doc_string=None, data_table=None, id='54'), '55': Step(location=Location(line=10, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"knative-operator\" should exist', doc_string=None, data_table=None, id='55'), '64': Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"knative-serving\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Deployment name')], id='56'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='activator')], id='57'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='autoscaler')], id='58'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='autoscaler-hpa')], id='59'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='controller')], id='60'), TableRow(location=Location(line=17, column=7), cells=[TableCell(location=Location(line=17, column=9), value='net-istio-controller')], id='61'), TableRow(location=Location(line=18, column=7), cells=[TableCell(location=Location(line=18, column=9), value='net-istio-webhook')], id='62'), TableRow(location=Location(line=19, column=7), cells=[TableCell(location=Location(line=19, column=9), value='webhook')], id='63')]), id='64'), '78': Step(location=Location(line=20, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"knative-eventing\" namespace', doc_string=None, data_table=DataTable(location=Location(line=21, column=7), rows=[TableRow(location=Location(line=21, column=7), cells=[TableCell(location=Location(line=21, column=9), value='Deployment name')], id='65'), TableRow(location=Location(line=22, column=7), cells=[TableCell(location=Location(line=22, column=9), value='eventing-controller')], id='66'), TableRow(location=Location(line=23, column=7), cells=[TableCell(location=Location(line=23, column=9), value='eventing-webhook')], id='67'), TableRow(location=Location(line=24, column=7), cells=[TableCell(location=Location(line=24, column=9), value='imc-dispatcher')], id='68'), TableRow(location=Location(line=25, column=7), cells=[TableCell(location=Location(line=25, column=9), value='imc-controller')], id='69'), TableRow(location=Location(line=26, column=7), cells=[TableCell(location=Location(line=26, column=9), value='jetstream-ch-controller')], id='70'), TableRow(location=Location(line=27, column=7), cells=[TableCell(location=Location(line=27, column=9), value='job-sink')], id='71'), TableRow(location=Location(line=28, column=7), cells=[TableCell(location=Location(line=28, column=9), value='kafka-controller')], id='72'), TableRow(location=Location(line=29, column=7), cells=[TableCell(location=Location(line=29, column=9), value='kafka-webhook-eventing')], id='73'), TableRow(location=Location(line=30, column=7), cells=[TableCell(location=Location(line=30, column=9), value='mt-broker-controller')], id='74'), TableRow(location=Location(line=31, column=7), cells=[TableCell(location=Location(line=31, column=9), value='mt-broker-filter')], id='75'), TableRow(location=Location(line=32, column=7), cells=[TableCell(location=Location(line=32, column=9), value='mt-broker-ingress')], id='76'), TableRow(location=Location(line=33, column=7), cells=[TableCell(location=Location(line=33, column=9), value='nats-webhook')], id='77')]), id='78'), '85': Scenario(location=Location(line=36, column=3), tags=[], keyword='Scenario', name='Istio', description='', steps=[Step(location=Location(line=37, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"istio-system\" should exist', doc_string=None, data_table=None, id='80'), Step(location=Location(line=38, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"istio-system\" namespace', doc_string=None, data_table=DataTable(location=Location(line=39, column=7), rows=[TableRow(location=Location(line=39, column=7), cells=[TableCell(location=Location(line=39, column=9), value='Deployment name')], id='81'), TableRow(location=Location(line=40, column=7), cells=[TableCell(location=Location(line=40, column=9), value='istiod')], id='82'), TableRow(location=Location(line=41, column=7), cells=[TableCell(location=Location(line=41, column=9), value='istio-ingressgateway')], id='83')]), id='84')], examples=[], id='85'), '80': Step(location=Location(line=37, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"istio-system\" should exist', doc_string=None, data_table=None, id='80'), '84': Step(location=Location(line=38, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"istio-system\" namespace', doc_string=None, data_table=DataTable(location=Location(line=39, column=7), rows=[TableRow(location=Location(line=39, column=7), cells=[TableCell(location=Location(line=39, column=9), value='Deployment name')], id='81'), TableRow(location=Location(line=40, column=7), cells=[TableCell(location=Location(line=40, column=9), value='istiod')], id='82'), TableRow(location=Location(line=41, column=7), cells=[TableCell(location=Location(line=41, column=9), value='istio-ingressgateway')], id='83')]), id='84'), '95': Scenario(location=Location(line=43, column=3), tags=[], keyword='Scenario', name='Redpanda', description='', steps=[Step(location=Location(line=44, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"redpanda\" should exist', doc_string=None, data_table=None, id='86'), Step(location=Location(line=45, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"redpanda\" namespace', doc_string=None, data_table=DataTable(location=Location(line=46, column=7), rows=[TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='Deployment name')], id='87'), TableRow(location=Location(line=47, column=7), cells=[TableCell(location=Location(line=47, column=9), value='redpanda-operator')], id='88')]), id='89'), Step(location=Location(line=48, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='helm release \"neo4j-cdc\" is deployed in \"redpanda\" namespace', doc_string=None, data_table=None, id='90'), Step(location=Location(line=49, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"neo4j-cdc\" in namespace \"redpanda\" is in ready state', doc_string=None, data_table=None, id='91'), Step(location=Location(line=50, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"redpanda\" namespace', doc_string=None, data_table=DataTable(location=Location(line=51, column=7), rows=[TableRow(location=Location(line=51, column=7), cells=[TableCell(location=Location(line=51, column=9), value='Deployment name')], id='92'), TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='neo4j-cdc-console')], id='93')]), id='94')], examples=[], id='95'), '86': Step(location=Location(line=44, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"redpanda\" should exist', doc_string=None, data_table=None, id='86'), '89': Step(location=Location(line=45, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"redpanda\" namespace', doc_string=None, data_table=DataTable(location=Location(line=46, column=7), rows=[TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='Deployment name')], id='87'), TableRow(location=Location(line=47, column=7), cells=[TableCell(location=Location(line=47, column=9), value='redpanda-operator')], id='88')]), id='89'), '90': Step(location=Location(line=48, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='helm release \"neo4j-cdc\" is deployed in \"redpanda\" namespace', doc_string=None, data_table=None, id='90'), '91': Step(location=Location(line=49, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"neo4j-cdc\" in namespace \"redpanda\" is in ready state', doc_string=None, data_table=None, id='91'), '94': Step(location=Location(line=50, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"redpanda\" namespace', doc_string=None, data_table=DataTable(location=Location(line=51, column=7), rows=[TableRow(location=Location(line=51, column=7), cells=[TableCell(location=Location(line=51, column=9), value='Deployment name')], id='92'), TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='neo4j-cdc-console')], id='93')]), id='94'), '102': Scenario(location=Location(line=54, column=3), tags=[], keyword='Scenario', name='Cert manager', description='', steps=[Step(location=Location(line=55, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"cert-manager\" should exist', doc_string=None, data_table=None, id='96'), Step(location=Location(line=56, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"cert-manager\" namespace', doc_string=None, data_table=DataTable(location=Location(line=57, column=7), rows=[TableRow(location=Location(line=57, column=7), cells=[TableCell(location=Location(line=57, column=9), value='Deployment name')], id='97'), TableRow(location=Location(line=58, column=7), cells=[TableCell(location=Location(line=58, column=9), value='cert-manager')], id='98'), TableRow(location=Location(line=59, column=7), cells=[TableCell(location=Location(line=59, column=9), value='cert-manager-cainjector')], id='99'), TableRow(location=Location(line=60, column=7), cells=[TableCell(location=Location(line=60, column=9), value='cert-manager-webhook')], id='100')]), id='101')], examples=[], id='102'), '96': Step(location=Location(line=55, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"cert-manager\" should exist', doc_string=None, data_table=None, id='96'), '101': Step(location=Location(line=56, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"cert-manager\" namespace', doc_string=None, data_table=DataTable(location=Location(line=57, column=7), rows=[TableRow(location=Location(line=57, column=7), cells=[TableCell(location=Location(line=57, column=9), value='Deployment name')], id='97'), TableRow(location=Location(line=58, column=7), cells=[TableCell(location=Location(line=58, column=9), value='cert-manager')], id='98'), TableRow(location=Location(line=59, column=7), cells=[TableCell(location=Location(line=59, column=9), value='cert-manager-cainjector')], id='99'), TableRow(location=Location(line=60, column=7), cells=[TableCell(location=Location(line=60, column=9), value='cert-manager-webhook')], id='100')]), id='101'), '108': Scenario(location=Location(line=62, column=3), tags=[], keyword='Scenario', name='Nats', description='', steps=[Step(location=Location(line=63, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"nats\" should exist', doc_string=None, data_table=None, id='103'), Step(location=Location(line=64, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"nats\" namespace', doc_string=None, data_table=DataTable(location=Location(line=65, column=7), rows=[TableRow(location=Location(line=65, column=7), cells=[TableCell(location=Location(line=65, column=9), value='Deployment name')], id='104'), TableRow(location=Location(line=66, column=7), cells=[TableCell(location=Location(line=66, column=9), value='nats-box')], id='105')]), id='106'), Step(location=Location(line=67, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"nats\" in namespace \"nats\" is in ready state', doc_string=None, data_table=None, id='107')], examples=[], id='108'), '103': Step(location=Location(line=63, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"nats\" should exist', doc_string=None, data_table=None, id='103'), '106': Step(location=Location(line=64, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"nats\" namespace', doc_string=None, data_table=DataTable(location=Location(line=65, column=7), rows=[TableRow(location=Location(line=65, column=7), cells=[TableCell(location=Location(line=65, column=9), value='Deployment name')], id='104'), TableRow(location=Location(line=66, column=7), cells=[TableCell(location=Location(line=66, column=9), value='nats-box')], id='105')]), id='106'), '107': Step(location=Location(line=67, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"nats\" in namespace \"nats\" is in ready state', doc_string=None, data_table=None, id='107'), '123': Scenario(location=Location(line=69, column=3), tags=[], keyword='Scenario', name='Monitoring', description='', steps=[Step(location=Location(line=70, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"monitoring\" should exist', doc_string=None, data_table=None, id='109'), Step(location=Location(line=71, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"monitoring\" namespace', doc_string=None, data_table=DataTable(location=Location(line=72, column=7), rows=[TableRow(location=Location(line=72, column=7), cells=[TableCell(location=Location(line=72, column=9), value='Deployment name')], id='110'), TableRow(location=Location(line=73, column=7), cells=[TableCell(location=Location(line=73, column=9), value='loki-gateway')], id='111'), TableRow(location=Location(line=74, column=7), cells=[TableCell(location=Location(line=74, column=9), value='otel-collector-opentelemetry-collector')], id='112'), TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='vm-aio-grafana')], id='113'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='vm-aio-kube-state-metrics')], id='114'), TableRow(location=Location(line=77, column=7), cells=[TableCell(location=Location(line=77, column=9), value='vm-aio-victoria-metrics-operator')], id='115'), TableRow(location=Location(line=78, column=7), cells=[TableCell(location=Location(line=78, column=9), value='vmagent-vm-aio-victoria-metrics-k8s-stack')], id='116'), TableRow(location=Location(line=79, column=7), cells=[TableCell(location=Location(line=79, column=9), value='vmalert-vm-aio-victoria-metrics-k8s-stack')], id='117'), TableRow(location=Location(line=80, column=7), cells=[TableCell(location=Location(line=80, column=9), value='vmsingle-vm-aio-victoria-metrics-k8s-stack')], id='118')]), id='119'), Step(location=Location(line=81, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"loki\" in namespace \"monitoring\" is in ready state', doc_string=None, data_table=None, id='120'), Step(location=Location(line=82, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"tempo\" in namespace \"monitoring\" is in ready state', doc_string=None, data_table=None, id='121'), Step(location=Location(line=83, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"vmalertmanager-vm-aio-victoria-metrics-k8s-stack\" in namespace \"monitoring\" is in ready state', doc_string=None, data_table=None, id='122')], examples=[], id='123'), '109': Step(location=Location(line=70, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"monitoring\" should exist', doc_string=None, data_table=None, id='109'), '119': Step(location=Location(line=71, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"monitoring\" namespace', doc_string=None, data_table=DataTable(location=Location(line=72, column=7), rows=[TableRow(location=Location(line=72, column=7), cells=[TableCell(location=Location(line=72, column=9), value='Deployment name')], id='110'), TableRow(location=Location(line=73, column=7), cells=[TableCell(location=Location(line=73, column=9), value='loki-gateway')], id='111'), TableRow(location=Location(line=74, column=7), cells=[TableCell(location=Location(line=74, column=9), value='otel-collector-opentelemetry-collector')], id='112'), TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='vm-aio-grafana')], id='113'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='vm-aio-kube-state-metrics')], id='114'), TableRow(location=Location(line=77, column=7), cells=[TableCell(location=Location(line=77, column=9), value='vm-aio-victoria-metrics-operator')], id='115'), TableRow(location=Location(line=78, column=7), cells=[TableCell(location=Location(line=78, column=9), value='vmagent-vm-aio-victoria-metrics-k8s-stack')], id='116'), TableRow(location=Location(line=79, column=7), cells=[TableCell(location=Location(line=79, column=9), value='vmalert-vm-aio-victoria-metrics-k8s-stack')], id='117'), TableRow(location=Location(line=80, column=7), cells=[TableCell(location=Location(line=80, column=9), value='vmsingle-vm-aio-victoria-metrics-k8s-stack')], id='118')]), id='119'), '120': Step(location=Location(line=81, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"loki\" in namespace \"monitoring\" is in ready state', doc_string=None, data_table=None, id='120'), '121': Step(location=Location(line=82, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"tempo\" in namespace \"monitoring\" is in ready state', doc_string=None, data_table=None, id='121'), '122': Step(location=Location(line=83, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"vmalertmanager-vm-aio-victoria-metrics-k8s-stack\" in namespace \"monitoring\" is in ready state', doc_string=None, data_table=None, id='122')}, pickles=[Pickle(id='132', uri='file:features/0_1_mindwm_eda.feature', name='Knative', language='en', steps=[PickleStep(argument=None, ast_node_ids=['50'], id='125', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['51'], id='126', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['53'], id='127', type=<Type.outcome: 'Outcome'>, text='namespace \"knative-serving\" should exist'), PickleStep(argument=None, ast_node_ids=['54'], id='128', type=<Type.outcome: 'Outcome'>, text='namespace \"knative-eventing\" should exist'), PickleStep(argument=None, ast_node_ids=['55'], id='129', type=<Type.outcome: 'Outcome'>, text='namespace \"knative-operator\" should exist'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='activator')]), PickleTableRow(cells=[PickleTableCell(value='autoscaler')]), PickleTableRow(cells=[PickleTableCell(value='autoscaler-hpa')]), PickleTableRow(cells=[PickleTableCell(value='controller')]), PickleTableRow(cells=[PickleTableCell(value='net-istio-controller')]), PickleTableRow(cells=[PickleTableCell(value='net-istio-webhook')]), PickleTableRow(cells=[PickleTableCell(value='webhook')])])), ast_node_ids=['64'], id='130', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"knative-serving\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='eventing-controller')]), PickleTableRow(cells=[PickleTableCell(value='eventing-webhook')]), PickleTableRow(cells=[PickleTableCell(value='imc-dispatcher')]), PickleTableRow(cells=[PickleTableCell(value='imc-controller')]), PickleTableRow(cells=[PickleTableCell(value='jetstream-ch-controller')]), PickleTableRow(cells=[PickleTableCell(value='job-sink')]), PickleTableRow(cells=[PickleTableCell(value='kafka-controller')]), PickleTableRow(cells=[PickleTableCell(value='kafka-webhook-eventing')]), PickleTableRow(cells=[PickleTableCell(value='mt-broker-controller')]), PickleTableRow(cells=[PickleTableCell(value='mt-broker-filter')]), PickleTableRow(cells=[PickleTableCell(value='mt-broker-ingress')]), PickleTableRow(cells=[PickleTableCell(value='nats-webhook')])])), ast_node_ids=['78'], id='131', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"knative-eventing\" namespace')], tags=[PickleTag(name='@eda', ast_node_id='124')], ast_node_ids=['79']), Pickle(id='137', uri='file:features/0_1_mindwm_eda.feature', name='Istio', language='en', steps=[PickleStep(argument=None, ast_node_ids=['50'], id='133', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['51'], id='134', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['80'], id='135', type=<Type.outcome: 'Outcome'>, text='namespace \"istio-system\" should exist'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='istiod')]), PickleTableRow(cells=[PickleTableCell(value='istio-ingressgateway')])])), ast_node_ids=['84'], id='136', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"istio-system\" namespace')], tags=[PickleTag(name='@eda', ast_node_id='124')], ast_node_ids=['85']), Pickle(id='145', uri='file:features/0_1_mindwm_eda.feature', name='Redpanda', language='en', steps=[PickleStep(argument=None, ast_node_ids=['50'], id='138', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['51'], id='139', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['86'], id='140', type=<Type.outcome: 'Outcome'>, text='namespace \"redpanda\" should exist'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='redpanda-operator')])])), ast_node_ids=['89'], id='141', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"redpanda\" namespace'), PickleStep(argument=None, ast_node_ids=['90'], id='142', type=<Type.outcome: 'Outcome'>, text='helm release \"neo4j-cdc\" is deployed in \"redpanda\" namespace'), PickleStep(argument=None, ast_node_ids=['91'], id='143', type=<Type.outcome: 'Outcome'>, text='statefulset \"neo4j-cdc\" in namespace \"redpanda\" is in ready state'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='neo4j-cdc-console')])])), ast_node_ids=['94'], id='144', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"redpanda\" namespace')], tags=[PickleTag(name='@eda', ast_node_id='124')], ast_node_ids=['95']), Pickle(id='150', uri='file:features/0_1_mindwm_eda.feature', name='Cert manager', language='en', steps=[PickleStep(argument=None, ast_node_ids=['50'], id='146', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['51'], id='147', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['96'], id='148', type=<Type.outcome: 'Outcome'>, text='namespace \"cert-manager\" should exist'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='cert-manager')]), PickleTableRow(cells=[PickleTableCell(value='cert-manager-cainjector')]), PickleTableRow(cells=[PickleTableCell(value='cert-manager-webhook')])])), ast_node_ids=['101'], id='149', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"cert-manager\" namespace')], tags=[PickleTag(name='@eda', ast_node_id='124')], ast_node_ids=['102']), Pickle(id='156', uri='file:features/0_1_mindwm_eda.feature', name='Nats', language='en', steps=[PickleStep(argument=None, ast_node_ids=['50'], id='151', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['51'], id='152', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['103'], id='153', type=<Type.outcome: 'Outcome'>, text='namespace \"nats\" should exist'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='nats-box')])])), ast_node_ids=['106'], id='154', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"nats\" namespace'), PickleStep(argument=None, ast_node_ids=['107'], id='155', type=<Type.outcome: 'Outcome'>, text='statefulset \"nats\" in namespace \"nats\" is in ready state')], tags=[PickleTag(name='@eda', ast_node_id='124')], ast_node_ids=['108']), Pickle(id='164', uri='file:features/0_1_mindwm_eda.feature', name='Monitoring', language='en', steps=[PickleStep(argument=None, ast_node_ids=['50'], id='157', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['51'], id='158', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['109'], id='159', type=<Type.outcome: 'Outcome'>, text='namespace \"monitoring\" should exist'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='loki-gateway')]), PickleTableRow(cells=[PickleTableCell(value='otel-collector-opentelemetry-collector')]), PickleTableRow(cells=[PickleTableCell(value='vm-aio-grafana')]), PickleTableRow(cells=[PickleTableCell(value='vm-aio-kube-state-metrics')]), PickleTableRow(cells=[PickleTableCell(value='vm-aio-victoria-metrics-operator')]), PickleTableRow(cells=[PickleTableCell(value='vmagent-vm-aio-victoria-metrics-k8s-stack')]), PickleTableRow(cells=[PickleTableCell(value='vmalert-vm-aio-victoria-metrics-k8s-stack')]), PickleTableRow(cells=[PickleTableCell(value='vmsingle-vm-aio-victoria-metrics-k8s-stack')])])), ast_node_ids=['119'], id='160', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"monitoring\" namespace'), PickleStep(argument=None, ast_node_ids=['120'], id='161', type=<Type.outcome: 'Outcome'>, text='statefulset \"loki\" in namespace \"monitoring\" is in ready state'), PickleStep(argument=None, ast_node_ids=['121'], id='162', type=<Type.outcome: 'Outcome'>, text='statefulset \"tempo\" in namespace \"monitoring\" is in ready state'), PickleStep(argument=None, ast_node_ids=['122'], id='163', type=<Type.outcome: 'Outcome'>, text='statefulset \"vmalertmanager-vm-aio-victoria-metrics-k8s-stack\" in namespace \"monitoring\" is in ready state')], tags=[PickleTag(name='@eda', ast_node_id='124')], ast_node_ids=['123'])])","Source(uri='file:features/0_1_mindwm_eda.feature', data='@eda\\nFeature: Mindwm event driven architecture\\n  Background:\\n    Given a MindWM environment\\n    Then all nodes in Kubernetes are ready\\n\\n  Scenario: Knative\\n    And namespace \"knative-serving\" should exist\\n    And namespace \"knative-eventing\" should exist\\n    And namespace \"knative-operator\" should exist\\n    And the following deployments are in a ready state in the \"knative-serving\" namespace\\n      | Deployment name      | \\n      | activator            |\\n      | autoscaler           |\\n      | autoscaler-hpa       | \\n      | controller           |\\n      | net-istio-controller |\\n      | net-istio-webhook    |\\n      | webhook              |\\n    And the following deployments are in a ready state in the \"knative-eventing\" namespace\\n      | Deployment name         | \\n      | eventing-controller     |\\n      | eventing-webhook        |\\n      | imc-dispatcher          |\\n      | imc-controller          |\\n      | jetstream-ch-controller |\\n      | job-sink \\t\\t|\\n      | kafka-controller        |\\n      | kafka-webhook-eventing  |\\n      | mt-broker-controller    |\\n      | mt-broker-filter        |\\n      | mt-broker-ingress       |\\n      | nats-webhook            |\\n   \\n\\n  Scenario: Istio\\n    And namespace \"istio-system\" should exist\\n    And the following deployments are in a ready state in the \"istio-system\" namespace\\n      | Deployment name         | \\n      | istiod                  |\\n      | istio-ingressgateway    |\\n\\n  Scenario: Redpanda\\n    And namespace \"redpanda\" should exist\\n    And the following deployments are in a ready state in the \"redpanda\" namespace\\n      | Deployment name         | \\n      | redpanda-operator       |\\n    And helm release \"neo4j-cdc\" is deployed in \"redpanda\" namespace\\n    And statefulset \"neo4j-cdc\" in namespace \"redpanda\" is in ready state\\n    And the following deployments are in a ready state in the \"redpanda\" namespace\\n      | Deployment name         | \\n      | neo4j-cdc-console       |\\n\\n  Scenario: Cert manager\\n    And namespace \"cert-manager\" should exist\\n    And the following deployments are in a ready state in the \"cert-manager\" namespace\\n      | Deployment name          | \\n      | cert-manager             |\\n      | cert-manager-cainjector |\\n      | cert-manager-webhook     |\\n\\n  Scenario: Nats\\n    And namespace \"nats\" should exist\\n    And the following deployments are in a ready state in the \"nats\" namespace\\n      | Deployment name         | \\n      | nats-box                |\\n    And statefulset \"nats\" in namespace \"nats\" is in ready state\\n\\n  Scenario: Monitoring\\n    And namespace \"monitoring\" should exist\\n    And the following deployments are in a ready state in the \"monitoring\" namespace\\n      | Deployment name         | \\n      | loki-gateway | \\n      | otel-collector-opentelemetry-collector | \\n      | vm-aio-grafana | \\n      | vm-aio-kube-state-metrics | \\n      | vm-aio-victoria-metrics-operator | \\n      | vmagent-vm-aio-victoria-metrics-k8s-stack | \\n      | vmalert-vm-aio-victoria-metrics-k8s-stack | \\n      | vmsingle-vm-aio-victoria-metrics-k8s-stack | \\n    And statefulset \"loki\" in namespace \"monitoring\" is in ready state\\n    And statefulset \"tempo\" in namespace \"monitoring\" is in ready state\\n    And statefulset \"vmalertmanager-vm-aio-victoria-metrics-k8s-stack\" in namespace \"monitoring\" is in ready state\\n', media_type='text/x.cucumber.gherkin+plain')","Pickle(id='156', uri='file:features/0_1_mindwm_eda.feature', name='Nats', language='en', steps=[PickleStep(argument=None, ast_node_ids=['50'], id='151', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['51'], id='152', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['103'], id='153', type=<Type.outcome: 'Outcome'>, text='namespace \"nats\" should exist'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='nats-box')])])), ast_node_ids=['106'], id='154', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"nats\" namespace'), PickleStep(argument=None, ast_node_ids=['107'], id='155', type=<Type.outcome: 'Outcome'>, text='statefulset \"nats\" in namespace \"nats\" is in ready state')], tags=[PickleTag(name='@eda', ast_node_id='124')], ast_node_ids=['108'])"],"tags":["eda","pytest_bdd_scenario","@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')","scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/0_1_mindwm_eda.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=<FeaturePathType.PATH: 'path'>, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())","namespace(create=False, name='default')"]},{"name":"test_scenarios[file:features/6_mindwm_two_hosts_one_user.feature-MindWM two hosts one user function test-Send iodocument via nats host: workstation01, user: shesha and check that second host received graph the update[table_rows:[line: 88]]]","uid":"9c907b17affb4350","parentUid":"3961740595044ffd97a03e46799bfc30","status":"passed","time":{"start":1728404355662,"stop":1728404381048,"duration":25386},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["Feature(gherkin_document=GherkinDocument(uri='file:features/6_mindwm_two_hosts_one_user.feature', feature=Feature(location=Location(line=3, column=1), tags=[Tag(location=Location(line=1, column=1), name='@mindwm_two_hosts_one_user', id='666'), Tag(location=Location(line=2, column=1), name='@mindwm_test', id='667')], language='en', keyword='Feature', name='MindWM two hosts one user function test', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='598'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='599')], id='600'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Create context <context> and user <username>', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='601'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='602'), Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='603'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='iocontext')], id='604'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='pong')], id='605'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='kafka-cdc')], id='606')]), id='607'), Step(location=Location(line=16, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='608'), Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='609'), Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='610')], examples=[Examples(location=Location(line=22, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=23, column=5), cells=[TableCell(location=Location(line=23, column=7), value='context'), TableCell(location=Location(line=23, column=18), value='username')], id='611'), table_body=[TableRow(location=Location(line=24, column=5), cells=[TableCell(location=Location(line=24, column=7), value='varanasi'), TableCell(location=Location(line=24, column=18), value='shesha')], id='612')], id='613')], id='614')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=26, column=3), tags=[], keyword='Scenario', name='Create <host> for user <username>', description='', steps=[Step(location=Location(line=28, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='615'), Step(location=Location(line=29, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='616')], examples=[Examples(location=Location(line=31, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=32, column=5), cells=[TableCell(location=Location(line=32, column=7), value='username'), TableCell(location=Location(line=32, column=18), value='host')], id='617'), table_body=[TableRow(location=Location(line=33, column=5), cells=[TableCell(location=Location(line=33, column=7), value='shesha'), TableCell(location=Location(line=33, column=18), value='workstation01')], id='618'), TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='shesha'), TableCell(location=Location(line=34, column=18), value='travellaptop')], id='619')], id='620')], id='621')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=37, column=3), tags=[], keyword='Scenario', name='Send ping via nats host: <host>, user: <username>', description='', steps=[Step(location=Location(line=38, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='622'), Step(location=Location(line=39, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='623'), Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='624'), Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='625'), Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='626'), Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=44, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='627'), Step(location=Location(line=53, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=54, column=7), rows=[TableRow(location=Location(line=54, column=7), cells=[TableCell(location=Location(line=54, column=9), value='Deployment name')], id='628'), TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='pong-00001-deployment')], id='629')]), id='630'), Step(location=Location(line=57, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='631')], examples=[Examples(location=Location(line=59, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=60, column=6), cells=[TableCell(location=Location(line=60, column=8), value='context'), TableCell(location=Location(line=60, column=18), value='username'), TableCell(location=Location(line=60, column=31), value='host'), TableCell(location=Location(line=60, column=43), value='tmux_pane'), TableCell(location=Location(line=60, column=55), value='tmux_window'), TableCell(location=Location(line=60, column=69), value='uuid'), TableCell(location=Location(line=60, column=109), value='tmux_socket')], id='632'), table_body=[TableRow(location=Location(line=61, column=6), cells=[TableCell(location=Location(line=61, column=8), value='varanasi'), TableCell(location=Location(line=61, column=20), value='shesha'), TableCell(location=Location(line=61, column=31), value='workstation01'), TableCell(location=Location(line=61, column=48), value='23'), TableCell(location=Location(line=61, column=60), value='36'), TableCell(location=Location(line=61, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=61, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='633'), TableRow(location=Location(line=62, column=6), cells=[TableCell(location=Location(line=62, column=8), value='varanasi'), TableCell(location=Location(line=62, column=20), value='shesha'), TableCell(location=Location(line=62, column=31), value='travellaptop'), TableCell(location=Location(line=62, column=47), value='23'), TableCell(location=Location(line=62, column=59), value='36'), TableCell(location=Location(line=62, column=73), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=62, column=112), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='634')], id='635')], id='636')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=64, column=3), tags=[], keyword='Scenario', name='Send iodocument via nats host: <host>, user: <username> and check that second host received graph the update', description='', steps=[Step(location=Location(line=65, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='637'), Step(location=Location(line=66, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='638'), Step(location=Location(line=67, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='639'), Step(location=Location(line=68, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='640'), Step(location=Location(line=69, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=70, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='641'), Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=80, column=7), rows=[TableRow(location=Location(line=80, column=7), cells=[TableCell(location=Location(line=80, column=9), value='Deployment name')], id='642'), TableRow(location=Location(line=81, column=7), cells=[TableCell(location=Location(line=81, column=9), value='iocontext-00001-deployment')], id='643'), TableRow(location=Location(line=82, column=7), cells=[TableCell(location=Location(line=82, column=9), value='kafka-cdc-00001-deployment')], id='644')]), id='645'), Step(location=Location(line=84, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.travellaptop-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='646')], examples=[Examples(location=Location(line=86, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=87, column=6), cells=[TableCell(location=Location(line=87, column=8), value='context'), TableCell(location=Location(line=87, column=18), value='username'), TableCell(location=Location(line=87, column=31), value='host'), TableCell(location=Location(line=87, column=43), value='tmux_pane'), TableCell(location=Location(line=87, column=55), value='tmux_window'), TableCell(location=Location(line=87, column=69), value='uuid'), TableCell(location=Location(line=87, column=109), value='tmux_socket')], id='647'), table_body=[TableRow(location=Location(line=88, column=6), cells=[TableCell(location=Location(line=88, column=8), value='varanasi'), TableCell(location=Location(line=88, column=20), value='shesha'), TableCell(location=Location(line=88, column=31), value='workstation01'), TableCell(location=Location(line=88, column=48), value='23'), TableCell(location=Location(line=88, column=60), value='36'), TableCell(location=Location(line=88, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=88, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='648')], id='649')], id='650')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=92, column=3), tags=[], keyword='Scenario', name='Cleanup hosts <host> in user <username>', description='', steps=[Step(location=Location(line=93, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='651'), Step(location=Location(line=94, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='652')], examples=[Examples(location=Location(line=96, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=97, column=5), cells=[TableCell(location=Location(line=97, column=7), value='username'), TableCell(location=Location(line=97, column=18), value='host')], id='653'), table_body=[TableRow(location=Location(line=98, column=5), cells=[TableCell(location=Location(line=98, column=7), value='shesha'), TableCell(location=Location(line=98, column=18), value='workstation01')], id='654'), TableRow(location=Location(line=99, column=5), cells=[TableCell(location=Location(line=99, column=7), value='shesha'), TableCell(location=Location(line=99, column=18), value='travellaptop')], id='655')], id='656')], id='657')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=101, column=3), tags=[], keyword='Scenario', name='Cleanup user <username> and context <context>', description='', steps=[Step(location=Location(line=102, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='658'), Step(location=Location(line=103, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='659'), Step(location=Location(line=105, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='660'), Step(location=Location(line=106, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='661')], examples=[Examples(location=Location(line=108, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=109, column=5), cells=[TableCell(location=Location(line=109, column=7), value='context'), TableCell(location=Location(line=109, column=18), value='username')], id='662'), table_body=[TableRow(location=Location(line=110, column=5), cells=[TableCell(location=Location(line=110, column=7), value='varanasi'), TableCell(location=Location(line=110, column=18), value='shesha')], id='663')], id='664')], id='665'))]), comments=[Comment(location=Location(line=89, column=1), text='     #| varanasi  | shesha   | travellaptop  | 23        | 36          | 8d839f82-79da-11ef-bc9f-f74fac7543ac  |L3RtcC90bXV4LTEwMDAvZGVmYXVsdA== |')]), uri='file:features/6_mindwm_two_hosts_one_user.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/6_mindwm_two_hosts_one_user.feature', registry={'666': Tag(location=Location(line=1, column=1), name='@mindwm_two_hosts_one_user', id='666'), '667': Tag(location=Location(line=2, column=1), name='@mindwm_test', id='667'), '600': Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='598'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='599')], id='600'), '598': Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='598'), '599': Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='599'), '614': Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Create context <context> and user <username>', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='601'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='602'), Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='603'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='iocontext')], id='604'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='pong')], id='605'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='kafka-cdc')], id='606')]), id='607'), Step(location=Location(line=16, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='608'), Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='609'), Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='610')], examples=[Examples(location=Location(line=22, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=23, column=5), cells=[TableCell(location=Location(line=23, column=7), value='context'), TableCell(location=Location(line=23, column=18), value='username')], id='611'), table_body=[TableRow(location=Location(line=24, column=5), cells=[TableCell(location=Location(line=24, column=7), value='varanasi'), TableCell(location=Location(line=24, column=18), value='shesha')], id='612')], id='613')], id='614'), '601': Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='601'), '602': Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='602'), '607': Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='603'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='iocontext')], id='604'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='pong')], id='605'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='kafka-cdc')], id='606')]), id='607'), '608': Step(location=Location(line=16, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='608'), '609': Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='609'), '610': Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='610'), '613': Examples(location=Location(line=22, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=23, column=5), cells=[TableCell(location=Location(line=23, column=7), value='context'), TableCell(location=Location(line=23, column=18), value='username')], id='611'), table_body=[TableRow(location=Location(line=24, column=5), cells=[TableCell(location=Location(line=24, column=7), value='varanasi'), TableCell(location=Location(line=24, column=18), value='shesha')], id='612')], id='613'), '611': TableRow(location=Location(line=23, column=5), cells=[TableCell(location=Location(line=23, column=7), value='context'), TableCell(location=Location(line=23, column=18), value='username')], id='611'), '612': TableRow(location=Location(line=24, column=5), cells=[TableCell(location=Location(line=24, column=7), value='varanasi'), TableCell(location=Location(line=24, column=18), value='shesha')], id='612'), '621': Scenario(location=Location(line=26, column=3), tags=[], keyword='Scenario', name='Create <host> for user <username>', description='', steps=[Step(location=Location(line=28, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='615'), Step(location=Location(line=29, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='616')], examples=[Examples(location=Location(line=31, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=32, column=5), cells=[TableCell(location=Location(line=32, column=7), value='username'), TableCell(location=Location(line=32, column=18), value='host')], id='617'), table_body=[TableRow(location=Location(line=33, column=5), cells=[TableCell(location=Location(line=33, column=7), value='shesha'), TableCell(location=Location(line=33, column=18), value='workstation01')], id='618'), TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='shesha'), TableCell(location=Location(line=34, column=18), value='travellaptop')], id='619')], id='620')], id='621'), '615': Step(location=Location(line=28, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='615'), '616': Step(location=Location(line=29, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='616'), '620': Examples(location=Location(line=31, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=32, column=5), cells=[TableCell(location=Location(line=32, column=7), value='username'), TableCell(location=Location(line=32, column=18), value='host')], id='617'), table_body=[TableRow(location=Location(line=33, column=5), cells=[TableCell(location=Location(line=33, column=7), value='shesha'), TableCell(location=Location(line=33, column=18), value='workstation01')], id='618'), TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='shesha'), TableCell(location=Location(line=34, column=18), value='travellaptop')], id='619')], id='620'), '617': TableRow(location=Location(line=32, column=5), cells=[TableCell(location=Location(line=32, column=7), value='username'), TableCell(location=Location(line=32, column=18), value='host')], id='617'), '618': TableRow(location=Location(line=33, column=5), cells=[TableCell(location=Location(line=33, column=7), value='shesha'), TableCell(location=Location(line=33, column=18), value='workstation01')], id='618'), '619': TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='shesha'), TableCell(location=Location(line=34, column=18), value='travellaptop')], id='619'), '636': Scenario(location=Location(line=37, column=3), tags=[], keyword='Scenario', name='Send ping via nats host: <host>, user: <username>', description='', steps=[Step(location=Location(line=38, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='622'), Step(location=Location(line=39, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='623'), Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='624'), Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='625'), Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='626'), Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=44, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='627'), Step(location=Location(line=53, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=54, column=7), rows=[TableRow(location=Location(line=54, column=7), cells=[TableCell(location=Location(line=54, column=9), value='Deployment name')], id='628'), TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='pong-00001-deployment')], id='629')]), id='630'), Step(location=Location(line=57, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='631')], examples=[Examples(location=Location(line=59, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=60, column=6), cells=[TableCell(location=Location(line=60, column=8), value='context'), TableCell(location=Location(line=60, column=18), value='username'), TableCell(location=Location(line=60, column=31), value='host'), TableCell(location=Location(line=60, column=43), value='tmux_pane'), TableCell(location=Location(line=60, column=55), value='tmux_window'), TableCell(location=Location(line=60, column=69), value='uuid'), TableCell(location=Location(line=60, column=109), value='tmux_socket')], id='632'), table_body=[TableRow(location=Location(line=61, column=6), cells=[TableCell(location=Location(line=61, column=8), value='varanasi'), TableCell(location=Location(line=61, column=20), value='shesha'), TableCell(location=Location(line=61, column=31), value='workstation01'), TableCell(location=Location(line=61, column=48), value='23'), TableCell(location=Location(line=61, column=60), value='36'), TableCell(location=Location(line=61, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=61, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='633'), TableRow(location=Location(line=62, column=6), cells=[TableCell(location=Location(line=62, column=8), value='varanasi'), TableCell(location=Location(line=62, column=20), value='shesha'), TableCell(location=Location(line=62, column=31), value='travellaptop'), TableCell(location=Location(line=62, column=47), value='23'), TableCell(location=Location(line=62, column=59), value='36'), TableCell(location=Location(line=62, column=73), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=62, column=112), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='634')], id='635')], id='636'), '622': Step(location=Location(line=38, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='622'), '623': Step(location=Location(line=39, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='623'), '624': Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='624'), '625': Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='625'), '626': Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='626'), '627': Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=44, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='627'), '630': Step(location=Location(line=53, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=54, column=7), rows=[TableRow(location=Location(line=54, column=7), cells=[TableCell(location=Location(line=54, column=9), value='Deployment name')], id='628'), TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='pong-00001-deployment')], id='629')]), id='630'), '631': Step(location=Location(line=57, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='631'), '635': Examples(location=Location(line=59, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=60, column=6), cells=[TableCell(location=Location(line=60, column=8), value='context'), TableCell(location=Location(line=60, column=18), value='username'), TableCell(location=Location(line=60, column=31), value='host'), TableCell(location=Location(line=60, column=43), value='tmux_pane'), TableCell(location=Location(line=60, column=55), value='tmux_window'), TableCell(location=Location(line=60, column=69), value='uuid'), TableCell(location=Location(line=60, column=109), value='tmux_socket')], id='632'), table_body=[TableRow(location=Location(line=61, column=6), cells=[TableCell(location=Location(line=61, column=8), value='varanasi'), TableCell(location=Location(line=61, column=20), value='shesha'), TableCell(location=Location(line=61, column=31), value='workstation01'), TableCell(location=Location(line=61, column=48), value='23'), TableCell(location=Location(line=61, column=60), value='36'), TableCell(location=Location(line=61, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=61, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='633'), TableRow(location=Location(line=62, column=6), cells=[TableCell(location=Location(line=62, column=8), value='varanasi'), TableCell(location=Location(line=62, column=20), value='shesha'), TableCell(location=Location(line=62, column=31), value='travellaptop'), TableCell(location=Location(line=62, column=47), value='23'), TableCell(location=Location(line=62, column=59), value='36'), TableCell(location=Location(line=62, column=73), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=62, column=112), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='634')], id='635'), '632': TableRow(location=Location(line=60, column=6), cells=[TableCell(location=Location(line=60, column=8), value='context'), TableCell(location=Location(line=60, column=18), value='username'), TableCell(location=Location(line=60, column=31), value='host'), TableCell(location=Location(line=60, column=43), value='tmux_pane'), TableCell(location=Location(line=60, column=55), value='tmux_window'), TableCell(location=Location(line=60, column=69), value='uuid'), TableCell(location=Location(line=60, column=109), value='tmux_socket')], id='632'), '633': TableRow(location=Location(line=61, column=6), cells=[TableCell(location=Location(line=61, column=8), value='varanasi'), TableCell(location=Location(line=61, column=20), value='shesha'), TableCell(location=Location(line=61, column=31), value='workstation01'), TableCell(location=Location(line=61, column=48), value='23'), TableCell(location=Location(line=61, column=60), value='36'), TableCell(location=Location(line=61, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=61, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='633'), '634': TableRow(location=Location(line=62, column=6), cells=[TableCell(location=Location(line=62, column=8), value='varanasi'), TableCell(location=Location(line=62, column=20), value='shesha'), TableCell(location=Location(line=62, column=31), value='travellaptop'), TableCell(location=Location(line=62, column=47), value='23'), TableCell(location=Location(line=62, column=59), value='36'), TableCell(location=Location(line=62, column=73), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=62, column=112), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='634'), '650': Scenario(location=Location(line=64, column=3), tags=[], keyword='Scenario', name='Send iodocument via nats host: <host>, user: <username> and check that second host received graph the update', description='', steps=[Step(location=Location(line=65, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='637'), Step(location=Location(line=66, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='638'), Step(location=Location(line=67, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='639'), Step(location=Location(line=68, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='640'), Step(location=Location(line=69, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=70, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='641'), Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=80, column=7), rows=[TableRow(location=Location(line=80, column=7), cells=[TableCell(location=Location(line=80, column=9), value='Deployment name')], id='642'), TableRow(location=Location(line=81, column=7), cells=[TableCell(location=Location(line=81, column=9), value='iocontext-00001-deployment')], id='643'), TableRow(location=Location(line=82, column=7), cells=[TableCell(location=Location(line=82, column=9), value='kafka-cdc-00001-deployment')], id='644')]), id='645'), Step(location=Location(line=84, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.travellaptop-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='646')], examples=[Examples(location=Location(line=86, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=87, column=6), cells=[TableCell(location=Location(line=87, column=8), value='context'), TableCell(location=Location(line=87, column=18), value='username'), TableCell(location=Location(line=87, column=31), value='host'), TableCell(location=Location(line=87, column=43), value='tmux_pane'), TableCell(location=Location(line=87, column=55), value='tmux_window'), TableCell(location=Location(line=87, column=69), value='uuid'), TableCell(location=Location(line=87, column=109), value='tmux_socket')], id='647'), table_body=[TableRow(location=Location(line=88, column=6), cells=[TableCell(location=Location(line=88, column=8), value='varanasi'), TableCell(location=Location(line=88, column=20), value='shesha'), TableCell(location=Location(line=88, column=31), value='workstation01'), TableCell(location=Location(line=88, column=48), value='23'), TableCell(location=Location(line=88, column=60), value='36'), TableCell(location=Location(line=88, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=88, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='648')], id='649')], id='650'), '637': Step(location=Location(line=65, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='637'), '638': Step(location=Location(line=66, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='638'), '639': Step(location=Location(line=67, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='639'), '640': Step(location=Location(line=68, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='640'), '641': Step(location=Location(line=69, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=70, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='641'), '645': Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=80, column=7), rows=[TableRow(location=Location(line=80, column=7), cells=[TableCell(location=Location(line=80, column=9), value='Deployment name')], id='642'), TableRow(location=Location(line=81, column=7), cells=[TableCell(location=Location(line=81, column=9), value='iocontext-00001-deployment')], id='643'), TableRow(location=Location(line=82, column=7), cells=[TableCell(location=Location(line=82, column=9), value='kafka-cdc-00001-deployment')], id='644')]), id='645'), '646': Step(location=Location(line=84, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.travellaptop-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='646'), '649': Examples(location=Location(line=86, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=87, column=6), cells=[TableCell(location=Location(line=87, column=8), value='context'), TableCell(location=Location(line=87, column=18), value='username'), TableCell(location=Location(line=87, column=31), value='host'), TableCell(location=Location(line=87, column=43), value='tmux_pane'), TableCell(location=Location(line=87, column=55), value='tmux_window'), TableCell(location=Location(line=87, column=69), value='uuid'), TableCell(location=Location(line=87, column=109), value='tmux_socket')], id='647'), table_body=[TableRow(location=Location(line=88, column=6), cells=[TableCell(location=Location(line=88, column=8), value='varanasi'), TableCell(location=Location(line=88, column=20), value='shesha'), TableCell(location=Location(line=88, column=31), value='workstation01'), TableCell(location=Location(line=88, column=48), value='23'), TableCell(location=Location(line=88, column=60), value='36'), TableCell(location=Location(line=88, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=88, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='648')], id='649'), '647': TableRow(location=Location(line=87, column=6), cells=[TableCell(location=Location(line=87, column=8), value='context'), TableCell(location=Location(line=87, column=18), value='username'), TableCell(location=Location(line=87, column=31), value='host'), TableCell(location=Location(line=87, column=43), value='tmux_pane'), TableCell(location=Location(line=87, column=55), value='tmux_window'), TableCell(location=Location(line=87, column=69), value='uuid'), TableCell(location=Location(line=87, column=109), value='tmux_socket')], id='647'), '648': TableRow(location=Location(line=88, column=6), cells=[TableCell(location=Location(line=88, column=8), value='varanasi'), TableCell(location=Location(line=88, column=20), value='shesha'), TableCell(location=Location(line=88, column=31), value='workstation01'), TableCell(location=Location(line=88, column=48), value='23'), TableCell(location=Location(line=88, column=60), value='36'), TableCell(location=Location(line=88, column=74), value='8d839f82-79da-11ef-bc9f-f74fac7543ac'), TableCell(location=Location(line=88, column=113), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='648'), '657': Scenario(location=Location(line=92, column=3), tags=[], keyword='Scenario', name='Cleanup hosts <host> in user <username>', description='', steps=[Step(location=Location(line=93, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='651'), Step(location=Location(line=94, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='652')], examples=[Examples(location=Location(line=96, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=97, column=5), cells=[TableCell(location=Location(line=97, column=7), value='username'), TableCell(location=Location(line=97, column=18), value='host')], id='653'), table_body=[TableRow(location=Location(line=98, column=5), cells=[TableCell(location=Location(line=98, column=7), value='shesha'), TableCell(location=Location(line=98, column=18), value='workstation01')], id='654'), TableRow(location=Location(line=99, column=5), cells=[TableCell(location=Location(line=99, column=7), value='shesha'), TableCell(location=Location(line=99, column=18), value='travellaptop')], id='655')], id='656')], id='657'), '651': Step(location=Location(line=93, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='651'), '652': Step(location=Location(line=94, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='652'), '656': Examples(location=Location(line=96, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=97, column=5), cells=[TableCell(location=Location(line=97, column=7), value='username'), TableCell(location=Location(line=97, column=18), value='host')], id='653'), table_body=[TableRow(location=Location(line=98, column=5), cells=[TableCell(location=Location(line=98, column=7), value='shesha'), TableCell(location=Location(line=98, column=18), value='workstation01')], id='654'), TableRow(location=Location(line=99, column=5), cells=[TableCell(location=Location(line=99, column=7), value='shesha'), TableCell(location=Location(line=99, column=18), value='travellaptop')], id='655')], id='656'), '653': TableRow(location=Location(line=97, column=5), cells=[TableCell(location=Location(line=97, column=7), value='username'), TableCell(location=Location(line=97, column=18), value='host')], id='653'), '654': TableRow(location=Location(line=98, column=5), cells=[TableCell(location=Location(line=98, column=7), value='shesha'), TableCell(location=Location(line=98, column=18), value='workstation01')], id='654'), '655': TableRow(location=Location(line=99, column=5), cells=[TableCell(location=Location(line=99, column=7), value='shesha'), TableCell(location=Location(line=99, column=18), value='travellaptop')], id='655'), '665': Scenario(location=Location(line=101, column=3), tags=[], keyword='Scenario', name='Cleanup user <username> and context <context>', description='', steps=[Step(location=Location(line=102, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='658'), Step(location=Location(line=103, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='659'), Step(location=Location(line=105, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='660'), Step(location=Location(line=106, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='661')], examples=[Examples(location=Location(line=108, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=109, column=5), cells=[TableCell(location=Location(line=109, column=7), value='context'), TableCell(location=Location(line=109, column=18), value='username')], id='662'), table_body=[TableRow(location=Location(line=110, column=5), cells=[TableCell(location=Location(line=110, column=7), value='varanasi'), TableCell(location=Location(line=110, column=18), value='shesha')], id='663')], id='664')], id='665'), '658': Step(location=Location(line=102, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='658'), '659': Step(location=Location(line=103, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='659'), '660': Step(location=Location(line=105, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='660'), '661': Step(location=Location(line=106, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='661'), '664': Examples(location=Location(line=108, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=109, column=5), cells=[TableCell(location=Location(line=109, column=7), value='context'), TableCell(location=Location(line=109, column=18), value='username')], id='662'), table_body=[TableRow(location=Location(line=110, column=5), cells=[TableCell(location=Location(line=110, column=7), value='varanasi'), TableCell(location=Location(line=110, column=18), value='shesha')], id='663')], id='664'), '662': TableRow(location=Location(line=109, column=5), cells=[TableCell(location=Location(line=109, column=7), value='context'), TableCell(location=Location(line=109, column=18), value='username')], id='662'), '663': TableRow(location=Location(line=110, column=5), cells=[TableCell(location=Location(line=110, column=7), value='varanasi'), TableCell(location=Location(line=110, column=18), value='shesha')], id='663')}, pickles=[Pickle(id='676', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Create context varanasi and user shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='668', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='669', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['601', '612'], id='670', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"varanasi\"'), PickleStep(argument=None, ast_node_ids=['602', '612'], id='671', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext')]), PickleTableRow(cells=[PickleTableCell(value='pong')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')])])), ast_node_ids=['607', '612'], id='672', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-varanasi\" namespace'), PickleStep(argument=None, ast_node_ids=['608', '612'], id='673', type=<Type.outcome: 'Outcome'>, text='statefulset \"varanasi-neo4j\" in namespace \"context-varanasi\" is in ready state'), PickleStep(argument=None, ast_node_ids=['609', '612'], id='674', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"shesha\" and connects it to the context \"varanasi\"'), PickleStep(argument=None, ast_node_ids=['610', '612'], id='675', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['614', '612']), Pickle(id='681', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Create workstation01 for user shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='677', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='678', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['615', '618'], id='679', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"workstation01\" and connects it to the user \"shesha\"'), PickleStep(argument=None, ast_node_ids=['616', '618'], id='680', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['621', '618']), Pickle(id='686', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Create travellaptop for user shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='682', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='683', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['615', '619'], id='684', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"travellaptop\" and connects it to the user \"shesha\"'), PickleStep(argument=None, ast_node_ids=['616', '619'], id='685', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['621', '619']), Pickle(id='697', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Send ping via nats host: workstation01, user: shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='687', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='688', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['622', '633'], id='689', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['623', '633'], id='690', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['624', '633'], id='691', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['625', '633'], id='692', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['626', '633'], id='693', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.shesha.workstation01.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['627', '633'], id='694', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.shesha.workstation01.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='pong-00001-deployment')])])), ast_node_ids=['630', '633'], id='695', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-varanasi\" namespace'), PickleStep(argument=None, ast_node_ids=['631', '633'], id='696', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-shesha.workstation01-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['636', '633']), Pickle(id='708', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Send ping via nats host: travellaptop, user: shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='698', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='699', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['622', '634'], id='700', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['623', '634'], id='701', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['624', '634'], id='702', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['625', '634'], id='703', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['626', '634'], id='704', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.shesha.travellaptop.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['627', '634'], id='705', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.shesha.travellaptop.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='pong-00001-deployment')])])), ast_node_ids=['630', '634'], id='706', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-varanasi\" namespace'), PickleStep(argument=None, ast_node_ids=['631', '634'], id='707', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-shesha.travellaptop-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['636', '634']), Pickle(id='718', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Send iodocument via nats host: workstation01, user: shesha and check that second host received graph the update', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='709', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='710', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['637', '648'], id='711', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['638', '648'], id='712', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"id\"'), PickleStep(argument=None, ast_node_ids=['639', '648'], id='713', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['640', '648'], id='714', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.shesha.workstation01.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['641', '648'], id='715', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.shesha.workstation01.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.3623.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-00001-deployment')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-00001-deployment')])])), ast_node_ids=['645', '648'], id='716', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-varanasi\" namespace'), PickleStep(argument=None, ast_node_ids=['646', '648'], id='717', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-shesha.travellaptop-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['650', '648']), Pickle(id='723', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Cleanup hosts workstation01 in user shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='719', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='720', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['651', '654'], id='721', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"workstation01\"'), PickleStep(argument=None, ast_node_ids=['652', '654'], id='722', type=<Type.outcome: 'Outcome'>, text='the host \"workstation01\" should be deleted')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['657', '654']), Pickle(id='728', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Cleanup hosts travellaptop in user shesha', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='724', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='725', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['651', '655'], id='726', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"travellaptop\"'), PickleStep(argument=None, ast_node_ids=['652', '655'], id='727', type=<Type.outcome: 'Outcome'>, text='the host \"travellaptop\" should be deleted')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['657', '655']), Pickle(id='735', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Cleanup user shesha and context varanasi', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='729', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='730', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['658', '663'], id='731', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"shesha\"'), PickleStep(argument=None, ast_node_ids=['659', '663'], id='732', type=<Type.outcome: 'Outcome'>, text='the user \"shesha\" should be deleted'), PickleStep(argument=None, ast_node_ids=['660', '663'], id='733', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"varanasi\"'), PickleStep(argument=None, ast_node_ids=['661', '663'], id='734', type=<Type.outcome: 'Outcome'>, text='the context \"varanasi\" should be deleted')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['665', '663'])])","Source(uri='file:features/6_mindwm_two_hosts_one_user.feature', data='@mindwm_two_hosts_one_user\\n@mindwm_test\\nFeature: MindWM two hosts one user function test\\n  Background:\\n    Given A MindWM environment\\n    Then all nodes in Kubernetes are ready\\n\\n  Scenario: Create context <context> and user <username>\\n    When God creates a MindWM context with the name \"<context>\"\\n    Then the context should be ready and operable\\n    Then the following knative services are in a ready state in the \"context-<context>\" namespace\\n      | Knative service name |\\n      | iocontext            |\\n      | pong                 |\\n      | kafka-cdc            |\\n    And statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state\\n\\n    When God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"\\n    Then the user resource should be ready and operable\\n\\n\\n    Examples:\\n    | context  | username |\\n    | varanasi | shesha   |\\n\\n  Scenario: Create <host> for user <username>\\n\\n    When God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"\\n    Then the host resource should be ready and operable\\n\\n    Examples:\\n    | username | host           |\\n    | shesha   | workstation01  |\\n    | shesha   | travellaptop   |\\n\\n\\n  Scenario: Send ping via nats host: <host>, user: <username>\\n    When God creates a new cloudevent \\n      And God starts reading message from NATS topic \">\"\\n      And sets cloudevent header \"ce-subject\" to \"#ping\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"\\n      And sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"\\n      \"\"\"\\n      {\\n        \"input\": \"#ping\",\\n        \"output\": \"\",\\n        \"ps1\": \"❯\",\\n        \"type\": \"org.mindwm.v1.iodocument\"\\n      } \\n      \"\"\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name       |\\n      | pong-00001-deployment |\\n\\n    And a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"\\n\\n    Examples:\\n     | context | username   | host      | tmux_pane | tmux_window | uuid                                  | tmux_socket                     |\\n     | varanasi  | shesha   | workstation01  | 23        | 36          | 8d839f82-79da-11ef-bc9f-f74fac7543ac  |L3RtcC90bXV4LTEwMDAvZGVmYXVsdA== |\\n     | varanasi  | shesha   | travellaptop  | 23        | 36          | 8d839f82-79da-11ef-bc9f-f74fac7543ac  |L3RtcC90bXV4LTEwMDAvZGVmYXVsdA== |\\n\\n  Scenario: Send iodocument via nats host: <host>, user: <username> and check that second host received graph the update\\n    When God creates a new cloudevent \\n      And sets cloudevent header \"ce-subject\" to \"id\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"\\n      And sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"\\n      \"\"\"\\n      {\\n        \"input\": \"id\",\\n        \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n        \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n        \"type\": \"org.mindwm.v1.iodocument\"\\n      } \\n      \"\"\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name       |\\n      | iocontext-00001-deployment |\\n      | kafka-cdc-00001-deployment |\\n\\n    And a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.travellaptop-host-broker-kne-trigger._knative\"\\n\\n    Examples:\\n     | context | username   | host      | tmux_pane | tmux_window | uuid                                  | tmux_socket                     |\\n     | varanasi  | shesha   | workstation01  | 23        | 36          | 8d839f82-79da-11ef-bc9f-f74fac7543ac  |L3RtcC90bXV4LTEwMDAvZGVmYXVsdA== |\\n     #| varanasi  | shesha   | travellaptop  | 23        | 36          | 8d839f82-79da-11ef-bc9f-f74fac7543ac  |L3RtcC90bXV4LTEwMDAvZGVmYXVsdA== |\\n\\n\\n  Scenario: Cleanup hosts <host> in user <username>\\n    When God deletes the MindWM host resource \"<host>\"\\n    Then the host \"<host>\" should be deleted\\n\\n    Examples:\\n    | username | host           |\\n    | shesha   | workstation01  |\\n    | shesha   | travellaptop   |\\n\\n  Scenario: Cleanup user <username> and context <context>\\n    When God deletes the MindWM user resource \"<username>\"\\n    Then the user \"<username>\" should be deleted\\n\\n    When God deletes the MindWM context resource \"<context>\"\\n    Then the context \"<context>\" should be deleted\\n\\n    Examples:\\n    | context  | username |\\n    | varanasi | shesha   |\\n', media_type='text/x.cucumber.gherkin+plain')","Pickle(id='718', uri='file:features/6_mindwm_two_hosts_one_user.feature', name='Send iodocument via nats host: workstation01, user: shesha and check that second host received graph the update', language='en', steps=[PickleStep(argument=None, ast_node_ids=['598'], id='709', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['599'], id='710', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['637', '648'], id='711', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['638', '648'], id='712', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"id\"'), PickleStep(argument=None, ast_node_ids=['639', '648'], id='713', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['640', '648'], id='714', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.shesha.workstation01.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['641', '648'], id='715', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.shesha.workstation01.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.3623.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-00001-deployment')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-00001-deployment')])])), ast_node_ids=['645', '648'], id='716', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-varanasi\" namespace'), PickleStep(argument=None, ast_node_ids=['646', '648'], id='717', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-shesha.travellaptop-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_two_hosts_one_user', ast_node_id='666'), PickleTag(name='@mindwm_test', ast_node_id='667')], ast_node_ids=['650', '648'])"],"tags":["scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/6_mindwm_two_hosts_one_user.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=<FeaturePathType.PATH: 'path'>, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())","mindwm_two_hosts_one_user","pytest_bdd_scenario","@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')","mindwm_test","namespace(create=False, name='default')"]},{"name":"test_scenarios[file:features/0_1_mindwm_eda.feature-Mindwm event driven architecture-Knative]","uid":"160f9ed70d5443a3","parentUid":"3961740595044ffd97a03e46799bfc30","status":"passed","time":{"start":1728403417633,"stop":1728403418183,"duration":550},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["Feature(gherkin_document=GherkinDocument(uri='file:features/0_1_mindwm_eda.feature', feature=Feature(location=Location(line=2, column=1), tags=[Tag(location=Location(line=1, column=1), name='@eda', id='124')], language='en', keyword='Feature', name='Mindwm event driven architecture', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=3, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=4, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='50'), Step(location=Location(line=5, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='51')], id='52'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=7, column=3), tags=[], keyword='Scenario', name='Knative', description='', steps=[Step(location=Location(line=8, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"knative-serving\" should exist', doc_string=None, data_table=None, id='53'), Step(location=Location(line=9, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"knative-eventing\" should exist', doc_string=None, data_table=None, id='54'), Step(location=Location(line=10, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"knative-operator\" should exist', doc_string=None, data_table=None, id='55'), Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"knative-serving\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Deployment name')], id='56'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='activator')], id='57'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='autoscaler')], id='58'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='autoscaler-hpa')], id='59'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='controller')], id='60'), TableRow(location=Location(line=17, column=7), cells=[TableCell(location=Location(line=17, column=9), value='net-istio-controller')], id='61'), TableRow(location=Location(line=18, column=7), cells=[TableCell(location=Location(line=18, column=9), value='net-istio-webhook')], id='62'), TableRow(location=Location(line=19, column=7), cells=[TableCell(location=Location(line=19, column=9), value='webhook')], id='63')]), id='64'), Step(location=Location(line=20, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"knative-eventing\" namespace', doc_string=None, data_table=DataTable(location=Location(line=21, column=7), rows=[TableRow(location=Location(line=21, column=7), cells=[TableCell(location=Location(line=21, column=9), value='Deployment name')], id='65'), TableRow(location=Location(line=22, column=7), cells=[TableCell(location=Location(line=22, column=9), value='eventing-controller')], id='66'), TableRow(location=Location(line=23, column=7), cells=[TableCell(location=Location(line=23, column=9), value='eventing-webhook')], id='67'), TableRow(location=Location(line=24, column=7), cells=[TableCell(location=Location(line=24, column=9), value='imc-dispatcher')], id='68'), TableRow(location=Location(line=25, column=7), cells=[TableCell(location=Location(line=25, column=9), value='imc-controller')], id='69'), TableRow(location=Location(line=26, column=7), cells=[TableCell(location=Location(line=26, column=9), value='jetstream-ch-controller')], id='70'), TableRow(location=Location(line=27, column=7), cells=[TableCell(location=Location(line=27, column=9), value='job-sink')], id='71'), TableRow(location=Location(line=28, column=7), cells=[TableCell(location=Location(line=28, column=9), value='kafka-controller')], id='72'), TableRow(location=Location(line=29, column=7), cells=[TableCell(location=Location(line=29, column=9), value='kafka-webhook-eventing')], id='73'), TableRow(location=Location(line=30, column=7), cells=[TableCell(location=Location(line=30, column=9), value='mt-broker-controller')], id='74'), TableRow(location=Location(line=31, column=7), cells=[TableCell(location=Location(line=31, column=9), value='mt-broker-filter')], id='75'), TableRow(location=Location(line=32, column=7), cells=[TableCell(location=Location(line=32, column=9), value='mt-broker-ingress')], id='76'), TableRow(location=Location(line=33, column=7), cells=[TableCell(location=Location(line=33, column=9), value='nats-webhook')], id='77')]), id='78')], examples=[], id='79')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=36, column=3), tags=[], keyword='Scenario', name='Istio', description='', steps=[Step(location=Location(line=37, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"istio-system\" should exist', doc_string=None, data_table=None, id='80'), Step(location=Location(line=38, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"istio-system\" namespace', doc_string=None, data_table=DataTable(location=Location(line=39, column=7), rows=[TableRow(location=Location(line=39, column=7), cells=[TableCell(location=Location(line=39, column=9), value='Deployment name')], id='81'), TableRow(location=Location(line=40, column=7), cells=[TableCell(location=Location(line=40, column=9), value='istiod')], id='82'), TableRow(location=Location(line=41, column=7), cells=[TableCell(location=Location(line=41, column=9), value='istio-ingressgateway')], id='83')]), id='84')], examples=[], id='85')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=43, column=3), tags=[], keyword='Scenario', name='Redpanda', description='', steps=[Step(location=Location(line=44, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"redpanda\" should exist', doc_string=None, data_table=None, id='86'), Step(location=Location(line=45, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"redpanda\" namespace', doc_string=None, data_table=DataTable(location=Location(line=46, column=7), rows=[TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='Deployment name')], id='87'), TableRow(location=Location(line=47, column=7), cells=[TableCell(location=Location(line=47, column=9), value='redpanda-operator')], id='88')]), id='89'), Step(location=Location(line=48, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='helm release \"neo4j-cdc\" is deployed in \"redpanda\" namespace', doc_string=None, data_table=None, id='90'), Step(location=Location(line=49, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"neo4j-cdc\" in namespace \"redpanda\" is in ready state', doc_string=None, data_table=None, id='91'), Step(location=Location(line=50, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"redpanda\" namespace', doc_string=None, data_table=DataTable(location=Location(line=51, column=7), rows=[TableRow(location=Location(line=51, column=7), cells=[TableCell(location=Location(line=51, column=9), value='Deployment name')], id='92'), TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='neo4j-cdc-console')], id='93')]), id='94')], examples=[], id='95')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=54, column=3), tags=[], keyword='Scenario', name='Cert manager', description='', steps=[Step(location=Location(line=55, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"cert-manager\" should exist', doc_string=None, data_table=None, id='96'), Step(location=Location(line=56, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"cert-manager\" namespace', doc_string=None, data_table=DataTable(location=Location(line=57, column=7), rows=[TableRow(location=Location(line=57, column=7), cells=[TableCell(location=Location(line=57, column=9), value='Deployment name')], id='97'), TableRow(location=Location(line=58, column=7), cells=[TableCell(location=Location(line=58, column=9), value='cert-manager')], id='98'), TableRow(location=Location(line=59, column=7), cells=[TableCell(location=Location(line=59, column=9), value='cert-manager-cainjector')], id='99'), TableRow(location=Location(line=60, column=7), cells=[TableCell(location=Location(line=60, column=9), value='cert-manager-webhook')], id='100')]), id='101')], examples=[], id='102')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=62, column=3), tags=[], keyword='Scenario', name='Nats', description='', steps=[Step(location=Location(line=63, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"nats\" should exist', doc_string=None, data_table=None, id='103'), Step(location=Location(line=64, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"nats\" namespace', doc_string=None, data_table=DataTable(location=Location(line=65, column=7), rows=[TableRow(location=Location(line=65, column=7), cells=[TableCell(location=Location(line=65, column=9), value='Deployment name')], id='104'), TableRow(location=Location(line=66, column=7), cells=[TableCell(location=Location(line=66, column=9), value='nats-box')], id='105')]), id='106'), Step(location=Location(line=67, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"nats\" in namespace \"nats\" is in ready state', doc_string=None, data_table=None, id='107')], examples=[], id='108')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=69, column=3), tags=[], keyword='Scenario', name='Monitoring', description='', steps=[Step(location=Location(line=70, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"monitoring\" should exist', doc_string=None, data_table=None, id='109'), Step(location=Location(line=71, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"monitoring\" namespace', doc_string=None, data_table=DataTable(location=Location(line=72, column=7), rows=[TableRow(location=Location(line=72, column=7), cells=[TableCell(location=Location(line=72, column=9), value='Deployment name')], id='110'), TableRow(location=Location(line=73, column=7), cells=[TableCell(location=Location(line=73, column=9), value='loki-gateway')], id='111'), TableRow(location=Location(line=74, column=7), cells=[TableCell(location=Location(line=74, column=9), value='otel-collector-opentelemetry-collector')], id='112'), TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='vm-aio-grafana')], id='113'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='vm-aio-kube-state-metrics')], id='114'), TableRow(location=Location(line=77, column=7), cells=[TableCell(location=Location(line=77, column=9), value='vm-aio-victoria-metrics-operator')], id='115'), TableRow(location=Location(line=78, column=7), cells=[TableCell(location=Location(line=78, column=9), value='vmagent-vm-aio-victoria-metrics-k8s-stack')], id='116'), TableRow(location=Location(line=79, column=7), cells=[TableCell(location=Location(line=79, column=9), value='vmalert-vm-aio-victoria-metrics-k8s-stack')], id='117'), TableRow(location=Location(line=80, column=7), cells=[TableCell(location=Location(line=80, column=9), value='vmsingle-vm-aio-victoria-metrics-k8s-stack')], id='118')]), id='119'), Step(location=Location(line=81, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"loki\" in namespace \"monitoring\" is in ready state', doc_string=None, data_table=None, id='120'), Step(location=Location(line=82, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"tempo\" in namespace \"monitoring\" is in ready state', doc_string=None, data_table=None, id='121'), Step(location=Location(line=83, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"vmalertmanager-vm-aio-victoria-metrics-k8s-stack\" in namespace \"monitoring\" is in ready state', doc_string=None, data_table=None, id='122')], examples=[], id='123'))]), comments=[]), uri='file:features/0_1_mindwm_eda.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/0_1_mindwm_eda.feature', registry={'124': Tag(location=Location(line=1, column=1), name='@eda', id='124'), '52': Background(location=Location(line=3, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=4, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='50'), Step(location=Location(line=5, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='51')], id='52'), '50': Step(location=Location(line=4, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='50'), '51': Step(location=Location(line=5, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='51'), '79': Scenario(location=Location(line=7, column=3), tags=[], keyword='Scenario', name='Knative', description='', steps=[Step(location=Location(line=8, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"knative-serving\" should exist', doc_string=None, data_table=None, id='53'), Step(location=Location(line=9, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"knative-eventing\" should exist', doc_string=None, data_table=None, id='54'), Step(location=Location(line=10, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"knative-operator\" should exist', doc_string=None, data_table=None, id='55'), Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"knative-serving\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Deployment name')], id='56'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='activator')], id='57'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='autoscaler')], id='58'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='autoscaler-hpa')], id='59'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='controller')], id='60'), TableRow(location=Location(line=17, column=7), cells=[TableCell(location=Location(line=17, column=9), value='net-istio-controller')], id='61'), TableRow(location=Location(line=18, column=7), cells=[TableCell(location=Location(line=18, column=9), value='net-istio-webhook')], id='62'), TableRow(location=Location(line=19, column=7), cells=[TableCell(location=Location(line=19, column=9), value='webhook')], id='63')]), id='64'), Step(location=Location(line=20, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"knative-eventing\" namespace', doc_string=None, data_table=DataTable(location=Location(line=21, column=7), rows=[TableRow(location=Location(line=21, column=7), cells=[TableCell(location=Location(line=21, column=9), value='Deployment name')], id='65'), TableRow(location=Location(line=22, column=7), cells=[TableCell(location=Location(line=22, column=9), value='eventing-controller')], id='66'), TableRow(location=Location(line=23, column=7), cells=[TableCell(location=Location(line=23, column=9), value='eventing-webhook')], id='67'), TableRow(location=Location(line=24, column=7), cells=[TableCell(location=Location(line=24, column=9), value='imc-dispatcher')], id='68'), TableRow(location=Location(line=25, column=7), cells=[TableCell(location=Location(line=25, column=9), value='imc-controller')], id='69'), TableRow(location=Location(line=26, column=7), cells=[TableCell(location=Location(line=26, column=9), value='jetstream-ch-controller')], id='70'), TableRow(location=Location(line=27, column=7), cells=[TableCell(location=Location(line=27, column=9), value='job-sink')], id='71'), TableRow(location=Location(line=28, column=7), cells=[TableCell(location=Location(line=28, column=9), value='kafka-controller')], id='72'), TableRow(location=Location(line=29, column=7), cells=[TableCell(location=Location(line=29, column=9), value='kafka-webhook-eventing')], id='73'), TableRow(location=Location(line=30, column=7), cells=[TableCell(location=Location(line=30, column=9), value='mt-broker-controller')], id='74'), TableRow(location=Location(line=31, column=7), cells=[TableCell(location=Location(line=31, column=9), value='mt-broker-filter')], id='75'), TableRow(location=Location(line=32, column=7), cells=[TableCell(location=Location(line=32, column=9), value='mt-broker-ingress')], id='76'), TableRow(location=Location(line=33, column=7), cells=[TableCell(location=Location(line=33, column=9), value='nats-webhook')], id='77')]), id='78')], examples=[], id='79'), '53': Step(location=Location(line=8, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"knative-serving\" should exist', doc_string=None, data_table=None, id='53'), '54': Step(location=Location(line=9, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"knative-eventing\" should exist', doc_string=None, data_table=None, id='54'), '55': Step(location=Location(line=10, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"knative-operator\" should exist', doc_string=None, data_table=None, id='55'), '64': Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"knative-serving\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Deployment name')], id='56'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='activator')], id='57'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='autoscaler')], id='58'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='autoscaler-hpa')], id='59'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='controller')], id='60'), TableRow(location=Location(line=17, column=7), cells=[TableCell(location=Location(line=17, column=9), value='net-istio-controller')], id='61'), TableRow(location=Location(line=18, column=7), cells=[TableCell(location=Location(line=18, column=9), value='net-istio-webhook')], id='62'), TableRow(location=Location(line=19, column=7), cells=[TableCell(location=Location(line=19, column=9), value='webhook')], id='63')]), id='64'), '78': Step(location=Location(line=20, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"knative-eventing\" namespace', doc_string=None, data_table=DataTable(location=Location(line=21, column=7), rows=[TableRow(location=Location(line=21, column=7), cells=[TableCell(location=Location(line=21, column=9), value='Deployment name')], id='65'), TableRow(location=Location(line=22, column=7), cells=[TableCell(location=Location(line=22, column=9), value='eventing-controller')], id='66'), TableRow(location=Location(line=23, column=7), cells=[TableCell(location=Location(line=23, column=9), value='eventing-webhook')], id='67'), TableRow(location=Location(line=24, column=7), cells=[TableCell(location=Location(line=24, column=9), value='imc-dispatcher')], id='68'), TableRow(location=Location(line=25, column=7), cells=[TableCell(location=Location(line=25, column=9), value='imc-controller')], id='69'), TableRow(location=Location(line=26, column=7), cells=[TableCell(location=Location(line=26, column=9), value='jetstream-ch-controller')], id='70'), TableRow(location=Location(line=27, column=7), cells=[TableCell(location=Location(line=27, column=9), value='job-sink')], id='71'), TableRow(location=Location(line=28, column=7), cells=[TableCell(location=Location(line=28, column=9), value='kafka-controller')], id='72'), TableRow(location=Location(line=29, column=7), cells=[TableCell(location=Location(line=29, column=9), value='kafka-webhook-eventing')], id='73'), TableRow(location=Location(line=30, column=7), cells=[TableCell(location=Location(line=30, column=9), value='mt-broker-controller')], id='74'), TableRow(location=Location(line=31, column=7), cells=[TableCell(location=Location(line=31, column=9), value='mt-broker-filter')], id='75'), TableRow(location=Location(line=32, column=7), cells=[TableCell(location=Location(line=32, column=9), value='mt-broker-ingress')], id='76'), TableRow(location=Location(line=33, column=7), cells=[TableCell(location=Location(line=33, column=9), value='nats-webhook')], id='77')]), id='78'), '85': Scenario(location=Location(line=36, column=3), tags=[], keyword='Scenario', name='Istio', description='', steps=[Step(location=Location(line=37, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"istio-system\" should exist', doc_string=None, data_table=None, id='80'), Step(location=Location(line=38, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"istio-system\" namespace', doc_string=None, data_table=DataTable(location=Location(line=39, column=7), rows=[TableRow(location=Location(line=39, column=7), cells=[TableCell(location=Location(line=39, column=9), value='Deployment name')], id='81'), TableRow(location=Location(line=40, column=7), cells=[TableCell(location=Location(line=40, column=9), value='istiod')], id='82'), TableRow(location=Location(line=41, column=7), cells=[TableCell(location=Location(line=41, column=9), value='istio-ingressgateway')], id='83')]), id='84')], examples=[], id='85'), '80': Step(location=Location(line=37, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"istio-system\" should exist', doc_string=None, data_table=None, id='80'), '84': Step(location=Location(line=38, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"istio-system\" namespace', doc_string=None, data_table=DataTable(location=Location(line=39, column=7), rows=[TableRow(location=Location(line=39, column=7), cells=[TableCell(location=Location(line=39, column=9), value='Deployment name')], id='81'), TableRow(location=Location(line=40, column=7), cells=[TableCell(location=Location(line=40, column=9), value='istiod')], id='82'), TableRow(location=Location(line=41, column=7), cells=[TableCell(location=Location(line=41, column=9), value='istio-ingressgateway')], id='83')]), id='84'), '95': Scenario(location=Location(line=43, column=3), tags=[], keyword='Scenario', name='Redpanda', description='', steps=[Step(location=Location(line=44, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"redpanda\" should exist', doc_string=None, data_table=None, id='86'), Step(location=Location(line=45, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"redpanda\" namespace', doc_string=None, data_table=DataTable(location=Location(line=46, column=7), rows=[TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='Deployment name')], id='87'), TableRow(location=Location(line=47, column=7), cells=[TableCell(location=Location(line=47, column=9), value='redpanda-operator')], id='88')]), id='89'), Step(location=Location(line=48, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='helm release \"neo4j-cdc\" is deployed in \"redpanda\" namespace', doc_string=None, data_table=None, id='90'), Step(location=Location(line=49, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"neo4j-cdc\" in namespace \"redpanda\" is in ready state', doc_string=None, data_table=None, id='91'), Step(location=Location(line=50, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"redpanda\" namespace', doc_string=None, data_table=DataTable(location=Location(line=51, column=7), rows=[TableRow(location=Location(line=51, column=7), cells=[TableCell(location=Location(line=51, column=9), value='Deployment name')], id='92'), TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='neo4j-cdc-console')], id='93')]), id='94')], examples=[], id='95'), '86': Step(location=Location(line=44, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"redpanda\" should exist', doc_string=None, data_table=None, id='86'), '89': Step(location=Location(line=45, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"redpanda\" namespace', doc_string=None, data_table=DataTable(location=Location(line=46, column=7), rows=[TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='Deployment name')], id='87'), TableRow(location=Location(line=47, column=7), cells=[TableCell(location=Location(line=47, column=9), value='redpanda-operator')], id='88')]), id='89'), '90': Step(location=Location(line=48, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='helm release \"neo4j-cdc\" is deployed in \"redpanda\" namespace', doc_string=None, data_table=None, id='90'), '91': Step(location=Location(line=49, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"neo4j-cdc\" in namespace \"redpanda\" is in ready state', doc_string=None, data_table=None, id='91'), '94': Step(location=Location(line=50, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"redpanda\" namespace', doc_string=None, data_table=DataTable(location=Location(line=51, column=7), rows=[TableRow(location=Location(line=51, column=7), cells=[TableCell(location=Location(line=51, column=9), value='Deployment name')], id='92'), TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='neo4j-cdc-console')], id='93')]), id='94'), '102': Scenario(location=Location(line=54, column=3), tags=[], keyword='Scenario', name='Cert manager', description='', steps=[Step(location=Location(line=55, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"cert-manager\" should exist', doc_string=None, data_table=None, id='96'), Step(location=Location(line=56, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"cert-manager\" namespace', doc_string=None, data_table=DataTable(location=Location(line=57, column=7), rows=[TableRow(location=Location(line=57, column=7), cells=[TableCell(location=Location(line=57, column=9), value='Deployment name')], id='97'), TableRow(location=Location(line=58, column=7), cells=[TableCell(location=Location(line=58, column=9), value='cert-manager')], id='98'), TableRow(location=Location(line=59, column=7), cells=[TableCell(location=Location(line=59, column=9), value='cert-manager-cainjector')], id='99'), TableRow(location=Location(line=60, column=7), cells=[TableCell(location=Location(line=60, column=9), value='cert-manager-webhook')], id='100')]), id='101')], examples=[], id='102'), '96': Step(location=Location(line=55, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"cert-manager\" should exist', doc_string=None, data_table=None, id='96'), '101': Step(location=Location(line=56, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"cert-manager\" namespace', doc_string=None, data_table=DataTable(location=Location(line=57, column=7), rows=[TableRow(location=Location(line=57, column=7), cells=[TableCell(location=Location(line=57, column=9), value='Deployment name')], id='97'), TableRow(location=Location(line=58, column=7), cells=[TableCell(location=Location(line=58, column=9), value='cert-manager')], id='98'), TableRow(location=Location(line=59, column=7), cells=[TableCell(location=Location(line=59, column=9), value='cert-manager-cainjector')], id='99'), TableRow(location=Location(line=60, column=7), cells=[TableCell(location=Location(line=60, column=9), value='cert-manager-webhook')], id='100')]), id='101'), '108': Scenario(location=Location(line=62, column=3), tags=[], keyword='Scenario', name='Nats', description='', steps=[Step(location=Location(line=63, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"nats\" should exist', doc_string=None, data_table=None, id='103'), Step(location=Location(line=64, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"nats\" namespace', doc_string=None, data_table=DataTable(location=Location(line=65, column=7), rows=[TableRow(location=Location(line=65, column=7), cells=[TableCell(location=Location(line=65, column=9), value='Deployment name')], id='104'), TableRow(location=Location(line=66, column=7), cells=[TableCell(location=Location(line=66, column=9), value='nats-box')], id='105')]), id='106'), Step(location=Location(line=67, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"nats\" in namespace \"nats\" is in ready state', doc_string=None, data_table=None, id='107')], examples=[], id='108'), '103': Step(location=Location(line=63, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"nats\" should exist', doc_string=None, data_table=None, id='103'), '106': Step(location=Location(line=64, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"nats\" namespace', doc_string=None, data_table=DataTable(location=Location(line=65, column=7), rows=[TableRow(location=Location(line=65, column=7), cells=[TableCell(location=Location(line=65, column=9), value='Deployment name')], id='104'), TableRow(location=Location(line=66, column=7), cells=[TableCell(location=Location(line=66, column=9), value='nats-box')], id='105')]), id='106'), '107': Step(location=Location(line=67, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"nats\" in namespace \"nats\" is in ready state', doc_string=None, data_table=None, id='107'), '123': Scenario(location=Location(line=69, column=3), tags=[], keyword='Scenario', name='Monitoring', description='', steps=[Step(location=Location(line=70, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"monitoring\" should exist', doc_string=None, data_table=None, id='109'), Step(location=Location(line=71, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"monitoring\" namespace', doc_string=None, data_table=DataTable(location=Location(line=72, column=7), rows=[TableRow(location=Location(line=72, column=7), cells=[TableCell(location=Location(line=72, column=9), value='Deployment name')], id='110'), TableRow(location=Location(line=73, column=7), cells=[TableCell(location=Location(line=73, column=9), value='loki-gateway')], id='111'), TableRow(location=Location(line=74, column=7), cells=[TableCell(location=Location(line=74, column=9), value='otel-collector-opentelemetry-collector')], id='112'), TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='vm-aio-grafana')], id='113'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='vm-aio-kube-state-metrics')], id='114'), TableRow(location=Location(line=77, column=7), cells=[TableCell(location=Location(line=77, column=9), value='vm-aio-victoria-metrics-operator')], id='115'), TableRow(location=Location(line=78, column=7), cells=[TableCell(location=Location(line=78, column=9), value='vmagent-vm-aio-victoria-metrics-k8s-stack')], id='116'), TableRow(location=Location(line=79, column=7), cells=[TableCell(location=Location(line=79, column=9), value='vmalert-vm-aio-victoria-metrics-k8s-stack')], id='117'), TableRow(location=Location(line=80, column=7), cells=[TableCell(location=Location(line=80, column=9), value='vmsingle-vm-aio-victoria-metrics-k8s-stack')], id='118')]), id='119'), Step(location=Location(line=81, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"loki\" in namespace \"monitoring\" is in ready state', doc_string=None, data_table=None, id='120'), Step(location=Location(line=82, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"tempo\" in namespace \"monitoring\" is in ready state', doc_string=None, data_table=None, id='121'), Step(location=Location(line=83, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"vmalertmanager-vm-aio-victoria-metrics-k8s-stack\" in namespace \"monitoring\" is in ready state', doc_string=None, data_table=None, id='122')], examples=[], id='123'), '109': Step(location=Location(line=70, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"monitoring\" should exist', doc_string=None, data_table=None, id='109'), '119': Step(location=Location(line=71, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"monitoring\" namespace', doc_string=None, data_table=DataTable(location=Location(line=72, column=7), rows=[TableRow(location=Location(line=72, column=7), cells=[TableCell(location=Location(line=72, column=9), value='Deployment name')], id='110'), TableRow(location=Location(line=73, column=7), cells=[TableCell(location=Location(line=73, column=9), value='loki-gateway')], id='111'), TableRow(location=Location(line=74, column=7), cells=[TableCell(location=Location(line=74, column=9), value='otel-collector-opentelemetry-collector')], id='112'), TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='vm-aio-grafana')], id='113'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='vm-aio-kube-state-metrics')], id='114'), TableRow(location=Location(line=77, column=7), cells=[TableCell(location=Location(line=77, column=9), value='vm-aio-victoria-metrics-operator')], id='115'), TableRow(location=Location(line=78, column=7), cells=[TableCell(location=Location(line=78, column=9), value='vmagent-vm-aio-victoria-metrics-k8s-stack')], id='116'), TableRow(location=Location(line=79, column=7), cells=[TableCell(location=Location(line=79, column=9), value='vmalert-vm-aio-victoria-metrics-k8s-stack')], id='117'), TableRow(location=Location(line=80, column=7), cells=[TableCell(location=Location(line=80, column=9), value='vmsingle-vm-aio-victoria-metrics-k8s-stack')], id='118')]), id='119'), '120': Step(location=Location(line=81, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"loki\" in namespace \"monitoring\" is in ready state', doc_string=None, data_table=None, id='120'), '121': Step(location=Location(line=82, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"tempo\" in namespace \"monitoring\" is in ready state', doc_string=None, data_table=None, id='121'), '122': Step(location=Location(line=83, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"vmalertmanager-vm-aio-victoria-metrics-k8s-stack\" in namespace \"monitoring\" is in ready state', doc_string=None, data_table=None, id='122')}, pickles=[Pickle(id='132', uri='file:features/0_1_mindwm_eda.feature', name='Knative', language='en', steps=[PickleStep(argument=None, ast_node_ids=['50'], id='125', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['51'], id='126', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['53'], id='127', type=<Type.outcome: 'Outcome'>, text='namespace \"knative-serving\" should exist'), PickleStep(argument=None, ast_node_ids=['54'], id='128', type=<Type.outcome: 'Outcome'>, text='namespace \"knative-eventing\" should exist'), PickleStep(argument=None, ast_node_ids=['55'], id='129', type=<Type.outcome: 'Outcome'>, text='namespace \"knative-operator\" should exist'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='activator')]), PickleTableRow(cells=[PickleTableCell(value='autoscaler')]), PickleTableRow(cells=[PickleTableCell(value='autoscaler-hpa')]), PickleTableRow(cells=[PickleTableCell(value='controller')]), PickleTableRow(cells=[PickleTableCell(value='net-istio-controller')]), PickleTableRow(cells=[PickleTableCell(value='net-istio-webhook')]), PickleTableRow(cells=[PickleTableCell(value='webhook')])])), ast_node_ids=['64'], id='130', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"knative-serving\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='eventing-controller')]), PickleTableRow(cells=[PickleTableCell(value='eventing-webhook')]), PickleTableRow(cells=[PickleTableCell(value='imc-dispatcher')]), PickleTableRow(cells=[PickleTableCell(value='imc-controller')]), PickleTableRow(cells=[PickleTableCell(value='jetstream-ch-controller')]), PickleTableRow(cells=[PickleTableCell(value='job-sink')]), PickleTableRow(cells=[PickleTableCell(value='kafka-controller')]), PickleTableRow(cells=[PickleTableCell(value='kafka-webhook-eventing')]), PickleTableRow(cells=[PickleTableCell(value='mt-broker-controller')]), PickleTableRow(cells=[PickleTableCell(value='mt-broker-filter')]), PickleTableRow(cells=[PickleTableCell(value='mt-broker-ingress')]), PickleTableRow(cells=[PickleTableCell(value='nats-webhook')])])), ast_node_ids=['78'], id='131', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"knative-eventing\" namespace')], tags=[PickleTag(name='@eda', ast_node_id='124')], ast_node_ids=['79']), Pickle(id='137', uri='file:features/0_1_mindwm_eda.feature', name='Istio', language='en', steps=[PickleStep(argument=None, ast_node_ids=['50'], id='133', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['51'], id='134', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['80'], id='135', type=<Type.outcome: 'Outcome'>, text='namespace \"istio-system\" should exist'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='istiod')]), PickleTableRow(cells=[PickleTableCell(value='istio-ingressgateway')])])), ast_node_ids=['84'], id='136', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"istio-system\" namespace')], tags=[PickleTag(name='@eda', ast_node_id='124')], ast_node_ids=['85']), Pickle(id='145', uri='file:features/0_1_mindwm_eda.feature', name='Redpanda', language='en', steps=[PickleStep(argument=None, ast_node_ids=['50'], id='138', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['51'], id='139', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['86'], id='140', type=<Type.outcome: 'Outcome'>, text='namespace \"redpanda\" should exist'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='redpanda-operator')])])), ast_node_ids=['89'], id='141', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"redpanda\" namespace'), PickleStep(argument=None, ast_node_ids=['90'], id='142', type=<Type.outcome: 'Outcome'>, text='helm release \"neo4j-cdc\" is deployed in \"redpanda\" namespace'), PickleStep(argument=None, ast_node_ids=['91'], id='143', type=<Type.outcome: 'Outcome'>, text='statefulset \"neo4j-cdc\" in namespace \"redpanda\" is in ready state'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='neo4j-cdc-console')])])), ast_node_ids=['94'], id='144', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"redpanda\" namespace')], tags=[PickleTag(name='@eda', ast_node_id='124')], ast_node_ids=['95']), Pickle(id='150', uri='file:features/0_1_mindwm_eda.feature', name='Cert manager', language='en', steps=[PickleStep(argument=None, ast_node_ids=['50'], id='146', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['51'], id='147', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['96'], id='148', type=<Type.outcome: 'Outcome'>, text='namespace \"cert-manager\" should exist'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='cert-manager')]), PickleTableRow(cells=[PickleTableCell(value='cert-manager-cainjector')]), PickleTableRow(cells=[PickleTableCell(value='cert-manager-webhook')])])), ast_node_ids=['101'], id='149', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"cert-manager\" namespace')], tags=[PickleTag(name='@eda', ast_node_id='124')], ast_node_ids=['102']), Pickle(id='156', uri='file:features/0_1_mindwm_eda.feature', name='Nats', language='en', steps=[PickleStep(argument=None, ast_node_ids=['50'], id='151', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['51'], id='152', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['103'], id='153', type=<Type.outcome: 'Outcome'>, text='namespace \"nats\" should exist'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='nats-box')])])), ast_node_ids=['106'], id='154', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"nats\" namespace'), PickleStep(argument=None, ast_node_ids=['107'], id='155', type=<Type.outcome: 'Outcome'>, text='statefulset \"nats\" in namespace \"nats\" is in ready state')], tags=[PickleTag(name='@eda', ast_node_id='124')], ast_node_ids=['108']), Pickle(id='164', uri='file:features/0_1_mindwm_eda.feature', name='Monitoring', language='en', steps=[PickleStep(argument=None, ast_node_ids=['50'], id='157', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['51'], id='158', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['109'], id='159', type=<Type.outcome: 'Outcome'>, text='namespace \"monitoring\" should exist'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='loki-gateway')]), PickleTableRow(cells=[PickleTableCell(value='otel-collector-opentelemetry-collector')]), PickleTableRow(cells=[PickleTableCell(value='vm-aio-grafana')]), PickleTableRow(cells=[PickleTableCell(value='vm-aio-kube-state-metrics')]), PickleTableRow(cells=[PickleTableCell(value='vm-aio-victoria-metrics-operator')]), PickleTableRow(cells=[PickleTableCell(value='vmagent-vm-aio-victoria-metrics-k8s-stack')]), PickleTableRow(cells=[PickleTableCell(value='vmalert-vm-aio-victoria-metrics-k8s-stack')]), PickleTableRow(cells=[PickleTableCell(value='vmsingle-vm-aio-victoria-metrics-k8s-stack')])])), ast_node_ids=['119'], id='160', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"monitoring\" namespace'), PickleStep(argument=None, ast_node_ids=['120'], id='161', type=<Type.outcome: 'Outcome'>, text='statefulset \"loki\" in namespace \"monitoring\" is in ready state'), PickleStep(argument=None, ast_node_ids=['121'], id='162', type=<Type.outcome: 'Outcome'>, text='statefulset \"tempo\" in namespace \"monitoring\" is in ready state'), PickleStep(argument=None, ast_node_ids=['122'], id='163', type=<Type.outcome: 'Outcome'>, text='statefulset \"vmalertmanager-vm-aio-victoria-metrics-k8s-stack\" in namespace \"monitoring\" is in ready state')], tags=[PickleTag(name='@eda', ast_node_id='124')], ast_node_ids=['123'])])","Source(uri='file:features/0_1_mindwm_eda.feature', data='@eda\\nFeature: Mindwm event driven architecture\\n  Background:\\n    Given a MindWM environment\\n    Then all nodes in Kubernetes are ready\\n\\n  Scenario: Knative\\n    And namespace \"knative-serving\" should exist\\n    And namespace \"knative-eventing\" should exist\\n    And namespace \"knative-operator\" should exist\\n    And the following deployments are in a ready state in the \"knative-serving\" namespace\\n      | Deployment name      | \\n      | activator            |\\n      | autoscaler           |\\n      | autoscaler-hpa       | \\n      | controller           |\\n      | net-istio-controller |\\n      | net-istio-webhook    |\\n      | webhook              |\\n    And the following deployments are in a ready state in the \"knative-eventing\" namespace\\n      | Deployment name         | \\n      | eventing-controller     |\\n      | eventing-webhook        |\\n      | imc-dispatcher          |\\n      | imc-controller          |\\n      | jetstream-ch-controller |\\n      | job-sink \\t\\t|\\n      | kafka-controller        |\\n      | kafka-webhook-eventing  |\\n      | mt-broker-controller    |\\n      | mt-broker-filter        |\\n      | mt-broker-ingress       |\\n      | nats-webhook            |\\n   \\n\\n  Scenario: Istio\\n    And namespace \"istio-system\" should exist\\n    And the following deployments are in a ready state in the \"istio-system\" namespace\\n      | Deployment name         | \\n      | istiod                  |\\n      | istio-ingressgateway    |\\n\\n  Scenario: Redpanda\\n    And namespace \"redpanda\" should exist\\n    And the following deployments are in a ready state in the \"redpanda\" namespace\\n      | Deployment name         | \\n      | redpanda-operator       |\\n    And helm release \"neo4j-cdc\" is deployed in \"redpanda\" namespace\\n    And statefulset \"neo4j-cdc\" in namespace \"redpanda\" is in ready state\\n    And the following deployments are in a ready state in the \"redpanda\" namespace\\n      | Deployment name         | \\n      | neo4j-cdc-console       |\\n\\n  Scenario: Cert manager\\n    And namespace \"cert-manager\" should exist\\n    And the following deployments are in a ready state in the \"cert-manager\" namespace\\n      | Deployment name          | \\n      | cert-manager             |\\n      | cert-manager-cainjector |\\n      | cert-manager-webhook     |\\n\\n  Scenario: Nats\\n    And namespace \"nats\" should exist\\n    And the following deployments are in a ready state in the \"nats\" namespace\\n      | Deployment name         | \\n      | nats-box                |\\n    And statefulset \"nats\" in namespace \"nats\" is in ready state\\n\\n  Scenario: Monitoring\\n    And namespace \"monitoring\" should exist\\n    And the following deployments are in a ready state in the \"monitoring\" namespace\\n      | Deployment name         | \\n      | loki-gateway | \\n      | otel-collector-opentelemetry-collector | \\n      | vm-aio-grafana | \\n      | vm-aio-kube-state-metrics | \\n      | vm-aio-victoria-metrics-operator | \\n      | vmagent-vm-aio-victoria-metrics-k8s-stack | \\n      | vmalert-vm-aio-victoria-metrics-k8s-stack | \\n      | vmsingle-vm-aio-victoria-metrics-k8s-stack | \\n    And statefulset \"loki\" in namespace \"monitoring\" is in ready state\\n    And statefulset \"tempo\" in namespace \"monitoring\" is in ready state\\n    And statefulset \"vmalertmanager-vm-aio-victoria-metrics-k8s-stack\" in namespace \"monitoring\" is in ready state\\n', media_type='text/x.cucumber.gherkin+plain')","Pickle(id='132', uri='file:features/0_1_mindwm_eda.feature', name='Knative', language='en', steps=[PickleStep(argument=None, ast_node_ids=['50'], id='125', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['51'], id='126', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['53'], id='127', type=<Type.outcome: 'Outcome'>, text='namespace \"knative-serving\" should exist'), PickleStep(argument=None, ast_node_ids=['54'], id='128', type=<Type.outcome: 'Outcome'>, text='namespace \"knative-eventing\" should exist'), PickleStep(argument=None, ast_node_ids=['55'], id='129', type=<Type.outcome: 'Outcome'>, text='namespace \"knative-operator\" should exist'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='activator')]), PickleTableRow(cells=[PickleTableCell(value='autoscaler')]), PickleTableRow(cells=[PickleTableCell(value='autoscaler-hpa')]), PickleTableRow(cells=[PickleTableCell(value='controller')]), PickleTableRow(cells=[PickleTableCell(value='net-istio-controller')]), PickleTableRow(cells=[PickleTableCell(value='net-istio-webhook')]), PickleTableRow(cells=[PickleTableCell(value='webhook')])])), ast_node_ids=['64'], id='130', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"knative-serving\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='eventing-controller')]), PickleTableRow(cells=[PickleTableCell(value='eventing-webhook')]), PickleTableRow(cells=[PickleTableCell(value='imc-dispatcher')]), PickleTableRow(cells=[PickleTableCell(value='imc-controller')]), PickleTableRow(cells=[PickleTableCell(value='jetstream-ch-controller')]), PickleTableRow(cells=[PickleTableCell(value='job-sink')]), PickleTableRow(cells=[PickleTableCell(value='kafka-controller')]), PickleTableRow(cells=[PickleTableCell(value='kafka-webhook-eventing')]), PickleTableRow(cells=[PickleTableCell(value='mt-broker-controller')]), PickleTableRow(cells=[PickleTableCell(value='mt-broker-filter')]), PickleTableRow(cells=[PickleTableCell(value='mt-broker-ingress')]), PickleTableRow(cells=[PickleTableCell(value='nats-webhook')])])), ast_node_ids=['78'], id='131', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"knative-eventing\" namespace')], tags=[PickleTag(name='@eda', ast_node_id='124')], ast_node_ids=['79'])"],"tags":["eda","pytest_bdd_scenario","@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')","scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/0_1_mindwm_eda.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=<FeaturePathType.PATH: 'path'>, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())","namespace(create=False, name='default')"]},{"name":"test_scenarios[file:features/1_mindwm_crd.feature-MindWM Custom Resource Definition-Create User]","uid":"30da830f7edc8ac5","parentUid":"3961740595044ffd97a03e46799bfc30","status":"passed","time":{"start":1728403420766,"stop":1728403437538,"duration":16772},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["Feature(gherkin_document=GherkinDocument(uri='file:features/1_mindwm_crd.feature', feature=Feature(location=Location(line=3, column=1), tags=[Tag(location=Location(line=1, column=1), name='@mindwm_crd', id='183'), Tag(location=Location(line=2, column=1), name='@mindwm_test', id='184')], language='en', keyword='Feature', name='MindWM Custom Resource Definition', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=5, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=6, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='165')], id='166'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Create Context', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"xxx3\"', doc_string=None, data_table=None, id='167'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='168')], examples=[], id='169')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=12, column=3), tags=[], keyword='Scenario', name='Create User', description='', steps=[Step(location=Location(line=13, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"alice\" and connects it to the context \"xxx3\"', doc_string=None, data_table=None, id='170'), Step(location=Location(line=14, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='171')], examples=[], id='172')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=16, column=3), tags=[], keyword='Scenario', name='Create Host', description='', steps=[Step(location=Location(line=17, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"laptop\" and connects it to the user \"alice\"', doc_string=None, data_table=None, id='173'), Step(location=Location(line=18, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='174')], examples=[], id='175')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=20, column=3), tags=[], keyword='Scenario', name='Delete Resources and Verify Cleanup', description='', steps=[Step(location=Location(line=21, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"laptop\"', doc_string=None, data_table=None, id='176'), Step(location=Location(line=22, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"laptop\" should be deleted', doc_string=None, data_table=None, id='177'), Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"alice\"', doc_string=None, data_table=None, id='178'), Step(location=Location(line=24, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"alice\" should be deleted', doc_string=None, data_table=None, id='179'), Step(location=Location(line=25, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"xxx3\"', doc_string=None, data_table=None, id='180'), Step(location=Location(line=26, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"xxx3\" should be deleted', doc_string=None, data_table=None, id='181')], examples=[], id='182'))]), comments=[]), uri='file:features/1_mindwm_crd.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/1_mindwm_crd.feature', registry={'183': Tag(location=Location(line=1, column=1), name='@mindwm_crd', id='183'), '184': Tag(location=Location(line=2, column=1), name='@mindwm_test', id='184'), '166': Background(location=Location(line=5, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=6, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='165')], id='166'), '165': Step(location=Location(line=6, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='165'), '169': Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Create Context', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"xxx3\"', doc_string=None, data_table=None, id='167'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='168')], examples=[], id='169'), '167': Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"xxx3\"', doc_string=None, data_table=None, id='167'), '168': Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='168'), '172': Scenario(location=Location(line=12, column=3), tags=[], keyword='Scenario', name='Create User', description='', steps=[Step(location=Location(line=13, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"alice\" and connects it to the context \"xxx3\"', doc_string=None, data_table=None, id='170'), Step(location=Location(line=14, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='171')], examples=[], id='172'), '170': Step(location=Location(line=13, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"alice\" and connects it to the context \"xxx3\"', doc_string=None, data_table=None, id='170'), '171': Step(location=Location(line=14, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='171'), '175': Scenario(location=Location(line=16, column=3), tags=[], keyword='Scenario', name='Create Host', description='', steps=[Step(location=Location(line=17, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"laptop\" and connects it to the user \"alice\"', doc_string=None, data_table=None, id='173'), Step(location=Location(line=18, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='174')], examples=[], id='175'), '173': Step(location=Location(line=17, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"laptop\" and connects it to the user \"alice\"', doc_string=None, data_table=None, id='173'), '174': Step(location=Location(line=18, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='174'), '182': Scenario(location=Location(line=20, column=3), tags=[], keyword='Scenario', name='Delete Resources and Verify Cleanup', description='', steps=[Step(location=Location(line=21, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"laptop\"', doc_string=None, data_table=None, id='176'), Step(location=Location(line=22, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"laptop\" should be deleted', doc_string=None, data_table=None, id='177'), Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"alice\"', doc_string=None, data_table=None, id='178'), Step(location=Location(line=24, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"alice\" should be deleted', doc_string=None, data_table=None, id='179'), Step(location=Location(line=25, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"xxx3\"', doc_string=None, data_table=None, id='180'), Step(location=Location(line=26, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"xxx3\" should be deleted', doc_string=None, data_table=None, id='181')], examples=[], id='182'), '176': Step(location=Location(line=21, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"laptop\"', doc_string=None, data_table=None, id='176'), '177': Step(location=Location(line=22, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"laptop\" should be deleted', doc_string=None, data_table=None, id='177'), '178': Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"alice\"', doc_string=None, data_table=None, id='178'), '179': Step(location=Location(line=24, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"alice\" should be deleted', doc_string=None, data_table=None, id='179'), '180': Step(location=Location(line=25, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"xxx3\"', doc_string=None, data_table=None, id='180'), '181': Step(location=Location(line=26, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"xxx3\" should be deleted', doc_string=None, data_table=None, id='181')}, pickles=[Pickle(id='188', uri='file:features/1_mindwm_crd.feature', name='Create Context', language='en', steps=[PickleStep(argument=None, ast_node_ids=['165'], id='185', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['167'], id='186', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"xxx3\"'), PickleStep(argument=None, ast_node_ids=['168'], id='187', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable')], tags=[PickleTag(name='@mindwm_crd', ast_node_id='183'), PickleTag(name='@mindwm_test', ast_node_id='184')], ast_node_ids=['169']), Pickle(id='192', uri='file:features/1_mindwm_crd.feature', name='Create User', language='en', steps=[PickleStep(argument=None, ast_node_ids=['165'], id='189', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['170'], id='190', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"alice\" and connects it to the context \"xxx3\"'), PickleStep(argument=None, ast_node_ids=['171'], id='191', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable')], tags=[PickleTag(name='@mindwm_crd', ast_node_id='183'), PickleTag(name='@mindwm_test', ast_node_id='184')], ast_node_ids=['172']), Pickle(id='196', uri='file:features/1_mindwm_crd.feature', name='Create Host', language='en', steps=[PickleStep(argument=None, ast_node_ids=['165'], id='193', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['173'], id='194', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"laptop\" and connects it to the user \"alice\"'), PickleStep(argument=None, ast_node_ids=['174'], id='195', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable')], tags=[PickleTag(name='@mindwm_crd', ast_node_id='183'), PickleTag(name='@mindwm_test', ast_node_id='184')], ast_node_ids=['175']), Pickle(id='204', uri='file:features/1_mindwm_crd.feature', name='Delete Resources and Verify Cleanup', language='en', steps=[PickleStep(argument=None, ast_node_ids=['165'], id='197', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['176'], id='198', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"laptop\"'), PickleStep(argument=None, ast_node_ids=['177'], id='199', type=<Type.outcome: 'Outcome'>, text='the host \"laptop\" should be deleted'), PickleStep(argument=None, ast_node_ids=['178'], id='200', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"alice\"'), PickleStep(argument=None, ast_node_ids=['179'], id='201', type=<Type.outcome: 'Outcome'>, text='the user \"alice\" should be deleted'), PickleStep(argument=None, ast_node_ids=['180'], id='202', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"xxx3\"'), PickleStep(argument=None, ast_node_ids=['181'], id='203', type=<Type.outcome: 'Outcome'>, text='the context \"xxx3\" should be deleted')], tags=[PickleTag(name='@mindwm_crd', ast_node_id='183'), PickleTag(name='@mindwm_test', ast_node_id='184')], ast_node_ids=['182'])])","Source(uri='file:features/1_mindwm_crd.feature', data='@mindwm_crd\\n@mindwm_test\\nFeature: MindWM Custom Resource Definition\\n\\n  Background:\\n    Given a MindWM environment\\n    \\n  Scenario: Create Context \\n    When God creates a MindWM context with the name \"xxx3\"\\n    Then the context should be ready and operable\\n\\n  Scenario: Create User \\n    When God creates a MindWM user resource with the name \"alice\" and connects it to the context \"xxx3\"\\n    Then the user resource should be ready and operable\\n\\n  Scenario: Create Host\\n    When God creates a MindWM host resource with the name \"laptop\" and connects it to the user \"alice\"\\n    Then the host resource should be ready and operable\\n\\n  Scenario: Delete Resources and Verify Cleanup\\n    When God deletes the MindWM host resource \"laptop\"\\n    Then the host \"laptop\" should be deleted\\n    When God deletes the MindWM user resource \"alice\"\\n    Then the user \"alice\" should be deleted\\n    When God deletes the MindWM context resource \"xxx3\"\\n    Then the context \"xxx3\" should be deleted\\n   \\t \\n', media_type='text/x.cucumber.gherkin+plain')","Pickle(id='192', uri='file:features/1_mindwm_crd.feature', name='Create User', language='en', steps=[PickleStep(argument=None, ast_node_ids=['165'], id='189', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['170'], id='190', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"alice\" and connects it to the context \"xxx3\"'), PickleStep(argument=None, ast_node_ids=['171'], id='191', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable')], tags=[PickleTag(name='@mindwm_crd', ast_node_id='183'), PickleTag(name='@mindwm_test', ast_node_id='184')], ast_node_ids=['172'])"],"tags":["pytest_bdd_scenario","@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')","mindwm_crd","mindwm_test","scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/1_mindwm_crd.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=<FeaturePathType.PATH: 'path'>, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())","namespace(create=False, name='default')"]},{"name":"test_scenarios[file:features/3_mindwm_ping_pong.feature-MindWM Ping-pong EDA test-Prepare environment for ping tests[table_rows:[line: 26]]]","uid":"b99e87ba3235e6f3","parentUid":"3961740595044ffd97a03e46799bfc30","status":"passed","time":{"start":1728403777151,"stop":1728403806916,"duration":29765},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["Feature(gherkin_document=GherkinDocument(uri='file:features/3_mindwm_ping_pong.feature', feature=Feature(location=Location(line=3, column=1), tags=[Tag(location=Location(line=1, column=1), name='@mindwm_ping_pong', id='380'), Tag(location=Location(line=2, column=1), name='@mindwm_test', id='381')], language='en', keyword='Feature', name='MindWM Ping-pong EDA test', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='306'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='307')], id='308'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Prepare environment for ping tests', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='309'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='310'), Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='311'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='pong')], id='312')]), id='313'), Step(location=Location(line=15, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='314'), Step(location=Location(line=16, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='315'), Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='316'), Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='317'), Step(location=Location(line=20, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace', doc_string=None, data_table=None, id='318'), Step(location=Location(line=22, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='319')], examples=[Examples(location=Location(line=24, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=25, column=6), cells=[TableCell(location=Location(line=25, column=8), value='context'), TableCell(location=Location(line=25, column=18), value='username'), TableCell(location=Location(line=25, column=31), value='host')], id='320'), table_body=[TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='green4'), TableCell(location=Location(line=26, column=19), value='amanda4'), TableCell(location=Location(line=26, column=31), value='pi6-host')], id='321')], id='322')], id='323')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=28, column=3), tags=[], keyword='Scenario', name='Send pind to knative ping service', description='', steps=[Step(location=Location(line=29, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='324'), Step(location=Location(line=30, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='325'), Step(location=Location(line=31, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='326'), Step(location=Location(line=32, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"', doc_string=None, data_table=None, id='327'), Step(location=Location(line=33, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to knative service \"pong\" in \"context-<context>\" namespace', doc_string=DocString(location=Location(line=34, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='328'), Step(location=Location(line=42, column=7), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"200\"', doc_string=None, data_table=None, id='329'), Step(location=Location(line=44, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=45, column=7), rows=[TableRow(location=Location(line=45, column=7), cells=[TableCell(location=Location(line=45, column=9), value='Deployment name')], id='330'), TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='pong-00001-deployment')], id='331')]), id='332')], examples=[Examples(location=Location(line=48, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=49, column=6), cells=[TableCell(location=Location(line=49, column=8), value='context'), TableCell(location=Location(line=49, column=18), value='username'), TableCell(location=Location(line=49, column=31), value='host')], id='333'), table_body=[TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='green4'), TableCell(location=Location(line=50, column=19), value='amanda4'), TableCell(location=Location(line=50, column=31), value='pi6-host')], id='334')], id='335')], id='336')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=52, column=3), tags=[], keyword='Scenario', name='Send ping via <endpoint>', description='', steps=[Step(location=Location(line=53, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='337'), Step(location=Location(line=54, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='338'), Step(location=Location(line=55, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='339'), Step(location=Location(line=56, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='340'), Step(location=Location(line=57, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"', doc_string=None, data_table=None, id='341'), Step(location=Location(line=58, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to \"<endpoint>\"', doc_string=DocString(location=Location(line=59, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='342'), Step(location=Location(line=67, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"202\"', doc_string=None, data_table=None, id='343'), Step(location=Location(line=69, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=70, column=7), rows=[TableRow(location=Location(line=70, column=7), cells=[TableCell(location=Location(line=70, column=9), value='Deployment name')], id='344'), TableRow(location=Location(line=71, column=7), cells=[TableCell(location=Location(line=71, column=9), value='pong-00001-deployment')], id='345')]), id='346'), Step(location=Location(line=72, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the trace with \"<traceparent>\" should appear in TraceQL', doc_string=None, data_table=None, id='347'), Step(location=Location(line=73, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the trace should contains', doc_string=None, data_table=DataTable(location=Location(line=74, column=7), rows=[TableRow(location=Location(line=74, column=7), cells=[TableCell(location=Location(line=74, column=9), value='service name')], id='348'), TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='broker-ingress.knative-eventing')], id='349'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='unknown_service')], id='350'), TableRow(location=Location(line=77, column=7), cells=[TableCell(location=Location(line=77, column=9), value='jetstream-ch-dispatcher')], id='351')]), id='352'), Step(location=Location(line=78, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='353')], examples=[Examples(location=Location(line=80, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=81, column=6), cells=[TableCell(location=Location(line=81, column=8), value='context'), TableCell(location=Location(line=81, column=18), value='username'), TableCell(location=Location(line=81, column=31), value='host'), TableCell(location=Location(line=81, column=43), value='endpoint'), TableCell(location=Location(line=81, column=54), value='traceparent')], id='354'), table_body=[TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='green4'), TableCell(location=Location(line=82, column=19), value='amanda4'), TableCell(location=Location(line=82, column=31), value='pi6-host'), TableCell(location=Location(line=82, column=43), value='broker-ingress.knative-eventing/context-green4/context-broker'), TableCell(location=Location(line=82, column=109), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='355'), TableRow(location=Location(line=83, column=6), cells=[TableCell(location=Location(line=83, column=8), value='green4'), TableCell(location=Location(line=83, column=19), value='amanda4'), TableCell(location=Location(line=83, column=31), value='pi6-host'), TableCell(location=Location(line=83, column=43), value='broker-ingress.knative-eventing/user-amanda4/user-broker'), TableCell(location=Location(line=83, column=102), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='356')], id='357')], id='358')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=86, column=3), tags=[], keyword='Scenario', name='Send ping via nats', description='', steps=[Step(location=Location(line=87, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='359'), Step(location=Location(line=88, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='360'), Step(location=Location(line=89, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='361'), Step(location=Location(line=90, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='362'), Step(location=Location(line=91, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=92, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='363'), Step(location=Location(line=101, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=102, column=7), rows=[TableRow(location=Location(line=102, column=7), cells=[TableCell(location=Location(line=102, column=9), value='Deployment name')], id='364'), TableRow(location=Location(line=103, column=7), cells=[TableCell(location=Location(line=103, column=9), value='pong-00001-deployment')], id='365')]), id='366'), Step(location=Location(line=105, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='367')], examples=[Examples(location=Location(line=108, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=109, column=6), cells=[TableCell(location=Location(line=109, column=8), value='context'), TableCell(location=Location(line=109, column=18), value='username'), TableCell(location=Location(line=109, column=31), value='host'), TableCell(location=Location(line=109, column=43), value='tmux_pane'), TableCell(location=Location(line=109, column=55), value='tmux_window'), TableCell(location=Location(line=109, column=69), value='uuid'), TableCell(location=Location(line=109, column=109), value='tmux_socket')], id='368'), table_body=[TableRow(location=Location(line=110, column=6), cells=[TableCell(location=Location(line=110, column=8), value='green4'), TableCell(location=Location(line=110, column=19), value='amanda4'), TableCell(location=Location(line=110, column=31), value='pi6-host'), TableCell(location=Location(line=110, column=43), value='23'), TableCell(location=Location(line=110, column=55), value='36'), TableCell(location=Location(line=110, column=69), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=110, column=108), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='369')], id='370')], id='371')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=113, column=4), tags=[], keyword='Scenario', name='Cleanup <username>@<host> in <context>', description='', steps=[Step(location=Location(line=114, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='372'), Step(location=Location(line=115, column=6), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='373'), Step(location=Location(line=117, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='374'), Step(location=Location(line=119, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='375')], examples=[Examples(location=Location(line=121, column=6), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=122, column=6), cells=[TableCell(location=Location(line=122, column=8), value='context'), TableCell(location=Location(line=122, column=18), value='username'), TableCell(location=Location(line=122, column=29), value='host')], id='376'), table_body=[TableRow(location=Location(line=123, column=6), cells=[TableCell(location=Location(line=123, column=8), value='green4'), TableCell(location=Location(line=123, column=19), value='amanda4'), TableCell(location=Location(line=123, column=31), value='pi6-host')], id='377')], id='378')], id='379'))]), comments=[]), uri='file:features/3_mindwm_ping_pong.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/3_mindwm_ping_pong.feature', registry={'380': Tag(location=Location(line=1, column=1), name='@mindwm_ping_pong', id='380'), '381': Tag(location=Location(line=2, column=1), name='@mindwm_test', id='381'), '308': Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='306'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='307')], id='308'), '306': Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='306'), '307': Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='307'), '323': Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Prepare environment for ping tests', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='309'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='310'), Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='311'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='pong')], id='312')]), id='313'), Step(location=Location(line=15, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='314'), Step(location=Location(line=16, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='315'), Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='316'), Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='317'), Step(location=Location(line=20, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace', doc_string=None, data_table=None, id='318'), Step(location=Location(line=22, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='319')], examples=[Examples(location=Location(line=24, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=25, column=6), cells=[TableCell(location=Location(line=25, column=8), value='context'), TableCell(location=Location(line=25, column=18), value='username'), TableCell(location=Location(line=25, column=31), value='host')], id='320'), table_body=[TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='green4'), TableCell(location=Location(line=26, column=19), value='amanda4'), TableCell(location=Location(line=26, column=31), value='pi6-host')], id='321')], id='322')], id='323'), '309': Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='309'), '310': Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='310'), '313': Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='311'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='pong')], id='312')]), id='313'), '314': Step(location=Location(line=15, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='314'), '315': Step(location=Location(line=16, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='315'), '316': Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='316'), '317': Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='317'), '318': Step(location=Location(line=20, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace', doc_string=None, data_table=None, id='318'), '319': Step(location=Location(line=22, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='319'), '322': Examples(location=Location(line=24, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=25, column=6), cells=[TableCell(location=Location(line=25, column=8), value='context'), TableCell(location=Location(line=25, column=18), value='username'), TableCell(location=Location(line=25, column=31), value='host')], id='320'), table_body=[TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='green4'), TableCell(location=Location(line=26, column=19), value='amanda4'), TableCell(location=Location(line=26, column=31), value='pi6-host')], id='321')], id='322'), '320': TableRow(location=Location(line=25, column=6), cells=[TableCell(location=Location(line=25, column=8), value='context'), TableCell(location=Location(line=25, column=18), value='username'), TableCell(location=Location(line=25, column=31), value='host')], id='320'), '321': TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='green4'), TableCell(location=Location(line=26, column=19), value='amanda4'), TableCell(location=Location(line=26, column=31), value='pi6-host')], id='321'), '336': Scenario(location=Location(line=28, column=3), tags=[], keyword='Scenario', name='Send pind to knative ping service', description='', steps=[Step(location=Location(line=29, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='324'), Step(location=Location(line=30, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='325'), Step(location=Location(line=31, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='326'), Step(location=Location(line=32, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"', doc_string=None, data_table=None, id='327'), Step(location=Location(line=33, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to knative service \"pong\" in \"context-<context>\" namespace', doc_string=DocString(location=Location(line=34, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='328'), Step(location=Location(line=42, column=7), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"200\"', doc_string=None, data_table=None, id='329'), Step(location=Location(line=44, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=45, column=7), rows=[TableRow(location=Location(line=45, column=7), cells=[TableCell(location=Location(line=45, column=9), value='Deployment name')], id='330'), TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='pong-00001-deployment')], id='331')]), id='332')], examples=[Examples(location=Location(line=48, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=49, column=6), cells=[TableCell(location=Location(line=49, column=8), value='context'), TableCell(location=Location(line=49, column=18), value='username'), TableCell(location=Location(line=49, column=31), value='host')], id='333'), table_body=[TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='green4'), TableCell(location=Location(line=50, column=19), value='amanda4'), TableCell(location=Location(line=50, column=31), value='pi6-host')], id='334')], id='335')], id='336'), '324': Step(location=Location(line=29, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='324'), '325': Step(location=Location(line=30, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='325'), '326': Step(location=Location(line=31, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='326'), '327': Step(location=Location(line=32, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"', doc_string=None, data_table=None, id='327'), '328': Step(location=Location(line=33, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to knative service \"pong\" in \"context-<context>\" namespace', doc_string=DocString(location=Location(line=34, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='328'), '329': Step(location=Location(line=42, column=7), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"200\"', doc_string=None, data_table=None, id='329'), '332': Step(location=Location(line=44, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=45, column=7), rows=[TableRow(location=Location(line=45, column=7), cells=[TableCell(location=Location(line=45, column=9), value='Deployment name')], id='330'), TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='pong-00001-deployment')], id='331')]), id='332'), '335': Examples(location=Location(line=48, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=49, column=6), cells=[TableCell(location=Location(line=49, column=8), value='context'), TableCell(location=Location(line=49, column=18), value='username'), TableCell(location=Location(line=49, column=31), value='host')], id='333'), table_body=[TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='green4'), TableCell(location=Location(line=50, column=19), value='amanda4'), TableCell(location=Location(line=50, column=31), value='pi6-host')], id='334')], id='335'), '333': TableRow(location=Location(line=49, column=6), cells=[TableCell(location=Location(line=49, column=8), value='context'), TableCell(location=Location(line=49, column=18), value='username'), TableCell(location=Location(line=49, column=31), value='host')], id='333'), '334': TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='green4'), TableCell(location=Location(line=50, column=19), value='amanda4'), TableCell(location=Location(line=50, column=31), value='pi6-host')], id='334'), '358': Scenario(location=Location(line=52, column=3), tags=[], keyword='Scenario', name='Send ping via <endpoint>', description='', steps=[Step(location=Location(line=53, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='337'), Step(location=Location(line=54, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='338'), Step(location=Location(line=55, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='339'), Step(location=Location(line=56, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='340'), Step(location=Location(line=57, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"', doc_string=None, data_table=None, id='341'), Step(location=Location(line=58, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to \"<endpoint>\"', doc_string=DocString(location=Location(line=59, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='342'), Step(location=Location(line=67, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"202\"', doc_string=None, data_table=None, id='343'), Step(location=Location(line=69, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=70, column=7), rows=[TableRow(location=Location(line=70, column=7), cells=[TableCell(location=Location(line=70, column=9), value='Deployment name')], id='344'), TableRow(location=Location(line=71, column=7), cells=[TableCell(location=Location(line=71, column=9), value='pong-00001-deployment')], id='345')]), id='346'), Step(location=Location(line=72, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the trace with \"<traceparent>\" should appear in TraceQL', doc_string=None, data_table=None, id='347'), Step(location=Location(line=73, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the trace should contains', doc_string=None, data_table=DataTable(location=Location(line=74, column=7), rows=[TableRow(location=Location(line=74, column=7), cells=[TableCell(location=Location(line=74, column=9), value='service name')], id='348'), TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='broker-ingress.knative-eventing')], id='349'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='unknown_service')], id='350'), TableRow(location=Location(line=77, column=7), cells=[TableCell(location=Location(line=77, column=9), value='jetstream-ch-dispatcher')], id='351')]), id='352'), Step(location=Location(line=78, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='353')], examples=[Examples(location=Location(line=80, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=81, column=6), cells=[TableCell(location=Location(line=81, column=8), value='context'), TableCell(location=Location(line=81, column=18), value='username'), TableCell(location=Location(line=81, column=31), value='host'), TableCell(location=Location(line=81, column=43), value='endpoint'), TableCell(location=Location(line=81, column=54), value='traceparent')], id='354'), table_body=[TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='green4'), TableCell(location=Location(line=82, column=19), value='amanda4'), TableCell(location=Location(line=82, column=31), value='pi6-host'), TableCell(location=Location(line=82, column=43), value='broker-ingress.knative-eventing/context-green4/context-broker'), TableCell(location=Location(line=82, column=109), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='355'), TableRow(location=Location(line=83, column=6), cells=[TableCell(location=Location(line=83, column=8), value='green4'), TableCell(location=Location(line=83, column=19), value='amanda4'), TableCell(location=Location(line=83, column=31), value='pi6-host'), TableCell(location=Location(line=83, column=43), value='broker-ingress.knative-eventing/user-amanda4/user-broker'), TableCell(location=Location(line=83, column=102), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='356')], id='357')], id='358'), '337': Step(location=Location(line=53, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='337'), '338': Step(location=Location(line=54, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='338'), '339': Step(location=Location(line=55, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='339'), '340': Step(location=Location(line=56, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='340'), '341': Step(location=Location(line=57, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"', doc_string=None, data_table=None, id='341'), '342': Step(location=Location(line=58, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to \"<endpoint>\"', doc_string=DocString(location=Location(line=59, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='342'), '343': Step(location=Location(line=67, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"202\"', doc_string=None, data_table=None, id='343'), '346': Step(location=Location(line=69, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=70, column=7), rows=[TableRow(location=Location(line=70, column=7), cells=[TableCell(location=Location(line=70, column=9), value='Deployment name')], id='344'), TableRow(location=Location(line=71, column=7), cells=[TableCell(location=Location(line=71, column=9), value='pong-00001-deployment')], id='345')]), id='346'), '347': Step(location=Location(line=72, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the trace with \"<traceparent>\" should appear in TraceQL', doc_string=None, data_table=None, id='347'), '352': Step(location=Location(line=73, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the trace should contains', doc_string=None, data_table=DataTable(location=Location(line=74, column=7), rows=[TableRow(location=Location(line=74, column=7), cells=[TableCell(location=Location(line=74, column=9), value='service name')], id='348'), TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='broker-ingress.knative-eventing')], id='349'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='unknown_service')], id='350'), TableRow(location=Location(line=77, column=7), cells=[TableCell(location=Location(line=77, column=9), value='jetstream-ch-dispatcher')], id='351')]), id='352'), '353': Step(location=Location(line=78, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='353'), '357': Examples(location=Location(line=80, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=81, column=6), cells=[TableCell(location=Location(line=81, column=8), value='context'), TableCell(location=Location(line=81, column=18), value='username'), TableCell(location=Location(line=81, column=31), value='host'), TableCell(location=Location(line=81, column=43), value='endpoint'), TableCell(location=Location(line=81, column=54), value='traceparent')], id='354'), table_body=[TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='green4'), TableCell(location=Location(line=82, column=19), value='amanda4'), TableCell(location=Location(line=82, column=31), value='pi6-host'), TableCell(location=Location(line=82, column=43), value='broker-ingress.knative-eventing/context-green4/context-broker'), TableCell(location=Location(line=82, column=109), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='355'), TableRow(location=Location(line=83, column=6), cells=[TableCell(location=Location(line=83, column=8), value='green4'), TableCell(location=Location(line=83, column=19), value='amanda4'), TableCell(location=Location(line=83, column=31), value='pi6-host'), TableCell(location=Location(line=83, column=43), value='broker-ingress.knative-eventing/user-amanda4/user-broker'), TableCell(location=Location(line=83, column=102), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='356')], id='357'), '354': TableRow(location=Location(line=81, column=6), cells=[TableCell(location=Location(line=81, column=8), value='context'), TableCell(location=Location(line=81, column=18), value='username'), TableCell(location=Location(line=81, column=31), value='host'), TableCell(location=Location(line=81, column=43), value='endpoint'), TableCell(location=Location(line=81, column=54), value='traceparent')], id='354'), '355': TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='green4'), TableCell(location=Location(line=82, column=19), value='amanda4'), TableCell(location=Location(line=82, column=31), value='pi6-host'), TableCell(location=Location(line=82, column=43), value='broker-ingress.knative-eventing/context-green4/context-broker'), TableCell(location=Location(line=82, column=109), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='355'), '356': TableRow(location=Location(line=83, column=6), cells=[TableCell(location=Location(line=83, column=8), value='green4'), TableCell(location=Location(line=83, column=19), value='amanda4'), TableCell(location=Location(line=83, column=31), value='pi6-host'), TableCell(location=Location(line=83, column=43), value='broker-ingress.knative-eventing/user-amanda4/user-broker'), TableCell(location=Location(line=83, column=102), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='356'), '371': Scenario(location=Location(line=86, column=3), tags=[], keyword='Scenario', name='Send ping via nats', description='', steps=[Step(location=Location(line=87, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='359'), Step(location=Location(line=88, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='360'), Step(location=Location(line=89, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='361'), Step(location=Location(line=90, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='362'), Step(location=Location(line=91, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=92, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='363'), Step(location=Location(line=101, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=102, column=7), rows=[TableRow(location=Location(line=102, column=7), cells=[TableCell(location=Location(line=102, column=9), value='Deployment name')], id='364'), TableRow(location=Location(line=103, column=7), cells=[TableCell(location=Location(line=103, column=9), value='pong-00001-deployment')], id='365')]), id='366'), Step(location=Location(line=105, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='367')], examples=[Examples(location=Location(line=108, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=109, column=6), cells=[TableCell(location=Location(line=109, column=8), value='context'), TableCell(location=Location(line=109, column=18), value='username'), TableCell(location=Location(line=109, column=31), value='host'), TableCell(location=Location(line=109, column=43), value='tmux_pane'), TableCell(location=Location(line=109, column=55), value='tmux_window'), TableCell(location=Location(line=109, column=69), value='uuid'), TableCell(location=Location(line=109, column=109), value='tmux_socket')], id='368'), table_body=[TableRow(location=Location(line=110, column=6), cells=[TableCell(location=Location(line=110, column=8), value='green4'), TableCell(location=Location(line=110, column=19), value='amanda4'), TableCell(location=Location(line=110, column=31), value='pi6-host'), TableCell(location=Location(line=110, column=43), value='23'), TableCell(location=Location(line=110, column=55), value='36'), TableCell(location=Location(line=110, column=69), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=110, column=108), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='369')], id='370')], id='371'), '359': Step(location=Location(line=87, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='359'), '360': Step(location=Location(line=88, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='360'), '361': Step(location=Location(line=89, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='361'), '362': Step(location=Location(line=90, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"', doc_string=None, data_table=None, id='362'), '363': Step(location=Location(line=91, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"', doc_string=DocString(location=Location(line=92, column=7), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='363'), '366': Step(location=Location(line=101, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=102, column=7), rows=[TableRow(location=Location(line=102, column=7), cells=[TableCell(location=Location(line=102, column=9), value='Deployment name')], id='364'), TableRow(location=Location(line=103, column=7), cells=[TableCell(location=Location(line=103, column=9), value='pong-00001-deployment')], id='365')]), id='366'), '367': Step(location=Location(line=105, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='367'), '370': Examples(location=Location(line=108, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=109, column=6), cells=[TableCell(location=Location(line=109, column=8), value='context'), TableCell(location=Location(line=109, column=18), value='username'), TableCell(location=Location(line=109, column=31), value='host'), TableCell(location=Location(line=109, column=43), value='tmux_pane'), TableCell(location=Location(line=109, column=55), value='tmux_window'), TableCell(location=Location(line=109, column=69), value='uuid'), TableCell(location=Location(line=109, column=109), value='tmux_socket')], id='368'), table_body=[TableRow(location=Location(line=110, column=6), cells=[TableCell(location=Location(line=110, column=8), value='green4'), TableCell(location=Location(line=110, column=19), value='amanda4'), TableCell(location=Location(line=110, column=31), value='pi6-host'), TableCell(location=Location(line=110, column=43), value='23'), TableCell(location=Location(line=110, column=55), value='36'), TableCell(location=Location(line=110, column=69), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=110, column=108), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='369')], id='370'), '368': TableRow(location=Location(line=109, column=6), cells=[TableCell(location=Location(line=109, column=8), value='context'), TableCell(location=Location(line=109, column=18), value='username'), TableCell(location=Location(line=109, column=31), value='host'), TableCell(location=Location(line=109, column=43), value='tmux_pane'), TableCell(location=Location(line=109, column=55), value='tmux_window'), TableCell(location=Location(line=109, column=69), value='uuid'), TableCell(location=Location(line=109, column=109), value='tmux_socket')], id='368'), '369': TableRow(location=Location(line=110, column=6), cells=[TableCell(location=Location(line=110, column=8), value='green4'), TableCell(location=Location(line=110, column=19), value='amanda4'), TableCell(location=Location(line=110, column=31), value='pi6-host'), TableCell(location=Location(line=110, column=43), value='23'), TableCell(location=Location(line=110, column=55), value='36'), TableCell(location=Location(line=110, column=69), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=110, column=108), value='L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==')], id='369'), '379': Scenario(location=Location(line=113, column=4), tags=[], keyword='Scenario', name='Cleanup <username>@<host> in <context>', description='', steps=[Step(location=Location(line=114, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='372'), Step(location=Location(line=115, column=6), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='373'), Step(location=Location(line=117, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='374'), Step(location=Location(line=119, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='375')], examples=[Examples(location=Location(line=121, column=6), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=122, column=6), cells=[TableCell(location=Location(line=122, column=8), value='context'), TableCell(location=Location(line=122, column=18), value='username'), TableCell(location=Location(line=122, column=29), value='host')], id='376'), table_body=[TableRow(location=Location(line=123, column=6), cells=[TableCell(location=Location(line=123, column=8), value='green4'), TableCell(location=Location(line=123, column=19), value='amanda4'), TableCell(location=Location(line=123, column=31), value='pi6-host')], id='377')], id='378')], id='379'), '372': Step(location=Location(line=114, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='372'), '373': Step(location=Location(line=115, column=6), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='373'), '374': Step(location=Location(line=117, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='374'), '375': Step(location=Location(line=119, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='375'), '378': Examples(location=Location(line=121, column=6), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=122, column=6), cells=[TableCell(location=Location(line=122, column=8), value='context'), TableCell(location=Location(line=122, column=18), value='username'), TableCell(location=Location(line=122, column=29), value='host')], id='376'), table_body=[TableRow(location=Location(line=123, column=6), cells=[TableCell(location=Location(line=123, column=8), value='green4'), TableCell(location=Location(line=123, column=19), value='amanda4'), TableCell(location=Location(line=123, column=31), value='pi6-host')], id='377')], id='378'), '376': TableRow(location=Location(line=122, column=6), cells=[TableCell(location=Location(line=122, column=8), value='context'), TableCell(location=Location(line=122, column=18), value='username'), TableCell(location=Location(line=122, column=29), value='host')], id='376'), '377': TableRow(location=Location(line=123, column=6), cells=[TableCell(location=Location(line=123, column=8), value='green4'), TableCell(location=Location(line=123, column=19), value='amanda4'), TableCell(location=Location(line=123, column=31), value='pi6-host')], id='377')}, pickles=[Pickle(id='393', uri='file:features/3_mindwm_ping_pong.feature', name='Prepare environment for ping tests', language='en', steps=[PickleStep(argument=None, ast_node_ids=['306'], id='382', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['307'], id='383', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['309', '321'], id='384', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"green4\"'), PickleStep(argument=None, ast_node_ids=['310', '321'], id='385', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='pong')])])), ast_node_ids=['313', '321'], id='386', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-green4\" namespace'), PickleStep(argument=None, ast_node_ids=['314', '321'], id='387', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"amanda4\" and connects it to the context \"green4\"'), PickleStep(argument=None, ast_node_ids=['315', '321'], id='388', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['316', '321'], id='389', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"pi6-host\" and connects it to the user \"amanda4\"'), PickleStep(argument=None, ast_node_ids=['317', '321'], id='390', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['318', '321'], id='391', type=<Type.outcome: 'Outcome'>, text='NatsJetStreamChannel \"pi6-host-host-broker-kne-trigger\" is ready in \"user-amanda4\" namespace'), PickleStep(argument=None, ast_node_ids=['319', '321'], id='392', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"')], tags=[PickleTag(name='@mindwm_ping_pong', ast_node_id='380'), PickleTag(name='@mindwm_test', ast_node_id='381')], ast_node_ids=['323', '321']), Pickle(id='403', uri='file:features/3_mindwm_ping_pong.feature', name='Send pind to knative ping service', language='en', steps=[PickleStep(argument=None, ast_node_ids=['306'], id='394', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['307'], id='395', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['324', '334'], id='396', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['325', '334'], id='397', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['326', '334'], id='398', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['327', '334'], id='399', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.amanda4.pi6-host.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['328', '334'], id='400', type=<Type.action: 'Action'>, text='sends cloudevent to knative service \"pong\" in \"context-green4\" namespace'), PickleStep(argument=None, ast_node_ids=['329', '334'], id='401', type=<Type.outcome: 'Outcome'>, text='the response http code should be \"200\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='pong-00001-deployment')])])), ast_node_ids=['332', '334'], id='402', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-green4\" namespace')], tags=[PickleTag(name='@mindwm_ping_pong', ast_node_id='380'), PickleTag(name='@mindwm_test', ast_node_id='381')], ast_node_ids=['336', '334']), Pickle(id='417', uri='file:features/3_mindwm_ping_pong.feature', name='Send ping via broker-ingress.knative-eventing/context-green4/context-broker', language='en', steps=[PickleStep(argument=None, ast_node_ids=['306'], id='404', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['307'], id='405', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['337', '355'], id='406', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['338', '355'], id='407', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['339', '355'], id='408', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['340', '355'], id='409', type=<Type.action: 'Action'>, text='sets cloudevent header \"traceparent\" to \"00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00\"'), PickleStep(argument=None, ast_node_ids=['341', '355'], id='410', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.amanda4.pi6-host.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['342', '355'], id='411', type=<Type.action: 'Action'>, text='sends cloudevent to \"broker-ingress.knative-eventing/context-green4/context-broker\"'), PickleStep(argument=None, ast_node_ids=['343', '355'], id='412', type=<Type.outcome: 'Outcome'>, text='the response http code should be \"202\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='pong-00001-deployment')])])), ast_node_ids=['346', '355'], id='413', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-green4\" namespace'), PickleStep(argument=None, ast_node_ids=['347', '355'], id='414', type=<Type.outcome: 'Outcome'>, text='the trace with \"00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00\" should appear in TraceQL'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='service name')]), PickleTableRow(cells=[PickleTableCell(value='broker-ingress.knative-eventing')]), PickleTableRow(cells=[PickleTableCell(value='unknown_service')]), PickleTableRow(cells=[PickleTableCell(value='jetstream-ch-dispatcher')])])), ast_node_ids=['352', '355'], id='415', type=<Type.outcome: 'Outcome'>, text='the trace should contains'), PickleStep(argument=None, ast_node_ids=['353', '355'], id='416', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-amanda4.pi6-host-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_ping_pong', ast_node_id='380'), PickleTag(name='@mindwm_test', ast_node_id='381')], ast_node_ids=['358', '355']), Pickle(id='431', uri='file:features/3_mindwm_ping_pong.feature', name='Send ping via broker-ingress.knative-eventing/user-amanda4/user-broker', language='en', steps=[PickleStep(argument=None, ast_node_ids=['306'], id='418', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['307'], id='419', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['337', '356'], id='420', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['338', '356'], id='421', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['339', '356'], id='422', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['340', '356'], id='423', type=<Type.action: 'Action'>, text='sets cloudevent header \"traceparent\" to \"00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00\"'), PickleStep(argument=None, ast_node_ids=['341', '356'], id='424', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.amanda4.pi6-host.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['342', '356'], id='425', type=<Type.action: 'Action'>, text='sends cloudevent to \"broker-ingress.knative-eventing/user-amanda4/user-broker\"'), PickleStep(argument=None, ast_node_ids=['343', '356'], id='426', type=<Type.outcome: 'Outcome'>, text='the response http code should be \"202\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='pong-00001-deployment')])])), ast_node_ids=['346', '356'], id='427', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-green4\" namespace'), PickleStep(argument=None, ast_node_ids=['347', '356'], id='428', type=<Type.outcome: 'Outcome'>, text='the trace with \"00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00\" should appear in TraceQL'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='service name')]), PickleTableRow(cells=[PickleTableCell(value='broker-ingress.knative-eventing')]), PickleTableRow(cells=[PickleTableCell(value='unknown_service')]), PickleTableRow(cells=[PickleTableCell(value='jetstream-ch-dispatcher')])])), ast_node_ids=['352', '356'], id='429', type=<Type.outcome: 'Outcome'>, text='the trace should contains'), PickleStep(argument=None, ast_node_ids=['353', '356'], id='430', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-amanda4.pi6-host-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_ping_pong', ast_node_id='380'), PickleTag(name='@mindwm_test', ast_node_id='381')], ast_node_ids=['358', '356']), Pickle(id='441', uri='file:features/3_mindwm_ping_pong.feature', name='Send ping via nats', language='en', steps=[PickleStep(argument=None, ast_node_ids=['306'], id='432', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['307'], id='433', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['359', '369'], id='434', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['360', '369'], id='435', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['361', '369'], id='436', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['362', '369'], id='437', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.amanda4.pi6-host.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.36.23.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['363', '369'], id='438', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.amanda4.pi6-host.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.3623.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='pong-00001-deployment')])])), ast_node_ids=['366', '369'], id='439', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-green4\" namespace'), PickleStep(argument=None, ast_node_ids=['367', '369'], id='440', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-amanda4.pi6-host-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_ping_pong', ast_node_id='380'), PickleTag(name='@mindwm_test', ast_node_id='381')], ast_node_ids=['371', '369']), Pickle(id='448', uri='file:features/3_mindwm_ping_pong.feature', name='Cleanup amanda4@pi6-host in green4', language='en', steps=[PickleStep(argument=None, ast_node_ids=['306'], id='442', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['307'], id='443', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['372', '377'], id='444', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"pi6-host\"'), PickleStep(argument=None, ast_node_ids=['373', '377'], id='445', type=<Type.outcome: 'Outcome'>, text='the host \"pi6-host\" should be deleted'), PickleStep(argument=None, ast_node_ids=['374', '377'], id='446', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"amanda4\"'), PickleStep(argument=None, ast_node_ids=['375', '377'], id='447', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"green4\"')], tags=[PickleTag(name='@mindwm_ping_pong', ast_node_id='380'), PickleTag(name='@mindwm_test', ast_node_id='381')], ast_node_ids=['379', '377'])])","Source(uri='file:features/3_mindwm_ping_pong.feature', data='@mindwm_ping_pong\\n@mindwm_test\\nFeature: MindWM Ping-pong EDA test\\n  Background:\\n    Given A MindWM environment\\n    Then all nodes in Kubernetes are ready\\n\\n  Scenario: Prepare environment for ping tests \\n    When God creates a MindWM context with the name \"<context>\"\\n    Then the context should be ready and operable\\n    And the following knative services are in a ready state in the \"context-<context>\" namespace\\n      | Knative service name |\\n      | pong                 |\\n\\n    When God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"\\n    Then the user resource should be ready and operable\\n\\n    When God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"\\n    Then the host resource should be ready and operable\\n    And NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace\\n\\n    When God starts reading message from NATS topic \">\"\\n\\n    Examples:\\n     | context | username   | host      |\\n     | green4   | amanda4   | pi6-host  | \\n\\n  Scenario: Send pind to knative ping service\\n    When God creates a new cloudevent \\n      And sets cloudevent header \"ce-subject\" to \"#ping\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"\\n      And sends cloudevent to knative service \"pong\" in \"context-<context>\" namespace\\n      \"\"\"\\n      {\\n        \"input\": \"#ping\",\\n        \"output\": \"\",\\n        \"ps1\": \"❯\",\\n        \"type\": \"org.mindwm.v1.iodocument\"\\n      } \\n      \"\"\"\\n      Then the response http code should be \"200\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name       |\\n      | pong-00001-deployment |\\n\\n    Examples:\\n     | context | username   | host      |\\n     | green4   | amanda4   | pi6-host  | \\n\\n  Scenario: Send ping via <endpoint>\\n    When God creates a new cloudevent \\n      And sets cloudevent header \"ce-subject\" to \"#ping\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"\\n      And sets cloudevent header \"traceparent\" to \"<traceparent>\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"\\n      And sends cloudevent to \"<endpoint>\"\\n      \"\"\"\\n      {\\n        \"input\": \"#ping\",\\n        \"output\": \"\",\\n        \"ps1\": \"❯\",\\n        \"type\": \"org.mindwm.v1.iodocument\"\\n      } \\n      \"\"\"\\n    Then the response http code should be \"202\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name            |\\n      | pong-00001-deployment |\\n    Then the trace with \"<traceparent>\" should appear in TraceQL\\n    And the trace should contains \\n      | service name                    | \\n      | broker-ingress.knative-eventing | \\n      | unknown_service                 | \\n      | jetstream-ch-dispatcher         |\\n    And a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"\\n\\n    Examples:\\n     | context | username   | host      | endpoint | traceparent \\t\\t\\t\\t\\t         |\\n     | green4   | amanda4   | pi6-host  | broker-ingress.knative-eventing/context-green4/context-broker   | 00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00 |\\n     | green4   | amanda4   | pi6-host  | broker-ingress.knative-eventing/user-amanda4/user-broker | 00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00 |\\n\\n\\n  Scenario: Send ping via nats\\n    When God creates a new cloudevent \\n      And sets cloudevent header \"ce-subject\" to \"#ping\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window>.<tmux_pane>.iodocument\"\\n      And sends cloudevent to nats topic \"org.mindwm.<username>.<host>.<tmux_socket>.<uuid>.<tmux_window><tmux_pane>.iodocument\"\\n      \"\"\"\\n      {\\n        \"input\": \"#ping\",\\n        \"output\": \"\",\\n        \"ps1\": \"❯\",\\n        \"type\": \"org.mindwm.v1.iodocument\"\\n      } \\n      \"\"\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name       |\\n      | pong-00001-deployment |\\n\\n    And a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"\\n\\n\\n    Examples:\\n     | context | username   | host      | tmux_pane | tmux_window | uuid                                  | tmux_socket                     |\\n     | green4   | amanda4   | pi6-host  | 23        | 36          | 09fb195c-c419-6d62-15e0-51b6ee990922  |L3RtcC90bXV4LTEwMDAvZGVmYXVsdA== |\\n\\n\\n   Scenario: Cleanup <username>@<host> in <context>\\n     When God deletes the MindWM host resource \"<host>\"\\n     Then the host \"<host>\" should be deleted\\n\\n     When God deletes the MindWM user resource \"<username>\"\\n\\n     When God deletes the MindWM context resource \"<context>\"\\n\\n     Examples:\\n     | context | username | host        | \\n     | green4   | amanda4   | pi6-host         |\\n\\n', media_type='text/x.cucumber.gherkin+plain')","Pickle(id='393', uri='file:features/3_mindwm_ping_pong.feature', name='Prepare environment for ping tests', language='en', steps=[PickleStep(argument=None, ast_node_ids=['306'], id='382', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['307'], id='383', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['309', '321'], id='384', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"green4\"'), PickleStep(argument=None, ast_node_ids=['310', '321'], id='385', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='pong')])])), ast_node_ids=['313', '321'], id='386', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-green4\" namespace'), PickleStep(argument=None, ast_node_ids=['314', '321'], id='387', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"amanda4\" and connects it to the context \"green4\"'), PickleStep(argument=None, ast_node_ids=['315', '321'], id='388', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['316', '321'], id='389', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"pi6-host\" and connects it to the user \"amanda4\"'), PickleStep(argument=None, ast_node_ids=['317', '321'], id='390', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['318', '321'], id='391', type=<Type.outcome: 'Outcome'>, text='NatsJetStreamChannel \"pi6-host-host-broker-kne-trigger\" is ready in \"user-amanda4\" namespace'), PickleStep(argument=None, ast_node_ids=['319', '321'], id='392', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"')], tags=[PickleTag(name='@mindwm_ping_pong', ast_node_id='380'), PickleTag(name='@mindwm_test', ast_node_id='381')], ast_node_ids=['323', '321'])"],"tags":["pytest_bdd_scenario","scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/3_mindwm_ping_pong.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=<FeaturePathType.PATH: 'path'>, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())","@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')","mindwm_ping_pong","mindwm_test","namespace(create=False, name='default')"]},{"name":"test_scenarios[file:features/0_1_mindwm_eda.feature-Mindwm event driven architecture-Monitoring]","uid":"a5fc42e53be8de40","parentUid":"3961740595044ffd97a03e46799bfc30","status":"passed","time":{"start":1728403419300,"stop":1728403419620,"duration":320},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["Feature(gherkin_document=GherkinDocument(uri='file:features/0_1_mindwm_eda.feature', feature=Feature(location=Location(line=2, column=1), tags=[Tag(location=Location(line=1, column=1), name='@eda', id='124')], language='en', keyword='Feature', name='Mindwm event driven architecture', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=3, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=4, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='50'), Step(location=Location(line=5, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='51')], id='52'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=7, column=3), tags=[], keyword='Scenario', name='Knative', description='', steps=[Step(location=Location(line=8, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"knative-serving\" should exist', doc_string=None, data_table=None, id='53'), Step(location=Location(line=9, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"knative-eventing\" should exist', doc_string=None, data_table=None, id='54'), Step(location=Location(line=10, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"knative-operator\" should exist', doc_string=None, data_table=None, id='55'), Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"knative-serving\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Deployment name')], id='56'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='activator')], id='57'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='autoscaler')], id='58'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='autoscaler-hpa')], id='59'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='controller')], id='60'), TableRow(location=Location(line=17, column=7), cells=[TableCell(location=Location(line=17, column=9), value='net-istio-controller')], id='61'), TableRow(location=Location(line=18, column=7), cells=[TableCell(location=Location(line=18, column=9), value='net-istio-webhook')], id='62'), TableRow(location=Location(line=19, column=7), cells=[TableCell(location=Location(line=19, column=9), value='webhook')], id='63')]), id='64'), Step(location=Location(line=20, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"knative-eventing\" namespace', doc_string=None, data_table=DataTable(location=Location(line=21, column=7), rows=[TableRow(location=Location(line=21, column=7), cells=[TableCell(location=Location(line=21, column=9), value='Deployment name')], id='65'), TableRow(location=Location(line=22, column=7), cells=[TableCell(location=Location(line=22, column=9), value='eventing-controller')], id='66'), TableRow(location=Location(line=23, column=7), cells=[TableCell(location=Location(line=23, column=9), value='eventing-webhook')], id='67'), TableRow(location=Location(line=24, column=7), cells=[TableCell(location=Location(line=24, column=9), value='imc-dispatcher')], id='68'), TableRow(location=Location(line=25, column=7), cells=[TableCell(location=Location(line=25, column=9), value='imc-controller')], id='69'), TableRow(location=Location(line=26, column=7), cells=[TableCell(location=Location(line=26, column=9), value='jetstream-ch-controller')], id='70'), TableRow(location=Location(line=27, column=7), cells=[TableCell(location=Location(line=27, column=9), value='job-sink')], id='71'), TableRow(location=Location(line=28, column=7), cells=[TableCell(location=Location(line=28, column=9), value='kafka-controller')], id='72'), TableRow(location=Location(line=29, column=7), cells=[TableCell(location=Location(line=29, column=9), value='kafka-webhook-eventing')], id='73'), TableRow(location=Location(line=30, column=7), cells=[TableCell(location=Location(line=30, column=9), value='mt-broker-controller')], id='74'), TableRow(location=Location(line=31, column=7), cells=[TableCell(location=Location(line=31, column=9), value='mt-broker-filter')], id='75'), TableRow(location=Location(line=32, column=7), cells=[TableCell(location=Location(line=32, column=9), value='mt-broker-ingress')], id='76'), TableRow(location=Location(line=33, column=7), cells=[TableCell(location=Location(line=33, column=9), value='nats-webhook')], id='77')]), id='78')], examples=[], id='79')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=36, column=3), tags=[], keyword='Scenario', name='Istio', description='', steps=[Step(location=Location(line=37, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"istio-system\" should exist', doc_string=None, data_table=None, id='80'), Step(location=Location(line=38, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"istio-system\" namespace', doc_string=None, data_table=DataTable(location=Location(line=39, column=7), rows=[TableRow(location=Location(line=39, column=7), cells=[TableCell(location=Location(line=39, column=9), value='Deployment name')], id='81'), TableRow(location=Location(line=40, column=7), cells=[TableCell(location=Location(line=40, column=9), value='istiod')], id='82'), TableRow(location=Location(line=41, column=7), cells=[TableCell(location=Location(line=41, column=9), value='istio-ingressgateway')], id='83')]), id='84')], examples=[], id='85')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=43, column=3), tags=[], keyword='Scenario', name='Redpanda', description='', steps=[Step(location=Location(line=44, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"redpanda\" should exist', doc_string=None, data_table=None, id='86'), Step(location=Location(line=45, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"redpanda\" namespace', doc_string=None, data_table=DataTable(location=Location(line=46, column=7), rows=[TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='Deployment name')], id='87'), TableRow(location=Location(line=47, column=7), cells=[TableCell(location=Location(line=47, column=9), value='redpanda-operator')], id='88')]), id='89'), Step(location=Location(line=48, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='helm release \"neo4j-cdc\" is deployed in \"redpanda\" namespace', doc_string=None, data_table=None, id='90'), Step(location=Location(line=49, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"neo4j-cdc\" in namespace \"redpanda\" is in ready state', doc_string=None, data_table=None, id='91'), Step(location=Location(line=50, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"redpanda\" namespace', doc_string=None, data_table=DataTable(location=Location(line=51, column=7), rows=[TableRow(location=Location(line=51, column=7), cells=[TableCell(location=Location(line=51, column=9), value='Deployment name')], id='92'), TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='neo4j-cdc-console')], id='93')]), id='94')], examples=[], id='95')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=54, column=3), tags=[], keyword='Scenario', name='Cert manager', description='', steps=[Step(location=Location(line=55, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"cert-manager\" should exist', doc_string=None, data_table=None, id='96'), Step(location=Location(line=56, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"cert-manager\" namespace', doc_string=None, data_table=DataTable(location=Location(line=57, column=7), rows=[TableRow(location=Location(line=57, column=7), cells=[TableCell(location=Location(line=57, column=9), value='Deployment name')], id='97'), TableRow(location=Location(line=58, column=7), cells=[TableCell(location=Location(line=58, column=9), value='cert-manager')], id='98'), TableRow(location=Location(line=59, column=7), cells=[TableCell(location=Location(line=59, column=9), value='cert-manager-cainjector')], id='99'), TableRow(location=Location(line=60, column=7), cells=[TableCell(location=Location(line=60, column=9), value='cert-manager-webhook')], id='100')]), id='101')], examples=[], id='102')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=62, column=3), tags=[], keyword='Scenario', name='Nats', description='', steps=[Step(location=Location(line=63, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"nats\" should exist', doc_string=None, data_table=None, id='103'), Step(location=Location(line=64, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"nats\" namespace', doc_string=None, data_table=DataTable(location=Location(line=65, column=7), rows=[TableRow(location=Location(line=65, column=7), cells=[TableCell(location=Location(line=65, column=9), value='Deployment name')], id='104'), TableRow(location=Location(line=66, column=7), cells=[TableCell(location=Location(line=66, column=9), value='nats-box')], id='105')]), id='106'), Step(location=Location(line=67, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"nats\" in namespace \"nats\" is in ready state', doc_string=None, data_table=None, id='107')], examples=[], id='108')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=69, column=3), tags=[], keyword='Scenario', name='Monitoring', description='', steps=[Step(location=Location(line=70, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"monitoring\" should exist', doc_string=None, data_table=None, id='109'), Step(location=Location(line=71, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"monitoring\" namespace', doc_string=None, data_table=DataTable(location=Location(line=72, column=7), rows=[TableRow(location=Location(line=72, column=7), cells=[TableCell(location=Location(line=72, column=9), value='Deployment name')], id='110'), TableRow(location=Location(line=73, column=7), cells=[TableCell(location=Location(line=73, column=9), value='loki-gateway')], id='111'), TableRow(location=Location(line=74, column=7), cells=[TableCell(location=Location(line=74, column=9), value='otel-collector-opentelemetry-collector')], id='112'), TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='vm-aio-grafana')], id='113'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='vm-aio-kube-state-metrics')], id='114'), TableRow(location=Location(line=77, column=7), cells=[TableCell(location=Location(line=77, column=9), value='vm-aio-victoria-metrics-operator')], id='115'), TableRow(location=Location(line=78, column=7), cells=[TableCell(location=Location(line=78, column=9), value='vmagent-vm-aio-victoria-metrics-k8s-stack')], id='116'), TableRow(location=Location(line=79, column=7), cells=[TableCell(location=Location(line=79, column=9), value='vmalert-vm-aio-victoria-metrics-k8s-stack')], id='117'), TableRow(location=Location(line=80, column=7), cells=[TableCell(location=Location(line=80, column=9), value='vmsingle-vm-aio-victoria-metrics-k8s-stack')], id='118')]), id='119'), Step(location=Location(line=81, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"loki\" in namespace \"monitoring\" is in ready state', doc_string=None, data_table=None, id='120'), Step(location=Location(line=82, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"tempo\" in namespace \"monitoring\" is in ready state', doc_string=None, data_table=None, id='121'), Step(location=Location(line=83, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"vmalertmanager-vm-aio-victoria-metrics-k8s-stack\" in namespace \"monitoring\" is in ready state', doc_string=None, data_table=None, id='122')], examples=[], id='123'))]), comments=[]), uri='file:features/0_1_mindwm_eda.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/0_1_mindwm_eda.feature', registry={'124': Tag(location=Location(line=1, column=1), name='@eda', id='124'), '52': Background(location=Location(line=3, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=4, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='50'), Step(location=Location(line=5, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='51')], id='52'), '50': Step(location=Location(line=4, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='50'), '51': Step(location=Location(line=5, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='51'), '79': Scenario(location=Location(line=7, column=3), tags=[], keyword='Scenario', name='Knative', description='', steps=[Step(location=Location(line=8, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"knative-serving\" should exist', doc_string=None, data_table=None, id='53'), Step(location=Location(line=9, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"knative-eventing\" should exist', doc_string=None, data_table=None, id='54'), Step(location=Location(line=10, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"knative-operator\" should exist', doc_string=None, data_table=None, id='55'), Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"knative-serving\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Deployment name')], id='56'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='activator')], id='57'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='autoscaler')], id='58'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='autoscaler-hpa')], id='59'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='controller')], id='60'), TableRow(location=Location(line=17, column=7), cells=[TableCell(location=Location(line=17, column=9), value='net-istio-controller')], id='61'), TableRow(location=Location(line=18, column=7), cells=[TableCell(location=Location(line=18, column=9), value='net-istio-webhook')], id='62'), TableRow(location=Location(line=19, column=7), cells=[TableCell(location=Location(line=19, column=9), value='webhook')], id='63')]), id='64'), Step(location=Location(line=20, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"knative-eventing\" namespace', doc_string=None, data_table=DataTable(location=Location(line=21, column=7), rows=[TableRow(location=Location(line=21, column=7), cells=[TableCell(location=Location(line=21, column=9), value='Deployment name')], id='65'), TableRow(location=Location(line=22, column=7), cells=[TableCell(location=Location(line=22, column=9), value='eventing-controller')], id='66'), TableRow(location=Location(line=23, column=7), cells=[TableCell(location=Location(line=23, column=9), value='eventing-webhook')], id='67'), TableRow(location=Location(line=24, column=7), cells=[TableCell(location=Location(line=24, column=9), value='imc-dispatcher')], id='68'), TableRow(location=Location(line=25, column=7), cells=[TableCell(location=Location(line=25, column=9), value='imc-controller')], id='69'), TableRow(location=Location(line=26, column=7), cells=[TableCell(location=Location(line=26, column=9), value='jetstream-ch-controller')], id='70'), TableRow(location=Location(line=27, column=7), cells=[TableCell(location=Location(line=27, column=9), value='job-sink')], id='71'), TableRow(location=Location(line=28, column=7), cells=[TableCell(location=Location(line=28, column=9), value='kafka-controller')], id='72'), TableRow(location=Location(line=29, column=7), cells=[TableCell(location=Location(line=29, column=9), value='kafka-webhook-eventing')], id='73'), TableRow(location=Location(line=30, column=7), cells=[TableCell(location=Location(line=30, column=9), value='mt-broker-controller')], id='74'), TableRow(location=Location(line=31, column=7), cells=[TableCell(location=Location(line=31, column=9), value='mt-broker-filter')], id='75'), TableRow(location=Location(line=32, column=7), cells=[TableCell(location=Location(line=32, column=9), value='mt-broker-ingress')], id='76'), TableRow(location=Location(line=33, column=7), cells=[TableCell(location=Location(line=33, column=9), value='nats-webhook')], id='77')]), id='78')], examples=[], id='79'), '53': Step(location=Location(line=8, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"knative-serving\" should exist', doc_string=None, data_table=None, id='53'), '54': Step(location=Location(line=9, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"knative-eventing\" should exist', doc_string=None, data_table=None, id='54'), '55': Step(location=Location(line=10, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"knative-operator\" should exist', doc_string=None, data_table=None, id='55'), '64': Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"knative-serving\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Deployment name')], id='56'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='activator')], id='57'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='autoscaler')], id='58'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='autoscaler-hpa')], id='59'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='controller')], id='60'), TableRow(location=Location(line=17, column=7), cells=[TableCell(location=Location(line=17, column=9), value='net-istio-controller')], id='61'), TableRow(location=Location(line=18, column=7), cells=[TableCell(location=Location(line=18, column=9), value='net-istio-webhook')], id='62'), TableRow(location=Location(line=19, column=7), cells=[TableCell(location=Location(line=19, column=9), value='webhook')], id='63')]), id='64'), '78': Step(location=Location(line=20, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"knative-eventing\" namespace', doc_string=None, data_table=DataTable(location=Location(line=21, column=7), rows=[TableRow(location=Location(line=21, column=7), cells=[TableCell(location=Location(line=21, column=9), value='Deployment name')], id='65'), TableRow(location=Location(line=22, column=7), cells=[TableCell(location=Location(line=22, column=9), value='eventing-controller')], id='66'), TableRow(location=Location(line=23, column=7), cells=[TableCell(location=Location(line=23, column=9), value='eventing-webhook')], id='67'), TableRow(location=Location(line=24, column=7), cells=[TableCell(location=Location(line=24, column=9), value='imc-dispatcher')], id='68'), TableRow(location=Location(line=25, column=7), cells=[TableCell(location=Location(line=25, column=9), value='imc-controller')], id='69'), TableRow(location=Location(line=26, column=7), cells=[TableCell(location=Location(line=26, column=9), value='jetstream-ch-controller')], id='70'), TableRow(location=Location(line=27, column=7), cells=[TableCell(location=Location(line=27, column=9), value='job-sink')], id='71'), TableRow(location=Location(line=28, column=7), cells=[TableCell(location=Location(line=28, column=9), value='kafka-controller')], id='72'), TableRow(location=Location(line=29, column=7), cells=[TableCell(location=Location(line=29, column=9), value='kafka-webhook-eventing')], id='73'), TableRow(location=Location(line=30, column=7), cells=[TableCell(location=Location(line=30, column=9), value='mt-broker-controller')], id='74'), TableRow(location=Location(line=31, column=7), cells=[TableCell(location=Location(line=31, column=9), value='mt-broker-filter')], id='75'), TableRow(location=Location(line=32, column=7), cells=[TableCell(location=Location(line=32, column=9), value='mt-broker-ingress')], id='76'), TableRow(location=Location(line=33, column=7), cells=[TableCell(location=Location(line=33, column=9), value='nats-webhook')], id='77')]), id='78'), '85': Scenario(location=Location(line=36, column=3), tags=[], keyword='Scenario', name='Istio', description='', steps=[Step(location=Location(line=37, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"istio-system\" should exist', doc_string=None, data_table=None, id='80'), Step(location=Location(line=38, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"istio-system\" namespace', doc_string=None, data_table=DataTable(location=Location(line=39, column=7), rows=[TableRow(location=Location(line=39, column=7), cells=[TableCell(location=Location(line=39, column=9), value='Deployment name')], id='81'), TableRow(location=Location(line=40, column=7), cells=[TableCell(location=Location(line=40, column=9), value='istiod')], id='82'), TableRow(location=Location(line=41, column=7), cells=[TableCell(location=Location(line=41, column=9), value='istio-ingressgateway')], id='83')]), id='84')], examples=[], id='85'), '80': Step(location=Location(line=37, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"istio-system\" should exist', doc_string=None, data_table=None, id='80'), '84': Step(location=Location(line=38, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"istio-system\" namespace', doc_string=None, data_table=DataTable(location=Location(line=39, column=7), rows=[TableRow(location=Location(line=39, column=7), cells=[TableCell(location=Location(line=39, column=9), value='Deployment name')], id='81'), TableRow(location=Location(line=40, column=7), cells=[TableCell(location=Location(line=40, column=9), value='istiod')], id='82'), TableRow(location=Location(line=41, column=7), cells=[TableCell(location=Location(line=41, column=9), value='istio-ingressgateway')], id='83')]), id='84'), '95': Scenario(location=Location(line=43, column=3), tags=[], keyword='Scenario', name='Redpanda', description='', steps=[Step(location=Location(line=44, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"redpanda\" should exist', doc_string=None, data_table=None, id='86'), Step(location=Location(line=45, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"redpanda\" namespace', doc_string=None, data_table=DataTable(location=Location(line=46, column=7), rows=[TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='Deployment name')], id='87'), TableRow(location=Location(line=47, column=7), cells=[TableCell(location=Location(line=47, column=9), value='redpanda-operator')], id='88')]), id='89'), Step(location=Location(line=48, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='helm release \"neo4j-cdc\" is deployed in \"redpanda\" namespace', doc_string=None, data_table=None, id='90'), Step(location=Location(line=49, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"neo4j-cdc\" in namespace \"redpanda\" is in ready state', doc_string=None, data_table=None, id='91'), Step(location=Location(line=50, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"redpanda\" namespace', doc_string=None, data_table=DataTable(location=Location(line=51, column=7), rows=[TableRow(location=Location(line=51, column=7), cells=[TableCell(location=Location(line=51, column=9), value='Deployment name')], id='92'), TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='neo4j-cdc-console')], id='93')]), id='94')], examples=[], id='95'), '86': Step(location=Location(line=44, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"redpanda\" should exist', doc_string=None, data_table=None, id='86'), '89': Step(location=Location(line=45, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"redpanda\" namespace', doc_string=None, data_table=DataTable(location=Location(line=46, column=7), rows=[TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='Deployment name')], id='87'), TableRow(location=Location(line=47, column=7), cells=[TableCell(location=Location(line=47, column=9), value='redpanda-operator')], id='88')]), id='89'), '90': Step(location=Location(line=48, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='helm release \"neo4j-cdc\" is deployed in \"redpanda\" namespace', doc_string=None, data_table=None, id='90'), '91': Step(location=Location(line=49, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"neo4j-cdc\" in namespace \"redpanda\" is in ready state', doc_string=None, data_table=None, id='91'), '94': Step(location=Location(line=50, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"redpanda\" namespace', doc_string=None, data_table=DataTable(location=Location(line=51, column=7), rows=[TableRow(location=Location(line=51, column=7), cells=[TableCell(location=Location(line=51, column=9), value='Deployment name')], id='92'), TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='neo4j-cdc-console')], id='93')]), id='94'), '102': Scenario(location=Location(line=54, column=3), tags=[], keyword='Scenario', name='Cert manager', description='', steps=[Step(location=Location(line=55, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"cert-manager\" should exist', doc_string=None, data_table=None, id='96'), Step(location=Location(line=56, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"cert-manager\" namespace', doc_string=None, data_table=DataTable(location=Location(line=57, column=7), rows=[TableRow(location=Location(line=57, column=7), cells=[TableCell(location=Location(line=57, column=9), value='Deployment name')], id='97'), TableRow(location=Location(line=58, column=7), cells=[TableCell(location=Location(line=58, column=9), value='cert-manager')], id='98'), TableRow(location=Location(line=59, column=7), cells=[TableCell(location=Location(line=59, column=9), value='cert-manager-cainjector')], id='99'), TableRow(location=Location(line=60, column=7), cells=[TableCell(location=Location(line=60, column=9), value='cert-manager-webhook')], id='100')]), id='101')], examples=[], id='102'), '96': Step(location=Location(line=55, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"cert-manager\" should exist', doc_string=None, data_table=None, id='96'), '101': Step(location=Location(line=56, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"cert-manager\" namespace', doc_string=None, data_table=DataTable(location=Location(line=57, column=7), rows=[TableRow(location=Location(line=57, column=7), cells=[TableCell(location=Location(line=57, column=9), value='Deployment name')], id='97'), TableRow(location=Location(line=58, column=7), cells=[TableCell(location=Location(line=58, column=9), value='cert-manager')], id='98'), TableRow(location=Location(line=59, column=7), cells=[TableCell(location=Location(line=59, column=9), value='cert-manager-cainjector')], id='99'), TableRow(location=Location(line=60, column=7), cells=[TableCell(location=Location(line=60, column=9), value='cert-manager-webhook')], id='100')]), id='101'), '108': Scenario(location=Location(line=62, column=3), tags=[], keyword='Scenario', name='Nats', description='', steps=[Step(location=Location(line=63, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"nats\" should exist', doc_string=None, data_table=None, id='103'), Step(location=Location(line=64, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"nats\" namespace', doc_string=None, data_table=DataTable(location=Location(line=65, column=7), rows=[TableRow(location=Location(line=65, column=7), cells=[TableCell(location=Location(line=65, column=9), value='Deployment name')], id='104'), TableRow(location=Location(line=66, column=7), cells=[TableCell(location=Location(line=66, column=9), value='nats-box')], id='105')]), id='106'), Step(location=Location(line=67, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"nats\" in namespace \"nats\" is in ready state', doc_string=None, data_table=None, id='107')], examples=[], id='108'), '103': Step(location=Location(line=63, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"nats\" should exist', doc_string=None, data_table=None, id='103'), '106': Step(location=Location(line=64, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"nats\" namespace', doc_string=None, data_table=DataTable(location=Location(line=65, column=7), rows=[TableRow(location=Location(line=65, column=7), cells=[TableCell(location=Location(line=65, column=9), value='Deployment name')], id='104'), TableRow(location=Location(line=66, column=7), cells=[TableCell(location=Location(line=66, column=9), value='nats-box')], id='105')]), id='106'), '107': Step(location=Location(line=67, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"nats\" in namespace \"nats\" is in ready state', doc_string=None, data_table=None, id='107'), '123': Scenario(location=Location(line=69, column=3), tags=[], keyword='Scenario', name='Monitoring', description='', steps=[Step(location=Location(line=70, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"monitoring\" should exist', doc_string=None, data_table=None, id='109'), Step(location=Location(line=71, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"monitoring\" namespace', doc_string=None, data_table=DataTable(location=Location(line=72, column=7), rows=[TableRow(location=Location(line=72, column=7), cells=[TableCell(location=Location(line=72, column=9), value='Deployment name')], id='110'), TableRow(location=Location(line=73, column=7), cells=[TableCell(location=Location(line=73, column=9), value='loki-gateway')], id='111'), TableRow(location=Location(line=74, column=7), cells=[TableCell(location=Location(line=74, column=9), value='otel-collector-opentelemetry-collector')], id='112'), TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='vm-aio-grafana')], id='113'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='vm-aio-kube-state-metrics')], id='114'), TableRow(location=Location(line=77, column=7), cells=[TableCell(location=Location(line=77, column=9), value='vm-aio-victoria-metrics-operator')], id='115'), TableRow(location=Location(line=78, column=7), cells=[TableCell(location=Location(line=78, column=9), value='vmagent-vm-aio-victoria-metrics-k8s-stack')], id='116'), TableRow(location=Location(line=79, column=7), cells=[TableCell(location=Location(line=79, column=9), value='vmalert-vm-aio-victoria-metrics-k8s-stack')], id='117'), TableRow(location=Location(line=80, column=7), cells=[TableCell(location=Location(line=80, column=9), value='vmsingle-vm-aio-victoria-metrics-k8s-stack')], id='118')]), id='119'), Step(location=Location(line=81, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"loki\" in namespace \"monitoring\" is in ready state', doc_string=None, data_table=None, id='120'), Step(location=Location(line=82, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"tempo\" in namespace \"monitoring\" is in ready state', doc_string=None, data_table=None, id='121'), Step(location=Location(line=83, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"vmalertmanager-vm-aio-victoria-metrics-k8s-stack\" in namespace \"monitoring\" is in ready state', doc_string=None, data_table=None, id='122')], examples=[], id='123'), '109': Step(location=Location(line=70, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"monitoring\" should exist', doc_string=None, data_table=None, id='109'), '119': Step(location=Location(line=71, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"monitoring\" namespace', doc_string=None, data_table=DataTable(location=Location(line=72, column=7), rows=[TableRow(location=Location(line=72, column=7), cells=[TableCell(location=Location(line=72, column=9), value='Deployment name')], id='110'), TableRow(location=Location(line=73, column=7), cells=[TableCell(location=Location(line=73, column=9), value='loki-gateway')], id='111'), TableRow(location=Location(line=74, column=7), cells=[TableCell(location=Location(line=74, column=9), value='otel-collector-opentelemetry-collector')], id='112'), TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='vm-aio-grafana')], id='113'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='vm-aio-kube-state-metrics')], id='114'), TableRow(location=Location(line=77, column=7), cells=[TableCell(location=Location(line=77, column=9), value='vm-aio-victoria-metrics-operator')], id='115'), TableRow(location=Location(line=78, column=7), cells=[TableCell(location=Location(line=78, column=9), value='vmagent-vm-aio-victoria-metrics-k8s-stack')], id='116'), TableRow(location=Location(line=79, column=7), cells=[TableCell(location=Location(line=79, column=9), value='vmalert-vm-aio-victoria-metrics-k8s-stack')], id='117'), TableRow(location=Location(line=80, column=7), cells=[TableCell(location=Location(line=80, column=9), value='vmsingle-vm-aio-victoria-metrics-k8s-stack')], id='118')]), id='119'), '120': Step(location=Location(line=81, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"loki\" in namespace \"monitoring\" is in ready state', doc_string=None, data_table=None, id='120'), '121': Step(location=Location(line=82, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"tempo\" in namespace \"monitoring\" is in ready state', doc_string=None, data_table=None, id='121'), '122': Step(location=Location(line=83, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"vmalertmanager-vm-aio-victoria-metrics-k8s-stack\" in namespace \"monitoring\" is in ready state', doc_string=None, data_table=None, id='122')}, pickles=[Pickle(id='132', uri='file:features/0_1_mindwm_eda.feature', name='Knative', language='en', steps=[PickleStep(argument=None, ast_node_ids=['50'], id='125', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['51'], id='126', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['53'], id='127', type=<Type.outcome: 'Outcome'>, text='namespace \"knative-serving\" should exist'), PickleStep(argument=None, ast_node_ids=['54'], id='128', type=<Type.outcome: 'Outcome'>, text='namespace \"knative-eventing\" should exist'), PickleStep(argument=None, ast_node_ids=['55'], id='129', type=<Type.outcome: 'Outcome'>, text='namespace \"knative-operator\" should exist'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='activator')]), PickleTableRow(cells=[PickleTableCell(value='autoscaler')]), PickleTableRow(cells=[PickleTableCell(value='autoscaler-hpa')]), PickleTableRow(cells=[PickleTableCell(value='controller')]), PickleTableRow(cells=[PickleTableCell(value='net-istio-controller')]), PickleTableRow(cells=[PickleTableCell(value='net-istio-webhook')]), PickleTableRow(cells=[PickleTableCell(value='webhook')])])), ast_node_ids=['64'], id='130', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"knative-serving\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='eventing-controller')]), PickleTableRow(cells=[PickleTableCell(value='eventing-webhook')]), PickleTableRow(cells=[PickleTableCell(value='imc-dispatcher')]), PickleTableRow(cells=[PickleTableCell(value='imc-controller')]), PickleTableRow(cells=[PickleTableCell(value='jetstream-ch-controller')]), PickleTableRow(cells=[PickleTableCell(value='job-sink')]), PickleTableRow(cells=[PickleTableCell(value='kafka-controller')]), PickleTableRow(cells=[PickleTableCell(value='kafka-webhook-eventing')]), PickleTableRow(cells=[PickleTableCell(value='mt-broker-controller')]), PickleTableRow(cells=[PickleTableCell(value='mt-broker-filter')]), PickleTableRow(cells=[PickleTableCell(value='mt-broker-ingress')]), PickleTableRow(cells=[PickleTableCell(value='nats-webhook')])])), ast_node_ids=['78'], id='131', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"knative-eventing\" namespace')], tags=[PickleTag(name='@eda', ast_node_id='124')], ast_node_ids=['79']), Pickle(id='137', uri='file:features/0_1_mindwm_eda.feature', name='Istio', language='en', steps=[PickleStep(argument=None, ast_node_ids=['50'], id='133', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['51'], id='134', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['80'], id='135', type=<Type.outcome: 'Outcome'>, text='namespace \"istio-system\" should exist'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='istiod')]), PickleTableRow(cells=[PickleTableCell(value='istio-ingressgateway')])])), ast_node_ids=['84'], id='136', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"istio-system\" namespace')], tags=[PickleTag(name='@eda', ast_node_id='124')], ast_node_ids=['85']), Pickle(id='145', uri='file:features/0_1_mindwm_eda.feature', name='Redpanda', language='en', steps=[PickleStep(argument=None, ast_node_ids=['50'], id='138', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['51'], id='139', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['86'], id='140', type=<Type.outcome: 'Outcome'>, text='namespace \"redpanda\" should exist'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='redpanda-operator')])])), ast_node_ids=['89'], id='141', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"redpanda\" namespace'), PickleStep(argument=None, ast_node_ids=['90'], id='142', type=<Type.outcome: 'Outcome'>, text='helm release \"neo4j-cdc\" is deployed in \"redpanda\" namespace'), PickleStep(argument=None, ast_node_ids=['91'], id='143', type=<Type.outcome: 'Outcome'>, text='statefulset \"neo4j-cdc\" in namespace \"redpanda\" is in ready state'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='neo4j-cdc-console')])])), ast_node_ids=['94'], id='144', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"redpanda\" namespace')], tags=[PickleTag(name='@eda', ast_node_id='124')], ast_node_ids=['95']), Pickle(id='150', uri='file:features/0_1_mindwm_eda.feature', name='Cert manager', language='en', steps=[PickleStep(argument=None, ast_node_ids=['50'], id='146', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['51'], id='147', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['96'], id='148', type=<Type.outcome: 'Outcome'>, text='namespace \"cert-manager\" should exist'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='cert-manager')]), PickleTableRow(cells=[PickleTableCell(value='cert-manager-cainjector')]), PickleTableRow(cells=[PickleTableCell(value='cert-manager-webhook')])])), ast_node_ids=['101'], id='149', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"cert-manager\" namespace')], tags=[PickleTag(name='@eda', ast_node_id='124')], ast_node_ids=['102']), Pickle(id='156', uri='file:features/0_1_mindwm_eda.feature', name='Nats', language='en', steps=[PickleStep(argument=None, ast_node_ids=['50'], id='151', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['51'], id='152', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['103'], id='153', type=<Type.outcome: 'Outcome'>, text='namespace \"nats\" should exist'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='nats-box')])])), ast_node_ids=['106'], id='154', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"nats\" namespace'), PickleStep(argument=None, ast_node_ids=['107'], id='155', type=<Type.outcome: 'Outcome'>, text='statefulset \"nats\" in namespace \"nats\" is in ready state')], tags=[PickleTag(name='@eda', ast_node_id='124')], ast_node_ids=['108']), Pickle(id='164', uri='file:features/0_1_mindwm_eda.feature', name='Monitoring', language='en', steps=[PickleStep(argument=None, ast_node_ids=['50'], id='157', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['51'], id='158', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['109'], id='159', type=<Type.outcome: 'Outcome'>, text='namespace \"monitoring\" should exist'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='loki-gateway')]), PickleTableRow(cells=[PickleTableCell(value='otel-collector-opentelemetry-collector')]), PickleTableRow(cells=[PickleTableCell(value='vm-aio-grafana')]), PickleTableRow(cells=[PickleTableCell(value='vm-aio-kube-state-metrics')]), PickleTableRow(cells=[PickleTableCell(value='vm-aio-victoria-metrics-operator')]), PickleTableRow(cells=[PickleTableCell(value='vmagent-vm-aio-victoria-metrics-k8s-stack')]), PickleTableRow(cells=[PickleTableCell(value='vmalert-vm-aio-victoria-metrics-k8s-stack')]), PickleTableRow(cells=[PickleTableCell(value='vmsingle-vm-aio-victoria-metrics-k8s-stack')])])), ast_node_ids=['119'], id='160', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"monitoring\" namespace'), PickleStep(argument=None, ast_node_ids=['120'], id='161', type=<Type.outcome: 'Outcome'>, text='statefulset \"loki\" in namespace \"monitoring\" is in ready state'), PickleStep(argument=None, ast_node_ids=['121'], id='162', type=<Type.outcome: 'Outcome'>, text='statefulset \"tempo\" in namespace \"monitoring\" is in ready state'), PickleStep(argument=None, ast_node_ids=['122'], id='163', type=<Type.outcome: 'Outcome'>, text='statefulset \"vmalertmanager-vm-aio-victoria-metrics-k8s-stack\" in namespace \"monitoring\" is in ready state')], tags=[PickleTag(name='@eda', ast_node_id='124')], ast_node_ids=['123'])])","Source(uri='file:features/0_1_mindwm_eda.feature', data='@eda\\nFeature: Mindwm event driven architecture\\n  Background:\\n    Given a MindWM environment\\n    Then all nodes in Kubernetes are ready\\n\\n  Scenario: Knative\\n    And namespace \"knative-serving\" should exist\\n    And namespace \"knative-eventing\" should exist\\n    And namespace \"knative-operator\" should exist\\n    And the following deployments are in a ready state in the \"knative-serving\" namespace\\n      | Deployment name      | \\n      | activator            |\\n      | autoscaler           |\\n      | autoscaler-hpa       | \\n      | controller           |\\n      | net-istio-controller |\\n      | net-istio-webhook    |\\n      | webhook              |\\n    And the following deployments are in a ready state in the \"knative-eventing\" namespace\\n      | Deployment name         | \\n      | eventing-controller     |\\n      | eventing-webhook        |\\n      | imc-dispatcher          |\\n      | imc-controller          |\\n      | jetstream-ch-controller |\\n      | job-sink \\t\\t|\\n      | kafka-controller        |\\n      | kafka-webhook-eventing  |\\n      | mt-broker-controller    |\\n      | mt-broker-filter        |\\n      | mt-broker-ingress       |\\n      | nats-webhook            |\\n   \\n\\n  Scenario: Istio\\n    And namespace \"istio-system\" should exist\\n    And the following deployments are in a ready state in the \"istio-system\" namespace\\n      | Deployment name         | \\n      | istiod                  |\\n      | istio-ingressgateway    |\\n\\n  Scenario: Redpanda\\n    And namespace \"redpanda\" should exist\\n    And the following deployments are in a ready state in the \"redpanda\" namespace\\n      | Deployment name         | \\n      | redpanda-operator       |\\n    And helm release \"neo4j-cdc\" is deployed in \"redpanda\" namespace\\n    And statefulset \"neo4j-cdc\" in namespace \"redpanda\" is in ready state\\n    And the following deployments are in a ready state in the \"redpanda\" namespace\\n      | Deployment name         | \\n      | neo4j-cdc-console       |\\n\\n  Scenario: Cert manager\\n    And namespace \"cert-manager\" should exist\\n    And the following deployments are in a ready state in the \"cert-manager\" namespace\\n      | Deployment name          | \\n      | cert-manager             |\\n      | cert-manager-cainjector |\\n      | cert-manager-webhook     |\\n\\n  Scenario: Nats\\n    And namespace \"nats\" should exist\\n    And the following deployments are in a ready state in the \"nats\" namespace\\n      | Deployment name         | \\n      | nats-box                |\\n    And statefulset \"nats\" in namespace \"nats\" is in ready state\\n\\n  Scenario: Monitoring\\n    And namespace \"monitoring\" should exist\\n    And the following deployments are in a ready state in the \"monitoring\" namespace\\n      | Deployment name         | \\n      | loki-gateway | \\n      | otel-collector-opentelemetry-collector | \\n      | vm-aio-grafana | \\n      | vm-aio-kube-state-metrics | \\n      | vm-aio-victoria-metrics-operator | \\n      | vmagent-vm-aio-victoria-metrics-k8s-stack | \\n      | vmalert-vm-aio-victoria-metrics-k8s-stack | \\n      | vmsingle-vm-aio-victoria-metrics-k8s-stack | \\n    And statefulset \"loki\" in namespace \"monitoring\" is in ready state\\n    And statefulset \"tempo\" in namespace \"monitoring\" is in ready state\\n    And statefulset \"vmalertmanager-vm-aio-victoria-metrics-k8s-stack\" in namespace \"monitoring\" is in ready state\\n', media_type='text/x.cucumber.gherkin+plain')","Pickle(id='164', uri='file:features/0_1_mindwm_eda.feature', name='Monitoring', language='en', steps=[PickleStep(argument=None, ast_node_ids=['50'], id='157', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['51'], id='158', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['109'], id='159', type=<Type.outcome: 'Outcome'>, text='namespace \"monitoring\" should exist'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='loki-gateway')]), PickleTableRow(cells=[PickleTableCell(value='otel-collector-opentelemetry-collector')]), PickleTableRow(cells=[PickleTableCell(value='vm-aio-grafana')]), PickleTableRow(cells=[PickleTableCell(value='vm-aio-kube-state-metrics')]), PickleTableRow(cells=[PickleTableCell(value='vm-aio-victoria-metrics-operator')]), PickleTableRow(cells=[PickleTableCell(value='vmagent-vm-aio-victoria-metrics-k8s-stack')]), PickleTableRow(cells=[PickleTableCell(value='vmalert-vm-aio-victoria-metrics-k8s-stack')]), PickleTableRow(cells=[PickleTableCell(value='vmsingle-vm-aio-victoria-metrics-k8s-stack')])])), ast_node_ids=['119'], id='160', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"monitoring\" namespace'), PickleStep(argument=None, ast_node_ids=['120'], id='161', type=<Type.outcome: 'Outcome'>, text='statefulset \"loki\" in namespace \"monitoring\" is in ready state'), PickleStep(argument=None, ast_node_ids=['121'], id='162', type=<Type.outcome: 'Outcome'>, text='statefulset \"tempo\" in namespace \"monitoring\" is in ready state'), PickleStep(argument=None, ast_node_ids=['122'], id='163', type=<Type.outcome: 'Outcome'>, text='statefulset \"vmalertmanager-vm-aio-victoria-metrics-k8s-stack\" in namespace \"monitoring\" is in ready state')], tags=[PickleTag(name='@eda', ast_node_id='124')], ast_node_ids=['123'])"],"tags":["eda","pytest_bdd_scenario","@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')","scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/0_1_mindwm_eda.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=<FeaturePathType.PATH: 'path'>, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())","namespace(create=False, name='default')"]},{"name":"test_scenarios[file:features/0_1_mindwm_eda.feature-Mindwm event driven architecture-Redpanda]","uid":"2f6966a35f9852d0","parentUid":"3961740595044ffd97a03e46799bfc30","status":"passed","time":{"start":1728403418619,"stop":1728403418873,"duration":254},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["Feature(gherkin_document=GherkinDocument(uri='file:features/0_1_mindwm_eda.feature', feature=Feature(location=Location(line=2, column=1), tags=[Tag(location=Location(line=1, column=1), name='@eda', id='124')], language='en', keyword='Feature', name='Mindwm event driven architecture', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=3, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=4, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='50'), Step(location=Location(line=5, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='51')], id='52'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=7, column=3), tags=[], keyword='Scenario', name='Knative', description='', steps=[Step(location=Location(line=8, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"knative-serving\" should exist', doc_string=None, data_table=None, id='53'), Step(location=Location(line=9, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"knative-eventing\" should exist', doc_string=None, data_table=None, id='54'), Step(location=Location(line=10, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"knative-operator\" should exist', doc_string=None, data_table=None, id='55'), Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"knative-serving\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Deployment name')], id='56'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='activator')], id='57'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='autoscaler')], id='58'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='autoscaler-hpa')], id='59'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='controller')], id='60'), TableRow(location=Location(line=17, column=7), cells=[TableCell(location=Location(line=17, column=9), value='net-istio-controller')], id='61'), TableRow(location=Location(line=18, column=7), cells=[TableCell(location=Location(line=18, column=9), value='net-istio-webhook')], id='62'), TableRow(location=Location(line=19, column=7), cells=[TableCell(location=Location(line=19, column=9), value='webhook')], id='63')]), id='64'), Step(location=Location(line=20, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"knative-eventing\" namespace', doc_string=None, data_table=DataTable(location=Location(line=21, column=7), rows=[TableRow(location=Location(line=21, column=7), cells=[TableCell(location=Location(line=21, column=9), value='Deployment name')], id='65'), TableRow(location=Location(line=22, column=7), cells=[TableCell(location=Location(line=22, column=9), value='eventing-controller')], id='66'), TableRow(location=Location(line=23, column=7), cells=[TableCell(location=Location(line=23, column=9), value='eventing-webhook')], id='67'), TableRow(location=Location(line=24, column=7), cells=[TableCell(location=Location(line=24, column=9), value='imc-dispatcher')], id='68'), TableRow(location=Location(line=25, column=7), cells=[TableCell(location=Location(line=25, column=9), value='imc-controller')], id='69'), TableRow(location=Location(line=26, column=7), cells=[TableCell(location=Location(line=26, column=9), value='jetstream-ch-controller')], id='70'), TableRow(location=Location(line=27, column=7), cells=[TableCell(location=Location(line=27, column=9), value='job-sink')], id='71'), TableRow(location=Location(line=28, column=7), cells=[TableCell(location=Location(line=28, column=9), value='kafka-controller')], id='72'), TableRow(location=Location(line=29, column=7), cells=[TableCell(location=Location(line=29, column=9), value='kafka-webhook-eventing')], id='73'), TableRow(location=Location(line=30, column=7), cells=[TableCell(location=Location(line=30, column=9), value='mt-broker-controller')], id='74'), TableRow(location=Location(line=31, column=7), cells=[TableCell(location=Location(line=31, column=9), value='mt-broker-filter')], id='75'), TableRow(location=Location(line=32, column=7), cells=[TableCell(location=Location(line=32, column=9), value='mt-broker-ingress')], id='76'), TableRow(location=Location(line=33, column=7), cells=[TableCell(location=Location(line=33, column=9), value='nats-webhook')], id='77')]), id='78')], examples=[], id='79')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=36, column=3), tags=[], keyword='Scenario', name='Istio', description='', steps=[Step(location=Location(line=37, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"istio-system\" should exist', doc_string=None, data_table=None, id='80'), Step(location=Location(line=38, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"istio-system\" namespace', doc_string=None, data_table=DataTable(location=Location(line=39, column=7), rows=[TableRow(location=Location(line=39, column=7), cells=[TableCell(location=Location(line=39, column=9), value='Deployment name')], id='81'), TableRow(location=Location(line=40, column=7), cells=[TableCell(location=Location(line=40, column=9), value='istiod')], id='82'), TableRow(location=Location(line=41, column=7), cells=[TableCell(location=Location(line=41, column=9), value='istio-ingressgateway')], id='83')]), id='84')], examples=[], id='85')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=43, column=3), tags=[], keyword='Scenario', name='Redpanda', description='', steps=[Step(location=Location(line=44, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"redpanda\" should exist', doc_string=None, data_table=None, id='86'), Step(location=Location(line=45, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"redpanda\" namespace', doc_string=None, data_table=DataTable(location=Location(line=46, column=7), rows=[TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='Deployment name')], id='87'), TableRow(location=Location(line=47, column=7), cells=[TableCell(location=Location(line=47, column=9), value='redpanda-operator')], id='88')]), id='89'), Step(location=Location(line=48, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='helm release \"neo4j-cdc\" is deployed in \"redpanda\" namespace', doc_string=None, data_table=None, id='90'), Step(location=Location(line=49, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"neo4j-cdc\" in namespace \"redpanda\" is in ready state', doc_string=None, data_table=None, id='91'), Step(location=Location(line=50, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"redpanda\" namespace', doc_string=None, data_table=DataTable(location=Location(line=51, column=7), rows=[TableRow(location=Location(line=51, column=7), cells=[TableCell(location=Location(line=51, column=9), value='Deployment name')], id='92'), TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='neo4j-cdc-console')], id='93')]), id='94')], examples=[], id='95')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=54, column=3), tags=[], keyword='Scenario', name='Cert manager', description='', steps=[Step(location=Location(line=55, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"cert-manager\" should exist', doc_string=None, data_table=None, id='96'), Step(location=Location(line=56, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"cert-manager\" namespace', doc_string=None, data_table=DataTable(location=Location(line=57, column=7), rows=[TableRow(location=Location(line=57, column=7), cells=[TableCell(location=Location(line=57, column=9), value='Deployment name')], id='97'), TableRow(location=Location(line=58, column=7), cells=[TableCell(location=Location(line=58, column=9), value='cert-manager')], id='98'), TableRow(location=Location(line=59, column=7), cells=[TableCell(location=Location(line=59, column=9), value='cert-manager-cainjector')], id='99'), TableRow(location=Location(line=60, column=7), cells=[TableCell(location=Location(line=60, column=9), value='cert-manager-webhook')], id='100')]), id='101')], examples=[], id='102')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=62, column=3), tags=[], keyword='Scenario', name='Nats', description='', steps=[Step(location=Location(line=63, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"nats\" should exist', doc_string=None, data_table=None, id='103'), Step(location=Location(line=64, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"nats\" namespace', doc_string=None, data_table=DataTable(location=Location(line=65, column=7), rows=[TableRow(location=Location(line=65, column=7), cells=[TableCell(location=Location(line=65, column=9), value='Deployment name')], id='104'), TableRow(location=Location(line=66, column=7), cells=[TableCell(location=Location(line=66, column=9), value='nats-box')], id='105')]), id='106'), Step(location=Location(line=67, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"nats\" in namespace \"nats\" is in ready state', doc_string=None, data_table=None, id='107')], examples=[], id='108')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=69, column=3), tags=[], keyword='Scenario', name='Monitoring', description='', steps=[Step(location=Location(line=70, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"monitoring\" should exist', doc_string=None, data_table=None, id='109'), Step(location=Location(line=71, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"monitoring\" namespace', doc_string=None, data_table=DataTable(location=Location(line=72, column=7), rows=[TableRow(location=Location(line=72, column=7), cells=[TableCell(location=Location(line=72, column=9), value='Deployment name')], id='110'), TableRow(location=Location(line=73, column=7), cells=[TableCell(location=Location(line=73, column=9), value='loki-gateway')], id='111'), TableRow(location=Location(line=74, column=7), cells=[TableCell(location=Location(line=74, column=9), value='otel-collector-opentelemetry-collector')], id='112'), TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='vm-aio-grafana')], id='113'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='vm-aio-kube-state-metrics')], id='114'), TableRow(location=Location(line=77, column=7), cells=[TableCell(location=Location(line=77, column=9), value='vm-aio-victoria-metrics-operator')], id='115'), TableRow(location=Location(line=78, column=7), cells=[TableCell(location=Location(line=78, column=9), value='vmagent-vm-aio-victoria-metrics-k8s-stack')], id='116'), TableRow(location=Location(line=79, column=7), cells=[TableCell(location=Location(line=79, column=9), value='vmalert-vm-aio-victoria-metrics-k8s-stack')], id='117'), TableRow(location=Location(line=80, column=7), cells=[TableCell(location=Location(line=80, column=9), value='vmsingle-vm-aio-victoria-metrics-k8s-stack')], id='118')]), id='119'), Step(location=Location(line=81, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"loki\" in namespace \"monitoring\" is in ready state', doc_string=None, data_table=None, id='120'), Step(location=Location(line=82, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"tempo\" in namespace \"monitoring\" is in ready state', doc_string=None, data_table=None, id='121'), Step(location=Location(line=83, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"vmalertmanager-vm-aio-victoria-metrics-k8s-stack\" in namespace \"monitoring\" is in ready state', doc_string=None, data_table=None, id='122')], examples=[], id='123'))]), comments=[]), uri='file:features/0_1_mindwm_eda.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/0_1_mindwm_eda.feature', registry={'124': Tag(location=Location(line=1, column=1), name='@eda', id='124'), '52': Background(location=Location(line=3, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=4, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='50'), Step(location=Location(line=5, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='51')], id='52'), '50': Step(location=Location(line=4, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='50'), '51': Step(location=Location(line=5, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='51'), '79': Scenario(location=Location(line=7, column=3), tags=[], keyword='Scenario', name='Knative', description='', steps=[Step(location=Location(line=8, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"knative-serving\" should exist', doc_string=None, data_table=None, id='53'), Step(location=Location(line=9, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"knative-eventing\" should exist', doc_string=None, data_table=None, id='54'), Step(location=Location(line=10, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"knative-operator\" should exist', doc_string=None, data_table=None, id='55'), Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"knative-serving\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Deployment name')], id='56'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='activator')], id='57'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='autoscaler')], id='58'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='autoscaler-hpa')], id='59'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='controller')], id='60'), TableRow(location=Location(line=17, column=7), cells=[TableCell(location=Location(line=17, column=9), value='net-istio-controller')], id='61'), TableRow(location=Location(line=18, column=7), cells=[TableCell(location=Location(line=18, column=9), value='net-istio-webhook')], id='62'), TableRow(location=Location(line=19, column=7), cells=[TableCell(location=Location(line=19, column=9), value='webhook')], id='63')]), id='64'), Step(location=Location(line=20, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"knative-eventing\" namespace', doc_string=None, data_table=DataTable(location=Location(line=21, column=7), rows=[TableRow(location=Location(line=21, column=7), cells=[TableCell(location=Location(line=21, column=9), value='Deployment name')], id='65'), TableRow(location=Location(line=22, column=7), cells=[TableCell(location=Location(line=22, column=9), value='eventing-controller')], id='66'), TableRow(location=Location(line=23, column=7), cells=[TableCell(location=Location(line=23, column=9), value='eventing-webhook')], id='67'), TableRow(location=Location(line=24, column=7), cells=[TableCell(location=Location(line=24, column=9), value='imc-dispatcher')], id='68'), TableRow(location=Location(line=25, column=7), cells=[TableCell(location=Location(line=25, column=9), value='imc-controller')], id='69'), TableRow(location=Location(line=26, column=7), cells=[TableCell(location=Location(line=26, column=9), value='jetstream-ch-controller')], id='70'), TableRow(location=Location(line=27, column=7), cells=[TableCell(location=Location(line=27, column=9), value='job-sink')], id='71'), TableRow(location=Location(line=28, column=7), cells=[TableCell(location=Location(line=28, column=9), value='kafka-controller')], id='72'), TableRow(location=Location(line=29, column=7), cells=[TableCell(location=Location(line=29, column=9), value='kafka-webhook-eventing')], id='73'), TableRow(location=Location(line=30, column=7), cells=[TableCell(location=Location(line=30, column=9), value='mt-broker-controller')], id='74'), TableRow(location=Location(line=31, column=7), cells=[TableCell(location=Location(line=31, column=9), value='mt-broker-filter')], id='75'), TableRow(location=Location(line=32, column=7), cells=[TableCell(location=Location(line=32, column=9), value='mt-broker-ingress')], id='76'), TableRow(location=Location(line=33, column=7), cells=[TableCell(location=Location(line=33, column=9), value='nats-webhook')], id='77')]), id='78')], examples=[], id='79'), '53': Step(location=Location(line=8, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"knative-serving\" should exist', doc_string=None, data_table=None, id='53'), '54': Step(location=Location(line=9, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"knative-eventing\" should exist', doc_string=None, data_table=None, id='54'), '55': Step(location=Location(line=10, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"knative-operator\" should exist', doc_string=None, data_table=None, id='55'), '64': Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"knative-serving\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Deployment name')], id='56'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='activator')], id='57'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='autoscaler')], id='58'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='autoscaler-hpa')], id='59'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='controller')], id='60'), TableRow(location=Location(line=17, column=7), cells=[TableCell(location=Location(line=17, column=9), value='net-istio-controller')], id='61'), TableRow(location=Location(line=18, column=7), cells=[TableCell(location=Location(line=18, column=9), value='net-istio-webhook')], id='62'), TableRow(location=Location(line=19, column=7), cells=[TableCell(location=Location(line=19, column=9), value='webhook')], id='63')]), id='64'), '78': Step(location=Location(line=20, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"knative-eventing\" namespace', doc_string=None, data_table=DataTable(location=Location(line=21, column=7), rows=[TableRow(location=Location(line=21, column=7), cells=[TableCell(location=Location(line=21, column=9), value='Deployment name')], id='65'), TableRow(location=Location(line=22, column=7), cells=[TableCell(location=Location(line=22, column=9), value='eventing-controller')], id='66'), TableRow(location=Location(line=23, column=7), cells=[TableCell(location=Location(line=23, column=9), value='eventing-webhook')], id='67'), TableRow(location=Location(line=24, column=7), cells=[TableCell(location=Location(line=24, column=9), value='imc-dispatcher')], id='68'), TableRow(location=Location(line=25, column=7), cells=[TableCell(location=Location(line=25, column=9), value='imc-controller')], id='69'), TableRow(location=Location(line=26, column=7), cells=[TableCell(location=Location(line=26, column=9), value='jetstream-ch-controller')], id='70'), TableRow(location=Location(line=27, column=7), cells=[TableCell(location=Location(line=27, column=9), value='job-sink')], id='71'), TableRow(location=Location(line=28, column=7), cells=[TableCell(location=Location(line=28, column=9), value='kafka-controller')], id='72'), TableRow(location=Location(line=29, column=7), cells=[TableCell(location=Location(line=29, column=9), value='kafka-webhook-eventing')], id='73'), TableRow(location=Location(line=30, column=7), cells=[TableCell(location=Location(line=30, column=9), value='mt-broker-controller')], id='74'), TableRow(location=Location(line=31, column=7), cells=[TableCell(location=Location(line=31, column=9), value='mt-broker-filter')], id='75'), TableRow(location=Location(line=32, column=7), cells=[TableCell(location=Location(line=32, column=9), value='mt-broker-ingress')], id='76'), TableRow(location=Location(line=33, column=7), cells=[TableCell(location=Location(line=33, column=9), value='nats-webhook')], id='77')]), id='78'), '85': Scenario(location=Location(line=36, column=3), tags=[], keyword='Scenario', name='Istio', description='', steps=[Step(location=Location(line=37, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"istio-system\" should exist', doc_string=None, data_table=None, id='80'), Step(location=Location(line=38, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"istio-system\" namespace', doc_string=None, data_table=DataTable(location=Location(line=39, column=7), rows=[TableRow(location=Location(line=39, column=7), cells=[TableCell(location=Location(line=39, column=9), value='Deployment name')], id='81'), TableRow(location=Location(line=40, column=7), cells=[TableCell(location=Location(line=40, column=9), value='istiod')], id='82'), TableRow(location=Location(line=41, column=7), cells=[TableCell(location=Location(line=41, column=9), value='istio-ingressgateway')], id='83')]), id='84')], examples=[], id='85'), '80': Step(location=Location(line=37, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"istio-system\" should exist', doc_string=None, data_table=None, id='80'), '84': Step(location=Location(line=38, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"istio-system\" namespace', doc_string=None, data_table=DataTable(location=Location(line=39, column=7), rows=[TableRow(location=Location(line=39, column=7), cells=[TableCell(location=Location(line=39, column=9), value='Deployment name')], id='81'), TableRow(location=Location(line=40, column=7), cells=[TableCell(location=Location(line=40, column=9), value='istiod')], id='82'), TableRow(location=Location(line=41, column=7), cells=[TableCell(location=Location(line=41, column=9), value='istio-ingressgateway')], id='83')]), id='84'), '95': Scenario(location=Location(line=43, column=3), tags=[], keyword='Scenario', name='Redpanda', description='', steps=[Step(location=Location(line=44, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"redpanda\" should exist', doc_string=None, data_table=None, id='86'), Step(location=Location(line=45, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"redpanda\" namespace', doc_string=None, data_table=DataTable(location=Location(line=46, column=7), rows=[TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='Deployment name')], id='87'), TableRow(location=Location(line=47, column=7), cells=[TableCell(location=Location(line=47, column=9), value='redpanda-operator')], id='88')]), id='89'), Step(location=Location(line=48, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='helm release \"neo4j-cdc\" is deployed in \"redpanda\" namespace', doc_string=None, data_table=None, id='90'), Step(location=Location(line=49, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"neo4j-cdc\" in namespace \"redpanda\" is in ready state', doc_string=None, data_table=None, id='91'), Step(location=Location(line=50, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"redpanda\" namespace', doc_string=None, data_table=DataTable(location=Location(line=51, column=7), rows=[TableRow(location=Location(line=51, column=7), cells=[TableCell(location=Location(line=51, column=9), value='Deployment name')], id='92'), TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='neo4j-cdc-console')], id='93')]), id='94')], examples=[], id='95'), '86': Step(location=Location(line=44, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"redpanda\" should exist', doc_string=None, data_table=None, id='86'), '89': Step(location=Location(line=45, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"redpanda\" namespace', doc_string=None, data_table=DataTable(location=Location(line=46, column=7), rows=[TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='Deployment name')], id='87'), TableRow(location=Location(line=47, column=7), cells=[TableCell(location=Location(line=47, column=9), value='redpanda-operator')], id='88')]), id='89'), '90': Step(location=Location(line=48, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='helm release \"neo4j-cdc\" is deployed in \"redpanda\" namespace', doc_string=None, data_table=None, id='90'), '91': Step(location=Location(line=49, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"neo4j-cdc\" in namespace \"redpanda\" is in ready state', doc_string=None, data_table=None, id='91'), '94': Step(location=Location(line=50, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"redpanda\" namespace', doc_string=None, data_table=DataTable(location=Location(line=51, column=7), rows=[TableRow(location=Location(line=51, column=7), cells=[TableCell(location=Location(line=51, column=9), value='Deployment name')], id='92'), TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='neo4j-cdc-console')], id='93')]), id='94'), '102': Scenario(location=Location(line=54, column=3), tags=[], keyword='Scenario', name='Cert manager', description='', steps=[Step(location=Location(line=55, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"cert-manager\" should exist', doc_string=None, data_table=None, id='96'), Step(location=Location(line=56, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"cert-manager\" namespace', doc_string=None, data_table=DataTable(location=Location(line=57, column=7), rows=[TableRow(location=Location(line=57, column=7), cells=[TableCell(location=Location(line=57, column=9), value='Deployment name')], id='97'), TableRow(location=Location(line=58, column=7), cells=[TableCell(location=Location(line=58, column=9), value='cert-manager')], id='98'), TableRow(location=Location(line=59, column=7), cells=[TableCell(location=Location(line=59, column=9), value='cert-manager-cainjector')], id='99'), TableRow(location=Location(line=60, column=7), cells=[TableCell(location=Location(line=60, column=9), value='cert-manager-webhook')], id='100')]), id='101')], examples=[], id='102'), '96': Step(location=Location(line=55, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"cert-manager\" should exist', doc_string=None, data_table=None, id='96'), '101': Step(location=Location(line=56, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"cert-manager\" namespace', doc_string=None, data_table=DataTable(location=Location(line=57, column=7), rows=[TableRow(location=Location(line=57, column=7), cells=[TableCell(location=Location(line=57, column=9), value='Deployment name')], id='97'), TableRow(location=Location(line=58, column=7), cells=[TableCell(location=Location(line=58, column=9), value='cert-manager')], id='98'), TableRow(location=Location(line=59, column=7), cells=[TableCell(location=Location(line=59, column=9), value='cert-manager-cainjector')], id='99'), TableRow(location=Location(line=60, column=7), cells=[TableCell(location=Location(line=60, column=9), value='cert-manager-webhook')], id='100')]), id='101'), '108': Scenario(location=Location(line=62, column=3), tags=[], keyword='Scenario', name='Nats', description='', steps=[Step(location=Location(line=63, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"nats\" should exist', doc_string=None, data_table=None, id='103'), Step(location=Location(line=64, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"nats\" namespace', doc_string=None, data_table=DataTable(location=Location(line=65, column=7), rows=[TableRow(location=Location(line=65, column=7), cells=[TableCell(location=Location(line=65, column=9), value='Deployment name')], id='104'), TableRow(location=Location(line=66, column=7), cells=[TableCell(location=Location(line=66, column=9), value='nats-box')], id='105')]), id='106'), Step(location=Location(line=67, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"nats\" in namespace \"nats\" is in ready state', doc_string=None, data_table=None, id='107')], examples=[], id='108'), '103': Step(location=Location(line=63, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"nats\" should exist', doc_string=None, data_table=None, id='103'), '106': Step(location=Location(line=64, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"nats\" namespace', doc_string=None, data_table=DataTable(location=Location(line=65, column=7), rows=[TableRow(location=Location(line=65, column=7), cells=[TableCell(location=Location(line=65, column=9), value='Deployment name')], id='104'), TableRow(location=Location(line=66, column=7), cells=[TableCell(location=Location(line=66, column=9), value='nats-box')], id='105')]), id='106'), '107': Step(location=Location(line=67, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"nats\" in namespace \"nats\" is in ready state', doc_string=None, data_table=None, id='107'), '123': Scenario(location=Location(line=69, column=3), tags=[], keyword='Scenario', name='Monitoring', description='', steps=[Step(location=Location(line=70, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"monitoring\" should exist', doc_string=None, data_table=None, id='109'), Step(location=Location(line=71, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"monitoring\" namespace', doc_string=None, data_table=DataTable(location=Location(line=72, column=7), rows=[TableRow(location=Location(line=72, column=7), cells=[TableCell(location=Location(line=72, column=9), value='Deployment name')], id='110'), TableRow(location=Location(line=73, column=7), cells=[TableCell(location=Location(line=73, column=9), value='loki-gateway')], id='111'), TableRow(location=Location(line=74, column=7), cells=[TableCell(location=Location(line=74, column=9), value='otel-collector-opentelemetry-collector')], id='112'), TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='vm-aio-grafana')], id='113'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='vm-aio-kube-state-metrics')], id='114'), TableRow(location=Location(line=77, column=7), cells=[TableCell(location=Location(line=77, column=9), value='vm-aio-victoria-metrics-operator')], id='115'), TableRow(location=Location(line=78, column=7), cells=[TableCell(location=Location(line=78, column=9), value='vmagent-vm-aio-victoria-metrics-k8s-stack')], id='116'), TableRow(location=Location(line=79, column=7), cells=[TableCell(location=Location(line=79, column=9), value='vmalert-vm-aio-victoria-metrics-k8s-stack')], id='117'), TableRow(location=Location(line=80, column=7), cells=[TableCell(location=Location(line=80, column=9), value='vmsingle-vm-aio-victoria-metrics-k8s-stack')], id='118')]), id='119'), Step(location=Location(line=81, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"loki\" in namespace \"monitoring\" is in ready state', doc_string=None, data_table=None, id='120'), Step(location=Location(line=82, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"tempo\" in namespace \"monitoring\" is in ready state', doc_string=None, data_table=None, id='121'), Step(location=Location(line=83, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"vmalertmanager-vm-aio-victoria-metrics-k8s-stack\" in namespace \"monitoring\" is in ready state', doc_string=None, data_table=None, id='122')], examples=[], id='123'), '109': Step(location=Location(line=70, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"monitoring\" should exist', doc_string=None, data_table=None, id='109'), '119': Step(location=Location(line=71, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following deployments are in a ready state in the \"monitoring\" namespace', doc_string=None, data_table=DataTable(location=Location(line=72, column=7), rows=[TableRow(location=Location(line=72, column=7), cells=[TableCell(location=Location(line=72, column=9), value='Deployment name')], id='110'), TableRow(location=Location(line=73, column=7), cells=[TableCell(location=Location(line=73, column=9), value='loki-gateway')], id='111'), TableRow(location=Location(line=74, column=7), cells=[TableCell(location=Location(line=74, column=9), value='otel-collector-opentelemetry-collector')], id='112'), TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='vm-aio-grafana')], id='113'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='vm-aio-kube-state-metrics')], id='114'), TableRow(location=Location(line=77, column=7), cells=[TableCell(location=Location(line=77, column=9), value='vm-aio-victoria-metrics-operator')], id='115'), TableRow(location=Location(line=78, column=7), cells=[TableCell(location=Location(line=78, column=9), value='vmagent-vm-aio-victoria-metrics-k8s-stack')], id='116'), TableRow(location=Location(line=79, column=7), cells=[TableCell(location=Location(line=79, column=9), value='vmalert-vm-aio-victoria-metrics-k8s-stack')], id='117'), TableRow(location=Location(line=80, column=7), cells=[TableCell(location=Location(line=80, column=9), value='vmsingle-vm-aio-victoria-metrics-k8s-stack')], id='118')]), id='119'), '120': Step(location=Location(line=81, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"loki\" in namespace \"monitoring\" is in ready state', doc_string=None, data_table=None, id='120'), '121': Step(location=Location(line=82, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"tempo\" in namespace \"monitoring\" is in ready state', doc_string=None, data_table=None, id='121'), '122': Step(location=Location(line=83, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"vmalertmanager-vm-aio-victoria-metrics-k8s-stack\" in namespace \"monitoring\" is in ready state', doc_string=None, data_table=None, id='122')}, pickles=[Pickle(id='132', uri='file:features/0_1_mindwm_eda.feature', name='Knative', language='en', steps=[PickleStep(argument=None, ast_node_ids=['50'], id='125', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['51'], id='126', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['53'], id='127', type=<Type.outcome: 'Outcome'>, text='namespace \"knative-serving\" should exist'), PickleStep(argument=None, ast_node_ids=['54'], id='128', type=<Type.outcome: 'Outcome'>, text='namespace \"knative-eventing\" should exist'), PickleStep(argument=None, ast_node_ids=['55'], id='129', type=<Type.outcome: 'Outcome'>, text='namespace \"knative-operator\" should exist'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='activator')]), PickleTableRow(cells=[PickleTableCell(value='autoscaler')]), PickleTableRow(cells=[PickleTableCell(value='autoscaler-hpa')]), PickleTableRow(cells=[PickleTableCell(value='controller')]), PickleTableRow(cells=[PickleTableCell(value='net-istio-controller')]), PickleTableRow(cells=[PickleTableCell(value='net-istio-webhook')]), PickleTableRow(cells=[PickleTableCell(value='webhook')])])), ast_node_ids=['64'], id='130', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"knative-serving\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='eventing-controller')]), PickleTableRow(cells=[PickleTableCell(value='eventing-webhook')]), PickleTableRow(cells=[PickleTableCell(value='imc-dispatcher')]), PickleTableRow(cells=[PickleTableCell(value='imc-controller')]), PickleTableRow(cells=[PickleTableCell(value='jetstream-ch-controller')]), PickleTableRow(cells=[PickleTableCell(value='job-sink')]), PickleTableRow(cells=[PickleTableCell(value='kafka-controller')]), PickleTableRow(cells=[PickleTableCell(value='kafka-webhook-eventing')]), PickleTableRow(cells=[PickleTableCell(value='mt-broker-controller')]), PickleTableRow(cells=[PickleTableCell(value='mt-broker-filter')]), PickleTableRow(cells=[PickleTableCell(value='mt-broker-ingress')]), PickleTableRow(cells=[PickleTableCell(value='nats-webhook')])])), ast_node_ids=['78'], id='131', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"knative-eventing\" namespace')], tags=[PickleTag(name='@eda', ast_node_id='124')], ast_node_ids=['79']), Pickle(id='137', uri='file:features/0_1_mindwm_eda.feature', name='Istio', language='en', steps=[PickleStep(argument=None, ast_node_ids=['50'], id='133', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['51'], id='134', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['80'], id='135', type=<Type.outcome: 'Outcome'>, text='namespace \"istio-system\" should exist'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='istiod')]), PickleTableRow(cells=[PickleTableCell(value='istio-ingressgateway')])])), ast_node_ids=['84'], id='136', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"istio-system\" namespace')], tags=[PickleTag(name='@eda', ast_node_id='124')], ast_node_ids=['85']), Pickle(id='145', uri='file:features/0_1_mindwm_eda.feature', name='Redpanda', language='en', steps=[PickleStep(argument=None, ast_node_ids=['50'], id='138', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['51'], id='139', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['86'], id='140', type=<Type.outcome: 'Outcome'>, text='namespace \"redpanda\" should exist'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='redpanda-operator')])])), ast_node_ids=['89'], id='141', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"redpanda\" namespace'), PickleStep(argument=None, ast_node_ids=['90'], id='142', type=<Type.outcome: 'Outcome'>, text='helm release \"neo4j-cdc\" is deployed in \"redpanda\" namespace'), PickleStep(argument=None, ast_node_ids=['91'], id='143', type=<Type.outcome: 'Outcome'>, text='statefulset \"neo4j-cdc\" in namespace \"redpanda\" is in ready state'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='neo4j-cdc-console')])])), ast_node_ids=['94'], id='144', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"redpanda\" namespace')], tags=[PickleTag(name='@eda', ast_node_id='124')], ast_node_ids=['95']), Pickle(id='150', uri='file:features/0_1_mindwm_eda.feature', name='Cert manager', language='en', steps=[PickleStep(argument=None, ast_node_ids=['50'], id='146', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['51'], id='147', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['96'], id='148', type=<Type.outcome: 'Outcome'>, text='namespace \"cert-manager\" should exist'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='cert-manager')]), PickleTableRow(cells=[PickleTableCell(value='cert-manager-cainjector')]), PickleTableRow(cells=[PickleTableCell(value='cert-manager-webhook')])])), ast_node_ids=['101'], id='149', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"cert-manager\" namespace')], tags=[PickleTag(name='@eda', ast_node_id='124')], ast_node_ids=['102']), Pickle(id='156', uri='file:features/0_1_mindwm_eda.feature', name='Nats', language='en', steps=[PickleStep(argument=None, ast_node_ids=['50'], id='151', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['51'], id='152', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['103'], id='153', type=<Type.outcome: 'Outcome'>, text='namespace \"nats\" should exist'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='nats-box')])])), ast_node_ids=['106'], id='154', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"nats\" namespace'), PickleStep(argument=None, ast_node_ids=['107'], id='155', type=<Type.outcome: 'Outcome'>, text='statefulset \"nats\" in namespace \"nats\" is in ready state')], tags=[PickleTag(name='@eda', ast_node_id='124')], ast_node_ids=['108']), Pickle(id='164', uri='file:features/0_1_mindwm_eda.feature', name='Monitoring', language='en', steps=[PickleStep(argument=None, ast_node_ids=['50'], id='157', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['51'], id='158', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['109'], id='159', type=<Type.outcome: 'Outcome'>, text='namespace \"monitoring\" should exist'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='loki-gateway')]), PickleTableRow(cells=[PickleTableCell(value='otel-collector-opentelemetry-collector')]), PickleTableRow(cells=[PickleTableCell(value='vm-aio-grafana')]), PickleTableRow(cells=[PickleTableCell(value='vm-aio-kube-state-metrics')]), PickleTableRow(cells=[PickleTableCell(value='vm-aio-victoria-metrics-operator')]), PickleTableRow(cells=[PickleTableCell(value='vmagent-vm-aio-victoria-metrics-k8s-stack')]), PickleTableRow(cells=[PickleTableCell(value='vmalert-vm-aio-victoria-metrics-k8s-stack')]), PickleTableRow(cells=[PickleTableCell(value='vmsingle-vm-aio-victoria-metrics-k8s-stack')])])), ast_node_ids=['119'], id='160', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"monitoring\" namespace'), PickleStep(argument=None, ast_node_ids=['120'], id='161', type=<Type.outcome: 'Outcome'>, text='statefulset \"loki\" in namespace \"monitoring\" is in ready state'), PickleStep(argument=None, ast_node_ids=['121'], id='162', type=<Type.outcome: 'Outcome'>, text='statefulset \"tempo\" in namespace \"monitoring\" is in ready state'), PickleStep(argument=None, ast_node_ids=['122'], id='163', type=<Type.outcome: 'Outcome'>, text='statefulset \"vmalertmanager-vm-aio-victoria-metrics-k8s-stack\" in namespace \"monitoring\" is in ready state')], tags=[PickleTag(name='@eda', ast_node_id='124')], ast_node_ids=['123'])])","Source(uri='file:features/0_1_mindwm_eda.feature', data='@eda\\nFeature: Mindwm event driven architecture\\n  Background:\\n    Given a MindWM environment\\n    Then all nodes in Kubernetes are ready\\n\\n  Scenario: Knative\\n    And namespace \"knative-serving\" should exist\\n    And namespace \"knative-eventing\" should exist\\n    And namespace \"knative-operator\" should exist\\n    And the following deployments are in a ready state in the \"knative-serving\" namespace\\n      | Deployment name      | \\n      | activator            |\\n      | autoscaler           |\\n      | autoscaler-hpa       | \\n      | controller           |\\n      | net-istio-controller |\\n      | net-istio-webhook    |\\n      | webhook              |\\n    And the following deployments are in a ready state in the \"knative-eventing\" namespace\\n      | Deployment name         | \\n      | eventing-controller     |\\n      | eventing-webhook        |\\n      | imc-dispatcher          |\\n      | imc-controller          |\\n      | jetstream-ch-controller |\\n      | job-sink \\t\\t|\\n      | kafka-controller        |\\n      | kafka-webhook-eventing  |\\n      | mt-broker-controller    |\\n      | mt-broker-filter        |\\n      | mt-broker-ingress       |\\n      | nats-webhook            |\\n   \\n\\n  Scenario: Istio\\n    And namespace \"istio-system\" should exist\\n    And the following deployments are in a ready state in the \"istio-system\" namespace\\n      | Deployment name         | \\n      | istiod                  |\\n      | istio-ingressgateway    |\\n\\n  Scenario: Redpanda\\n    And namespace \"redpanda\" should exist\\n    And the following deployments are in a ready state in the \"redpanda\" namespace\\n      | Deployment name         | \\n      | redpanda-operator       |\\n    And helm release \"neo4j-cdc\" is deployed in \"redpanda\" namespace\\n    And statefulset \"neo4j-cdc\" in namespace \"redpanda\" is in ready state\\n    And the following deployments are in a ready state in the \"redpanda\" namespace\\n      | Deployment name         | \\n      | neo4j-cdc-console       |\\n\\n  Scenario: Cert manager\\n    And namespace \"cert-manager\" should exist\\n    And the following deployments are in a ready state in the \"cert-manager\" namespace\\n      | Deployment name          | \\n      | cert-manager             |\\n      | cert-manager-cainjector |\\n      | cert-manager-webhook     |\\n\\n  Scenario: Nats\\n    And namespace \"nats\" should exist\\n    And the following deployments are in a ready state in the \"nats\" namespace\\n      | Deployment name         | \\n      | nats-box                |\\n    And statefulset \"nats\" in namespace \"nats\" is in ready state\\n\\n  Scenario: Monitoring\\n    And namespace \"monitoring\" should exist\\n    And the following deployments are in a ready state in the \"monitoring\" namespace\\n      | Deployment name         | \\n      | loki-gateway | \\n      | otel-collector-opentelemetry-collector | \\n      | vm-aio-grafana | \\n      | vm-aio-kube-state-metrics | \\n      | vm-aio-victoria-metrics-operator | \\n      | vmagent-vm-aio-victoria-metrics-k8s-stack | \\n      | vmalert-vm-aio-victoria-metrics-k8s-stack | \\n      | vmsingle-vm-aio-victoria-metrics-k8s-stack | \\n    And statefulset \"loki\" in namespace \"monitoring\" is in ready state\\n    And statefulset \"tempo\" in namespace \"monitoring\" is in ready state\\n    And statefulset \"vmalertmanager-vm-aio-victoria-metrics-k8s-stack\" in namespace \"monitoring\" is in ready state\\n', media_type='text/x.cucumber.gherkin+plain')","Pickle(id='145', uri='file:features/0_1_mindwm_eda.feature', name='Redpanda', language='en', steps=[PickleStep(argument=None, ast_node_ids=['50'], id='138', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['51'], id='139', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['86'], id='140', type=<Type.outcome: 'Outcome'>, text='namespace \"redpanda\" should exist'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='redpanda-operator')])])), ast_node_ids=['89'], id='141', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"redpanda\" namespace'), PickleStep(argument=None, ast_node_ids=['90'], id='142', type=<Type.outcome: 'Outcome'>, text='helm release \"neo4j-cdc\" is deployed in \"redpanda\" namespace'), PickleStep(argument=None, ast_node_ids=['91'], id='143', type=<Type.outcome: 'Outcome'>, text='statefulset \"neo4j-cdc\" in namespace \"redpanda\" is in ready state'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='neo4j-cdc-console')])])), ast_node_ids=['94'], id='144', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"redpanda\" namespace')], tags=[PickleTag(name='@eda', ast_node_id='124')], ast_node_ids=['95'])"],"tags":["eda","pytest_bdd_scenario","@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')","scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/0_1_mindwm_eda.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=<FeaturePathType.PATH: 'path'>, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())","namespace(create=False, name='default')"]},{"name":"test_scenarios[file:features/4_mindwm_io_context.feature-MindWM io context function test-io context red[table_rows:[line: 57]]]","uid":"b0dc1ae3586c4868","parentUid":"3961740595044ffd97a03e46799bfc30","status":"passed","time":{"start":1728403862029,"stop":1728404019523,"duration":157494},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["Feature(gherkin_document=GherkinDocument(uri='file:features/4_mindwm_io_context.feature', feature=Feature(location=Location(line=3, column=1), tags=[Tag(location=Location(line=1, column=1), name='@mindwm_io_context', id='493'), Tag(location=Location(line=2, column=1), name='@mindwm_test', id='494')], language='en', keyword='Feature', name='MindWM io context function test', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='449'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='450')], id='451'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='io context <context>', description='', steps=[Step(location=Location(line=10, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='452'), Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='453'), Step(location=Location(line=12, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=13, column=7), rows=[TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='Knative service name')], id='454'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='iocontext')], id='455')]), id='456'), Step(location=Location(line=15, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='457'), Step(location=Location(line=17, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='458'), Step(location=Location(line=18, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='459'), Step(location=Location(line=20, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='460'), Step(location=Location(line=21, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='461'), Step(location=Location(line=27, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='462'), Step(location=Location(line=28, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-id\" to \"<cloudevent_id>\"', doc_string=None, data_table=None, id='463'), Step(location=Location(line=29, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='464'), Step(location=Location(line=30, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='465'), Step(location=Location(line=31, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"', doc_string=None, data_table=None, id='466'), Step(location=Location(line=32, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='467'), Step(location=Location(line=33, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to \"broker-ingress.knative-eventing/context-<context>/context-broker\"', doc_string=DocString(location=Location(line=34, column=9), media_type=None, content='{\\t\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n}', delimiter='\"\"\"'), data_table=None, id='468'), Step(location=Location(line=42, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"202\"', doc_string=None, data_table=None, id='469'), Step(location=Location(line=43, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=44, column=7), rows=[TableRow(location=Location(line=44, column=7), cells=[TableCell(location=Location(line=44, column=9), value='Deployment name')], id='470'), TableRow(location=Location(line=45, column=7), cells=[TableCell(location=Location(line=45, column=9), value='iocontext-00001-deployment')], id='471')]), id='472'), Step(location=Location(line=46, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the trace with \"<traceparent>\" should appear in TraceQL', doc_string=None, data_table=None, id='473'), Step(location=Location(line=47, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the trace should contains', doc_string=None, data_table=DataTable(location=Location(line=48, column=7), rows=[TableRow(location=Location(line=48, column=7), cells=[TableCell(location=Location(line=48, column=9), value='service name')], id='474'), TableRow(location=Location(line=49, column=7), cells=[TableCell(location=Location(line=49, column=9), value='broker-ingress.knative-eventing')], id='475'), TableRow(location=Location(line=50, column=7), cells=[TableCell(location=Location(line=50, column=9), value='unknown_service')], id='476')]), id='477'), Step(location=Location(line=51, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='graph have node \"User\" with property \"username\" = \"<username>\" in context \"<context>\"', doc_string=None, data_table=None, id='478'), Step(location=Location(line=52, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='graph have node \"Host\" with property \"hostname\" = \"<host>\" in context \"<context>\"', doc_string=None, data_table=None, id='479'), Step(location=Location(line=53, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='graph have node \"IoDocument\" with property \"input\" = \"id\" in context \"<context>\"', doc_string=None, data_table=None, id='480')], examples=[Examples(location=Location(line=55, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=56, column=6), cells=[TableCell(location=Location(line=56, column=8), value='context'), TableCell(location=Location(line=56, column=18), value='username'), TableCell(location=Location(line=56, column=31), value='host'), TableCell(location=Location(line=56, column=43), value='cloudevent_id'), TableCell(location=Location(line=56, column=82), value='traceparent')], id='481'), table_body=[TableRow(location=Location(line=57, column=6), cells=[TableCell(location=Location(line=57, column=8), value='red'), TableCell(location=Location(line=57, column=18), value='kitty'), TableCell(location=Location(line=57, column=31), value='tablet'), TableCell(location=Location(line=57, column=43), value='442af213-c860-4535-b639-355f13b2d883'), TableCell(location=Location(line=57, column=82), value='00-7df92f3577b34da6a3ce930d0e0e4734-00f064aa0ba902b8-00')], id='482')], id='483')], id='484')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=60, column=3), tags=[], keyword='Scenario', name='Cleanup <username>@<host> in <context>', description='', steps=[Step(location=Location(line=61, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='485'), Step(location=Location(line=62, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='486'), Step(location=Location(line=64, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='487'), Step(location=Location(line=66, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='488')], examples=[Examples(location=Location(line=68, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=69, column=5), cells=[TableCell(location=Location(line=69, column=7), value='context'), TableCell(location=Location(line=69, column=17), value='username'), TableCell(location=Location(line=69, column=28), value='host')], id='489'), table_body=[TableRow(location=Location(line=70, column=5), cells=[TableCell(location=Location(line=70, column=7), value='red'), TableCell(location=Location(line=70, column=17), value='kitty'), TableCell(location=Location(line=70, column=28), value='tablet')], id='490')], id='491')], id='492'))]), comments=[Comment(location=Location(line=22, column=1), text='    # When God makes graph query in context \"<context>\"'), Comment(location=Location(line=23, column=1), text='    #   \"\"\"'), Comment(location=Location(line=24, column=1), text='    #   MATCH (N) DETACH DELETE N;'), Comment(location=Location(line=25, column=1), text='    #   \"\"\"')]), uri='file:features/4_mindwm_io_context.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/4_mindwm_io_context.feature', registry={'493': Tag(location=Location(line=1, column=1), name='@mindwm_io_context', id='493'), '494': Tag(location=Location(line=2, column=1), name='@mindwm_test', id='494'), '451': Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='449'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='450')], id='451'), '449': Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='449'), '450': Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='450'), '484': Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='io context <context>', description='', steps=[Step(location=Location(line=10, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='452'), Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='453'), Step(location=Location(line=12, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=13, column=7), rows=[TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='Knative service name')], id='454'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='iocontext')], id='455')]), id='456'), Step(location=Location(line=15, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='457'), Step(location=Location(line=17, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='458'), Step(location=Location(line=18, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='459'), Step(location=Location(line=20, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='460'), Step(location=Location(line=21, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='461'), Step(location=Location(line=27, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='462'), Step(location=Location(line=28, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-id\" to \"<cloudevent_id>\"', doc_string=None, data_table=None, id='463'), Step(location=Location(line=29, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='464'), Step(location=Location(line=30, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='465'), Step(location=Location(line=31, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"', doc_string=None, data_table=None, id='466'), Step(location=Location(line=32, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='467'), Step(location=Location(line=33, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to \"broker-ingress.knative-eventing/context-<context>/context-broker\"', doc_string=DocString(location=Location(line=34, column=9), media_type=None, content='{\\t\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n}', delimiter='\"\"\"'), data_table=None, id='468'), Step(location=Location(line=42, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"202\"', doc_string=None, data_table=None, id='469'), Step(location=Location(line=43, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=44, column=7), rows=[TableRow(location=Location(line=44, column=7), cells=[TableCell(location=Location(line=44, column=9), value='Deployment name')], id='470'), TableRow(location=Location(line=45, column=7), cells=[TableCell(location=Location(line=45, column=9), value='iocontext-00001-deployment')], id='471')]), id='472'), Step(location=Location(line=46, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the trace with \"<traceparent>\" should appear in TraceQL', doc_string=None, data_table=None, id='473'), Step(location=Location(line=47, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the trace should contains', doc_string=None, data_table=DataTable(location=Location(line=48, column=7), rows=[TableRow(location=Location(line=48, column=7), cells=[TableCell(location=Location(line=48, column=9), value='service name')], id='474'), TableRow(location=Location(line=49, column=7), cells=[TableCell(location=Location(line=49, column=9), value='broker-ingress.knative-eventing')], id='475'), TableRow(location=Location(line=50, column=7), cells=[TableCell(location=Location(line=50, column=9), value='unknown_service')], id='476')]), id='477'), Step(location=Location(line=51, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='graph have node \"User\" with property \"username\" = \"<username>\" in context \"<context>\"', doc_string=None, data_table=None, id='478'), Step(location=Location(line=52, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='graph have node \"Host\" with property \"hostname\" = \"<host>\" in context \"<context>\"', doc_string=None, data_table=None, id='479'), Step(location=Location(line=53, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='graph have node \"IoDocument\" with property \"input\" = \"id\" in context \"<context>\"', doc_string=None, data_table=None, id='480')], examples=[Examples(location=Location(line=55, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=56, column=6), cells=[TableCell(location=Location(line=56, column=8), value='context'), TableCell(location=Location(line=56, column=18), value='username'), TableCell(location=Location(line=56, column=31), value='host'), TableCell(location=Location(line=56, column=43), value='cloudevent_id'), TableCell(location=Location(line=56, column=82), value='traceparent')], id='481'), table_body=[TableRow(location=Location(line=57, column=6), cells=[TableCell(location=Location(line=57, column=8), value='red'), TableCell(location=Location(line=57, column=18), value='kitty'), TableCell(location=Location(line=57, column=31), value='tablet'), TableCell(location=Location(line=57, column=43), value='442af213-c860-4535-b639-355f13b2d883'), TableCell(location=Location(line=57, column=82), value='00-7df92f3577b34da6a3ce930d0e0e4734-00f064aa0ba902b8-00')], id='482')], id='483')], id='484'), '452': Step(location=Location(line=10, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='452'), '453': Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='453'), '456': Step(location=Location(line=12, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=13, column=7), rows=[TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='Knative service name')], id='454'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='iocontext')], id='455')]), id='456'), '457': Step(location=Location(line=15, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='457'), '458': Step(location=Location(line=17, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='458'), '459': Step(location=Location(line=18, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='459'), '460': Step(location=Location(line=20, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='460'), '461': Step(location=Location(line=21, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='461'), '462': Step(location=Location(line=27, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='462'), '463': Step(location=Location(line=28, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-id\" to \"<cloudevent_id>\"', doc_string=None, data_table=None, id='463'), '464': Step(location=Location(line=29, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='464'), '465': Step(location=Location(line=30, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='465'), '466': Step(location=Location(line=31, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"', doc_string=None, data_table=None, id='466'), '467': Step(location=Location(line=32, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='467'), '468': Step(location=Location(line=33, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to \"broker-ingress.knative-eventing/context-<context>/context-broker\"', doc_string=DocString(location=Location(line=34, column=9), media_type=None, content='{\\t\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n}', delimiter='\"\"\"'), data_table=None, id='468'), '469': Step(location=Location(line=42, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"202\"', doc_string=None, data_table=None, id='469'), '472': Step(location=Location(line=43, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=44, column=7), rows=[TableRow(location=Location(line=44, column=7), cells=[TableCell(location=Location(line=44, column=9), value='Deployment name')], id='470'), TableRow(location=Location(line=45, column=7), cells=[TableCell(location=Location(line=45, column=9), value='iocontext-00001-deployment')], id='471')]), id='472'), '473': Step(location=Location(line=46, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the trace with \"<traceparent>\" should appear in TraceQL', doc_string=None, data_table=None, id='473'), '477': Step(location=Location(line=47, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the trace should contains', doc_string=None, data_table=DataTable(location=Location(line=48, column=7), rows=[TableRow(location=Location(line=48, column=7), cells=[TableCell(location=Location(line=48, column=9), value='service name')], id='474'), TableRow(location=Location(line=49, column=7), cells=[TableCell(location=Location(line=49, column=9), value='broker-ingress.knative-eventing')], id='475'), TableRow(location=Location(line=50, column=7), cells=[TableCell(location=Location(line=50, column=9), value='unknown_service')], id='476')]), id='477'), '478': Step(location=Location(line=51, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='graph have node \"User\" with property \"username\" = \"<username>\" in context \"<context>\"', doc_string=None, data_table=None, id='478'), '479': Step(location=Location(line=52, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='graph have node \"Host\" with property \"hostname\" = \"<host>\" in context \"<context>\"', doc_string=None, data_table=None, id='479'), '480': Step(location=Location(line=53, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='graph have node \"IoDocument\" with property \"input\" = \"id\" in context \"<context>\"', doc_string=None, data_table=None, id='480'), '483': Examples(location=Location(line=55, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=56, column=6), cells=[TableCell(location=Location(line=56, column=8), value='context'), TableCell(location=Location(line=56, column=18), value='username'), TableCell(location=Location(line=56, column=31), value='host'), TableCell(location=Location(line=56, column=43), value='cloudevent_id'), TableCell(location=Location(line=56, column=82), value='traceparent')], id='481'), table_body=[TableRow(location=Location(line=57, column=6), cells=[TableCell(location=Location(line=57, column=8), value='red'), TableCell(location=Location(line=57, column=18), value='kitty'), TableCell(location=Location(line=57, column=31), value='tablet'), TableCell(location=Location(line=57, column=43), value='442af213-c860-4535-b639-355f13b2d883'), TableCell(location=Location(line=57, column=82), value='00-7df92f3577b34da6a3ce930d0e0e4734-00f064aa0ba902b8-00')], id='482')], id='483'), '481': TableRow(location=Location(line=56, column=6), cells=[TableCell(location=Location(line=56, column=8), value='context'), TableCell(location=Location(line=56, column=18), value='username'), TableCell(location=Location(line=56, column=31), value='host'), TableCell(location=Location(line=56, column=43), value='cloudevent_id'), TableCell(location=Location(line=56, column=82), value='traceparent')], id='481'), '482': TableRow(location=Location(line=57, column=6), cells=[TableCell(location=Location(line=57, column=8), value='red'), TableCell(location=Location(line=57, column=18), value='kitty'), TableCell(location=Location(line=57, column=31), value='tablet'), TableCell(location=Location(line=57, column=43), value='442af213-c860-4535-b639-355f13b2d883'), TableCell(location=Location(line=57, column=82), value='00-7df92f3577b34da6a3ce930d0e0e4734-00f064aa0ba902b8-00')], id='482'), '492': Scenario(location=Location(line=60, column=3), tags=[], keyword='Scenario', name='Cleanup <username>@<host> in <context>', description='', steps=[Step(location=Location(line=61, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='485'), Step(location=Location(line=62, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='486'), Step(location=Location(line=64, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='487'), Step(location=Location(line=66, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='488')], examples=[Examples(location=Location(line=68, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=69, column=5), cells=[TableCell(location=Location(line=69, column=7), value='context'), TableCell(location=Location(line=69, column=17), value='username'), TableCell(location=Location(line=69, column=28), value='host')], id='489'), table_body=[TableRow(location=Location(line=70, column=5), cells=[TableCell(location=Location(line=70, column=7), value='red'), TableCell(location=Location(line=70, column=17), value='kitty'), TableCell(location=Location(line=70, column=28), value='tablet')], id='490')], id='491')], id='492'), '485': Step(location=Location(line=61, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='485'), '486': Step(location=Location(line=62, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='486'), '487': Step(location=Location(line=64, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='487'), '488': Step(location=Location(line=66, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='488'), '491': Examples(location=Location(line=68, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=69, column=5), cells=[TableCell(location=Location(line=69, column=7), value='context'), TableCell(location=Location(line=69, column=17), value='username'), TableCell(location=Location(line=69, column=28), value='host')], id='489'), table_body=[TableRow(location=Location(line=70, column=5), cells=[TableCell(location=Location(line=70, column=7), value='red'), TableCell(location=Location(line=70, column=17), value='kitty'), TableCell(location=Location(line=70, column=28), value='tablet')], id='490')], id='491'), '489': TableRow(location=Location(line=69, column=5), cells=[TableCell(location=Location(line=69, column=7), value='context'), TableCell(location=Location(line=69, column=17), value='username'), TableCell(location=Location(line=69, column=28), value='host')], id='489'), '490': TableRow(location=Location(line=70, column=5), cells=[TableCell(location=Location(line=70, column=7), value='red'), TableCell(location=Location(line=70, column=17), value='kitty'), TableCell(location=Location(line=70, column=28), value='tablet')], id='490')}, pickles=[Pickle(id='519', uri='file:features/4_mindwm_io_context.feature', name='io context red', language='en', steps=[PickleStep(argument=None, ast_node_ids=['449'], id='495', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['450'], id='496', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['452', '482'], id='497', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"red\"'), PickleStep(argument=None, ast_node_ids=['453', '482'], id='498', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext')])])), ast_node_ids=['456', '482'], id='499', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-red\" namespace'), PickleStep(argument=None, ast_node_ids=['457', '482'], id='500', type=<Type.outcome: 'Outcome'>, text='statefulset \"red-neo4j\" in namespace \"context-red\" is in ready state'), PickleStep(argument=None, ast_node_ids=['458', '482'], id='501', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"kitty\" and connects it to the context \"red\"'), PickleStep(argument=None, ast_node_ids=['459', '482'], id='502', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['460', '482'], id='503', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"tablet\" and connects it to the user \"kitty\"'), PickleStep(argument=None, ast_node_ids=['461', '482'], id='504', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['462', '482'], id='505', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['463', '482'], id='506', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-id\" to \"442af213-c860-4535-b639-355f13b2d883\"'), PickleStep(argument=None, ast_node_ids=['464', '482'], id='507', type=<Type.action: 'Action'>, text='sets cloudevent header \"traceparent\" to \"00-7df92f3577b34da6a3ce930d0e0e4734-00f064aa0ba902b8-00\"'), PickleStep(argument=None, ast_node_ids=['465', '482'], id='508', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"id\"'), PickleStep(argument=None, ast_node_ids=['466', '482'], id='509', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.kitty.tablet.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"'), PickleStep(argument=None, ast_node_ids=['467', '482'], id='510', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\t\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n}'), data_table=None), ast_node_ids=['468', '482'], id='511', type=<Type.action: 'Action'>, text='sends cloudevent to \"broker-ingress.knative-eventing/context-red/context-broker\"'), PickleStep(argument=None, ast_node_ids=['469', '482'], id='512', type=<Type.outcome: 'Outcome'>, text='the response http code should be \"202\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-00001-deployment')])])), ast_node_ids=['472', '482'], id='513', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-red\" namespace'), PickleStep(argument=None, ast_node_ids=['473', '482'], id='514', type=<Type.outcome: 'Outcome'>, text='the trace with \"00-7df92f3577b34da6a3ce930d0e0e4734-00f064aa0ba902b8-00\" should appear in TraceQL'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='service name')]), PickleTableRow(cells=[PickleTableCell(value='broker-ingress.knative-eventing')]), PickleTableRow(cells=[PickleTableCell(value='unknown_service')])])), ast_node_ids=['477', '482'], id='515', type=<Type.outcome: 'Outcome'>, text='the trace should contains'), PickleStep(argument=None, ast_node_ids=['478', '482'], id='516', type=<Type.outcome: 'Outcome'>, text='graph have node \"User\" with property \"username\" = \"kitty\" in context \"red\"'), PickleStep(argument=None, ast_node_ids=['479', '482'], id='517', type=<Type.outcome: 'Outcome'>, text='graph have node \"Host\" with property \"hostname\" = \"tablet\" in context \"red\"'), PickleStep(argument=None, ast_node_ids=['480', '482'], id='518', type=<Type.outcome: 'Outcome'>, text='graph have node \"IoDocument\" with property \"input\" = \"id\" in context \"red\"')], tags=[PickleTag(name='@mindwm_io_context', ast_node_id='493'), PickleTag(name='@mindwm_test', ast_node_id='494')], ast_node_ids=['484', '482']), Pickle(id='526', uri='file:features/4_mindwm_io_context.feature', name='Cleanup kitty@tablet in red', language='en', steps=[PickleStep(argument=None, ast_node_ids=['449'], id='520', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['450'], id='521', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['485', '490'], id='522', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"tablet\"'), PickleStep(argument=None, ast_node_ids=['486', '490'], id='523', type=<Type.outcome: 'Outcome'>, text='the host \"tablet\" should be deleted'), PickleStep(argument=None, ast_node_ids=['487', '490'], id='524', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"kitty\"'), PickleStep(argument=None, ast_node_ids=['488', '490'], id='525', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"red\"')], tags=[PickleTag(name='@mindwm_io_context', ast_node_id='493'), PickleTag(name='@mindwm_test', ast_node_id='494')], ast_node_ids=['492', '490'])])","Source(uri='file:features/4_mindwm_io_context.feature', data='@mindwm_io_context\\n@mindwm_test\\nFeature: MindWM io context function test\\n  Background:\\n    Given A MindWM environment\\n    Then all nodes in Kubernetes are ready\\n\\n  Scenario: io context <context>\\n\\n    When God creates a MindWM context with the name \"<context>\"\\n    Then the context should be ready and operable\\n    Then the following knative services are in a ready state in the \"context-<context>\" namespace\\n      | Knative service name |\\n      | iocontext            |\\n    And statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state\\n\\n    When God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"\\n    Then the user resource should be ready and operable\\n\\n    When God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"\\n    Then the host resource should be ready and operable\\n    # When God makes graph query in context \"<context>\"\\n    #   \"\"\"\\n    #   MATCH (N) DETACH DELETE N;\\n    #   \"\"\"\\n\\n    When God creates a new cloudevent \\n      And sets cloudevent header \"ce-id\" to \"<cloudevent_id>\"\\n      And sets cloudevent header \"traceparent\" to \"<traceparent>\"\\n      And sets cloudevent header \"ce-subject\" to \"id\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"\\n      And sends cloudevent to \"broker-ingress.knative-eventing/context-<context>/context-broker\"\\n        \"\"\"\\n        {\\t\\n          \"input\": \"id\",\\n          \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n          \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n          \"type\": \"org.mindwm.v1.iodocument\"\\n        }\\n        \"\"\"\\n    Then the response http code should be \"202\"\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name            |\\n      | iocontext-00001-deployment |\\n    Then the trace with \"<traceparent>\" should appear in TraceQL\\n    And the trace should contains\\n      | service name                    |\\n      | broker-ingress.knative-eventing |\\n      | unknown_service                 |\\n    Then graph have node \"User\" with property \"username\" = \"<username>\" in context \"<context>\"\\n    And graph have node \"Host\" with property \"hostname\" = \"<host>\" in context \"<context>\"\\n    And graph have node \"IoDocument\" with property \"input\" = \"id\" in context \"<context>\"\\n\\n    Examples:\\n     | context | username   | host      | cloudevent_id                        | traceparent \\t\\t\\t\\t\\t         |\\n     | red     | kitty      | tablet    | 442af213-c860-4535-b639-355f13b2d883 | 00-7df92f3577b34da6a3ce930d0e0e4734-00f064aa0ba902b8-00 |\\n\\n\\n  Scenario: Cleanup <username>@<host> in <context>\\n    When God deletes the MindWM host resource \"<host>\"\\n    Then the host \"<host>\" should be deleted\\n\\n    When God deletes the MindWM user resource \"<username>\"\\n\\n    When God deletes the MindWM context resource \"<context>\"\\n\\n    Examples:\\n    | context | username | host        | \\n    | red     | kitty    | tablet      |\\n\\n', media_type='text/x.cucumber.gherkin+plain')","Pickle(id='519', uri='file:features/4_mindwm_io_context.feature', name='io context red', language='en', steps=[PickleStep(argument=None, ast_node_ids=['449'], id='495', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['450'], id='496', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['452', '482'], id='497', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"red\"'), PickleStep(argument=None, ast_node_ids=['453', '482'], id='498', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext')])])), ast_node_ids=['456', '482'], id='499', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-red\" namespace'), PickleStep(argument=None, ast_node_ids=['457', '482'], id='500', type=<Type.outcome: 'Outcome'>, text='statefulset \"red-neo4j\" in namespace \"context-red\" is in ready state'), PickleStep(argument=None, ast_node_ids=['458', '482'], id='501', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"kitty\" and connects it to the context \"red\"'), PickleStep(argument=None, ast_node_ids=['459', '482'], id='502', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['460', '482'], id='503', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"tablet\" and connects it to the user \"kitty\"'), PickleStep(argument=None, ast_node_ids=['461', '482'], id='504', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['462', '482'], id='505', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['463', '482'], id='506', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-id\" to \"442af213-c860-4535-b639-355f13b2d883\"'), PickleStep(argument=None, ast_node_ids=['464', '482'], id='507', type=<Type.action: 'Action'>, text='sets cloudevent header \"traceparent\" to \"00-7df92f3577b34da6a3ce930d0e0e4734-00f064aa0ba902b8-00\"'), PickleStep(argument=None, ast_node_ids=['465', '482'], id='508', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"id\"'), PickleStep(argument=None, ast_node_ids=['466', '482'], id='509', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.kitty.tablet.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"'), PickleStep(argument=None, ast_node_ids=['467', '482'], id='510', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\t\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n}'), data_table=None), ast_node_ids=['468', '482'], id='511', type=<Type.action: 'Action'>, text='sends cloudevent to \"broker-ingress.knative-eventing/context-red/context-broker\"'), PickleStep(argument=None, ast_node_ids=['469', '482'], id='512', type=<Type.outcome: 'Outcome'>, text='the response http code should be \"202\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-00001-deployment')])])), ast_node_ids=['472', '482'], id='513', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-red\" namespace'), PickleStep(argument=None, ast_node_ids=['473', '482'], id='514', type=<Type.outcome: 'Outcome'>, text='the trace with \"00-7df92f3577b34da6a3ce930d0e0e4734-00f064aa0ba902b8-00\" should appear in TraceQL'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='service name')]), PickleTableRow(cells=[PickleTableCell(value='broker-ingress.knative-eventing')]), PickleTableRow(cells=[PickleTableCell(value='unknown_service')])])), ast_node_ids=['477', '482'], id='515', type=<Type.outcome: 'Outcome'>, text='the trace should contains'), PickleStep(argument=None, ast_node_ids=['478', '482'], id='516', type=<Type.outcome: 'Outcome'>, text='graph have node \"User\" with property \"username\" = \"kitty\" in context \"red\"'), PickleStep(argument=None, ast_node_ids=['479', '482'], id='517', type=<Type.outcome: 'Outcome'>, text='graph have node \"Host\" with property \"hostname\" = \"tablet\" in context \"red\"'), PickleStep(argument=None, ast_node_ids=['480', '482'], id='518', type=<Type.outcome: 'Outcome'>, text='graph have node \"IoDocument\" with property \"input\" = \"id\" in context \"red\"')], tags=[PickleTag(name='@mindwm_io_context', ast_node_id='493'), PickleTag(name='@mindwm_test', ast_node_id='494')], ast_node_ids=['484', '482'])"],"tags":["mindwm_io_context","pytest_bdd_scenario","@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')","mindwm_test","scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/4_mindwm_io_context.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=<FeaturePathType.PATH: 'path'>, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())","namespace(create=False, name='default')"]},{"name":"test_scenarios[file:features/7_mindwm_two_users_one_context.feature-MindWM two users one context function test-Send iodocument via nats host: <host>, user: <username> and check that second user received graph update[table_rows:[line: 63]]]","uid":"2f877da86f664329","parentUid":"3961740595044ffd97a03e46799bfc30","status":"passed","time":{"start":1728404542641,"stop":1728404569114,"duration":26473},"flaky":false,"newFailed":false,"newPassed":false,"newBroken":false,"retriesCount":0,"retriesStatusChange":false,"parameters":["Feature(gherkin_document=GherkinDocument(uri='file:features/7_mindwm_two_users_one_context.feature', feature=Feature(location=Location(line=3, column=1), tags=[Tag(location=Location(line=1, column=1), name='@mindwm_two_users_one_context', id='801'), Tag(location=Location(line=2, column=1), name='@mindwm_test', id='802')], language='en', keyword='Feature', name='MindWM two users one context function test', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='736'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='737')], id='738'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Create context <context>', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='739'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='740'), Step(location=Location(line=12, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=13, column=7), rows=[TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='Knative service name')], id='741'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='iocontext')], id='742'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='pong')], id='743'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='kafka-cdc')], id='744')]), id='745'), Step(location=Location(line=17, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='746')], examples=[Examples(location=Location(line=18, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=19, column=5), cells=[TableCell(location=Location(line=19, column=7), value='context')], id='747'), table_body=[TableRow(location=Location(line=20, column=5), cells=[TableCell(location=Location(line=20, column=7), value='tokyo')], id='748')], id='749')], id='750')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=22, column=3), tags=[], keyword='Scenario', name='Create <username> and connects it to <context>', description='', steps=[Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='751'), Step(location=Location(line=24, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='752')], examples=[Examples(location=Location(line=25, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=26, column=5), cells=[TableCell(location=Location(line=26, column=7), value='context'), TableCell(location=Location(line=26, column=17), value='username')], id='753'), table_body=[TableRow(location=Location(line=27, column=5), cells=[TableCell(location=Location(line=27, column=7), value='tokyo'), TableCell(location=Location(line=27, column=17), value='godzilla')], id='754'), TableRow(location=Location(line=28, column=5), cells=[TableCell(location=Location(line=28, column=7), value='tokyo'), TableCell(location=Location(line=28, column=17), value='tengu')], id='755')], id='756')], id='757')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=29, column=3), tags=[], keyword='Scenario', name='Create <host> resource and connects it to <username> user', description='', steps=[Step(location=Location(line=30, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='758'), Step(location=Location(line=31, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='759')], examples=[Examples(location=Location(line=33, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='username'), TableCell(location=Location(line=34, column=18), value='host')], id='760'), table_body=[TableRow(location=Location(line=35, column=5), cells=[TableCell(location=Location(line=35, column=7), value='godzilla'), TableCell(location=Location(line=35, column=18), value='laptop')], id='761'), TableRow(location=Location(line=36, column=5), cells=[TableCell(location=Location(line=36, column=7), value='tengu'), TableCell(location=Location(line=36, column=18), value='tablet')], id='762')], id='763')], id='764')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=38, column=3), tags=[], keyword='Scenario', name='Send iodocument via nats host: <host>, user: <username> and check that second user received graph update', description='', steps=[Step(location=Location(line=39, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='765'), Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='766'), Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='767'), Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='768'), Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=None, data_table=None, id='769'), Step(location=Location(line=44, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=DocString(location=Location(line=45, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='770'), Step(location=Location(line=54, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=55, column=7), rows=[TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='Deployment name')], id='771'), TableRow(location=Location(line=56, column=7), cells=[TableCell(location=Location(line=56, column=9), value='iocontext-00001-deployment')], id='772'), TableRow(location=Location(line=57, column=7), cells=[TableCell(location=Location(line=57, column=9), value='kafka-cdc-00001-deployment')], id='773')]), id='774'), Step(location=Location(line=59, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<dst_user>.<dst_host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='775')], examples=[Examples(location=Location(line=61, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=62, column=5), cells=[TableCell(location=Location(line=62, column=7), value='context'), TableCell(location=Location(line=62, column=17), value='src_user'), TableCell(location=Location(line=62, column=28), value='src_host'), TableCell(location=Location(line=62, column=39), value='dst_user'), TableCell(location=Location(line=62, column=50), value='dst_host')], id='776'), table_body=[TableRow(location=Location(line=63, column=5), cells=[TableCell(location=Location(line=63, column=7), value='tokyo'), TableCell(location=Location(line=63, column=17), value='godzilla'), TableCell(location=Location(line=63, column=28), value='laptop'), TableCell(location=Location(line=63, column=39), value='tengu'), TableCell(location=Location(line=63, column=50), value='tablet')], id='777'), TableRow(location=Location(line=64, column=5), cells=[TableCell(location=Location(line=64, column=7), value='tokyo'), TableCell(location=Location(line=64, column=17), value='tengu'), TableCell(location=Location(line=64, column=28), value='tablet'), TableCell(location=Location(line=64, column=39), value='godzilla'), TableCell(location=Location(line=64, column=50), value='laptop')], id='778')], id='779')], id='780')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=67, column=3), tags=[], keyword='Scenario', name='Cleanup <host> host for <username> username', description='', steps=[Step(location=Location(line=69, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='781'), Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='782')], examples=[Examples(location=Location(line=72, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=73, column=5), cells=[TableCell(location=Location(line=73, column=7), value='username'), TableCell(location=Location(line=73, column=18), value='host')], id='783'), table_body=[TableRow(location=Location(line=74, column=5), cells=[TableCell(location=Location(line=74, column=7), value='godzilla'), TableCell(location=Location(line=74, column=18), value='laptop')], id='784'), TableRow(location=Location(line=75, column=5), cells=[TableCell(location=Location(line=75, column=7), value='tengu'), TableCell(location=Location(line=75, column=18), value='tablet')], id='785')], id='786')], id='787')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=77, column=3), tags=[], keyword='Scenario', name='Cleanup <username> username', description='', steps=[Step(location=Location(line=78, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='788'), Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='789')], examples=[Examples(location=Location(line=81, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='username')], id='790'), table_body=[TableRow(location=Location(line=83, column=5), cells=[TableCell(location=Location(line=83, column=7), value='godzilla')], id='791'), TableRow(location=Location(line=84, column=5), cells=[TableCell(location=Location(line=84, column=7), value='tengu')], id='792')], id='793')], id='794')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=86, column=3), tags=[], keyword='Scenario', name='Cleanup <context> context', description='', steps=[Step(location=Location(line=87, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='795'), Step(location=Location(line=88, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='796')], examples=[Examples(location=Location(line=90, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=91, column=5), cells=[TableCell(location=Location(line=91, column=7), value='context')], id='797'), table_body=[TableRow(location=Location(line=92, column=5), cells=[TableCell(location=Location(line=92, column=7), value='tokyo')], id='798')], id='799')], id='800'))]), comments=[]), uri='file:features/7_mindwm_two_users_one_context.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/7_mindwm_two_users_one_context.feature', registry={'801': Tag(location=Location(line=1, column=1), name='@mindwm_two_users_one_context', id='801'), '802': Tag(location=Location(line=2, column=1), name='@mindwm_test', id='802'), '738': Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='736'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='737')], id='738'), '736': Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='736'), '737': Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='737'), '750': Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Create context <context>', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='739'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='740'), Step(location=Location(line=12, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=13, column=7), rows=[TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='Knative service name')], id='741'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='iocontext')], id='742'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='pong')], id='743'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='kafka-cdc')], id='744')]), id='745'), Step(location=Location(line=17, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='746')], examples=[Examples(location=Location(line=18, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=19, column=5), cells=[TableCell(location=Location(line=19, column=7), value='context')], id='747'), table_body=[TableRow(location=Location(line=20, column=5), cells=[TableCell(location=Location(line=20, column=7), value='tokyo')], id='748')], id='749')], id='750'), '739': Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='739'), '740': Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='740'), '745': Step(location=Location(line=12, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=13, column=7), rows=[TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='Knative service name')], id='741'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='iocontext')], id='742'), TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='pong')], id='743'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='kafka-cdc')], id='744')]), id='745'), '746': Step(location=Location(line=17, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='746'), '749': Examples(location=Location(line=18, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=19, column=5), cells=[TableCell(location=Location(line=19, column=7), value='context')], id='747'), table_body=[TableRow(location=Location(line=20, column=5), cells=[TableCell(location=Location(line=20, column=7), value='tokyo')], id='748')], id='749'), '747': TableRow(location=Location(line=19, column=5), cells=[TableCell(location=Location(line=19, column=7), value='context')], id='747'), '748': TableRow(location=Location(line=20, column=5), cells=[TableCell(location=Location(line=20, column=7), value='tokyo')], id='748'), '757': Scenario(location=Location(line=22, column=3), tags=[], keyword='Scenario', name='Create <username> and connects it to <context>', description='', steps=[Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='751'), Step(location=Location(line=24, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='752')], examples=[Examples(location=Location(line=25, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=26, column=5), cells=[TableCell(location=Location(line=26, column=7), value='context'), TableCell(location=Location(line=26, column=17), value='username')], id='753'), table_body=[TableRow(location=Location(line=27, column=5), cells=[TableCell(location=Location(line=27, column=7), value='tokyo'), TableCell(location=Location(line=27, column=17), value='godzilla')], id='754'), TableRow(location=Location(line=28, column=5), cells=[TableCell(location=Location(line=28, column=7), value='tokyo'), TableCell(location=Location(line=28, column=17), value='tengu')], id='755')], id='756')], id='757'), '751': Step(location=Location(line=23, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='751'), '752': Step(location=Location(line=24, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='752'), '756': Examples(location=Location(line=25, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=26, column=5), cells=[TableCell(location=Location(line=26, column=7), value='context'), TableCell(location=Location(line=26, column=17), value='username')], id='753'), table_body=[TableRow(location=Location(line=27, column=5), cells=[TableCell(location=Location(line=27, column=7), value='tokyo'), TableCell(location=Location(line=27, column=17), value='godzilla')], id='754'), TableRow(location=Location(line=28, column=5), cells=[TableCell(location=Location(line=28, column=7), value='tokyo'), TableCell(location=Location(line=28, column=17), value='tengu')], id='755')], id='756'), '753': TableRow(location=Location(line=26, column=5), cells=[TableCell(location=Location(line=26, column=7), value='context'), TableCell(location=Location(line=26, column=17), value='username')], id='753'), '754': TableRow(location=Location(line=27, column=5), cells=[TableCell(location=Location(line=27, column=7), value='tokyo'), TableCell(location=Location(line=27, column=17), value='godzilla')], id='754'), '755': TableRow(location=Location(line=28, column=5), cells=[TableCell(location=Location(line=28, column=7), value='tokyo'), TableCell(location=Location(line=28, column=17), value='tengu')], id='755'), '764': Scenario(location=Location(line=29, column=3), tags=[], keyword='Scenario', name='Create <host> resource and connects it to <username> user', description='', steps=[Step(location=Location(line=30, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='758'), Step(location=Location(line=31, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='759')], examples=[Examples(location=Location(line=33, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='username'), TableCell(location=Location(line=34, column=18), value='host')], id='760'), table_body=[TableRow(location=Location(line=35, column=5), cells=[TableCell(location=Location(line=35, column=7), value='godzilla'), TableCell(location=Location(line=35, column=18), value='laptop')], id='761'), TableRow(location=Location(line=36, column=5), cells=[TableCell(location=Location(line=36, column=7), value='tengu'), TableCell(location=Location(line=36, column=18), value='tablet')], id='762')], id='763')], id='764'), '758': Step(location=Location(line=30, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='758'), '759': Step(location=Location(line=31, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='759'), '763': Examples(location=Location(line=33, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='username'), TableCell(location=Location(line=34, column=18), value='host')], id='760'), table_body=[TableRow(location=Location(line=35, column=5), cells=[TableCell(location=Location(line=35, column=7), value='godzilla'), TableCell(location=Location(line=35, column=18), value='laptop')], id='761'), TableRow(location=Location(line=36, column=5), cells=[TableCell(location=Location(line=36, column=7), value='tengu'), TableCell(location=Location(line=36, column=18), value='tablet')], id='762')], id='763'), '760': TableRow(location=Location(line=34, column=5), cells=[TableCell(location=Location(line=34, column=7), value='username'), TableCell(location=Location(line=34, column=18), value='host')], id='760'), '761': TableRow(location=Location(line=35, column=5), cells=[TableCell(location=Location(line=35, column=7), value='godzilla'), TableCell(location=Location(line=35, column=18), value='laptop')], id='761'), '762': TableRow(location=Location(line=36, column=5), cells=[TableCell(location=Location(line=36, column=7), value='tengu'), TableCell(location=Location(line=36, column=18), value='tablet')], id='762'), '780': Scenario(location=Location(line=38, column=3), tags=[], keyword='Scenario', name='Send iodocument via nats host: <host>, user: <username> and check that second user received graph update', description='', steps=[Step(location=Location(line=39, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='765'), Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='766'), Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='767'), Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='768'), Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=None, data_table=None, id='769'), Step(location=Location(line=44, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=DocString(location=Location(line=45, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='770'), Step(location=Location(line=54, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=55, column=7), rows=[TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='Deployment name')], id='771'), TableRow(location=Location(line=56, column=7), cells=[TableCell(location=Location(line=56, column=9), value='iocontext-00001-deployment')], id='772'), TableRow(location=Location(line=57, column=7), cells=[TableCell(location=Location(line=57, column=9), value='kafka-cdc-00001-deployment')], id='773')]), id='774'), Step(location=Location(line=59, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<dst_user>.<dst_host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='775')], examples=[Examples(location=Location(line=61, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=62, column=5), cells=[TableCell(location=Location(line=62, column=7), value='context'), TableCell(location=Location(line=62, column=17), value='src_user'), TableCell(location=Location(line=62, column=28), value='src_host'), TableCell(location=Location(line=62, column=39), value='dst_user'), TableCell(location=Location(line=62, column=50), value='dst_host')], id='776'), table_body=[TableRow(location=Location(line=63, column=5), cells=[TableCell(location=Location(line=63, column=7), value='tokyo'), TableCell(location=Location(line=63, column=17), value='godzilla'), TableCell(location=Location(line=63, column=28), value='laptop'), TableCell(location=Location(line=63, column=39), value='tengu'), TableCell(location=Location(line=63, column=50), value='tablet')], id='777'), TableRow(location=Location(line=64, column=5), cells=[TableCell(location=Location(line=64, column=7), value='tokyo'), TableCell(location=Location(line=64, column=17), value='tengu'), TableCell(location=Location(line=64, column=28), value='tablet'), TableCell(location=Location(line=64, column=39), value='godzilla'), TableCell(location=Location(line=64, column=50), value='laptop')], id='778')], id='779')], id='780'), '765': Step(location=Location(line=39, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='765'), '766': Step(location=Location(line=40, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='766'), '767': Step(location=Location(line=41, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"id\"', doc_string=None, data_table=None, id='767'), '768': Step(location=Location(line=42, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='768'), '769': Step(location=Location(line=43, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=None, data_table=None, id='769'), '770': Step(location=Location(line=44, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"', doc_string=DocString(location=Location(line=45, column=7), media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} ', delimiter='\"\"\"'), data_table=None, id='770'), '774': Step(location=Location(line=54, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=55, column=7), rows=[TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='Deployment name')], id='771'), TableRow(location=Location(line=56, column=7), cells=[TableCell(location=Location(line=56, column=9), value='iocontext-00001-deployment')], id='772'), TableRow(location=Location(line=57, column=7), cells=[TableCell(location=Location(line=57, column=9), value='kafka-cdc-00001-deployment')], id='773')]), id='774'), '775': Step(location=Location(line=59, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<dst_user>.<dst_host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='775'), '779': Examples(location=Location(line=61, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=62, column=5), cells=[TableCell(location=Location(line=62, column=7), value='context'), TableCell(location=Location(line=62, column=17), value='src_user'), TableCell(location=Location(line=62, column=28), value='src_host'), TableCell(location=Location(line=62, column=39), value='dst_user'), TableCell(location=Location(line=62, column=50), value='dst_host')], id='776'), table_body=[TableRow(location=Location(line=63, column=5), cells=[TableCell(location=Location(line=63, column=7), value='tokyo'), TableCell(location=Location(line=63, column=17), value='godzilla'), TableCell(location=Location(line=63, column=28), value='laptop'), TableCell(location=Location(line=63, column=39), value='tengu'), TableCell(location=Location(line=63, column=50), value='tablet')], id='777'), TableRow(location=Location(line=64, column=5), cells=[TableCell(location=Location(line=64, column=7), value='tokyo'), TableCell(location=Location(line=64, column=17), value='tengu'), TableCell(location=Location(line=64, column=28), value='tablet'), TableCell(location=Location(line=64, column=39), value='godzilla'), TableCell(location=Location(line=64, column=50), value='laptop')], id='778')], id='779'), '776': TableRow(location=Location(line=62, column=5), cells=[TableCell(location=Location(line=62, column=7), value='context'), TableCell(location=Location(line=62, column=17), value='src_user'), TableCell(location=Location(line=62, column=28), value='src_host'), TableCell(location=Location(line=62, column=39), value='dst_user'), TableCell(location=Location(line=62, column=50), value='dst_host')], id='776'), '777': TableRow(location=Location(line=63, column=5), cells=[TableCell(location=Location(line=63, column=7), value='tokyo'), TableCell(location=Location(line=63, column=17), value='godzilla'), TableCell(location=Location(line=63, column=28), value='laptop'), TableCell(location=Location(line=63, column=39), value='tengu'), TableCell(location=Location(line=63, column=50), value='tablet')], id='777'), '778': TableRow(location=Location(line=64, column=5), cells=[TableCell(location=Location(line=64, column=7), value='tokyo'), TableCell(location=Location(line=64, column=17), value='tengu'), TableCell(location=Location(line=64, column=28), value='tablet'), TableCell(location=Location(line=64, column=39), value='godzilla'), TableCell(location=Location(line=64, column=50), value='laptop')], id='778'), '787': Scenario(location=Location(line=67, column=3), tags=[], keyword='Scenario', name='Cleanup <host> host for <username> username', description='', steps=[Step(location=Location(line=69, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='781'), Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='782')], examples=[Examples(location=Location(line=72, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=73, column=5), cells=[TableCell(location=Location(line=73, column=7), value='username'), TableCell(location=Location(line=73, column=18), value='host')], id='783'), table_body=[TableRow(location=Location(line=74, column=5), cells=[TableCell(location=Location(line=74, column=7), value='godzilla'), TableCell(location=Location(line=74, column=18), value='laptop')], id='784'), TableRow(location=Location(line=75, column=5), cells=[TableCell(location=Location(line=75, column=7), value='tengu'), TableCell(location=Location(line=75, column=18), value='tablet')], id='785')], id='786')], id='787'), '781': Step(location=Location(line=69, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='781'), '782': Step(location=Location(line=70, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='782'), '786': Examples(location=Location(line=72, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=73, column=5), cells=[TableCell(location=Location(line=73, column=7), value='username'), TableCell(location=Location(line=73, column=18), value='host')], id='783'), table_body=[TableRow(location=Location(line=74, column=5), cells=[TableCell(location=Location(line=74, column=7), value='godzilla'), TableCell(location=Location(line=74, column=18), value='laptop')], id='784'), TableRow(location=Location(line=75, column=5), cells=[TableCell(location=Location(line=75, column=7), value='tengu'), TableCell(location=Location(line=75, column=18), value='tablet')], id='785')], id='786'), '783': TableRow(location=Location(line=73, column=5), cells=[TableCell(location=Location(line=73, column=7), value='username'), TableCell(location=Location(line=73, column=18), value='host')], id='783'), '784': TableRow(location=Location(line=74, column=5), cells=[TableCell(location=Location(line=74, column=7), value='godzilla'), TableCell(location=Location(line=74, column=18), value='laptop')], id='784'), '785': TableRow(location=Location(line=75, column=5), cells=[TableCell(location=Location(line=75, column=7), value='tengu'), TableCell(location=Location(line=75, column=18), value='tablet')], id='785'), '794': Scenario(location=Location(line=77, column=3), tags=[], keyword='Scenario', name='Cleanup <username> username', description='', steps=[Step(location=Location(line=78, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='788'), Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='789')], examples=[Examples(location=Location(line=81, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='username')], id='790'), table_body=[TableRow(location=Location(line=83, column=5), cells=[TableCell(location=Location(line=83, column=7), value='godzilla')], id='791'), TableRow(location=Location(line=84, column=5), cells=[TableCell(location=Location(line=84, column=7), value='tengu')], id='792')], id='793')], id='794'), '788': Step(location=Location(line=78, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='788'), '789': Step(location=Location(line=79, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"<username>\" should be deleted', doc_string=None, data_table=None, id='789'), '793': Examples(location=Location(line=81, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='username')], id='790'), table_body=[TableRow(location=Location(line=83, column=5), cells=[TableCell(location=Location(line=83, column=7), value='godzilla')], id='791'), TableRow(location=Location(line=84, column=5), cells=[TableCell(location=Location(line=84, column=7), value='tengu')], id='792')], id='793'), '790': TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='username')], id='790'), '791': TableRow(location=Location(line=83, column=5), cells=[TableCell(location=Location(line=83, column=7), value='godzilla')], id='791'), '792': TableRow(location=Location(line=84, column=5), cells=[TableCell(location=Location(line=84, column=7), value='tengu')], id='792'), '800': Scenario(location=Location(line=86, column=3), tags=[], keyword='Scenario', name='Cleanup <context> context', description='', steps=[Step(location=Location(line=87, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='795'), Step(location=Location(line=88, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='796')], examples=[Examples(location=Location(line=90, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=91, column=5), cells=[TableCell(location=Location(line=91, column=7), value='context')], id='797'), table_body=[TableRow(location=Location(line=92, column=5), cells=[TableCell(location=Location(line=92, column=7), value='tokyo')], id='798')], id='799')], id='800'), '795': Step(location=Location(line=87, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='795'), '796': Step(location=Location(line=88, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"<context>\" should be deleted', doc_string=None, data_table=None, id='796'), '799': Examples(location=Location(line=90, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=91, column=5), cells=[TableCell(location=Location(line=91, column=7), value='context')], id='797'), table_body=[TableRow(location=Location(line=92, column=5), cells=[TableCell(location=Location(line=92, column=7), value='tokyo')], id='798')], id='799'), '797': TableRow(location=Location(line=91, column=5), cells=[TableCell(location=Location(line=91, column=7), value='context')], id='797'), '798': TableRow(location=Location(line=92, column=5), cells=[TableCell(location=Location(line=92, column=7), value='tokyo')], id='798')}, pickles=[Pickle(id='809', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create context tokyo', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='803', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='804', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['739', '748'], id='805', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"tokyo\"'), PickleStep(argument=None, ast_node_ids=['740', '748'], id='806', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext')]), PickleTableRow(cells=[PickleTableCell(value='pong')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')])])), ast_node_ids=['745', '748'], id='807', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-tokyo\" namespace'), PickleStep(argument=None, ast_node_ids=['746', '748'], id='808', type=<Type.outcome: 'Outcome'>, text='statefulset \"tokyo-neo4j\" in namespace \"context-tokyo\" is in ready state')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['750', '748']), Pickle(id='814', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create godzilla and connects it to tokyo', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='810', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='811', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['751', '754'], id='812', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"godzilla\" and connects it to the context \"tokyo\"'), PickleStep(argument=None, ast_node_ids=['752', '754'], id='813', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['757', '754']), Pickle(id='819', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create tengu and connects it to tokyo', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='815', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='816', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['751', '755'], id='817', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"tengu\" and connects it to the context \"tokyo\"'), PickleStep(argument=None, ast_node_ids=['752', '755'], id='818', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['757', '755']), Pickle(id='824', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create laptop resource and connects it to godzilla user', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='820', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='821', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['758', '761'], id='822', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"laptop\" and connects it to the user \"godzilla\"'), PickleStep(argument=None, ast_node_ids=['759', '761'], id='823', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['764', '761']), Pickle(id='829', uri='file:features/7_mindwm_two_users_one_context.feature', name='Create tablet resource and connects it to tengu user', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='825', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='826', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['758', '762'], id='827', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"tablet\" and connects it to the user \"tengu\"'), PickleStep(argument=None, ast_node_ids=['759', '762'], id='828', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['764', '762']), Pickle(id='840', uri='file:features/7_mindwm_two_users_one_context.feature', name='Send iodocument via nats host: <host>, user: <username> and check that second user received graph update', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='830', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='831', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['765', '777'], id='832', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['766', '777'], id='833', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['767', '777'], id='834', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"id\"'), PickleStep(argument=None, ast_node_ids=['768', '777'], id='835', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['769', '777'], id='836', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.godzilla.laptop.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['770', '777'], id='837', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.godzilla.laptop.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-00001-deployment')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-00001-deployment')])])), ast_node_ids=['774', '777'], id='838', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-tokyo\" namespace'), PickleStep(argument=None, ast_node_ids=['775', '777'], id='839', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-tengu.tablet-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['780', '777']), Pickle(id='851', uri='file:features/7_mindwm_two_users_one_context.feature', name='Send iodocument via nats host: <host>, user: <username> and check that second user received graph update', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='841', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='842', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['765', '778'], id='843', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['766', '778'], id='844', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['767', '778'], id='845', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"id\"'), PickleStep(argument=None, ast_node_ids=['768', '778'], id='846', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['769', '778'], id='847', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.tengu.tablet.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['770', '778'], id='848', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.tengu.tablet.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-00001-deployment')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-00001-deployment')])])), ast_node_ids=['774', '778'], id='849', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-tokyo\" namespace'), PickleStep(argument=None, ast_node_ids=['775', '778'], id='850', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-godzilla.laptop-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['780', '778']), Pickle(id='856', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup laptop host for godzilla username', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='852', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='853', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['781', '784'], id='854', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"laptop\"'), PickleStep(argument=None, ast_node_ids=['782', '784'], id='855', type=<Type.outcome: 'Outcome'>, text='the host \"laptop\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['787', '784']), Pickle(id='861', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup tablet host for tengu username', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='857', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='858', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['781', '785'], id='859', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"tablet\"'), PickleStep(argument=None, ast_node_ids=['782', '785'], id='860', type=<Type.outcome: 'Outcome'>, text='the host \"tablet\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['787', '785']), Pickle(id='866', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup godzilla username', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='862', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='863', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['788', '791'], id='864', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"godzilla\"'), PickleStep(argument=None, ast_node_ids=['789', '791'], id='865', type=<Type.outcome: 'Outcome'>, text='the user \"godzilla\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['794', '791']), Pickle(id='871', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup tengu username', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='867', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='868', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['788', '792'], id='869', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"tengu\"'), PickleStep(argument=None, ast_node_ids=['789', '792'], id='870', type=<Type.outcome: 'Outcome'>, text='the user \"tengu\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['794', '792']), Pickle(id='876', uri='file:features/7_mindwm_two_users_one_context.feature', name='Cleanup tokyo context', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='872', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='873', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['795', '798'], id='874', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"tokyo\"'), PickleStep(argument=None, ast_node_ids=['796', '798'], id='875', type=<Type.outcome: 'Outcome'>, text='the context \"tokyo\" should be deleted')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['800', '798'])])","Source(uri='file:features/7_mindwm_two_users_one_context.feature', data='@mindwm_two_users_one_context\\n@mindwm_test\\nFeature: MindWM two users one context function test\\n  Background:\\n    Given A MindWM environment\\n    Then all nodes in Kubernetes are ready\\n\\n  Scenario: Create context <context>\\n    When God creates a MindWM context with the name \"<context>\"\\n    Then the context should be ready and operable\\n\\n    Then the following knative services are in a ready state in the \"context-<context>\" namespace\\n      | Knative service name |\\n      | iocontext            |\\n      | pong                 |\\n      | kafka-cdc            |\\n    And statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state\\n    Examples:\\n    | context | \\n    | tokyo   | \\n    \\n  Scenario: Create <username> and connects it to <context>\\n    When God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"\\n    Then the user resource should be ready and operable\\n    Examples:\\n    | context | username |\\n    | tokyo   | godzilla |\\n    | tokyo   | tengu    |\\n  Scenario: Create <host> resource and connects it to <username> user\\n    When God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"\\n    Then the host resource should be ready and operable\\n\\n    Examples: \\n    | username | host   |\\n    | godzilla | laptop | \\n    | tengu    | tablet | \\n\\n  Scenario: Send iodocument via nats host: <host>, user: <username> and check that second user received graph update\\n    When God creates a new cloudevent \\n      And God starts reading message from NATS topic \">\"\\n      And sets cloudevent header \"ce-subject\" to \"id\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"\\n      And sends cloudevent to nats topic \"org.mindwm.<src_user>.<src_host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"\\n      \"\"\"\\n      {\\n        \"input\": \"id\",\\n        \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n        \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n        \"type\": \"org.mindwm.v1.iodocument\"\\n      } \\n      \"\"\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name            |\\n      | iocontext-00001-deployment |\\n      | kafka-cdc-00001-deployment |\\n\\n    And a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<dst_user>.<dst_host>-host-broker-kne-trigger._knative\"\\n\\n    Examples:\\n    | context | src_user | src_host | dst_user | dst_host |  \\n    | tokyo   | godzilla | laptop   | tengu    | tablet   |\\n    | tokyo   | tengu    | tablet   | godzilla | laptop   | \\n\\n\\n  Scenario: Cleanup <host> host for <username> username\\n\\n    When God deletes the MindWM host resource \"<host>\"\\n    Then the host \"<host>\" should be deleted\\n\\n    Examples:\\n    | username | host   |\\n    | godzilla | laptop | \\n    | tengu    | tablet | \\n\\n  Scenario: Cleanup <username> username\\n    When God deletes the MindWM user resource \"<username>\"\\n    Then the user \"<username>\" should be deleted\\n\\n    Examples:\\n    | username | \\n    | godzilla |\\n    | tengu    | \\n\\n  Scenario: Cleanup <context> context\\n    When God deletes the MindWM context resource \"<context>\"\\n    Then the context \"<context>\" should be deleted\\n\\n    Examples:\\n    | context | \\n    | tokyo   |\\n', media_type='text/x.cucumber.gherkin+plain')","Pickle(id='840', uri='file:features/7_mindwm_two_users_one_context.feature', name='Send iodocument via nats host: <host>, user: <username> and check that second user received graph update', language='en', steps=[PickleStep(argument=None, ast_node_ids=['736'], id='830', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['737'], id='831', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['765', '777'], id='832', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['766', '777'], id='833', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=None, ast_node_ids=['767', '777'], id='834', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"id\"'), PickleStep(argument=None, ast_node_ids=['768', '777'], id='835', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=None, ast_node_ids=['769', '777'], id='836', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.godzilla.laptop.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"id\",\\n  \"output\": \"uid=1000(pion) gid=1000(pion) groups=1000(pion),4(adm),100(users),112(tmux),988(docker)\",\\n  \"ps1\": \"pion@mindwm-stg1:~/work/dev/mindwm-manager$\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n} '), data_table=None), ast_node_ids=['770', '777'], id='837', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.godzilla.laptop.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.8d839f82-79da-11ef-bc9f-f74fac7543ac.23.36.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-00001-deployment')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-00001-deployment')])])), ast_node_ids=['774', '777'], id='838', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-tokyo\" namespace'), PickleStep(argument=None, ast_node_ids=['775', '777'], id='839', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-tengu.tablet-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_two_users_one_context', ast_node_id='801'), PickleTag(name='@mindwm_test', ast_node_id='802')], ast_node_ids=['780', '777'])"],"tags":["scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/7_mindwm_two_users_one_context.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=<FeaturePathType.PATH: 'path'>, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())","pytest_bdd_scenario","@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')","mindwm_test","mindwm_two_users_one_context","namespace(create=False, name='default')"]}],"uid":"3961740595044ffd97a03e46799bfc30"}],"uid":"be30f600e0434356d35178c8efd2dc81"}],"name":"timeline"}