{"uid":"4b93e3713b4549a6","name":"test_scenarios[file:features/5_mindwm_kafka_cdc.feature-MindWM kafka_cdc function test-io context blue[table_rows:[line: 69]]]","fullName":"features.5_mindwm_kafka_cdc#test_scenarios","historyId":"d0cff02620f4eeb16747771451bede4a","time":{"start":1728050354532,"stop":1728050517942,"duration":163410},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"pytestconfig","time":{"start":1728048934586,"stop":1728048934586,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"steps_left","time":{"start":1728050354532,"stop":1728050354532,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"step_registry","time":{"start":1728050354532,"stop":1728050354532,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"step_matcher","time":{"start":1728050354532,"stop":1728050354532,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"step_registry","time":{"start":1728050354532,"stop":1728050354532,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"parameter_type_registry","time":{"start":1728050354533,"stop":1728050354533,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"kubeconfig","time":{"start":1728050354534,"stop":1728050354534,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"kubecontext","time":{"start":1728050354535,"stop":1728050354535,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"kube","time":{"start":1728050354535,"stop":1728050354541,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"ctx","time":{"start":1728050354794,"stop":1728050354794,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"testStage":{"status":"passed","steps":[{"name":"Mindwm crd 'xcontexts' is exist","time":{"start":1728050354587,"stop":1728050354587,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Mindwm crd 'xhosts' is exist","time":{"start":1728050354635,"stop":1728050354635,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Mindwm crd 'xusers' is exist","time":{"start":1728050354718,"stop":1728050354718,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Kubernetes node 'localhost' are True","time":{"start":1728050354782,"stop":1728050354782,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Create context 'blue'","time":{"start":1728050354834,"stop":1728050354834,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Knative service 'context-blue'/'kafka-cdc' ready state is Unknown","time":{"start":1728050361847,"stop":1728050361848,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Statefulset 'blue-neo4j' in 'context-blue' is ready","time":{"start":1728050458493,"stop":1728050458494,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Create user 'garmr' with context blue","time":{"start":1728050458512,"stop":1728050458513,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Host 'helheim' has created","time":{"start":1728050469697,"stop":1728050469697,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Start nats reader from the topic >","time":{"start":1728050480797,"stop":1728050480797,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Knative service 'context-blue'/'kafka-cdc' ready state is True","time":{"start":1728050484196,"stop":1728050484196,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"org.mindwm.v1.graph.created exist in nats topic user-garmr.helheim-host-broker-kne-trigger._knative","time":{"start":1728050495217,"stop":1728050495218,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Knative service 'context-blue'/'kafka-cdc' ready state is True","time":{"start":1728050495691,"stop":1728050495691,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"org.mindwm.v1.graph.updated exist in nats topic user-garmr.helheim-host-broker-kne-trigger._knative","time":{"start":1728050506704,"stop":1728050506704,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Knative service 'context-blue'/'kafka-cdc' ready state is True","time":{"start":1728050506924,"stop":1728050506924,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"org.mindwm.v1.graph.deleted exist in nats topic user-garmr.helheim-host-broker-kne-trigger._knative","time":{"start":1728050517940,"stop":1728050517941,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":16,"attachmentsCount":0,"hasContent":true},"afterStages":[],"labels":[{"name":"tag","value":"scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/5_mindwm_kafka_cdc.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=None, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())"},{"name":"tag","value":"@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')"},{"name":"tag","value":"pytest_bdd_scenario"},{"name":"tag","value":"mindwm_kafka_cdc"},{"name":"tag","value":"mindwm_test"},{"name":"tag","value":"namespace(create=False, name='default')"},{"name":"parentSuite","value":"features"},{"name":"suite","value":"5_mindwm_kafka_cdc"},{"name":"host","value":"localhost"},{"name":"thread","value":"4512-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"features.5_mindwm_kafka_cdc"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"feature","value":"Feature(gherkin_document=GherkinDocument(uri='file:features/5_mindwm_kafka_cdc.feature', feature=Feature(location=Location(line=3, column=1), tags=[Tag(location=Location(line=1, column=1), name='@mindwm_kafka_cdc', id='568'), Tag(location=Location(line=2, column=1), name='@mindwm_test', id='569')], language='en', keyword='Feature', name='MindWM kafka_cdc function test', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='527'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='528')], id='529'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='io context <context>', description='', steps=[Step(location=Location(line=10, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='530'), Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='531'), Step(location=Location(line=12, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=13, column=7), rows=[TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='Knative service name')], id='532'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='kafka-cdc')], id='533')]), id='534'), Step(location=Location(line=15, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='535'), Step(location=Location(line=17, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='536'), Step(location=Location(line=18, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='537'), Step(location=Location(line=20, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='538'), Step(location=Location(line=21, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='539'), Step(location=Location(line=28, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='540'), Step(location=Location(line=29, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God makes graph query in context \"<context>\"', doc_string=DocString(location=Location(line=30, column=7), media_type=None, content=\"CREATE (n:User {\\n  atime: 0,\\n  traceparent: '00-7df92f3577b34da6a3ce930d0e0e4734-96815d9e32cd6279-01',\\n  type: 'org.mindwm.v1.graph.node.user',\\n  username: '<user>'\\n})\\nRETURN n;\", delimiter='\"\"\"'), data_table=None, id='541'), Step(location=Location(line=40, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=41, column=7), rows=[TableRow(location=Location(line=41, column=7), cells=[TableCell(location=Location(line=41, column=9), value='Knative service name')], id='542'), TableRow(location=Location(line=42, column=7), cells=[TableCell(location=Location(line=42, column=9), value='kafka-cdc')], id='543')]), id='544'), Step(location=Location(line=43, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='545'), Step(location=Location(line=45, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God makes graph query in context \"<context>\"', doc_string=DocString(location=Location(line=46, column=7), media_type=None, content=\"MATCH (n:User)\\nSET n.username = 'xxx'\\nRETURN n;\", delimiter='\"\"\"'), data_table=None, id='546'), Step(location=Location(line=51, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=52, column=7), rows=[TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='Knative service name')], id='547'), TableRow(location=Location(line=53, column=7), cells=[TableCell(location=Location(line=53, column=9), value='kafka-cdc')], id='548')]), id='549'), Step(location=Location(line=54, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.updated\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='550'), Step(location=Location(line=57, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God makes graph query in context \"<context>\"', doc_string=DocString(location=Location(line=58, column=7), media_type=None, content='MATCH (n:User)\\nDELETE n;', delimiter='\"\"\"'), data_table=None, id='551'), Step(location=Location(line=62, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=63, column=7), rows=[TableRow(location=Location(line=63, column=7), cells=[TableCell(location=Location(line=63, column=9), value='Knative service name')], id='552'), TableRow(location=Location(line=64, column=7), cells=[TableCell(location=Location(line=64, column=9), value='kafka-cdc')], id='553')]), id='554'), Step(location=Location(line=65, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.deleted\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='555')], examples=[Examples(location=Location(line=67, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=68, column=6), cells=[TableCell(location=Location(line=68, column=8), value='context'), TableCell(location=Location(line=68, column=19), value='username'), TableCell(location=Location(line=68, column=32), value='host')], id='556'), table_body=[TableRow(location=Location(line=69, column=6), cells=[TableCell(location=Location(line=69, column=8), value='blue'), TableCell(location=Location(line=69, column=19), value='garmr'), TableCell(location=Location(line=69, column=32), value='helheim')], id='557')], id='558')], id='559')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=72, column=3), tags=[], keyword='Scenario', name='Cleanup <username>@<host> in <context>', description='', steps=[Step(location=Location(line=73, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='560'), Step(location=Location(line=74, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='561'), Step(location=Location(line=76, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='562'), Step(location=Location(line=78, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='563')], examples=[Examples(location=Location(line=80, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=81, column=5), cells=[TableCell(location=Location(line=81, column=7), value='context'), TableCell(location=Location(line=81, column=17), value='username'), TableCell(location=Location(line=81, column=28), value='host')], id='564'), table_body=[TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='blue'), TableCell(location=Location(line=82, column=17), value='garmr'), TableCell(location=Location(line=82, column=28), value='helheim')], id='565')], id='566')], id='567'))]), comments=[Comment(location=Location(line=23, column=1), text='    # When God makes graph query in context \"<context>\"'), Comment(location=Location(line=24, column=1), text='    #   \"\"\"'), Comment(location=Location(line=25, column=1), text='    #   MATCH (N) DETACH DELETE N;'), Comment(location=Location(line=26, column=1), text='    #   \"\"\"')]), uri='file:features/5_mindwm_kafka_cdc.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/5_mindwm_kafka_cdc.feature', registry={'568': Tag(location=Location(line=1, column=1), name='@mindwm_kafka_cdc', id='568'), '569': Tag(location=Location(line=2, column=1), name='@mindwm_test', id='569'), '529': Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='527'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='528')], id='529'), '527': Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='527'), '528': Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='528'), '559': Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='io context <context>', description='', steps=[Step(location=Location(line=10, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='530'), Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='531'), Step(location=Location(line=12, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=13, column=7), rows=[TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='Knative service name')], id='532'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='kafka-cdc')], id='533')]), id='534'), Step(location=Location(line=15, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='535'), Step(location=Location(line=17, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='536'), Step(location=Location(line=18, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='537'), Step(location=Location(line=20, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='538'), Step(location=Location(line=21, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='539'), Step(location=Location(line=28, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='540'), Step(location=Location(line=29, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God makes graph query in context \"<context>\"', doc_string=DocString(location=Location(line=30, column=7), media_type=None, content=\"CREATE (n:User {\\n  atime: 0,\\n  traceparent: '00-7df92f3577b34da6a3ce930d0e0e4734-96815d9e32cd6279-01',\\n  type: 'org.mindwm.v1.graph.node.user',\\n  username: '<user>'\\n})\\nRETURN n;\", delimiter='\"\"\"'), data_table=None, id='541'), Step(location=Location(line=40, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=41, column=7), rows=[TableRow(location=Location(line=41, column=7), cells=[TableCell(location=Location(line=41, column=9), value='Knative service name')], id='542'), TableRow(location=Location(line=42, column=7), cells=[TableCell(location=Location(line=42, column=9), value='kafka-cdc')], id='543')]), id='544'), Step(location=Location(line=43, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='545'), Step(location=Location(line=45, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God makes graph query in context \"<context>\"', doc_string=DocString(location=Location(line=46, column=7), media_type=None, content=\"MATCH (n:User)\\nSET n.username = 'xxx'\\nRETURN n;\", delimiter='\"\"\"'), data_table=None, id='546'), Step(location=Location(line=51, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=52, column=7), rows=[TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='Knative service name')], id='547'), TableRow(location=Location(line=53, column=7), cells=[TableCell(location=Location(line=53, column=9), value='kafka-cdc')], id='548')]), id='549'), Step(location=Location(line=54, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.updated\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='550'), Step(location=Location(line=57, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God makes graph query in context \"<context>\"', doc_string=DocString(location=Location(line=58, column=7), media_type=None, content='MATCH (n:User)\\nDELETE n;', delimiter='\"\"\"'), data_table=None, id='551'), Step(location=Location(line=62, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=63, column=7), rows=[TableRow(location=Location(line=63, column=7), cells=[TableCell(location=Location(line=63, column=9), value='Knative service name')], id='552'), TableRow(location=Location(line=64, column=7), cells=[TableCell(location=Location(line=64, column=9), value='kafka-cdc')], id='553')]), id='554'), Step(location=Location(line=65, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.deleted\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='555')], examples=[Examples(location=Location(line=67, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=68, column=6), cells=[TableCell(location=Location(line=68, column=8), value='context'), TableCell(location=Location(line=68, column=19), value='username'), TableCell(location=Location(line=68, column=32), value='host')], id='556'), table_body=[TableRow(location=Location(line=69, column=6), cells=[TableCell(location=Location(line=69, column=8), value='blue'), TableCell(location=Location(line=69, column=19), value='garmr'), TableCell(location=Location(line=69, column=32), value='helheim')], id='557')], id='558')], id='559'), '530': Step(location=Location(line=10, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='530'), '531': Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='531'), '534': Step(location=Location(line=12, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=13, column=7), rows=[TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='Knative service name')], id='532'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='kafka-cdc')], id='533')]), id='534'), '535': Step(location=Location(line=15, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='535'), '536': Step(location=Location(line=17, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='536'), '537': Step(location=Location(line=18, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='537'), '538': Step(location=Location(line=20, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='538'), '539': Step(location=Location(line=21, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='539'), '540': Step(location=Location(line=28, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='540'), '541': Step(location=Location(line=29, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God makes graph query in context \"<context>\"', doc_string=DocString(location=Location(line=30, column=7), media_type=None, content=\"CREATE (n:User {\\n  atime: 0,\\n  traceparent: '00-7df92f3577b34da6a3ce930d0e0e4734-96815d9e32cd6279-01',\\n  type: 'org.mindwm.v1.graph.node.user',\\n  username: '<user>'\\n})\\nRETURN n;\", delimiter='\"\"\"'), data_table=None, id='541'), '544': Step(location=Location(line=40, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=41, column=7), rows=[TableRow(location=Location(line=41, column=7), cells=[TableCell(location=Location(line=41, column=9), value='Knative service name')], id='542'), TableRow(location=Location(line=42, column=7), cells=[TableCell(location=Location(line=42, column=9), value='kafka-cdc')], id='543')]), id='544'), '545': Step(location=Location(line=43, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='545'), '546': Step(location=Location(line=45, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God makes graph query in context \"<context>\"', doc_string=DocString(location=Location(line=46, column=7), media_type=None, content=\"MATCH (n:User)\\nSET n.username = 'xxx'\\nRETURN n;\", delimiter='\"\"\"'), data_table=None, id='546'), '549': Step(location=Location(line=51, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=52, column=7), rows=[TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='Knative service name')], id='547'), TableRow(location=Location(line=53, column=7), cells=[TableCell(location=Location(line=53, column=9), value='kafka-cdc')], id='548')]), id='549'), '550': Step(location=Location(line=54, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.updated\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='550'), '551': Step(location=Location(line=57, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God makes graph query in context \"<context>\"', doc_string=DocString(location=Location(line=58, column=7), media_type=None, content='MATCH (n:User)\\nDELETE n;', delimiter='\"\"\"'), data_table=None, id='551'), '554': Step(location=Location(line=62, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=63, column=7), rows=[TableRow(location=Location(line=63, column=7), cells=[TableCell(location=Location(line=63, column=9), value='Knative service name')], id='552'), TableRow(location=Location(line=64, column=7), cells=[TableCell(location=Location(line=64, column=9), value='kafka-cdc')], id='553')]), id='554'), '555': Step(location=Location(line=65, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.deleted\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='555'), '558': Examples(location=Location(line=67, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=68, column=6), cells=[TableCell(location=Location(line=68, column=8), value='context'), TableCell(location=Location(line=68, column=19), value='username'), TableCell(location=Location(line=68, column=32), value='host')], id='556'), table_body=[TableRow(location=Location(line=69, column=6), cells=[TableCell(location=Location(line=69, column=8), value='blue'), TableCell(location=Location(line=69, column=19), value='garmr'), TableCell(location=Location(line=69, column=32), value='helheim')], id='557')], id='558'), '556': TableRow(location=Location(line=68, column=6), cells=[TableCell(location=Location(line=68, column=8), value='context'), TableCell(location=Location(line=68, column=19), value='username'), TableCell(location=Location(line=68, column=32), value='host')], id='556'), '557': TableRow(location=Location(line=69, column=6), cells=[TableCell(location=Location(line=69, column=8), value='blue'), TableCell(location=Location(line=69, column=19), value='garmr'), TableCell(location=Location(line=69, column=32), value='helheim')], id='557'), '567': Scenario(location=Location(line=72, column=3), tags=[], keyword='Scenario', name='Cleanup <username>@<host> in <context>', description='', steps=[Step(location=Location(line=73, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='560'), Step(location=Location(line=74, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='561'), Step(location=Location(line=76, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='562'), Step(location=Location(line=78, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='563')], examples=[Examples(location=Location(line=80, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=81, column=5), cells=[TableCell(location=Location(line=81, column=7), value='context'), TableCell(location=Location(line=81, column=17), value='username'), TableCell(location=Location(line=81, column=28), value='host')], id='564'), table_body=[TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='blue'), TableCell(location=Location(line=82, column=17), value='garmr'), TableCell(location=Location(line=82, column=28), value='helheim')], id='565')], id='566')], id='567'), '560': Step(location=Location(line=73, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='560'), '561': Step(location=Location(line=74, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='561'), '562': Step(location=Location(line=76, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='562'), '563': Step(location=Location(line=78, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='563'), '566': Examples(location=Location(line=80, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=81, column=5), cells=[TableCell(location=Location(line=81, column=7), value='context'), TableCell(location=Location(line=81, column=17), value='username'), TableCell(location=Location(line=81, column=28), value='host')], id='564'), table_body=[TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='blue'), TableCell(location=Location(line=82, column=17), value='garmr'), TableCell(location=Location(line=82, column=28), value='helheim')], id='565')], id='566'), '564': TableRow(location=Location(line=81, column=5), cells=[TableCell(location=Location(line=81, column=7), value='context'), TableCell(location=Location(line=81, column=17), value='username'), TableCell(location=Location(line=81, column=28), value='host')], id='564'), '565': TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='blue'), TableCell(location=Location(line=82, column=17), value='garmr'), TableCell(location=Location(line=82, column=28), value='helheim')], id='565')}, pickles=[Pickle(id='590', uri='file:features/5_mindwm_kafka_cdc.feature', name='io context blue', language='en', steps=[PickleStep(argument=None, ast_node_ids=['527'], id='570', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['528'], id='571', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['530', '557'], id='572', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"blue\"'), PickleStep(argument=None, ast_node_ids=['531', '557'], id='573', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')])])), ast_node_ids=['534', '557'], id='574', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-blue\" namespace'), PickleStep(argument=None, ast_node_ids=['535', '557'], id='575', type=<Type.outcome: 'Outcome'>, text='statefulset \"blue-neo4j\" in namespace \"context-blue\" is in ready state'), PickleStep(argument=None, ast_node_ids=['536', '557'], id='576', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"garmr\" and connects it to the context \"blue\"'), PickleStep(argument=None, ast_node_ids=['537', '557'], id='577', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['538', '557'], id='578', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"helheim\" and connects it to the user \"garmr\"'), PickleStep(argument=None, ast_node_ids=['539', '557'], id='579', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['540', '557'], id='580', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content=\"CREATE (n:User {\\n  atime: 0,\\n  traceparent: '00-7df92f3577b34da6a3ce930d0e0e4734-96815d9e32cd6279-01',\\n  type: 'org.mindwm.v1.graph.node.user',\\n  username: '<user>'\\n})\\nRETURN n;\"), data_table=None), ast_node_ids=['541', '557'], id='581', type=<Type.action: 'Action'>, text='God makes graph query in context \"blue\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')])])), ast_node_ids=['544', '557'], id='582', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-blue\" namespace'), PickleStep(argument=None, ast_node_ids=['545', '557'], id='583', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-garmr.helheim-host-broker-kne-trigger._knative\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content=\"MATCH (n:User)\\nSET n.username = 'xxx'\\nRETURN n;\"), data_table=None), ast_node_ids=['546', '557'], id='584', type=<Type.action: 'Action'>, text='God makes graph query in context \"blue\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')])])), ast_node_ids=['549', '557'], id='585', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-blue\" namespace'), PickleStep(argument=None, ast_node_ids=['550', '557'], id='586', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.updated\" should have been received from the NATS topic \"user-garmr.helheim-host-broker-kne-trigger._knative\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='MATCH (n:User)\\nDELETE n;'), data_table=None), ast_node_ids=['551', '557'], id='587', type=<Type.action: 'Action'>, text='God makes graph query in context \"blue\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')])])), ast_node_ids=['554', '557'], id='588', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-blue\" namespace'), PickleStep(argument=None, ast_node_ids=['555', '557'], id='589', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.deleted\" should have been received from the NATS topic \"user-garmr.helheim-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_kafka_cdc', ast_node_id='568'), PickleTag(name='@mindwm_test', ast_node_id='569')], ast_node_ids=['559', '557']), Pickle(id='597', uri='file:features/5_mindwm_kafka_cdc.feature', name='Cleanup garmr@helheim in blue', language='en', steps=[PickleStep(argument=None, ast_node_ids=['527'], id='591', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['528'], id='592', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['560', '565'], id='593', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"helheim\"'), PickleStep(argument=None, ast_node_ids=['561', '565'], id='594', type=<Type.outcome: 'Outcome'>, text='the host \"helheim\" should be deleted'), PickleStep(argument=None, ast_node_ids=['562', '565'], id='595', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"garmr\"'), PickleStep(argument=None, ast_node_ids=['563', '565'], id='596', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"blue\"')], tags=[PickleTag(name='@mindwm_kafka_cdc', ast_node_id='568'), PickleTag(name='@mindwm_test', ast_node_id='569')], ast_node_ids=['567', '565'])])"},{"name":"feature_source","value":"Source(uri='file:features/5_mindwm_kafka_cdc.feature', data='@mindwm_kafka_cdc\\n@mindwm_test\\nFeature: MindWM kafka_cdc function test\\n  Background:\\n    Given A MindWM environment\\n    Then all nodes in Kubernetes are ready\\n\\n  Scenario: io context <context>\\n\\n    When God creates a MindWM context with the name \"<context>\"\\n    Then the context should be ready and operable\\n    Then the following knative services are in a ready state in the \"context-<context>\" namespace\\n      | Knative service name |\\n      | kafka-cdc            |\\n    And statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state\\n\\n    When God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"\\n    Then the user resource should be ready and operable\\n\\n    When God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"\\n    Then the host resource should be ready and operable\\n\\n    # When God makes graph query in context \"<context>\"\\n    #   \"\"\"\\n    #   MATCH (N) DETACH DELETE N;\\n    #   \"\"\"\\n\\n    When God starts reading message from NATS topic \">\"\\n    And God makes graph query in context \"<context>\"\\n      \"\"\"\\n      CREATE (n:User {\\n        atime: 0,\\n        traceparent: \\'00-7df92f3577b34da6a3ce930d0e0e4734-96815d9e32cd6279-01\\',\\n        type: \\'org.mindwm.v1.graph.node.user\\',\\n        username: \\'<user>\\'\\n      })\\n      RETURN n;\\n      \"\"\"\\n\\n    Then the following knative services are in a ready state in the \"context-<context>\" namespace\\n      | Knative service name |\\n      | kafka-cdc            |\\n    And a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"\\n\\n    When God makes graph query in context \"<context>\"\\n      \"\"\"\\n      MATCH (n:User)\\n      SET n.username = \\'xxx\\'\\n      RETURN n;\\n      \"\"\"\\n    Then the following knative services are in a ready state in the \"context-<context>\" namespace\\n      | Knative service name |\\n      | kafka-cdc            |\\n    And a cloudevent with type == \"org.mindwm.v1.graph.updated\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"\\n\\n\\n    When God makes graph query in context \"<context>\"\\n      \"\"\"\\n      MATCH (n:User)\\n      DELETE n;\\n      \"\"\"\\n    Then the following knative services are in a ready state in the \"context-<context>\" namespace\\n      | Knative service name |\\n      | kafka-cdc            |\\n    And a cloudevent with type == \"org.mindwm.v1.graph.deleted\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"\\n\\n    Examples:\\n     | context  | username   | host      | \\n     | blue     | garmr      | helheim   | \\n\\n\\n  Scenario: Cleanup <username>@<host> in <context>\\n    When God deletes the MindWM host resource \"<host>\"\\n    Then the host \"<host>\" should be deleted\\n\\n    When God deletes the MindWM user resource \"<username>\"\\n\\n    When God deletes the MindWM context resource \"<context>\"\\n\\n    Examples:\\n    | context | username | host      | \\n    | blue    | garmr    | helheim   | \\n\\n', media_type='text/x.cucumber.gherkin+plain')"},{"name":"scenario","value":"Pickle(id='590', uri='file:features/5_mindwm_kafka_cdc.feature', name='io context blue', language='en', steps=[PickleStep(argument=None, ast_node_ids=['527'], id='570', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['528'], id='571', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['530', '557'], id='572', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"blue\"'), PickleStep(argument=None, ast_node_ids=['531', '557'], id='573', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')])])), ast_node_ids=['534', '557'], id='574', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-blue\" namespace'), PickleStep(argument=None, ast_node_ids=['535', '557'], id='575', type=<Type.outcome: 'Outcome'>, text='statefulset \"blue-neo4j\" in namespace \"context-blue\" is in ready state'), PickleStep(argument=None, ast_node_ids=['536', '557'], id='576', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"garmr\" and connects it to the context \"blue\"'), PickleStep(argument=None, ast_node_ids=['537', '557'], id='577', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['538', '557'], id='578', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"helheim\" and connects it to the user \"garmr\"'), PickleStep(argument=None, ast_node_ids=['539', '557'], id='579', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['540', '557'], id='580', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content=\"CREATE (n:User {\\n  atime: 0,\\n  traceparent: '00-7df92f3577b34da6a3ce930d0e0e4734-96815d9e32cd6279-01',\\n  type: 'org.mindwm.v1.graph.node.user',\\n  username: '<user>'\\n})\\nRETURN n;\"), data_table=None), ast_node_ids=['541', '557'], id='581', type=<Type.action: 'Action'>, text='God makes graph query in context \"blue\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')])])), ast_node_ids=['544', '557'], id='582', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-blue\" namespace'), PickleStep(argument=None, ast_node_ids=['545', '557'], id='583', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-garmr.helheim-host-broker-kne-trigger._knative\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content=\"MATCH (n:User)\\nSET n.username = 'xxx'\\nRETURN n;\"), data_table=None), ast_node_ids=['546', '557'], id='584', type=<Type.action: 'Action'>, text='God makes graph query in context \"blue\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')])])), ast_node_ids=['549', '557'], id='585', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-blue\" namespace'), PickleStep(argument=None, ast_node_ids=['550', '557'], id='586', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.updated\" should have been received from the NATS topic \"user-garmr.helheim-host-broker-kne-trigger._knative\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='MATCH (n:User)\\nDELETE n;'), data_table=None), ast_node_ids=['551', '557'], id='587', type=<Type.action: 'Action'>, text='God makes graph query in context \"blue\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')])])), ast_node_ids=['554', '557'], id='588', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-blue\" namespace'), PickleStep(argument=None, ast_node_ids=['555', '557'], id='589', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.deleted\" should have been received from the NATS topic \"user-garmr.helheim-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_kafka_cdc', ast_node_id='568'), PickleTag(name='@mindwm_test', ast_node_id='569')], ast_node_ids=['559', '557'])"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"tags":["pytest_bdd_scenario","@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')","mindwm_test","scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/5_mindwm_kafka_cdc.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=None, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())","mindwm_kafka_cdc","namespace(create=False, name='default')"]},"source":"4b93e3713b4549a6.json","parameterValues":["Feature(gherkin_document=GherkinDocument(uri='file:features/5_mindwm_kafka_cdc.feature', feature=Feature(location=Location(line=3, column=1), tags=[Tag(location=Location(line=1, column=1), name='@mindwm_kafka_cdc', id='568'), Tag(location=Location(line=2, column=1), name='@mindwm_test', id='569')], language='en', keyword='Feature', name='MindWM kafka_cdc function test', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='527'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='528')], id='529'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='io context <context>', description='', steps=[Step(location=Location(line=10, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='530'), Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='531'), Step(location=Location(line=12, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=13, column=7), rows=[TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='Knative service name')], id='532'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='kafka-cdc')], id='533')]), id='534'), Step(location=Location(line=15, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='535'), Step(location=Location(line=17, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='536'), Step(location=Location(line=18, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='537'), Step(location=Location(line=20, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='538'), Step(location=Location(line=21, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='539'), Step(location=Location(line=28, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='540'), Step(location=Location(line=29, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God makes graph query in context \"<context>\"', doc_string=DocString(location=Location(line=30, column=7), media_type=None, content=\"CREATE (n:User {\\n  atime: 0,\\n  traceparent: '00-7df92f3577b34da6a3ce930d0e0e4734-96815d9e32cd6279-01',\\n  type: 'org.mindwm.v1.graph.node.user',\\n  username: '<user>'\\n})\\nRETURN n;\", delimiter='\"\"\"'), data_table=None, id='541'), Step(location=Location(line=40, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=41, column=7), rows=[TableRow(location=Location(line=41, column=7), cells=[TableCell(location=Location(line=41, column=9), value='Knative service name')], id='542'), TableRow(location=Location(line=42, column=7), cells=[TableCell(location=Location(line=42, column=9), value='kafka-cdc')], id='543')]), id='544'), Step(location=Location(line=43, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='545'), Step(location=Location(line=45, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God makes graph query in context \"<context>\"', doc_string=DocString(location=Location(line=46, column=7), media_type=None, content=\"MATCH (n:User)\\nSET n.username = 'xxx'\\nRETURN n;\", delimiter='\"\"\"'), data_table=None, id='546'), Step(location=Location(line=51, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=52, column=7), rows=[TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='Knative service name')], id='547'), TableRow(location=Location(line=53, column=7), cells=[TableCell(location=Location(line=53, column=9), value='kafka-cdc')], id='548')]), id='549'), Step(location=Location(line=54, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.updated\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='550'), Step(location=Location(line=57, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God makes graph query in context \"<context>\"', doc_string=DocString(location=Location(line=58, column=7), media_type=None, content='MATCH (n:User)\\nDELETE n;', delimiter='\"\"\"'), data_table=None, id='551'), Step(location=Location(line=62, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=63, column=7), rows=[TableRow(location=Location(line=63, column=7), cells=[TableCell(location=Location(line=63, column=9), value='Knative service name')], id='552'), TableRow(location=Location(line=64, column=7), cells=[TableCell(location=Location(line=64, column=9), value='kafka-cdc')], id='553')]), id='554'), Step(location=Location(line=65, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.deleted\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='555')], examples=[Examples(location=Location(line=67, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=68, column=6), cells=[TableCell(location=Location(line=68, column=8), value='context'), TableCell(location=Location(line=68, column=19), value='username'), TableCell(location=Location(line=68, column=32), value='host')], id='556'), table_body=[TableRow(location=Location(line=69, column=6), cells=[TableCell(location=Location(line=69, column=8), value='blue'), TableCell(location=Location(line=69, column=19), value='garmr'), TableCell(location=Location(line=69, column=32), value='helheim')], id='557')], id='558')], id='559')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=72, column=3), tags=[], keyword='Scenario', name='Cleanup <username>@<host> in <context>', description='', steps=[Step(location=Location(line=73, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='560'), Step(location=Location(line=74, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='561'), Step(location=Location(line=76, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='562'), Step(location=Location(line=78, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='563')], examples=[Examples(location=Location(line=80, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=81, column=5), cells=[TableCell(location=Location(line=81, column=7), value='context'), TableCell(location=Location(line=81, column=17), value='username'), TableCell(location=Location(line=81, column=28), value='host')], id='564'), table_body=[TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='blue'), TableCell(location=Location(line=82, column=17), value='garmr'), TableCell(location=Location(line=82, column=28), value='helheim')], id='565')], id='566')], id='567'))]), comments=[Comment(location=Location(line=23, column=1), text='    # When God makes graph query in context \"<context>\"'), Comment(location=Location(line=24, column=1), text='    #   \"\"\"'), Comment(location=Location(line=25, column=1), text='    #   MATCH (N) DETACH DELETE N;'), Comment(location=Location(line=26, column=1), text='    #   \"\"\"')]), uri='file:features/5_mindwm_kafka_cdc.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/5_mindwm_kafka_cdc.feature', registry={'568': Tag(location=Location(line=1, column=1), name='@mindwm_kafka_cdc', id='568'), '569': Tag(location=Location(line=2, column=1), name='@mindwm_test', id='569'), '529': Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='527'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='528')], id='529'), '527': Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='527'), '528': Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='528'), '559': Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='io context <context>', description='', steps=[Step(location=Location(line=10, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='530'), Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='531'), Step(location=Location(line=12, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=13, column=7), rows=[TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='Knative service name')], id='532'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='kafka-cdc')], id='533')]), id='534'), Step(location=Location(line=15, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='535'), Step(location=Location(line=17, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='536'), Step(location=Location(line=18, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='537'), Step(location=Location(line=20, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='538'), Step(location=Location(line=21, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='539'), Step(location=Location(line=28, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='540'), Step(location=Location(line=29, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God makes graph query in context \"<context>\"', doc_string=DocString(location=Location(line=30, column=7), media_type=None, content=\"CREATE (n:User {\\n  atime: 0,\\n  traceparent: '00-7df92f3577b34da6a3ce930d0e0e4734-96815d9e32cd6279-01',\\n  type: 'org.mindwm.v1.graph.node.user',\\n  username: '<user>'\\n})\\nRETURN n;\", delimiter='\"\"\"'), data_table=None, id='541'), Step(location=Location(line=40, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=41, column=7), rows=[TableRow(location=Location(line=41, column=7), cells=[TableCell(location=Location(line=41, column=9), value='Knative service name')], id='542'), TableRow(location=Location(line=42, column=7), cells=[TableCell(location=Location(line=42, column=9), value='kafka-cdc')], id='543')]), id='544'), Step(location=Location(line=43, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='545'), Step(location=Location(line=45, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God makes graph query in context \"<context>\"', doc_string=DocString(location=Location(line=46, column=7), media_type=None, content=\"MATCH (n:User)\\nSET n.username = 'xxx'\\nRETURN n;\", delimiter='\"\"\"'), data_table=None, id='546'), Step(location=Location(line=51, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=52, column=7), rows=[TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='Knative service name')], id='547'), TableRow(location=Location(line=53, column=7), cells=[TableCell(location=Location(line=53, column=9), value='kafka-cdc')], id='548')]), id='549'), Step(location=Location(line=54, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.updated\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='550'), Step(location=Location(line=57, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God makes graph query in context \"<context>\"', doc_string=DocString(location=Location(line=58, column=7), media_type=None, content='MATCH (n:User)\\nDELETE n;', delimiter='\"\"\"'), data_table=None, id='551'), Step(location=Location(line=62, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=63, column=7), rows=[TableRow(location=Location(line=63, column=7), cells=[TableCell(location=Location(line=63, column=9), value='Knative service name')], id='552'), TableRow(location=Location(line=64, column=7), cells=[TableCell(location=Location(line=64, column=9), value='kafka-cdc')], id='553')]), id='554'), Step(location=Location(line=65, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.deleted\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='555')], examples=[Examples(location=Location(line=67, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=68, column=6), cells=[TableCell(location=Location(line=68, column=8), value='context'), TableCell(location=Location(line=68, column=19), value='username'), TableCell(location=Location(line=68, column=32), value='host')], id='556'), table_body=[TableRow(location=Location(line=69, column=6), cells=[TableCell(location=Location(line=69, column=8), value='blue'), TableCell(location=Location(line=69, column=19), value='garmr'), TableCell(location=Location(line=69, column=32), value='helheim')], id='557')], id='558')], id='559'), '530': Step(location=Location(line=10, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='530'), '531': Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='531'), '534': Step(location=Location(line=12, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=13, column=7), rows=[TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='Knative service name')], id='532'), TableRow(location=Location(line=14, column=7), cells=[TableCell(location=Location(line=14, column=9), value='kafka-cdc')], id='533')]), id='534'), '535': Step(location=Location(line=15, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state', doc_string=None, data_table=None, id='535'), '536': Step(location=Location(line=17, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='536'), '537': Step(location=Location(line=18, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='537'), '538': Step(location=Location(line=20, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='538'), '539': Step(location=Location(line=21, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='539'), '540': Step(location=Location(line=28, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='540'), '541': Step(location=Location(line=29, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='God makes graph query in context \"<context>\"', doc_string=DocString(location=Location(line=30, column=7), media_type=None, content=\"CREATE (n:User {\\n  atime: 0,\\n  traceparent: '00-7df92f3577b34da6a3ce930d0e0e4734-96815d9e32cd6279-01',\\n  type: 'org.mindwm.v1.graph.node.user',\\n  username: '<user>'\\n})\\nRETURN n;\", delimiter='\"\"\"'), data_table=None, id='541'), '544': Step(location=Location(line=40, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=41, column=7), rows=[TableRow(location=Location(line=41, column=7), cells=[TableCell(location=Location(line=41, column=9), value='Knative service name')], id='542'), TableRow(location=Location(line=42, column=7), cells=[TableCell(location=Location(line=42, column=9), value='kafka-cdc')], id='543')]), id='544'), '545': Step(location=Location(line=43, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='545'), '546': Step(location=Location(line=45, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God makes graph query in context \"<context>\"', doc_string=DocString(location=Location(line=46, column=7), media_type=None, content=\"MATCH (n:User)\\nSET n.username = 'xxx'\\nRETURN n;\", delimiter='\"\"\"'), data_table=None, id='546'), '549': Step(location=Location(line=51, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=52, column=7), rows=[TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='Knative service name')], id='547'), TableRow(location=Location(line=53, column=7), cells=[TableCell(location=Location(line=53, column=9), value='kafka-cdc')], id='548')]), id='549'), '550': Step(location=Location(line=54, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.updated\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='550'), '551': Step(location=Location(line=57, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God makes graph query in context \"<context>\"', doc_string=DocString(location=Location(line=58, column=7), media_type=None, content='MATCH (n:User)\\nDELETE n;', delimiter='\"\"\"'), data_table=None, id='551'), '554': Step(location=Location(line=62, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=63, column=7), rows=[TableRow(location=Location(line=63, column=7), cells=[TableCell(location=Location(line=63, column=9), value='Knative service name')], id='552'), TableRow(location=Location(line=64, column=7), cells=[TableCell(location=Location(line=64, column=9), value='kafka-cdc')], id='553')]), id='554'), '555': Step(location=Location(line=65, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.deleted\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='555'), '558': Examples(location=Location(line=67, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=68, column=6), cells=[TableCell(location=Location(line=68, column=8), value='context'), TableCell(location=Location(line=68, column=19), value='username'), TableCell(location=Location(line=68, column=32), value='host')], id='556'), table_body=[TableRow(location=Location(line=69, column=6), cells=[TableCell(location=Location(line=69, column=8), value='blue'), TableCell(location=Location(line=69, column=19), value='garmr'), TableCell(location=Location(line=69, column=32), value='helheim')], id='557')], id='558'), '556': TableRow(location=Location(line=68, column=6), cells=[TableCell(location=Location(line=68, column=8), value='context'), TableCell(location=Location(line=68, column=19), value='username'), TableCell(location=Location(line=68, column=32), value='host')], id='556'), '557': TableRow(location=Location(line=69, column=6), cells=[TableCell(location=Location(line=69, column=8), value='blue'), TableCell(location=Location(line=69, column=19), value='garmr'), TableCell(location=Location(line=69, column=32), value='helheim')], id='557'), '567': Scenario(location=Location(line=72, column=3), tags=[], keyword='Scenario', name='Cleanup <username>@<host> in <context>', description='', steps=[Step(location=Location(line=73, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='560'), Step(location=Location(line=74, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='561'), Step(location=Location(line=76, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='562'), Step(location=Location(line=78, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='563')], examples=[Examples(location=Location(line=80, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=81, column=5), cells=[TableCell(location=Location(line=81, column=7), value='context'), TableCell(location=Location(line=81, column=17), value='username'), TableCell(location=Location(line=81, column=28), value='host')], id='564'), table_body=[TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='blue'), TableCell(location=Location(line=82, column=17), value='garmr'), TableCell(location=Location(line=82, column=28), value='helheim')], id='565')], id='566')], id='567'), '560': Step(location=Location(line=73, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='560'), '561': Step(location=Location(line=74, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='561'), '562': Step(location=Location(line=76, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='562'), '563': Step(location=Location(line=78, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='563'), '566': Examples(location=Location(line=80, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=81, column=5), cells=[TableCell(location=Location(line=81, column=7), value='context'), TableCell(location=Location(line=81, column=17), value='username'), TableCell(location=Location(line=81, column=28), value='host')], id='564'), table_body=[TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='blue'), TableCell(location=Location(line=82, column=17), value='garmr'), TableCell(location=Location(line=82, column=28), value='helheim')], id='565')], id='566'), '564': TableRow(location=Location(line=81, column=5), cells=[TableCell(location=Location(line=81, column=7), value='context'), TableCell(location=Location(line=81, column=17), value='username'), TableCell(location=Location(line=81, column=28), value='host')], id='564'), '565': TableRow(location=Location(line=82, column=5), cells=[TableCell(location=Location(line=82, column=7), value='blue'), TableCell(location=Location(line=82, column=17), value='garmr'), TableCell(location=Location(line=82, column=28), value='helheim')], id='565')}, pickles=[Pickle(id='590', uri='file:features/5_mindwm_kafka_cdc.feature', name='io context blue', language='en', steps=[PickleStep(argument=None, ast_node_ids=['527'], id='570', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['528'], id='571', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['530', '557'], id='572', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"blue\"'), PickleStep(argument=None, ast_node_ids=['531', '557'], id='573', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')])])), ast_node_ids=['534', '557'], id='574', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-blue\" namespace'), PickleStep(argument=None, ast_node_ids=['535', '557'], id='575', type=<Type.outcome: 'Outcome'>, text='statefulset \"blue-neo4j\" in namespace \"context-blue\" is in ready state'), PickleStep(argument=None, ast_node_ids=['536', '557'], id='576', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"garmr\" and connects it to the context \"blue\"'), PickleStep(argument=None, ast_node_ids=['537', '557'], id='577', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['538', '557'], id='578', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"helheim\" and connects it to the user \"garmr\"'), PickleStep(argument=None, ast_node_ids=['539', '557'], id='579', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['540', '557'], id='580', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content=\"CREATE (n:User {\\n  atime: 0,\\n  traceparent: '00-7df92f3577b34da6a3ce930d0e0e4734-96815d9e32cd6279-01',\\n  type: 'org.mindwm.v1.graph.node.user',\\n  username: '<user>'\\n})\\nRETURN n;\"), data_table=None), ast_node_ids=['541', '557'], id='581', type=<Type.action: 'Action'>, text='God makes graph query in context \"blue\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')])])), ast_node_ids=['544', '557'], id='582', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-blue\" namespace'), PickleStep(argument=None, ast_node_ids=['545', '557'], id='583', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-garmr.helheim-host-broker-kne-trigger._knative\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content=\"MATCH (n:User)\\nSET n.username = 'xxx'\\nRETURN n;\"), data_table=None), ast_node_ids=['546', '557'], id='584', type=<Type.action: 'Action'>, text='God makes graph query in context \"blue\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')])])), ast_node_ids=['549', '557'], id='585', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-blue\" namespace'), PickleStep(argument=None, ast_node_ids=['550', '557'], id='586', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.updated\" should have been received from the NATS topic \"user-garmr.helheim-host-broker-kne-trigger._knative\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='MATCH (n:User)\\nDELETE n;'), data_table=None), ast_node_ids=['551', '557'], id='587', type=<Type.action: 'Action'>, text='God makes graph query in context \"blue\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')])])), ast_node_ids=['554', '557'], id='588', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-blue\" namespace'), PickleStep(argument=None, ast_node_ids=['555', '557'], id='589', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.deleted\" should have been received from the NATS topic \"user-garmr.helheim-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_kafka_cdc', ast_node_id='568'), PickleTag(name='@mindwm_test', ast_node_id='569')], ast_node_ids=['559', '557']), Pickle(id='597', uri='file:features/5_mindwm_kafka_cdc.feature', name='Cleanup garmr@helheim in blue', language='en', steps=[PickleStep(argument=None, ast_node_ids=['527'], id='591', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['528'], id='592', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['560', '565'], id='593', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"helheim\"'), PickleStep(argument=None, ast_node_ids=['561', '565'], id='594', type=<Type.outcome: 'Outcome'>, text='the host \"helheim\" should be deleted'), PickleStep(argument=None, ast_node_ids=['562', '565'], id='595', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"garmr\"'), PickleStep(argument=None, ast_node_ids=['563', '565'], id='596', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"blue\"')], tags=[PickleTag(name='@mindwm_kafka_cdc', ast_node_id='568'), PickleTag(name='@mindwm_test', ast_node_id='569')], ast_node_ids=['567', '565'])])","Source(uri='file:features/5_mindwm_kafka_cdc.feature', data='@mindwm_kafka_cdc\\n@mindwm_test\\nFeature: MindWM kafka_cdc function test\\n  Background:\\n    Given A MindWM environment\\n    Then all nodes in Kubernetes are ready\\n\\n  Scenario: io context <context>\\n\\n    When God creates a MindWM context with the name \"<context>\"\\n    Then the context should be ready and operable\\n    Then the following knative services are in a ready state in the \"context-<context>\" namespace\\n      | Knative service name |\\n      | kafka-cdc            |\\n    And statefulset \"<context>-neo4j\" in namespace \"context-<context>\" is in ready state\\n\\n    When God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"\\n    Then the user resource should be ready and operable\\n\\n    When God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"\\n    Then the host resource should be ready and operable\\n\\n    # When God makes graph query in context \"<context>\"\\n    #   \"\"\"\\n    #   MATCH (N) DETACH DELETE N;\\n    #   \"\"\"\\n\\n    When God starts reading message from NATS topic \">\"\\n    And God makes graph query in context \"<context>\"\\n      \"\"\"\\n      CREATE (n:User {\\n        atime: 0,\\n        traceparent: \\'00-7df92f3577b34da6a3ce930d0e0e4734-96815d9e32cd6279-01\\',\\n        type: \\'org.mindwm.v1.graph.node.user\\',\\n        username: \\'<user>\\'\\n      })\\n      RETURN n;\\n      \"\"\"\\n\\n    Then the following knative services are in a ready state in the \"context-<context>\" namespace\\n      | Knative service name |\\n      | kafka-cdc            |\\n    And a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"\\n\\n    When God makes graph query in context \"<context>\"\\n      \"\"\"\\n      MATCH (n:User)\\n      SET n.username = \\'xxx\\'\\n      RETURN n;\\n      \"\"\"\\n    Then the following knative services are in a ready state in the \"context-<context>\" namespace\\n      | Knative service name |\\n      | kafka-cdc            |\\n    And a cloudevent with type == \"org.mindwm.v1.graph.updated\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"\\n\\n\\n    When God makes graph query in context \"<context>\"\\n      \"\"\"\\n      MATCH (n:User)\\n      DELETE n;\\n      \"\"\"\\n    Then the following knative services are in a ready state in the \"context-<context>\" namespace\\n      | Knative service name |\\n      | kafka-cdc            |\\n    And a cloudevent with type == \"org.mindwm.v1.graph.deleted\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"\\n\\n    Examples:\\n     | context  | username   | host      | \\n     | blue     | garmr      | helheim   | \\n\\n\\n  Scenario: Cleanup <username>@<host> in <context>\\n    When God deletes the MindWM host resource \"<host>\"\\n    Then the host \"<host>\" should be deleted\\n\\n    When God deletes the MindWM user resource \"<username>\"\\n\\n    When God deletes the MindWM context resource \"<context>\"\\n\\n    Examples:\\n    | context | username | host      | \\n    | blue    | garmr    | helheim   | \\n\\n', media_type='text/x.cucumber.gherkin+plain')","Pickle(id='590', uri='file:features/5_mindwm_kafka_cdc.feature', name='io context blue', language='en', steps=[PickleStep(argument=None, ast_node_ids=['527'], id='570', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['528'], id='571', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['530', '557'], id='572', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"blue\"'), PickleStep(argument=None, ast_node_ids=['531', '557'], id='573', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')])])), ast_node_ids=['534', '557'], id='574', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-blue\" namespace'), PickleStep(argument=None, ast_node_ids=['535', '557'], id='575', type=<Type.outcome: 'Outcome'>, text='statefulset \"blue-neo4j\" in namespace \"context-blue\" is in ready state'), PickleStep(argument=None, ast_node_ids=['536', '557'], id='576', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"garmr\" and connects it to the context \"blue\"'), PickleStep(argument=None, ast_node_ids=['537', '557'], id='577', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['538', '557'], id='578', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"helheim\" and connects it to the user \"garmr\"'), PickleStep(argument=None, ast_node_ids=['539', '557'], id='579', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['540', '557'], id='580', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content=\"CREATE (n:User {\\n  atime: 0,\\n  traceparent: '00-7df92f3577b34da6a3ce930d0e0e4734-96815d9e32cd6279-01',\\n  type: 'org.mindwm.v1.graph.node.user',\\n  username: '<user>'\\n})\\nRETURN n;\"), data_table=None), ast_node_ids=['541', '557'], id='581', type=<Type.action: 'Action'>, text='God makes graph query in context \"blue\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')])])), ast_node_ids=['544', '557'], id='582', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-blue\" namespace'), PickleStep(argument=None, ast_node_ids=['545', '557'], id='583', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-garmr.helheim-host-broker-kne-trigger._knative\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content=\"MATCH (n:User)\\nSET n.username = 'xxx'\\nRETURN n;\"), data_table=None), ast_node_ids=['546', '557'], id='584', type=<Type.action: 'Action'>, text='God makes graph query in context \"blue\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')])])), ast_node_ids=['549', '557'], id='585', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-blue\" namespace'), PickleStep(argument=None, ast_node_ids=['550', '557'], id='586', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.updated\" should have been received from the NATS topic \"user-garmr.helheim-host-broker-kne-trigger._knative\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='MATCH (n:User)\\nDELETE n;'), data_table=None), ast_node_ids=['551', '557'], id='587', type=<Type.action: 'Action'>, text='God makes graph query in context \"blue\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')])])), ast_node_ids=['554', '557'], id='588', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-blue\" namespace'), PickleStep(argument=None, ast_node_ids=['555', '557'], id='589', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.deleted\" should have been received from the NATS topic \"user-garmr.helheim-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_kafka_cdc', ast_node_id='568'), PickleTag(name='@mindwm_test', ast_node_id='569')], ast_node_ids=['559', '557'])"]}