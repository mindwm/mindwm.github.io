{"uid":"55f9f60844079c1f","name":"test_scenarios[file:features/9_mindwm_clipboard.feature-MindWM clipboard EDA test-Prepare environment for ping tests[table_rows:[line: 26]]]","fullName":"features.9_mindwm_clipboard#test_scenarios","historyId":"7441f16ccce93e5245e8357d624007fe","time":{"start":1728386055405,"stop":1728386085355,"duration":29950},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"pytestconfig","time":{"start":1728383904812,"stop":1728383904812,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"step_registry","time":{"start":1728386055406,"stop":1728386055406,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"step_registry","time":{"start":1728386055406,"stop":1728386055406,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"steps_left","time":{"start":1728386055406,"stop":1728386055406,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"step_matcher","time":{"start":1728386055406,"stop":1728386055406,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"parameter_type_registry","time":{"start":1728386055406,"stop":1728386055407,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"kube","time":{"start":1728386055409,"stop":1728386055414,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"kubeconfig","time":{"start":1728386055409,"stop":1728386055409,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"kubecontext","time":{"start":1728386055409,"stop":1728386055409,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"ctx","time":{"start":1728386055478,"stop":1728386055478,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"testStage":{"status":"passed","steps":[{"name":"Mindwm crd 'xcontexts' is exist","time":{"start":1728386055428,"stop":1728386055429,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Mindwm crd 'xhosts' is exist","time":{"start":1728386055434,"stop":1728386055434,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Mindwm crd 'xusers' is exist","time":{"start":1728386055440,"stop":1728386055440,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Kubernetes node 'localhost' are True","time":{"start":1728386055468,"stop":1728386055468,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Create context 'philadelphia'","time":{"start":1728386055485,"stop":1728386055485,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Knative service 'context-philadelphia'/'clipboard' ready state is Unknown","time":{"start":1728386061756,"stop":1728386061756,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Create user 'flukeman' with context philadelphia","time":{"start":1728386062006,"stop":1728386062006,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Host 'the-host' has created","time":{"start":1728386074077,"stop":1728386074077,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Nats stream '{'apiVersion': 'messaging.knative.dev/v1alpha1', 'kind': 'NatsJetStreamChannel', 'metadata': {'annotations': {'eventing.knative.dev/scope': 'cluster', 'messaging.knative.dev/creator': 'system:serviceaccount:knative-eventing:eventing-controller', 'messaging.knative.dev/lastModifier': 'system:serviceaccount:knative-eventing:eventing-controller', 'messaging.knative.dev/subscribable': 'v1'}, 'creationTimestamp': '2024-10-08T11:14:34Z', 'finalizers': ['natsjetstreamchannels.messaging.knative.dev'], 'generation': 2, 'labels': {'eventing.knative.dev/broker': 'the-host-host-broker', 'eventing.knative.dev/brokerEverything': 'true'}, 'managedFields': [{'apiVersion': 'messaging.knative.dev/v1alpha1', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:eventing.knative.dev/scope': {}}, 'f:labels': {'.': {}, 'f:eventing.knative.dev/broker': {}, 'f:eventing.knative.dev/brokerEverything': {}}, 'f:ownerReferences': {'.': {}, 'k:{\"uid\":\"1d95392b-b3bd-4f9b-ac50-7c22253c92a9\"}': {}}}, 'f:spec': {'.': {}, 'f:delivery': {'.': {}, 'f:backoffDelay': {}, 'f:backoffPolicy': {}, 'f:retry': {}}, 'f:stream': {'.': {}, 'f:config': {'.': {}, 'f:additionalSubjects': {}}}}}, 'manager': 'mtchannel_broker', 'operation': 'Update', 'time': '2024-10-08T11:14:34Z'}, {'apiVersion': 'messaging.knative.dev/v1alpha1', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:finalizers': {'.': {}, 'v:\"natsjetstreamchannels.messaging.knative.dev\"': {}}}, 'f:spec': {'f:subscribers': {}}}, 'manager': 'controller', 'operation': 'Update', 'time': '2024-10-08T11:14:37Z'}, {'apiVersion': 'messaging.knative.dev/v1alpha1', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:status': {'.': {}, 'f:address': {'.': {}, 'f:url': {}}, 'f:observedGeneration': {}}}, 'manager': 'controller', 'operation': 'Update', 'subresource': 'status', 'time': '2024-10-08T11:14:37Z'}, {'apiVersion': 'messaging.knative.dev/v1alpha1', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:status': {'f:conditions': {}, 'f:subscribers': {}}}, 'manager': 'dispatcher', 'operation': 'Update', 'subresource': 'status', 'time': '2024-10-08T11:14:37Z'}], 'name': 'the-host-host-broker-kne-trigger', 'namespace': 'user-flukeman', 'ownerReferences': [{'apiVersion': 'eventing.knative.dev/v1', 'blockOwnerDeletion': True, 'controller': True, 'kind': 'Broker', 'name': 'the-host-host-broker', 'uid': '1d95392b-b3bd-4f9b-ac50-7c22253c92a9'}], 'resourceVersion': '67434', 'uid': '9406f4f8-364c-46b4-8961-fa09939f768f'}, 'spec': {'delivery': {'backoffDelay': 'PT0.2S', 'backoffPolicy': 'exponential', 'retry': 10}, 'stream': {'config': {'additionalSubjects': ['org.mindwm.flukeman.the-host.>'], 'duplicateWindow': '0s', 'maxAge': '0s'}}, 'subscribers': [{'delivery': {'deadLetterSink': {'uri': 'http://dead-letter.user-flukeman.svc.cluster.local'}}, 'generation': 1, 'name': 'the-host-host-broker-the-host-t66b448977ad60acb457cca56b909ee13', 'replyUri': 'http://broker-ingress.knative-eventing.svc.cluster.local/user-flukeman/the-host-host-broker', 'subscriberUri': 'http://broker-filter.knative-eventing.svc.cluster.local/triggers/user-flukeman/the-host-trigger-to-user-broker-trigger/7b7d428c-670b-4198-959f-5fab71cc4ccd', 'uid': '7446b1a8-c70f-41fd-bc5d-936a39ddb4a6'}]}, 'status': {'address': {'url': 'http://the-host-host-broker-kne-trigger-kn-jsm-channel.user-flukeman.svc.cluster.local'}, 'conditions': [{'lastTransitionTime': '2024-10-08T11:14:37Z', 'status': 'True', 'type': 'Addressable'}, {'lastTransitionTime': '2024-10-08T11:14:37Z', 'status': 'True', 'type': 'ChannelServiceReady'}, {'lastTransitionTime': '2024-10-08T11:14:37Z', 'status': 'True', 'type': 'DispatcherReady'}, {'lastTransitionTime': '2024-10-08T11:14:37Z', 'status': 'True', 'type': 'EndpointsReady'}, {'lastTransitionTime': '2024-10-08T11:14:37Z', 'status': 'True', 'type': 'Ready'}, {'lastTransitionTime': '2024-10-08T11:14:34Z', 'status': 'True', 'type': 'ServiceReady'}, {'lastTransitionTime': '2024-10-08T11:14:37Z', 'status': 'True', 'type': 'StreamReady'}], 'observedGeneration': 2, 'subscribers': [{'observedGeneration': 1, 'ready': 'True', 'uid': '7446b1a8-c70f-41fd-bc5d-936a39ddb4a6'}]}}' ready state is True","time":{"start":1728386085320,"stop":1728386085320,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Start nats reader from the topic >","time":{"start":1728386085354,"stop":1728386085354,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":10,"attachmentsCount":0,"hasContent":true},"afterStages":[],"labels":[{"name":"tag","value":"scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/9_mindwm_clipboard.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=<FeaturePathType.PATH: 'path'>, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())"},{"name":"tag","value":"@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')"},{"name":"tag","value":"pytest_bdd_scenario"},{"name":"tag","value":"mindwm_clipboard"},{"name":"tag","value":"mindwm_test"},{"name":"tag","value":"namespace(create=False, name='default')"},{"name":"parentSuite","value":"features"},{"name":"suite","value":"9_mindwm_clipboard"},{"name":"host","value":"localhost"},{"name":"thread","value":"4271-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"features.9_mindwm_clipboard"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"feature","value":"Feature(gherkin_document=GherkinDocument(uri='file:features/9_mindwm_clipboard.feature', feature=Feature(location=Location(line=3, column=1), tags=[Tag(location=Location(line=1, column=1), name='@mindwm_clipboard', id='1034'), Tag(location=Location(line=2, column=1), name='@mindwm_test', id='1035')], language='en', keyword='Feature', name='MindWM clipboard EDA test', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='957'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='958')], id='959'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Prepare environment for ping tests', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='960'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='961'), Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='962'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='clipboard')], id='963')]), id='964'), Step(location=Location(line=15, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='965'), Step(location=Location(line=16, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='966'), Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='967'), Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='968'), Step(location=Location(line=20, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace', doc_string=None, data_table=None, id='969'), Step(location=Location(line=22, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='970')], examples=[Examples(location=Location(line=24, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=25, column=6), cells=[TableCell(location=Location(line=25, column=8), value='context'), TableCell(location=Location(line=25, column=18), value='username'), TableCell(location=Location(line=25, column=31), value='host')], id='971'), table_body=[TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='philadelphia'), TableCell(location=Location(line=26, column=25), value='flukeman'), TableCell(location=Location(line=26, column=38), value='the-host')], id='972')], id='973')], id='974')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=28, column=3), tags=[], keyword='Scenario', name='Send clipboard to knative ping service', description='', steps=[Step(location=Location(line=29, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='975'), Step(location=Location(line=30, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='976'), Step(location=Location(line=31, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='977'), Step(location=Location(line=32, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='978'), Step(location=Location(line=33, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='979'), Step(location=Location(line=34, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to knative service \"clipboard\" in \"context-<context>\" namespace', doc_string=DocString(location=Location(line=35, column=7), media_type=None, content='{\\n  \"uuid\": \"3ca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325473,\\n  \"data\": \"clipboard primary data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='980'), Step(location=Location(line=42, column=7), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"200\"', doc_string=None, data_table=None, id='981'), Step(location=Location(line=44, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=45, column=7), rows=[TableRow(location=Location(line=45, column=7), cells=[TableCell(location=Location(line=45, column=9), value='Deployment name')], id='982'), TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='clipboard-00001-deployment')], id='983')]), id='984')], examples=[Examples(location=Location(line=48, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=49, column=6), cells=[TableCell(location=Location(line=49, column=8), value='context'), TableCell(location=Location(line=49, column=18), value='username'), TableCell(location=Location(line=49, column=31), value='host'), TableCell(location=Location(line=49, column=43), value='traceparent')], id='985'), table_body=[TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='philadelphia'), TableCell(location=Location(line=50, column=25), value='flukeman'), TableCell(location=Location(line=50, column=38), value='the-host'), TableCell(location=Location(line=50, column=50), value='00-6ef92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='986')], id='987')], id='988')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=52, column=3), tags=[], keyword='Scenario', name='Send ping via <endpoint>', description='', steps=[Step(location=Location(line=53, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='989'), Step(location=Location(line=54, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='990'), Step(location=Location(line=55, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='991'), Step(location=Location(line=56, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='992'), Step(location=Location(line=57, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='993'), Step(location=Location(line=58, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to \"<endpoint>\"', doc_string=DocString(location=Location(line=59, column=7), media_type=None, content='{\\n  \"uuid\": \"4bca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard secondary data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='994'), Step(location=Location(line=66, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"202\"', doc_string=None, data_table=None, id='995'), Step(location=Location(line=68, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=69, column=7), rows=[TableRow(location=Location(line=69, column=7), cells=[TableCell(location=Location(line=69, column=9), value='Deployment name')], id='996'), TableRow(location=Location(line=70, column=7), cells=[TableCell(location=Location(line=70, column=9), value='clipboard-00001-deployment')], id='997')]), id='998'), Step(location=Location(line=71, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the trace with \"<traceparent>\" should appear in TraceQL', doc_string=None, data_table=None, id='999'), Step(location=Location(line=72, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the trace should contains', doc_string=None, data_table=DataTable(location=Location(line=73, column=7), rows=[TableRow(location=Location(line=73, column=7), cells=[TableCell(location=Location(line=73, column=9), value='service name')], id='1000'), TableRow(location=Location(line=74, column=7), cells=[TableCell(location=Location(line=74, column=9), value='broker-ingress.knative-eventing')], id='1001'), TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='unknown_service')], id='1002'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='jetstream-ch-dispatcher')], id='1003')]), id='1004'), Step(location=Location(line=77, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='1005')], examples=[Examples(location=Location(line=79, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=80, column=6), cells=[TableCell(location=Location(line=80, column=8), value='context'), TableCell(location=Location(line=80, column=18), value='username'), TableCell(location=Location(line=80, column=31), value='host'), TableCell(location=Location(line=80, column=43), value='endpoint'), TableCell(location=Location(line=80, column=54), value='traceparent')], id='1006'), table_body=[TableRow(location=Location(line=81, column=6), cells=[TableCell(location=Location(line=81, column=8), value='philadelphia'), TableCell(location=Location(line=81, column=25), value='flukeman'), TableCell(location=Location(line=81, column=38), value='the-host'), TableCell(location=Location(line=81, column=50), value='broker-ingress.knative-eventing/context-philadelphia/context-broker'), TableCell(location=Location(line=81, column=122), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='1007'), TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='philadelphia'), TableCell(location=Location(line=82, column=25), value='flukeman'), TableCell(location=Location(line=82, column=38), value='the-host'), TableCell(location=Location(line=82, column=50), value='broker-ingress.knative-eventing/user-flukeman/user-broker'), TableCell(location=Location(line=82, column=110), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1008')], id='1009')], id='1010')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=85, column=3), tags=[], keyword='Scenario', name='Send ping via nats', description='', steps=[Step(location=Location(line=86, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='1011'), Step(location=Location(line=87, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-id\" to \"<uuid>\"', doc_string=None, data_table=None, id='1012'), Step(location=Location(line=88, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='1013'), Step(location=Location(line=89, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='1014'), Step(location=Location(line=90, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='1015'), Step(location=Location(line=91, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='1016'), Step(location=Location(line=92, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.clipboard\"', doc_string=DocString(location=Location(line=93, column=7), media_type=None, content='{\\n  \"uuid\": \"4bca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard #3 data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='1017'), Step(location=Location(line=101, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=102, column=7), rows=[TableRow(location=Location(line=102, column=7), cells=[TableCell(location=Location(line=102, column=9), value='Deployment name')], id='1018'), TableRow(location=Location(line=103, column=7), cells=[TableCell(location=Location(line=103, column=9), value='clipboard-00001-deployment')], id='1019')]), id='1020'), Step(location=Location(line=105, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='1021')], examples=[Examples(location=Location(line=108, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=109, column=6), cells=[TableCell(location=Location(line=109, column=8), value='context'), TableCell(location=Location(line=109, column=18), value='username'), TableCell(location=Location(line=109, column=31), value='host'), TableCell(location=Location(line=109, column=43), value='uuid'), TableCell(location=Location(line=109, column=83), value='traceparent')], id='1022'), table_body=[TableRow(location=Location(line=110, column=6), cells=[TableCell(location=Location(line=110, column=8), value='philadelphia'), TableCell(location=Location(line=110, column=25), value='flukeman'), TableCell(location=Location(line=110, column=38), value='the-host'), TableCell(location=Location(line=110, column=50), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=110, column=89), value='00-8af92f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1023')], id='1024')], id='1025')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=113, column=4), tags=[], keyword='Scenario', name='Cleanup <username>@<host> in <context>', description='', steps=[Step(location=Location(line=114, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='1026'), Step(location=Location(line=115, column=6), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='1027'), Step(location=Location(line=117, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='1028'), Step(location=Location(line=119, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='1029')], examples=[Examples(location=Location(line=121, column=6), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=122, column=6), cells=[TableCell(location=Location(line=122, column=8), value='context'), TableCell(location=Location(line=122, column=18), value='username'), TableCell(location=Location(line=122, column=29), value='host')], id='1030'), table_body=[TableRow(location=Location(line=123, column=6), cells=[TableCell(location=Location(line=123, column=8), value='philadelphia'), TableCell(location=Location(line=123, column=25), value='flukeman'), TableCell(location=Location(line=123, column=38), value='the-host')], id='1031')], id='1032')], id='1033'))]), comments=[]), uri='file:features/9_mindwm_clipboard.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/9_mindwm_clipboard.feature', registry={'1034': Tag(location=Location(line=1, column=1), name='@mindwm_clipboard', id='1034'), '1035': Tag(location=Location(line=2, column=1), name='@mindwm_test', id='1035'), '959': Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='957'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='958')], id='959'), '957': Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='957'), '958': Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='958'), '974': Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Prepare environment for ping tests', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='960'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='961'), Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='962'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='clipboard')], id='963')]), id='964'), Step(location=Location(line=15, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='965'), Step(location=Location(line=16, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='966'), Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='967'), Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='968'), Step(location=Location(line=20, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace', doc_string=None, data_table=None, id='969'), Step(location=Location(line=22, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='970')], examples=[Examples(location=Location(line=24, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=25, column=6), cells=[TableCell(location=Location(line=25, column=8), value='context'), TableCell(location=Location(line=25, column=18), value='username'), TableCell(location=Location(line=25, column=31), value='host')], id='971'), table_body=[TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='philadelphia'), TableCell(location=Location(line=26, column=25), value='flukeman'), TableCell(location=Location(line=26, column=38), value='the-host')], id='972')], id='973')], id='974'), '960': Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='960'), '961': Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='961'), '964': Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='962'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='clipboard')], id='963')]), id='964'), '965': Step(location=Location(line=15, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='965'), '966': Step(location=Location(line=16, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='966'), '967': Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='967'), '968': Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='968'), '969': Step(location=Location(line=20, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace', doc_string=None, data_table=None, id='969'), '970': Step(location=Location(line=22, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='970'), '973': Examples(location=Location(line=24, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=25, column=6), cells=[TableCell(location=Location(line=25, column=8), value='context'), TableCell(location=Location(line=25, column=18), value='username'), TableCell(location=Location(line=25, column=31), value='host')], id='971'), table_body=[TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='philadelphia'), TableCell(location=Location(line=26, column=25), value='flukeman'), TableCell(location=Location(line=26, column=38), value='the-host')], id='972')], id='973'), '971': TableRow(location=Location(line=25, column=6), cells=[TableCell(location=Location(line=25, column=8), value='context'), TableCell(location=Location(line=25, column=18), value='username'), TableCell(location=Location(line=25, column=31), value='host')], id='971'), '972': TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='philadelphia'), TableCell(location=Location(line=26, column=25), value='flukeman'), TableCell(location=Location(line=26, column=38), value='the-host')], id='972'), '988': Scenario(location=Location(line=28, column=3), tags=[], keyword='Scenario', name='Send clipboard to knative ping service', description='', steps=[Step(location=Location(line=29, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='975'), Step(location=Location(line=30, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='976'), Step(location=Location(line=31, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='977'), Step(location=Location(line=32, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='978'), Step(location=Location(line=33, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='979'), Step(location=Location(line=34, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to knative service \"clipboard\" in \"context-<context>\" namespace', doc_string=DocString(location=Location(line=35, column=7), media_type=None, content='{\\n  \"uuid\": \"3ca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325473,\\n  \"data\": \"clipboard primary data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='980'), Step(location=Location(line=42, column=7), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"200\"', doc_string=None, data_table=None, id='981'), Step(location=Location(line=44, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=45, column=7), rows=[TableRow(location=Location(line=45, column=7), cells=[TableCell(location=Location(line=45, column=9), value='Deployment name')], id='982'), TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='clipboard-00001-deployment')], id='983')]), id='984')], examples=[Examples(location=Location(line=48, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=49, column=6), cells=[TableCell(location=Location(line=49, column=8), value='context'), TableCell(location=Location(line=49, column=18), value='username'), TableCell(location=Location(line=49, column=31), value='host'), TableCell(location=Location(line=49, column=43), value='traceparent')], id='985'), table_body=[TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='philadelphia'), TableCell(location=Location(line=50, column=25), value='flukeman'), TableCell(location=Location(line=50, column=38), value='the-host'), TableCell(location=Location(line=50, column=50), value='00-6ef92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='986')], id='987')], id='988'), '975': Step(location=Location(line=29, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='975'), '976': Step(location=Location(line=30, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='976'), '977': Step(location=Location(line=31, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='977'), '978': Step(location=Location(line=32, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='978'), '979': Step(location=Location(line=33, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='979'), '980': Step(location=Location(line=34, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to knative service \"clipboard\" in \"context-<context>\" namespace', doc_string=DocString(location=Location(line=35, column=7), media_type=None, content='{\\n  \"uuid\": \"3ca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325473,\\n  \"data\": \"clipboard primary data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='980'), '981': Step(location=Location(line=42, column=7), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"200\"', doc_string=None, data_table=None, id='981'), '984': Step(location=Location(line=44, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=45, column=7), rows=[TableRow(location=Location(line=45, column=7), cells=[TableCell(location=Location(line=45, column=9), value='Deployment name')], id='982'), TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='clipboard-00001-deployment')], id='983')]), id='984'), '987': Examples(location=Location(line=48, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=49, column=6), cells=[TableCell(location=Location(line=49, column=8), value='context'), TableCell(location=Location(line=49, column=18), value='username'), TableCell(location=Location(line=49, column=31), value='host'), TableCell(location=Location(line=49, column=43), value='traceparent')], id='985'), table_body=[TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='philadelphia'), TableCell(location=Location(line=50, column=25), value='flukeman'), TableCell(location=Location(line=50, column=38), value='the-host'), TableCell(location=Location(line=50, column=50), value='00-6ef92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='986')], id='987'), '985': TableRow(location=Location(line=49, column=6), cells=[TableCell(location=Location(line=49, column=8), value='context'), TableCell(location=Location(line=49, column=18), value='username'), TableCell(location=Location(line=49, column=31), value='host'), TableCell(location=Location(line=49, column=43), value='traceparent')], id='985'), '986': TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='philadelphia'), TableCell(location=Location(line=50, column=25), value='flukeman'), TableCell(location=Location(line=50, column=38), value='the-host'), TableCell(location=Location(line=50, column=50), value='00-6ef92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='986'), '1010': Scenario(location=Location(line=52, column=3), tags=[], keyword='Scenario', name='Send ping via <endpoint>', description='', steps=[Step(location=Location(line=53, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='989'), Step(location=Location(line=54, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='990'), Step(location=Location(line=55, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='991'), Step(location=Location(line=56, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='992'), Step(location=Location(line=57, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='993'), Step(location=Location(line=58, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to \"<endpoint>\"', doc_string=DocString(location=Location(line=59, column=7), media_type=None, content='{\\n  \"uuid\": \"4bca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard secondary data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='994'), Step(location=Location(line=66, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"202\"', doc_string=None, data_table=None, id='995'), Step(location=Location(line=68, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=69, column=7), rows=[TableRow(location=Location(line=69, column=7), cells=[TableCell(location=Location(line=69, column=9), value='Deployment name')], id='996'), TableRow(location=Location(line=70, column=7), cells=[TableCell(location=Location(line=70, column=9), value='clipboard-00001-deployment')], id='997')]), id='998'), Step(location=Location(line=71, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the trace with \"<traceparent>\" should appear in TraceQL', doc_string=None, data_table=None, id='999'), Step(location=Location(line=72, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the trace should contains', doc_string=None, data_table=DataTable(location=Location(line=73, column=7), rows=[TableRow(location=Location(line=73, column=7), cells=[TableCell(location=Location(line=73, column=9), value='service name')], id='1000'), TableRow(location=Location(line=74, column=7), cells=[TableCell(location=Location(line=74, column=9), value='broker-ingress.knative-eventing')], id='1001'), TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='unknown_service')], id='1002'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='jetstream-ch-dispatcher')], id='1003')]), id='1004'), Step(location=Location(line=77, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='1005')], examples=[Examples(location=Location(line=79, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=80, column=6), cells=[TableCell(location=Location(line=80, column=8), value='context'), TableCell(location=Location(line=80, column=18), value='username'), TableCell(location=Location(line=80, column=31), value='host'), TableCell(location=Location(line=80, column=43), value='endpoint'), TableCell(location=Location(line=80, column=54), value='traceparent')], id='1006'), table_body=[TableRow(location=Location(line=81, column=6), cells=[TableCell(location=Location(line=81, column=8), value='philadelphia'), TableCell(location=Location(line=81, column=25), value='flukeman'), TableCell(location=Location(line=81, column=38), value='the-host'), TableCell(location=Location(line=81, column=50), value='broker-ingress.knative-eventing/context-philadelphia/context-broker'), TableCell(location=Location(line=81, column=122), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='1007'), TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='philadelphia'), TableCell(location=Location(line=82, column=25), value='flukeman'), TableCell(location=Location(line=82, column=38), value='the-host'), TableCell(location=Location(line=82, column=50), value='broker-ingress.knative-eventing/user-flukeman/user-broker'), TableCell(location=Location(line=82, column=110), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1008')], id='1009')], id='1010'), '989': Step(location=Location(line=53, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='989'), '990': Step(location=Location(line=54, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='990'), '991': Step(location=Location(line=55, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='991'), '992': Step(location=Location(line=56, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='992'), '993': Step(location=Location(line=57, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='993'), '994': Step(location=Location(line=58, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to \"<endpoint>\"', doc_string=DocString(location=Location(line=59, column=7), media_type=None, content='{\\n  \"uuid\": \"4bca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard secondary data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='994'), '995': Step(location=Location(line=66, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"202\"', doc_string=None, data_table=None, id='995'), '998': Step(location=Location(line=68, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=69, column=7), rows=[TableRow(location=Location(line=69, column=7), cells=[TableCell(location=Location(line=69, column=9), value='Deployment name')], id='996'), TableRow(location=Location(line=70, column=7), cells=[TableCell(location=Location(line=70, column=9), value='clipboard-00001-deployment')], id='997')]), id='998'), '999': Step(location=Location(line=71, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the trace with \"<traceparent>\" should appear in TraceQL', doc_string=None, data_table=None, id='999'), '1004': Step(location=Location(line=72, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the trace should contains', doc_string=None, data_table=DataTable(location=Location(line=73, column=7), rows=[TableRow(location=Location(line=73, column=7), cells=[TableCell(location=Location(line=73, column=9), value='service name')], id='1000'), TableRow(location=Location(line=74, column=7), cells=[TableCell(location=Location(line=74, column=9), value='broker-ingress.knative-eventing')], id='1001'), TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='unknown_service')], id='1002'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='jetstream-ch-dispatcher')], id='1003')]), id='1004'), '1005': Step(location=Location(line=77, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='1005'), '1009': Examples(location=Location(line=79, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=80, column=6), cells=[TableCell(location=Location(line=80, column=8), value='context'), TableCell(location=Location(line=80, column=18), value='username'), TableCell(location=Location(line=80, column=31), value='host'), TableCell(location=Location(line=80, column=43), value='endpoint'), TableCell(location=Location(line=80, column=54), value='traceparent')], id='1006'), table_body=[TableRow(location=Location(line=81, column=6), cells=[TableCell(location=Location(line=81, column=8), value='philadelphia'), TableCell(location=Location(line=81, column=25), value='flukeman'), TableCell(location=Location(line=81, column=38), value='the-host'), TableCell(location=Location(line=81, column=50), value='broker-ingress.knative-eventing/context-philadelphia/context-broker'), TableCell(location=Location(line=81, column=122), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='1007'), TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='philadelphia'), TableCell(location=Location(line=82, column=25), value='flukeman'), TableCell(location=Location(line=82, column=38), value='the-host'), TableCell(location=Location(line=82, column=50), value='broker-ingress.knative-eventing/user-flukeman/user-broker'), TableCell(location=Location(line=82, column=110), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1008')], id='1009'), '1006': TableRow(location=Location(line=80, column=6), cells=[TableCell(location=Location(line=80, column=8), value='context'), TableCell(location=Location(line=80, column=18), value='username'), TableCell(location=Location(line=80, column=31), value='host'), TableCell(location=Location(line=80, column=43), value='endpoint'), TableCell(location=Location(line=80, column=54), value='traceparent')], id='1006'), '1007': TableRow(location=Location(line=81, column=6), cells=[TableCell(location=Location(line=81, column=8), value='philadelphia'), TableCell(location=Location(line=81, column=25), value='flukeman'), TableCell(location=Location(line=81, column=38), value='the-host'), TableCell(location=Location(line=81, column=50), value='broker-ingress.knative-eventing/context-philadelphia/context-broker'), TableCell(location=Location(line=81, column=122), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='1007'), '1008': TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='philadelphia'), TableCell(location=Location(line=82, column=25), value='flukeman'), TableCell(location=Location(line=82, column=38), value='the-host'), TableCell(location=Location(line=82, column=50), value='broker-ingress.knative-eventing/user-flukeman/user-broker'), TableCell(location=Location(line=82, column=110), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1008'), '1025': Scenario(location=Location(line=85, column=3), tags=[], keyword='Scenario', name='Send ping via nats', description='', steps=[Step(location=Location(line=86, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='1011'), Step(location=Location(line=87, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-id\" to \"<uuid>\"', doc_string=None, data_table=None, id='1012'), Step(location=Location(line=88, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='1013'), Step(location=Location(line=89, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='1014'), Step(location=Location(line=90, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='1015'), Step(location=Location(line=91, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='1016'), Step(location=Location(line=92, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.clipboard\"', doc_string=DocString(location=Location(line=93, column=7), media_type=None, content='{\\n  \"uuid\": \"4bca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard #3 data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='1017'), Step(location=Location(line=101, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=102, column=7), rows=[TableRow(location=Location(line=102, column=7), cells=[TableCell(location=Location(line=102, column=9), value='Deployment name')], id='1018'), TableRow(location=Location(line=103, column=7), cells=[TableCell(location=Location(line=103, column=9), value='clipboard-00001-deployment')], id='1019')]), id='1020'), Step(location=Location(line=105, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='1021')], examples=[Examples(location=Location(line=108, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=109, column=6), cells=[TableCell(location=Location(line=109, column=8), value='context'), TableCell(location=Location(line=109, column=18), value='username'), TableCell(location=Location(line=109, column=31), value='host'), TableCell(location=Location(line=109, column=43), value='uuid'), TableCell(location=Location(line=109, column=83), value='traceparent')], id='1022'), table_body=[TableRow(location=Location(line=110, column=6), cells=[TableCell(location=Location(line=110, column=8), value='philadelphia'), TableCell(location=Location(line=110, column=25), value='flukeman'), TableCell(location=Location(line=110, column=38), value='the-host'), TableCell(location=Location(line=110, column=50), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=110, column=89), value='00-8af92f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1023')], id='1024')], id='1025'), '1011': Step(location=Location(line=86, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='1011'), '1012': Step(location=Location(line=87, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-id\" to \"<uuid>\"', doc_string=None, data_table=None, id='1012'), '1013': Step(location=Location(line=88, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='1013'), '1014': Step(location=Location(line=89, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='1014'), '1015': Step(location=Location(line=90, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='1015'), '1016': Step(location=Location(line=91, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='1016'), '1017': Step(location=Location(line=92, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.clipboard\"', doc_string=DocString(location=Location(line=93, column=7), media_type=None, content='{\\n  \"uuid\": \"4bca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard #3 data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='1017'), '1020': Step(location=Location(line=101, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=102, column=7), rows=[TableRow(location=Location(line=102, column=7), cells=[TableCell(location=Location(line=102, column=9), value='Deployment name')], id='1018'), TableRow(location=Location(line=103, column=7), cells=[TableCell(location=Location(line=103, column=9), value='clipboard-00001-deployment')], id='1019')]), id='1020'), '1021': Step(location=Location(line=105, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='1021'), '1024': Examples(location=Location(line=108, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=109, column=6), cells=[TableCell(location=Location(line=109, column=8), value='context'), TableCell(location=Location(line=109, column=18), value='username'), TableCell(location=Location(line=109, column=31), value='host'), TableCell(location=Location(line=109, column=43), value='uuid'), TableCell(location=Location(line=109, column=83), value='traceparent')], id='1022'), table_body=[TableRow(location=Location(line=110, column=6), cells=[TableCell(location=Location(line=110, column=8), value='philadelphia'), TableCell(location=Location(line=110, column=25), value='flukeman'), TableCell(location=Location(line=110, column=38), value='the-host'), TableCell(location=Location(line=110, column=50), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=110, column=89), value='00-8af92f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1023')], id='1024'), '1022': TableRow(location=Location(line=109, column=6), cells=[TableCell(location=Location(line=109, column=8), value='context'), TableCell(location=Location(line=109, column=18), value='username'), TableCell(location=Location(line=109, column=31), value='host'), TableCell(location=Location(line=109, column=43), value='uuid'), TableCell(location=Location(line=109, column=83), value='traceparent')], id='1022'), '1023': TableRow(location=Location(line=110, column=6), cells=[TableCell(location=Location(line=110, column=8), value='philadelphia'), TableCell(location=Location(line=110, column=25), value='flukeman'), TableCell(location=Location(line=110, column=38), value='the-host'), TableCell(location=Location(line=110, column=50), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=110, column=89), value='00-8af92f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1023'), '1033': Scenario(location=Location(line=113, column=4), tags=[], keyword='Scenario', name='Cleanup <username>@<host> in <context>', description='', steps=[Step(location=Location(line=114, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='1026'), Step(location=Location(line=115, column=6), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='1027'), Step(location=Location(line=117, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='1028'), Step(location=Location(line=119, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='1029')], examples=[Examples(location=Location(line=121, column=6), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=122, column=6), cells=[TableCell(location=Location(line=122, column=8), value='context'), TableCell(location=Location(line=122, column=18), value='username'), TableCell(location=Location(line=122, column=29), value='host')], id='1030'), table_body=[TableRow(location=Location(line=123, column=6), cells=[TableCell(location=Location(line=123, column=8), value='philadelphia'), TableCell(location=Location(line=123, column=25), value='flukeman'), TableCell(location=Location(line=123, column=38), value='the-host')], id='1031')], id='1032')], id='1033'), '1026': Step(location=Location(line=114, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='1026'), '1027': Step(location=Location(line=115, column=6), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='1027'), '1028': Step(location=Location(line=117, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='1028'), '1029': Step(location=Location(line=119, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='1029'), '1032': Examples(location=Location(line=121, column=6), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=122, column=6), cells=[TableCell(location=Location(line=122, column=8), value='context'), TableCell(location=Location(line=122, column=18), value='username'), TableCell(location=Location(line=122, column=29), value='host')], id='1030'), table_body=[TableRow(location=Location(line=123, column=6), cells=[TableCell(location=Location(line=123, column=8), value='philadelphia'), TableCell(location=Location(line=123, column=25), value='flukeman'), TableCell(location=Location(line=123, column=38), value='the-host')], id='1031')], id='1032'), '1030': TableRow(location=Location(line=122, column=6), cells=[TableCell(location=Location(line=122, column=8), value='context'), TableCell(location=Location(line=122, column=18), value='username'), TableCell(location=Location(line=122, column=29), value='host')], id='1030'), '1031': TableRow(location=Location(line=123, column=6), cells=[TableCell(location=Location(line=123, column=8), value='philadelphia'), TableCell(location=Location(line=123, column=25), value='flukeman'), TableCell(location=Location(line=123, column=38), value='the-host')], id='1031')}, pickles=[Pickle(id='1047', uri='file:features/9_mindwm_clipboard.feature', name='Prepare environment for ping tests', language='en', steps=[PickleStep(argument=None, ast_node_ids=['957'], id='1036', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['958'], id='1037', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['960', '972'], id='1038', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"philadelphia\"'), PickleStep(argument=None, ast_node_ids=['961', '972'], id='1039', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='clipboard')])])), ast_node_ids=['964', '972'], id='1040', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-philadelphia\" namespace'), PickleStep(argument=None, ast_node_ids=['965', '972'], id='1041', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"flukeman\" and connects it to the context \"philadelphia\"'), PickleStep(argument=None, ast_node_ids=['966', '972'], id='1042', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['967', '972'], id='1043', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"the-host\" and connects it to the user \"flukeman\"'), PickleStep(argument=None, ast_node_ids=['968', '972'], id='1044', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['969', '972'], id='1045', type=<Type.outcome: 'Outcome'>, text='NatsJetStreamChannel \"the-host-host-broker-kne-trigger\" is ready in \"user-flukeman\" namespace'), PickleStep(argument=None, ast_node_ids=['970', '972'], id='1046', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"')], tags=[PickleTag(name='@mindwm_clipboard', ast_node_id='1034'), PickleTag(name='@mindwm_test', ast_node_id='1035')], ast_node_ids=['974', '972']), Pickle(id='1058', uri='file:features/9_mindwm_clipboard.feature', name='Send clipboard to knative ping service', language='en', steps=[PickleStep(argument=None, ast_node_ids=['957'], id='1048', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['958'], id='1049', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['975', '986'], id='1050', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['976', '986'], id='1051', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"'), PickleStep(argument=None, ast_node_ids=['977', '986'], id='1052', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"'), PickleStep(argument=None, ast_node_ids=['978', '986'], id='1053', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.flukeman.the-host.clipboard\"'), PickleStep(argument=None, ast_node_ids=['979', '986'], id='1054', type=<Type.action: 'Action'>, text='sets cloudevent header \"traceparent\" to \"00-6ef92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"uuid\": \"3ca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325473,\\n  \"data\": \"clipboard primary data\"\\n} '), data_table=None), ast_node_ids=['980', '986'], id='1055', type=<Type.action: 'Action'>, text='sends cloudevent to knative service \"clipboard\" in \"context-philadelphia\" namespace'), PickleStep(argument=None, ast_node_ids=['981', '986'], id='1056', type=<Type.outcome: 'Outcome'>, text='the response http code should be \"200\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='clipboard-00001-deployment')])])), ast_node_ids=['984', '986'], id='1057', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-philadelphia\" namespace')], tags=[PickleTag(name='@mindwm_clipboard', ast_node_id='1034'), PickleTag(name='@mindwm_test', ast_node_id='1035')], ast_node_ids=['988', '986']), Pickle(id='1072', uri='file:features/9_mindwm_clipboard.feature', name='Send ping via broker-ingress.knative-eventing/context-philadelphia/context-broker', language='en', steps=[PickleStep(argument=None, ast_node_ids=['957'], id='1059', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['958'], id='1060', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['989', '1007'], id='1061', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['990', '1007'], id='1062', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"'), PickleStep(argument=None, ast_node_ids=['991', '1007'], id='1063', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"'), PickleStep(argument=None, ast_node_ids=['992', '1007'], id='1064', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.flukeman.the-host.clipboard\"'), PickleStep(argument=None, ast_node_ids=['993', '1007'], id='1065', type=<Type.action: 'Action'>, text='sets cloudevent header \"traceparent\" to \"00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"uuid\": \"4bca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard secondary data\"\\n} '), data_table=None), ast_node_ids=['994', '1007'], id='1066', type=<Type.action: 'Action'>, text='sends cloudevent to \"broker-ingress.knative-eventing/context-philadelphia/context-broker\"'), PickleStep(argument=None, ast_node_ids=['995', '1007'], id='1067', type=<Type.outcome: 'Outcome'>, text='the response http code should be \"202\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='clipboard-00001-deployment')])])), ast_node_ids=['998', '1007'], id='1068', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-philadelphia\" namespace'), PickleStep(argument=None, ast_node_ids=['999', '1007'], id='1069', type=<Type.outcome: 'Outcome'>, text='the trace with \"00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00\" should appear in TraceQL'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='service name')]), PickleTableRow(cells=[PickleTableCell(value='broker-ingress.knative-eventing')]), PickleTableRow(cells=[PickleTableCell(value='unknown_service')]), PickleTableRow(cells=[PickleTableCell(value='jetstream-ch-dispatcher')])])), ast_node_ids=['1004', '1007'], id='1070', type=<Type.outcome: 'Outcome'>, text='the trace should contains'), PickleStep(argument=None, ast_node_ids=['1005', '1007'], id='1071', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-flukeman.the-host-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_clipboard', ast_node_id='1034'), PickleTag(name='@mindwm_test', ast_node_id='1035')], ast_node_ids=['1010', '1007']), Pickle(id='1086', uri='file:features/9_mindwm_clipboard.feature', name='Send ping via broker-ingress.knative-eventing/user-flukeman/user-broker', language='en', steps=[PickleStep(argument=None, ast_node_ids=['957'], id='1073', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['958'], id='1074', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['989', '1008'], id='1075', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['990', '1008'], id='1076', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"'), PickleStep(argument=None, ast_node_ids=['991', '1008'], id='1077', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"'), PickleStep(argument=None, ast_node_ids=['992', '1008'], id='1078', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.flukeman.the-host.clipboard\"'), PickleStep(argument=None, ast_node_ids=['993', '1008'], id='1079', type=<Type.action: 'Action'>, text='sets cloudevent header \"traceparent\" to \"00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"uuid\": \"4bca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard secondary data\"\\n} '), data_table=None), ast_node_ids=['994', '1008'], id='1080', type=<Type.action: 'Action'>, text='sends cloudevent to \"broker-ingress.knative-eventing/user-flukeman/user-broker\"'), PickleStep(argument=None, ast_node_ids=['995', '1008'], id='1081', type=<Type.outcome: 'Outcome'>, text='the response http code should be \"202\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='clipboard-00001-deployment')])])), ast_node_ids=['998', '1008'], id='1082', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-philadelphia\" namespace'), PickleStep(argument=None, ast_node_ids=['999', '1008'], id='1083', type=<Type.outcome: 'Outcome'>, text='the trace with \"00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00\" should appear in TraceQL'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='service name')]), PickleTableRow(cells=[PickleTableCell(value='broker-ingress.knative-eventing')]), PickleTableRow(cells=[PickleTableCell(value='unknown_service')]), PickleTableRow(cells=[PickleTableCell(value='jetstream-ch-dispatcher')])])), ast_node_ids=['1004', '1008'], id='1084', type=<Type.outcome: 'Outcome'>, text='the trace should contains'), PickleStep(argument=None, ast_node_ids=['1005', '1008'], id='1085', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-flukeman.the-host-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_clipboard', ast_node_id='1034'), PickleTag(name='@mindwm_test', ast_node_id='1035')], ast_node_ids=['1010', '1008']), Pickle(id='1098', uri='file:features/9_mindwm_clipboard.feature', name='Send ping via nats', language='en', steps=[PickleStep(argument=None, ast_node_ids=['957'], id='1087', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['958'], id='1088', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['1011', '1023'], id='1089', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['1012', '1023'], id='1090', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-id\" to \"09fb195c-c419-6d62-15e0-51b6ee990922\"'), PickleStep(argument=None, ast_node_ids=['1013', '1023'], id='1091', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"'), PickleStep(argument=None, ast_node_ids=['1014', '1023'], id='1092', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"'), PickleStep(argument=None, ast_node_ids=['1015', '1023'], id='1093', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.flukeman.the-host.clipboard\"'), PickleStep(argument=None, ast_node_ids=['1016', '1023'], id='1094', type=<Type.action: 'Action'>, text='sets cloudevent header \"traceparent\" to \"00-8af92f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"uuid\": \"4bca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard #3 data\"\\n} '), data_table=None), ast_node_ids=['1017', '1023'], id='1095', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.flukeman.the-host.clipboard\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='clipboard-00001-deployment')])])), ast_node_ids=['1020', '1023'], id='1096', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-philadelphia\" namespace'), PickleStep(argument=None, ast_node_ids=['1021', '1023'], id='1097', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-flukeman.the-host-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_clipboard', ast_node_id='1034'), PickleTag(name='@mindwm_test', ast_node_id='1035')], ast_node_ids=['1025', '1023']), Pickle(id='1105', uri='file:features/9_mindwm_clipboard.feature', name='Cleanup flukeman@the-host in philadelphia', language='en', steps=[PickleStep(argument=None, ast_node_ids=['957'], id='1099', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['958'], id='1100', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['1026', '1031'], id='1101', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"the-host\"'), PickleStep(argument=None, ast_node_ids=['1027', '1031'], id='1102', type=<Type.outcome: 'Outcome'>, text='the host \"the-host\" should be deleted'), PickleStep(argument=None, ast_node_ids=['1028', '1031'], id='1103', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"flukeman\"'), PickleStep(argument=None, ast_node_ids=['1029', '1031'], id='1104', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"philadelphia\"')], tags=[PickleTag(name='@mindwm_clipboard', ast_node_id='1034'), PickleTag(name='@mindwm_test', ast_node_id='1035')], ast_node_ids=['1033', '1031'])])"},{"name":"feature_source","value":"Source(uri='file:features/9_mindwm_clipboard.feature', data='@mindwm_clipboard\\n@mindwm_test\\nFeature: MindWM clipboard EDA test\\n  Background:\\n    Given A MindWM environment\\n    Then all nodes in Kubernetes are ready\\n\\n  Scenario: Prepare environment for ping tests \\n    When God creates a MindWM context with the name \"<context>\"\\n    Then the context should be ready and operable\\n    And the following knative services are in a ready state in the \"context-<context>\" namespace\\n      | Knative service name |\\n      | clipboard            |\\n\\n    When God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"\\n    Then the user resource should be ready and operable\\n\\n    When God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"\\n    Then the host resource should be ready and operable\\n    And NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace\\n\\n    When God starts reading message from NATS topic \">\"\\n\\n    Examples:\\n     | context | username   | host      |\\n     | philadelphia   | flukeman   | the-host  | \\n\\n  Scenario: Send clipboard to knative ping service\\n    When God creates a new cloudevent \\n      And sets cloudevent header \"ce-subject\" to \"clipboard\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"\\n      And sets cloudevent header \"traceparent\" to \"<traceparent>\"\\n      And sends cloudevent to knative service \"clipboard\" in \"context-<context>\" namespace\\n      \"\"\"\\n      {\\n        \"uuid\": \"3ca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n        \"time\": 1728325473,\\n        \"data\": \"clipboard primary data\"\\n      } \\n      \"\"\"\\n      Then the response http code should be \"200\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name       |\\n      | clipboard-00001-deployment |\\n\\n    Examples:\\n     | context | username   | host      | traceparent                                             |\\n     | philadelphia   | flukeman   | the-host  | 00-6ef92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00 |\\n\\n  Scenario: Send ping via <endpoint>\\n    When God creates a new cloudevent \\n      And sets cloudevent header \"ce-subject\" to \"clipboard\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"\\n      And sets cloudevent header \"traceparent\" to \"<traceparent>\"\\n      And sends cloudevent to \"<endpoint>\"\\n      \"\"\"\\n      {\\n        \"uuid\": \"4bca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n        \"time\": 1728325474,\\n        \"data\": \"clipboard secondary data\"\\n      } \\n      \"\"\"\\n    Then the response http code should be \"202\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name            |\\n      | clipboard-00001-deployment |\\n    Then the trace with \"<traceparent>\" should appear in TraceQL\\n    And the trace should contains \\n      | service name                    | \\n      | broker-ingress.knative-eventing | \\n      | unknown_service                 | \\n      | jetstream-ch-dispatcher         |\\n    And a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"\\n\\n    Examples:\\n     | context | username   | host      | endpoint | traceparent \\t\\t\\t\\t\\t         |\\n     | philadelphia   | flukeman   | the-host  | broker-ingress.knative-eventing/context-philadelphia/context-broker   | 00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00 |\\n     | philadelphia   | flukeman   | the-host  | broker-ingress.knative-eventing/user-flukeman/user-broker | 00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00 |\\n\\n\\n  Scenario: Send ping via nats\\n    When God creates a new cloudevent \\n      And sets cloudevent header \"ce-id\" to \"<uuid>\"\\n      And sets cloudevent header \"ce-subject\" to \"clipboard\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"\\n      And sets cloudevent header \"traceparent\" to \"<traceparent>\"\\n      And sends cloudevent to nats topic \"org.mindwm.<username>.<host>.clipboard\"\\n      \"\"\"\\n      {\\n        \"uuid\": \"4bca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n        \"time\": 1728325474,\\n        \"data\": \"clipboard #3 data\"\\n      } \\n      \"\"\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name       |\\n      | clipboard-00001-deployment |\\n\\n    And a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"\\n\\n\\n    Examples:\\n     | context | username   | host      | uuid                                  | traceparent |\\n     | philadelphia   | flukeman   | the-host  | 09fb195c-c419-6d62-15e0-51b6ee990922 | 00-8af92f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00 |\\n\\n\\n   Scenario: Cleanup <username>@<host> in <context>\\n     When God deletes the MindWM host resource \"<host>\"\\n     Then the host \"<host>\" should be deleted\\n\\n     When God deletes the MindWM user resource \"<username>\"\\n\\n     When God deletes the MindWM context resource \"<context>\"\\n\\n     Examples:\\n     | context | username | host        | \\n     | philadelphia   | flukeman   | the-host         |\\n\\n', media_type='text/x.cucumber.gherkin+plain')"},{"name":"scenario","value":"Pickle(id='1047', uri='file:features/9_mindwm_clipboard.feature', name='Prepare environment for ping tests', language='en', steps=[PickleStep(argument=None, ast_node_ids=['957'], id='1036', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['958'], id='1037', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['960', '972'], id='1038', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"philadelphia\"'), PickleStep(argument=None, ast_node_ids=['961', '972'], id='1039', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='clipboard')])])), ast_node_ids=['964', '972'], id='1040', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-philadelphia\" namespace'), PickleStep(argument=None, ast_node_ids=['965', '972'], id='1041', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"flukeman\" and connects it to the context \"philadelphia\"'), PickleStep(argument=None, ast_node_ids=['966', '972'], id='1042', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['967', '972'], id='1043', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"the-host\" and connects it to the user \"flukeman\"'), PickleStep(argument=None, ast_node_ids=['968', '972'], id='1044', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['969', '972'], id='1045', type=<Type.outcome: 'Outcome'>, text='NatsJetStreamChannel \"the-host-host-broker-kne-trigger\" is ready in \"user-flukeman\" namespace'), PickleStep(argument=None, ast_node_ids=['970', '972'], id='1046', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"')], tags=[PickleTag(name='@mindwm_clipboard', ast_node_id='1034'), PickleTag(name='@mindwm_test', ast_node_id='1035')], ast_node_ids=['974', '972'])"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"tags":["scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/9_mindwm_clipboard.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=<FeaturePathType.PATH: 'path'>, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())","pytest_bdd_scenario","@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')","mindwm_clipboard","mindwm_test","namespace(create=False, name='default')"]},"source":"55f9f60844079c1f.json","parameterValues":["Feature(gherkin_document=GherkinDocument(uri='file:features/9_mindwm_clipboard.feature', feature=Feature(location=Location(line=3, column=1), tags=[Tag(location=Location(line=1, column=1), name='@mindwm_clipboard', id='1034'), Tag(location=Location(line=2, column=1), name='@mindwm_test', id='1035')], language='en', keyword='Feature', name='MindWM clipboard EDA test', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='957'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='958')], id='959'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Prepare environment for ping tests', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='960'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='961'), Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='962'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='clipboard')], id='963')]), id='964'), Step(location=Location(line=15, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='965'), Step(location=Location(line=16, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='966'), Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='967'), Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='968'), Step(location=Location(line=20, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace', doc_string=None, data_table=None, id='969'), Step(location=Location(line=22, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='970')], examples=[Examples(location=Location(line=24, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=25, column=6), cells=[TableCell(location=Location(line=25, column=8), value='context'), TableCell(location=Location(line=25, column=18), value='username'), TableCell(location=Location(line=25, column=31), value='host')], id='971'), table_body=[TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='philadelphia'), TableCell(location=Location(line=26, column=25), value='flukeman'), TableCell(location=Location(line=26, column=38), value='the-host')], id='972')], id='973')], id='974')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=28, column=3), tags=[], keyword='Scenario', name='Send clipboard to knative ping service', description='', steps=[Step(location=Location(line=29, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='975'), Step(location=Location(line=30, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='976'), Step(location=Location(line=31, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='977'), Step(location=Location(line=32, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='978'), Step(location=Location(line=33, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='979'), Step(location=Location(line=34, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to knative service \"clipboard\" in \"context-<context>\" namespace', doc_string=DocString(location=Location(line=35, column=7), media_type=None, content='{\\n  \"uuid\": \"3ca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325473,\\n  \"data\": \"clipboard primary data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='980'), Step(location=Location(line=42, column=7), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"200\"', doc_string=None, data_table=None, id='981'), Step(location=Location(line=44, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=45, column=7), rows=[TableRow(location=Location(line=45, column=7), cells=[TableCell(location=Location(line=45, column=9), value='Deployment name')], id='982'), TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='clipboard-00001-deployment')], id='983')]), id='984')], examples=[Examples(location=Location(line=48, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=49, column=6), cells=[TableCell(location=Location(line=49, column=8), value='context'), TableCell(location=Location(line=49, column=18), value='username'), TableCell(location=Location(line=49, column=31), value='host'), TableCell(location=Location(line=49, column=43), value='traceparent')], id='985'), table_body=[TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='philadelphia'), TableCell(location=Location(line=50, column=25), value='flukeman'), TableCell(location=Location(line=50, column=38), value='the-host'), TableCell(location=Location(line=50, column=50), value='00-6ef92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='986')], id='987')], id='988')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=52, column=3), tags=[], keyword='Scenario', name='Send ping via <endpoint>', description='', steps=[Step(location=Location(line=53, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='989'), Step(location=Location(line=54, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='990'), Step(location=Location(line=55, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='991'), Step(location=Location(line=56, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='992'), Step(location=Location(line=57, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='993'), Step(location=Location(line=58, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to \"<endpoint>\"', doc_string=DocString(location=Location(line=59, column=7), media_type=None, content='{\\n  \"uuid\": \"4bca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard secondary data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='994'), Step(location=Location(line=66, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"202\"', doc_string=None, data_table=None, id='995'), Step(location=Location(line=68, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=69, column=7), rows=[TableRow(location=Location(line=69, column=7), cells=[TableCell(location=Location(line=69, column=9), value='Deployment name')], id='996'), TableRow(location=Location(line=70, column=7), cells=[TableCell(location=Location(line=70, column=9), value='clipboard-00001-deployment')], id='997')]), id='998'), Step(location=Location(line=71, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the trace with \"<traceparent>\" should appear in TraceQL', doc_string=None, data_table=None, id='999'), Step(location=Location(line=72, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the trace should contains', doc_string=None, data_table=DataTable(location=Location(line=73, column=7), rows=[TableRow(location=Location(line=73, column=7), cells=[TableCell(location=Location(line=73, column=9), value='service name')], id='1000'), TableRow(location=Location(line=74, column=7), cells=[TableCell(location=Location(line=74, column=9), value='broker-ingress.knative-eventing')], id='1001'), TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='unknown_service')], id='1002'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='jetstream-ch-dispatcher')], id='1003')]), id='1004'), Step(location=Location(line=77, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='1005')], examples=[Examples(location=Location(line=79, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=80, column=6), cells=[TableCell(location=Location(line=80, column=8), value='context'), TableCell(location=Location(line=80, column=18), value='username'), TableCell(location=Location(line=80, column=31), value='host'), TableCell(location=Location(line=80, column=43), value='endpoint'), TableCell(location=Location(line=80, column=54), value='traceparent')], id='1006'), table_body=[TableRow(location=Location(line=81, column=6), cells=[TableCell(location=Location(line=81, column=8), value='philadelphia'), TableCell(location=Location(line=81, column=25), value='flukeman'), TableCell(location=Location(line=81, column=38), value='the-host'), TableCell(location=Location(line=81, column=50), value='broker-ingress.knative-eventing/context-philadelphia/context-broker'), TableCell(location=Location(line=81, column=122), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='1007'), TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='philadelphia'), TableCell(location=Location(line=82, column=25), value='flukeman'), TableCell(location=Location(line=82, column=38), value='the-host'), TableCell(location=Location(line=82, column=50), value='broker-ingress.knative-eventing/user-flukeman/user-broker'), TableCell(location=Location(line=82, column=110), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1008')], id='1009')], id='1010')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=85, column=3), tags=[], keyword='Scenario', name='Send ping via nats', description='', steps=[Step(location=Location(line=86, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='1011'), Step(location=Location(line=87, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-id\" to \"<uuid>\"', doc_string=None, data_table=None, id='1012'), Step(location=Location(line=88, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='1013'), Step(location=Location(line=89, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='1014'), Step(location=Location(line=90, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='1015'), Step(location=Location(line=91, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='1016'), Step(location=Location(line=92, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.clipboard\"', doc_string=DocString(location=Location(line=93, column=7), media_type=None, content='{\\n  \"uuid\": \"4bca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard #3 data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='1017'), Step(location=Location(line=101, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=102, column=7), rows=[TableRow(location=Location(line=102, column=7), cells=[TableCell(location=Location(line=102, column=9), value='Deployment name')], id='1018'), TableRow(location=Location(line=103, column=7), cells=[TableCell(location=Location(line=103, column=9), value='clipboard-00001-deployment')], id='1019')]), id='1020'), Step(location=Location(line=105, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='1021')], examples=[Examples(location=Location(line=108, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=109, column=6), cells=[TableCell(location=Location(line=109, column=8), value='context'), TableCell(location=Location(line=109, column=18), value='username'), TableCell(location=Location(line=109, column=31), value='host'), TableCell(location=Location(line=109, column=43), value='uuid'), TableCell(location=Location(line=109, column=83), value='traceparent')], id='1022'), table_body=[TableRow(location=Location(line=110, column=6), cells=[TableCell(location=Location(line=110, column=8), value='philadelphia'), TableCell(location=Location(line=110, column=25), value='flukeman'), TableCell(location=Location(line=110, column=38), value='the-host'), TableCell(location=Location(line=110, column=50), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=110, column=89), value='00-8af92f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1023')], id='1024')], id='1025')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=113, column=4), tags=[], keyword='Scenario', name='Cleanup <username>@<host> in <context>', description='', steps=[Step(location=Location(line=114, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='1026'), Step(location=Location(line=115, column=6), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='1027'), Step(location=Location(line=117, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='1028'), Step(location=Location(line=119, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='1029')], examples=[Examples(location=Location(line=121, column=6), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=122, column=6), cells=[TableCell(location=Location(line=122, column=8), value='context'), TableCell(location=Location(line=122, column=18), value='username'), TableCell(location=Location(line=122, column=29), value='host')], id='1030'), table_body=[TableRow(location=Location(line=123, column=6), cells=[TableCell(location=Location(line=123, column=8), value='philadelphia'), TableCell(location=Location(line=123, column=25), value='flukeman'), TableCell(location=Location(line=123, column=38), value='the-host')], id='1031')], id='1032')], id='1033'))]), comments=[]), uri='file:features/9_mindwm_clipboard.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/9_mindwm_clipboard.feature', registry={'1034': Tag(location=Location(line=1, column=1), name='@mindwm_clipboard', id='1034'), '1035': Tag(location=Location(line=2, column=1), name='@mindwm_test', id='1035'), '959': Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='957'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='958')], id='959'), '957': Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='957'), '958': Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='958'), '974': Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Prepare environment for ping tests', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='960'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='961'), Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='962'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='clipboard')], id='963')]), id='964'), Step(location=Location(line=15, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='965'), Step(location=Location(line=16, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='966'), Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='967'), Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='968'), Step(location=Location(line=20, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace', doc_string=None, data_table=None, id='969'), Step(location=Location(line=22, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='970')], examples=[Examples(location=Location(line=24, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=25, column=6), cells=[TableCell(location=Location(line=25, column=8), value='context'), TableCell(location=Location(line=25, column=18), value='username'), TableCell(location=Location(line=25, column=31), value='host')], id='971'), table_body=[TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='philadelphia'), TableCell(location=Location(line=26, column=25), value='flukeman'), TableCell(location=Location(line=26, column=38), value='the-host')], id='972')], id='973')], id='974'), '960': Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='960'), '961': Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='961'), '964': Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the following knative services are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='962'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='clipboard')], id='963')]), id='964'), '965': Step(location=Location(line=15, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='965'), '966': Step(location=Location(line=16, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='966'), '967': Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='967'), '968': Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='968'), '969': Step(location=Location(line=20, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace', doc_string=None, data_table=None, id='969'), '970': Step(location=Location(line=22, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \">\"', doc_string=None, data_table=None, id='970'), '973': Examples(location=Location(line=24, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=25, column=6), cells=[TableCell(location=Location(line=25, column=8), value='context'), TableCell(location=Location(line=25, column=18), value='username'), TableCell(location=Location(line=25, column=31), value='host')], id='971'), table_body=[TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='philadelphia'), TableCell(location=Location(line=26, column=25), value='flukeman'), TableCell(location=Location(line=26, column=38), value='the-host')], id='972')], id='973'), '971': TableRow(location=Location(line=25, column=6), cells=[TableCell(location=Location(line=25, column=8), value='context'), TableCell(location=Location(line=25, column=18), value='username'), TableCell(location=Location(line=25, column=31), value='host')], id='971'), '972': TableRow(location=Location(line=26, column=6), cells=[TableCell(location=Location(line=26, column=8), value='philadelphia'), TableCell(location=Location(line=26, column=25), value='flukeman'), TableCell(location=Location(line=26, column=38), value='the-host')], id='972'), '988': Scenario(location=Location(line=28, column=3), tags=[], keyword='Scenario', name='Send clipboard to knative ping service', description='', steps=[Step(location=Location(line=29, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='975'), Step(location=Location(line=30, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='976'), Step(location=Location(line=31, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='977'), Step(location=Location(line=32, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='978'), Step(location=Location(line=33, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='979'), Step(location=Location(line=34, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to knative service \"clipboard\" in \"context-<context>\" namespace', doc_string=DocString(location=Location(line=35, column=7), media_type=None, content='{\\n  \"uuid\": \"3ca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325473,\\n  \"data\": \"clipboard primary data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='980'), Step(location=Location(line=42, column=7), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"200\"', doc_string=None, data_table=None, id='981'), Step(location=Location(line=44, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=45, column=7), rows=[TableRow(location=Location(line=45, column=7), cells=[TableCell(location=Location(line=45, column=9), value='Deployment name')], id='982'), TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='clipboard-00001-deployment')], id='983')]), id='984')], examples=[Examples(location=Location(line=48, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=49, column=6), cells=[TableCell(location=Location(line=49, column=8), value='context'), TableCell(location=Location(line=49, column=18), value='username'), TableCell(location=Location(line=49, column=31), value='host'), TableCell(location=Location(line=49, column=43), value='traceparent')], id='985'), table_body=[TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='philadelphia'), TableCell(location=Location(line=50, column=25), value='flukeman'), TableCell(location=Location(line=50, column=38), value='the-host'), TableCell(location=Location(line=50, column=50), value='00-6ef92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='986')], id='987')], id='988'), '975': Step(location=Location(line=29, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='975'), '976': Step(location=Location(line=30, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='976'), '977': Step(location=Location(line=31, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='977'), '978': Step(location=Location(line=32, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='978'), '979': Step(location=Location(line=33, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='979'), '980': Step(location=Location(line=34, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to knative service \"clipboard\" in \"context-<context>\" namespace', doc_string=DocString(location=Location(line=35, column=7), media_type=None, content='{\\n  \"uuid\": \"3ca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325473,\\n  \"data\": \"clipboard primary data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='980'), '981': Step(location=Location(line=42, column=7), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"200\"', doc_string=None, data_table=None, id='981'), '984': Step(location=Location(line=44, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=45, column=7), rows=[TableRow(location=Location(line=45, column=7), cells=[TableCell(location=Location(line=45, column=9), value='Deployment name')], id='982'), TableRow(location=Location(line=46, column=7), cells=[TableCell(location=Location(line=46, column=9), value='clipboard-00001-deployment')], id='983')]), id='984'), '987': Examples(location=Location(line=48, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=49, column=6), cells=[TableCell(location=Location(line=49, column=8), value='context'), TableCell(location=Location(line=49, column=18), value='username'), TableCell(location=Location(line=49, column=31), value='host'), TableCell(location=Location(line=49, column=43), value='traceparent')], id='985'), table_body=[TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='philadelphia'), TableCell(location=Location(line=50, column=25), value='flukeman'), TableCell(location=Location(line=50, column=38), value='the-host'), TableCell(location=Location(line=50, column=50), value='00-6ef92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='986')], id='987'), '985': TableRow(location=Location(line=49, column=6), cells=[TableCell(location=Location(line=49, column=8), value='context'), TableCell(location=Location(line=49, column=18), value='username'), TableCell(location=Location(line=49, column=31), value='host'), TableCell(location=Location(line=49, column=43), value='traceparent')], id='985'), '986': TableRow(location=Location(line=50, column=6), cells=[TableCell(location=Location(line=50, column=8), value='philadelphia'), TableCell(location=Location(line=50, column=25), value='flukeman'), TableCell(location=Location(line=50, column=38), value='the-host'), TableCell(location=Location(line=50, column=50), value='00-6ef92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='986'), '1010': Scenario(location=Location(line=52, column=3), tags=[], keyword='Scenario', name='Send ping via <endpoint>', description='', steps=[Step(location=Location(line=53, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='989'), Step(location=Location(line=54, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='990'), Step(location=Location(line=55, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='991'), Step(location=Location(line=56, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='992'), Step(location=Location(line=57, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='993'), Step(location=Location(line=58, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to \"<endpoint>\"', doc_string=DocString(location=Location(line=59, column=7), media_type=None, content='{\\n  \"uuid\": \"4bca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard secondary data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='994'), Step(location=Location(line=66, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"202\"', doc_string=None, data_table=None, id='995'), Step(location=Location(line=68, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=69, column=7), rows=[TableRow(location=Location(line=69, column=7), cells=[TableCell(location=Location(line=69, column=9), value='Deployment name')], id='996'), TableRow(location=Location(line=70, column=7), cells=[TableCell(location=Location(line=70, column=9), value='clipboard-00001-deployment')], id='997')]), id='998'), Step(location=Location(line=71, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the trace with \"<traceparent>\" should appear in TraceQL', doc_string=None, data_table=None, id='999'), Step(location=Location(line=72, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the trace should contains', doc_string=None, data_table=DataTable(location=Location(line=73, column=7), rows=[TableRow(location=Location(line=73, column=7), cells=[TableCell(location=Location(line=73, column=9), value='service name')], id='1000'), TableRow(location=Location(line=74, column=7), cells=[TableCell(location=Location(line=74, column=9), value='broker-ingress.knative-eventing')], id='1001'), TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='unknown_service')], id='1002'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='jetstream-ch-dispatcher')], id='1003')]), id='1004'), Step(location=Location(line=77, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='1005')], examples=[Examples(location=Location(line=79, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=80, column=6), cells=[TableCell(location=Location(line=80, column=8), value='context'), TableCell(location=Location(line=80, column=18), value='username'), TableCell(location=Location(line=80, column=31), value='host'), TableCell(location=Location(line=80, column=43), value='endpoint'), TableCell(location=Location(line=80, column=54), value='traceparent')], id='1006'), table_body=[TableRow(location=Location(line=81, column=6), cells=[TableCell(location=Location(line=81, column=8), value='philadelphia'), TableCell(location=Location(line=81, column=25), value='flukeman'), TableCell(location=Location(line=81, column=38), value='the-host'), TableCell(location=Location(line=81, column=50), value='broker-ingress.knative-eventing/context-philadelphia/context-broker'), TableCell(location=Location(line=81, column=122), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='1007'), TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='philadelphia'), TableCell(location=Location(line=82, column=25), value='flukeman'), TableCell(location=Location(line=82, column=38), value='the-host'), TableCell(location=Location(line=82, column=50), value='broker-ingress.knative-eventing/user-flukeman/user-broker'), TableCell(location=Location(line=82, column=110), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1008')], id='1009')], id='1010'), '989': Step(location=Location(line=53, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='989'), '990': Step(location=Location(line=54, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='990'), '991': Step(location=Location(line=55, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='991'), '992': Step(location=Location(line=56, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='992'), '993': Step(location=Location(line=57, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='993'), '994': Step(location=Location(line=58, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to \"<endpoint>\"', doc_string=DocString(location=Location(line=59, column=7), media_type=None, content='{\\n  \"uuid\": \"4bca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard secondary data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='994'), '995': Step(location=Location(line=66, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the response http code should be \"202\"', doc_string=None, data_table=None, id='995'), '998': Step(location=Location(line=68, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=69, column=7), rows=[TableRow(location=Location(line=69, column=7), cells=[TableCell(location=Location(line=69, column=9), value='Deployment name')], id='996'), TableRow(location=Location(line=70, column=7), cells=[TableCell(location=Location(line=70, column=9), value='clipboard-00001-deployment')], id='997')]), id='998'), '999': Step(location=Location(line=71, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the trace with \"<traceparent>\" should appear in TraceQL', doc_string=None, data_table=None, id='999'), '1004': Step(location=Location(line=72, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the trace should contains', doc_string=None, data_table=DataTable(location=Location(line=73, column=7), rows=[TableRow(location=Location(line=73, column=7), cells=[TableCell(location=Location(line=73, column=9), value='service name')], id='1000'), TableRow(location=Location(line=74, column=7), cells=[TableCell(location=Location(line=74, column=9), value='broker-ingress.knative-eventing')], id='1001'), TableRow(location=Location(line=75, column=7), cells=[TableCell(location=Location(line=75, column=9), value='unknown_service')], id='1002'), TableRow(location=Location(line=76, column=7), cells=[TableCell(location=Location(line=76, column=9), value='jetstream-ch-dispatcher')], id='1003')]), id='1004'), '1005': Step(location=Location(line=77, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='1005'), '1009': Examples(location=Location(line=79, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=80, column=6), cells=[TableCell(location=Location(line=80, column=8), value='context'), TableCell(location=Location(line=80, column=18), value='username'), TableCell(location=Location(line=80, column=31), value='host'), TableCell(location=Location(line=80, column=43), value='endpoint'), TableCell(location=Location(line=80, column=54), value='traceparent')], id='1006'), table_body=[TableRow(location=Location(line=81, column=6), cells=[TableCell(location=Location(line=81, column=8), value='philadelphia'), TableCell(location=Location(line=81, column=25), value='flukeman'), TableCell(location=Location(line=81, column=38), value='the-host'), TableCell(location=Location(line=81, column=50), value='broker-ingress.knative-eventing/context-philadelphia/context-broker'), TableCell(location=Location(line=81, column=122), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='1007'), TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='philadelphia'), TableCell(location=Location(line=82, column=25), value='flukeman'), TableCell(location=Location(line=82, column=38), value='the-host'), TableCell(location=Location(line=82, column=50), value='broker-ingress.knative-eventing/user-flukeman/user-broker'), TableCell(location=Location(line=82, column=110), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1008')], id='1009'), '1006': TableRow(location=Location(line=80, column=6), cells=[TableCell(location=Location(line=80, column=8), value='context'), TableCell(location=Location(line=80, column=18), value='username'), TableCell(location=Location(line=80, column=31), value='host'), TableCell(location=Location(line=80, column=43), value='endpoint'), TableCell(location=Location(line=80, column=54), value='traceparent')], id='1006'), '1007': TableRow(location=Location(line=81, column=6), cells=[TableCell(location=Location(line=81, column=8), value='philadelphia'), TableCell(location=Location(line=81, column=25), value='flukeman'), TableCell(location=Location(line=81, column=38), value='the-host'), TableCell(location=Location(line=81, column=50), value='broker-ingress.knative-eventing/context-philadelphia/context-broker'), TableCell(location=Location(line=81, column=122), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='1007'), '1008': TableRow(location=Location(line=82, column=6), cells=[TableCell(location=Location(line=82, column=8), value='philadelphia'), TableCell(location=Location(line=82, column=25), value='flukeman'), TableCell(location=Location(line=82, column=38), value='the-host'), TableCell(location=Location(line=82, column=50), value='broker-ingress.knative-eventing/user-flukeman/user-broker'), TableCell(location=Location(line=82, column=110), value='00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1008'), '1025': Scenario(location=Location(line=85, column=3), tags=[], keyword='Scenario', name='Send ping via nats', description='', steps=[Step(location=Location(line=86, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='1011'), Step(location=Location(line=87, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-id\" to \"<uuid>\"', doc_string=None, data_table=None, id='1012'), Step(location=Location(line=88, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='1013'), Step(location=Location(line=89, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='1014'), Step(location=Location(line=90, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='1015'), Step(location=Location(line=91, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='1016'), Step(location=Location(line=92, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.clipboard\"', doc_string=DocString(location=Location(line=93, column=7), media_type=None, content='{\\n  \"uuid\": \"4bca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard #3 data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='1017'), Step(location=Location(line=101, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=102, column=7), rows=[TableRow(location=Location(line=102, column=7), cells=[TableCell(location=Location(line=102, column=9), value='Deployment name')], id='1018'), TableRow(location=Location(line=103, column=7), cells=[TableCell(location=Location(line=103, column=9), value='clipboard-00001-deployment')], id='1019')]), id='1020'), Step(location=Location(line=105, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='1021')], examples=[Examples(location=Location(line=108, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=109, column=6), cells=[TableCell(location=Location(line=109, column=8), value='context'), TableCell(location=Location(line=109, column=18), value='username'), TableCell(location=Location(line=109, column=31), value='host'), TableCell(location=Location(line=109, column=43), value='uuid'), TableCell(location=Location(line=109, column=83), value='traceparent')], id='1022'), table_body=[TableRow(location=Location(line=110, column=6), cells=[TableCell(location=Location(line=110, column=8), value='philadelphia'), TableCell(location=Location(line=110, column=25), value='flukeman'), TableCell(location=Location(line=110, column=38), value='the-host'), TableCell(location=Location(line=110, column=50), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=110, column=89), value='00-8af92f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1023')], id='1024')], id='1025'), '1011': Step(location=Location(line=86, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='1011'), '1012': Step(location=Location(line=87, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-id\" to \"<uuid>\"', doc_string=None, data_table=None, id='1012'), '1013': Step(location=Location(line=88, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"', doc_string=None, data_table=None, id='1013'), '1014': Step(location=Location(line=89, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"', doc_string=None, data_table=None, id='1014'), '1015': Step(location=Location(line=90, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"', doc_string=None, data_table=None, id='1015'), '1016': Step(location=Location(line=91, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent header \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='1016'), '1017': Step(location=Location(line=92, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to nats topic \"org.mindwm.<username>.<host>.clipboard\"', doc_string=DocString(location=Location(line=93, column=7), media_type=None, content='{\\n  \"uuid\": \"4bca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard #3 data\"\\n} ', delimiter='\"\"\"'), data_table=None, id='1017'), '1020': Step(location=Location(line=101, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=102, column=7), rows=[TableRow(location=Location(line=102, column=7), cells=[TableCell(location=Location(line=102, column=9), value='Deployment name')], id='1018'), TableRow(location=Location(line=103, column=7), cells=[TableCell(location=Location(line=103, column=9), value='clipboard-00001-deployment')], id='1019')]), id='1020'), '1021': Step(location=Location(line=105, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='1021'), '1024': Examples(location=Location(line=108, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=109, column=6), cells=[TableCell(location=Location(line=109, column=8), value='context'), TableCell(location=Location(line=109, column=18), value='username'), TableCell(location=Location(line=109, column=31), value='host'), TableCell(location=Location(line=109, column=43), value='uuid'), TableCell(location=Location(line=109, column=83), value='traceparent')], id='1022'), table_body=[TableRow(location=Location(line=110, column=6), cells=[TableCell(location=Location(line=110, column=8), value='philadelphia'), TableCell(location=Location(line=110, column=25), value='flukeman'), TableCell(location=Location(line=110, column=38), value='the-host'), TableCell(location=Location(line=110, column=50), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=110, column=89), value='00-8af92f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1023')], id='1024'), '1022': TableRow(location=Location(line=109, column=6), cells=[TableCell(location=Location(line=109, column=8), value='context'), TableCell(location=Location(line=109, column=18), value='username'), TableCell(location=Location(line=109, column=31), value='host'), TableCell(location=Location(line=109, column=43), value='uuid'), TableCell(location=Location(line=109, column=83), value='traceparent')], id='1022'), '1023': TableRow(location=Location(line=110, column=6), cells=[TableCell(location=Location(line=110, column=8), value='philadelphia'), TableCell(location=Location(line=110, column=25), value='flukeman'), TableCell(location=Location(line=110, column=38), value='the-host'), TableCell(location=Location(line=110, column=50), value='09fb195c-c419-6d62-15e0-51b6ee990922'), TableCell(location=Location(line=110, column=89), value='00-8af92f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00')], id='1023'), '1033': Scenario(location=Location(line=113, column=4), tags=[], keyword='Scenario', name='Cleanup <username>@<host> in <context>', description='', steps=[Step(location=Location(line=114, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='1026'), Step(location=Location(line=115, column=6), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='1027'), Step(location=Location(line=117, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='1028'), Step(location=Location(line=119, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='1029')], examples=[Examples(location=Location(line=121, column=6), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=122, column=6), cells=[TableCell(location=Location(line=122, column=8), value='context'), TableCell(location=Location(line=122, column=18), value='username'), TableCell(location=Location(line=122, column=29), value='host')], id='1030'), table_body=[TableRow(location=Location(line=123, column=6), cells=[TableCell(location=Location(line=123, column=8), value='philadelphia'), TableCell(location=Location(line=123, column=25), value='flukeman'), TableCell(location=Location(line=123, column=38), value='the-host')], id='1031')], id='1032')], id='1033'), '1026': Step(location=Location(line=114, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='1026'), '1027': Step(location=Location(line=115, column=6), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='1027'), '1028': Step(location=Location(line=117, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='1028'), '1029': Step(location=Location(line=119, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='1029'), '1032': Examples(location=Location(line=121, column=6), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=122, column=6), cells=[TableCell(location=Location(line=122, column=8), value='context'), TableCell(location=Location(line=122, column=18), value='username'), TableCell(location=Location(line=122, column=29), value='host')], id='1030'), table_body=[TableRow(location=Location(line=123, column=6), cells=[TableCell(location=Location(line=123, column=8), value='philadelphia'), TableCell(location=Location(line=123, column=25), value='flukeman'), TableCell(location=Location(line=123, column=38), value='the-host')], id='1031')], id='1032'), '1030': TableRow(location=Location(line=122, column=6), cells=[TableCell(location=Location(line=122, column=8), value='context'), TableCell(location=Location(line=122, column=18), value='username'), TableCell(location=Location(line=122, column=29), value='host')], id='1030'), '1031': TableRow(location=Location(line=123, column=6), cells=[TableCell(location=Location(line=123, column=8), value='philadelphia'), TableCell(location=Location(line=123, column=25), value='flukeman'), TableCell(location=Location(line=123, column=38), value='the-host')], id='1031')}, pickles=[Pickle(id='1047', uri='file:features/9_mindwm_clipboard.feature', name='Prepare environment for ping tests', language='en', steps=[PickleStep(argument=None, ast_node_ids=['957'], id='1036', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['958'], id='1037', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['960', '972'], id='1038', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"philadelphia\"'), PickleStep(argument=None, ast_node_ids=['961', '972'], id='1039', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='clipboard')])])), ast_node_ids=['964', '972'], id='1040', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-philadelphia\" namespace'), PickleStep(argument=None, ast_node_ids=['965', '972'], id='1041', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"flukeman\" and connects it to the context \"philadelphia\"'), PickleStep(argument=None, ast_node_ids=['966', '972'], id='1042', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['967', '972'], id='1043', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"the-host\" and connects it to the user \"flukeman\"'), PickleStep(argument=None, ast_node_ids=['968', '972'], id='1044', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['969', '972'], id='1045', type=<Type.outcome: 'Outcome'>, text='NatsJetStreamChannel \"the-host-host-broker-kne-trigger\" is ready in \"user-flukeman\" namespace'), PickleStep(argument=None, ast_node_ids=['970', '972'], id='1046', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"')], tags=[PickleTag(name='@mindwm_clipboard', ast_node_id='1034'), PickleTag(name='@mindwm_test', ast_node_id='1035')], ast_node_ids=['974', '972']), Pickle(id='1058', uri='file:features/9_mindwm_clipboard.feature', name='Send clipboard to knative ping service', language='en', steps=[PickleStep(argument=None, ast_node_ids=['957'], id='1048', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['958'], id='1049', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['975', '986'], id='1050', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['976', '986'], id='1051', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"'), PickleStep(argument=None, ast_node_ids=['977', '986'], id='1052', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"'), PickleStep(argument=None, ast_node_ids=['978', '986'], id='1053', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.flukeman.the-host.clipboard\"'), PickleStep(argument=None, ast_node_ids=['979', '986'], id='1054', type=<Type.action: 'Action'>, text='sets cloudevent header \"traceparent\" to \"00-6ef92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"uuid\": \"3ca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325473,\\n  \"data\": \"clipboard primary data\"\\n} '), data_table=None), ast_node_ids=['980', '986'], id='1055', type=<Type.action: 'Action'>, text='sends cloudevent to knative service \"clipboard\" in \"context-philadelphia\" namespace'), PickleStep(argument=None, ast_node_ids=['981', '986'], id='1056', type=<Type.outcome: 'Outcome'>, text='the response http code should be \"200\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='clipboard-00001-deployment')])])), ast_node_ids=['984', '986'], id='1057', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-philadelphia\" namespace')], tags=[PickleTag(name='@mindwm_clipboard', ast_node_id='1034'), PickleTag(name='@mindwm_test', ast_node_id='1035')], ast_node_ids=['988', '986']), Pickle(id='1072', uri='file:features/9_mindwm_clipboard.feature', name='Send ping via broker-ingress.knative-eventing/context-philadelphia/context-broker', language='en', steps=[PickleStep(argument=None, ast_node_ids=['957'], id='1059', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['958'], id='1060', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['989', '1007'], id='1061', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['990', '1007'], id='1062', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"'), PickleStep(argument=None, ast_node_ids=['991', '1007'], id='1063', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"'), PickleStep(argument=None, ast_node_ids=['992', '1007'], id='1064', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.flukeman.the-host.clipboard\"'), PickleStep(argument=None, ast_node_ids=['993', '1007'], id='1065', type=<Type.action: 'Action'>, text='sets cloudevent header \"traceparent\" to \"00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"uuid\": \"4bca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard secondary data\"\\n} '), data_table=None), ast_node_ids=['994', '1007'], id='1066', type=<Type.action: 'Action'>, text='sends cloudevent to \"broker-ingress.knative-eventing/context-philadelphia/context-broker\"'), PickleStep(argument=None, ast_node_ids=['995', '1007'], id='1067', type=<Type.outcome: 'Outcome'>, text='the response http code should be \"202\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='clipboard-00001-deployment')])])), ast_node_ids=['998', '1007'], id='1068', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-philadelphia\" namespace'), PickleStep(argument=None, ast_node_ids=['999', '1007'], id='1069', type=<Type.outcome: 'Outcome'>, text='the trace with \"00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00\" should appear in TraceQL'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='service name')]), PickleTableRow(cells=[PickleTableCell(value='broker-ingress.knative-eventing')]), PickleTableRow(cells=[PickleTableCell(value='unknown_service')]), PickleTableRow(cells=[PickleTableCell(value='jetstream-ch-dispatcher')])])), ast_node_ids=['1004', '1007'], id='1070', type=<Type.outcome: 'Outcome'>, text='the trace should contains'), PickleStep(argument=None, ast_node_ids=['1005', '1007'], id='1071', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-flukeman.the-host-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_clipboard', ast_node_id='1034'), PickleTag(name='@mindwm_test', ast_node_id='1035')], ast_node_ids=['1010', '1007']), Pickle(id='1086', uri='file:features/9_mindwm_clipboard.feature', name='Send ping via broker-ingress.knative-eventing/user-flukeman/user-broker', language='en', steps=[PickleStep(argument=None, ast_node_ids=['957'], id='1073', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['958'], id='1074', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['989', '1008'], id='1075', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['990', '1008'], id='1076', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"'), PickleStep(argument=None, ast_node_ids=['991', '1008'], id='1077', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"'), PickleStep(argument=None, ast_node_ids=['992', '1008'], id='1078', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.flukeman.the-host.clipboard\"'), PickleStep(argument=None, ast_node_ids=['993', '1008'], id='1079', type=<Type.action: 'Action'>, text='sets cloudevent header \"traceparent\" to \"00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"uuid\": \"4bca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard secondary data\"\\n} '), data_table=None), ast_node_ids=['994', '1008'], id='1080', type=<Type.action: 'Action'>, text='sends cloudevent to \"broker-ingress.knative-eventing/user-flukeman/user-broker\"'), PickleStep(argument=None, ast_node_ids=['995', '1008'], id='1081', type=<Type.outcome: 'Outcome'>, text='the response http code should be \"202\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='clipboard-00001-deployment')])])), ast_node_ids=['998', '1008'], id='1082', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-philadelphia\" namespace'), PickleStep(argument=None, ast_node_ids=['999', '1008'], id='1083', type=<Type.outcome: 'Outcome'>, text='the trace with \"00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00\" should appear in TraceQL'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='service name')]), PickleTableRow(cells=[PickleTableCell(value='broker-ingress.knative-eventing')]), PickleTableRow(cells=[PickleTableCell(value='unknown_service')]), PickleTableRow(cells=[PickleTableCell(value='jetstream-ch-dispatcher')])])), ast_node_ids=['1004', '1008'], id='1084', type=<Type.outcome: 'Outcome'>, text='the trace should contains'), PickleStep(argument=None, ast_node_ids=['1005', '1008'], id='1085', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-flukeman.the-host-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_clipboard', ast_node_id='1034'), PickleTag(name='@mindwm_test', ast_node_id='1035')], ast_node_ids=['1010', '1008']), Pickle(id='1098', uri='file:features/9_mindwm_clipboard.feature', name='Send ping via nats', language='en', steps=[PickleStep(argument=None, ast_node_ids=['957'], id='1087', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['958'], id='1088', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['1011', '1023'], id='1089', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['1012', '1023'], id='1090', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-id\" to \"09fb195c-c419-6d62-15e0-51b6ee990922\"'), PickleStep(argument=None, ast_node_ids=['1013', '1023'], id='1091', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-subject\" to \"clipboard\"'), PickleStep(argument=None, ast_node_ids=['1014', '1023'], id='1092', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"'), PickleStep(argument=None, ast_node_ids=['1015', '1023'], id='1093', type=<Type.action: 'Action'>, text='sets cloudevent header \"ce-source\" to \"org.mindwm.flukeman.the-host.clipboard\"'), PickleStep(argument=None, ast_node_ids=['1016', '1023'], id='1094', type=<Type.action: 'Action'>, text='sets cloudevent header \"traceparent\" to \"00-8af92f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"uuid\": \"4bca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n  \"time\": 1728325474,\\n  \"data\": \"clipboard #3 data\"\\n} '), data_table=None), ast_node_ids=['1017', '1023'], id='1095', type=<Type.action: 'Action'>, text='sends cloudevent to nats topic \"org.mindwm.flukeman.the-host.clipboard\"'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Deployment name')]), PickleTableRow(cells=[PickleTableCell(value='clipboard-00001-deployment')])])), ast_node_ids=['1020', '1023'], id='1096', type=<Type.outcome: 'Outcome'>, text='the following deployments are in a ready state in the \"context-philadelphia\" namespace'), PickleStep(argument=None, ast_node_ids=['1021', '1023'], id='1097', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-flukeman.the-host-host-broker-kne-trigger._knative\"')], tags=[PickleTag(name='@mindwm_clipboard', ast_node_id='1034'), PickleTag(name='@mindwm_test', ast_node_id='1035')], ast_node_ids=['1025', '1023']), Pickle(id='1105', uri='file:features/9_mindwm_clipboard.feature', name='Cleanup flukeman@the-host in philadelphia', language='en', steps=[PickleStep(argument=None, ast_node_ids=['957'], id='1099', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['958'], id='1100', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['1026', '1031'], id='1101', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"the-host\"'), PickleStep(argument=None, ast_node_ids=['1027', '1031'], id='1102', type=<Type.outcome: 'Outcome'>, text='the host \"the-host\" should be deleted'), PickleStep(argument=None, ast_node_ids=['1028', '1031'], id='1103', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"flukeman\"'), PickleStep(argument=None, ast_node_ids=['1029', '1031'], id='1104', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"philadelphia\"')], tags=[PickleTag(name='@mindwm_clipboard', ast_node_id='1034'), PickleTag(name='@mindwm_test', ast_node_id='1035')], ast_node_ids=['1033', '1031'])])","Source(uri='file:features/9_mindwm_clipboard.feature', data='@mindwm_clipboard\\n@mindwm_test\\nFeature: MindWM clipboard EDA test\\n  Background:\\n    Given A MindWM environment\\n    Then all nodes in Kubernetes are ready\\n\\n  Scenario: Prepare environment for ping tests \\n    When God creates a MindWM context with the name \"<context>\"\\n    Then the context should be ready and operable\\n    And the following knative services are in a ready state in the \"context-<context>\" namespace\\n      | Knative service name |\\n      | clipboard            |\\n\\n    When God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"\\n    Then the user resource should be ready and operable\\n\\n    When God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"\\n    Then the host resource should be ready and operable\\n    And NatsJetStreamChannel \"<host>-host-broker-kne-trigger\" is ready in \"user-<username>\" namespace\\n\\n    When God starts reading message from NATS topic \">\"\\n\\n    Examples:\\n     | context | username   | host      |\\n     | philadelphia   | flukeman   | the-host  | \\n\\n  Scenario: Send clipboard to knative ping service\\n    When God creates a new cloudevent \\n      And sets cloudevent header \"ce-subject\" to \"clipboard\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"\\n      And sets cloudevent header \"traceparent\" to \"<traceparent>\"\\n      And sends cloudevent to knative service \"clipboard\" in \"context-<context>\" namespace\\n      \"\"\"\\n      {\\n        \"uuid\": \"3ca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n        \"time\": 1728325473,\\n        \"data\": \"clipboard primary data\"\\n      } \\n      \"\"\"\\n      Then the response http code should be \"200\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name       |\\n      | clipboard-00001-deployment |\\n\\n    Examples:\\n     | context | username   | host      | traceparent                                             |\\n     | philadelphia   | flukeman   | the-host  | 00-6ef92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00 |\\n\\n  Scenario: Send ping via <endpoint>\\n    When God creates a new cloudevent \\n      And sets cloudevent header \"ce-subject\" to \"clipboard\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"\\n      And sets cloudevent header \"traceparent\" to \"<traceparent>\"\\n      And sends cloudevent to \"<endpoint>\"\\n      \"\"\"\\n      {\\n        \"uuid\": \"4bca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n        \"time\": 1728325474,\\n        \"data\": \"clipboard secondary data\"\\n      } \\n      \"\"\"\\n    Then the response http code should be \"202\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name            |\\n      | clipboard-00001-deployment |\\n    Then the trace with \"<traceparent>\" should appear in TraceQL\\n    And the trace should contains \\n      | service name                    | \\n      | broker-ingress.knative-eventing | \\n      | unknown_service                 | \\n      | jetstream-ch-dispatcher         |\\n    And a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"\\n\\n    Examples:\\n     | context | username   | host      | endpoint | traceparent \\t\\t\\t\\t\\t         |\\n     | philadelphia   | flukeman   | the-host  | broker-ingress.knative-eventing/context-philadelphia/context-broker   | 00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00 |\\n     | philadelphia   | flukeman   | the-host  | broker-ingress.knative-eventing/user-flukeman/user-broker | 00-6df93f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00 |\\n\\n\\n  Scenario: Send ping via nats\\n    When God creates a new cloudevent \\n      And sets cloudevent header \"ce-id\" to \"<uuid>\"\\n      And sets cloudevent header \"ce-subject\" to \"clipboard\"\\n      And sets cloudevent header \"ce-type\" to \"org.mindwm.v1.clipboard\"\\n      And sets cloudevent header \"ce-source\" to \"org.mindwm.<username>.<host>.clipboard\"\\n      And sets cloudevent header \"traceparent\" to \"<traceparent>\"\\n      And sends cloudevent to nats topic \"org.mindwm.<username>.<host>.clipboard\"\\n      \"\"\"\\n      {\\n        \"uuid\": \"4bca8a133-aba6-4f7f-ab95-242802fcac2c\",\\n        \"time\": 1728325474,\\n        \"data\": \"clipboard #3 data\"\\n      } \\n      \"\"\"\\n\\n    Then the following deployments are in a ready state in the \"context-<context>\" namespace\\n      | Deployment name       |\\n      | clipboard-00001-deployment |\\n\\n    And a cloudevent with type == \"org.mindwm.v1.graph.created\" should have been received from the NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"\\n\\n\\n    Examples:\\n     | context | username   | host      | uuid                                  | traceparent |\\n     | philadelphia   | flukeman   | the-host  | 09fb195c-c419-6d62-15e0-51b6ee990922 | 00-8af92f3577b34da6a3ce929d0e0e4742-00f067aa0ba902b7-00 |\\n\\n\\n   Scenario: Cleanup <username>@<host> in <context>\\n     When God deletes the MindWM host resource \"<host>\"\\n     Then the host \"<host>\" should be deleted\\n\\n     When God deletes the MindWM user resource \"<username>\"\\n\\n     When God deletes the MindWM context resource \"<context>\"\\n\\n     Examples:\\n     | context | username | host        | \\n     | philadelphia   | flukeman   | the-host         |\\n\\n', media_type='text/x.cucumber.gherkin+plain')","Pickle(id='1047', uri='file:features/9_mindwm_clipboard.feature', name='Prepare environment for ping tests', language='en', steps=[PickleStep(argument=None, ast_node_ids=['957'], id='1036', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['958'], id='1037', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['960', '972'], id='1038', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"philadelphia\"'), PickleStep(argument=None, ast_node_ids=['961', '972'], id='1039', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='clipboard')])])), ast_node_ids=['964', '972'], id='1040', type=<Type.outcome: 'Outcome'>, text='the following knative services are in a ready state in the \"context-philadelphia\" namespace'), PickleStep(argument=None, ast_node_ids=['965', '972'], id='1041', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"flukeman\" and connects it to the context \"philadelphia\"'), PickleStep(argument=None, ast_node_ids=['966', '972'], id='1042', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['967', '972'], id='1043', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"the-host\" and connects it to the user \"flukeman\"'), PickleStep(argument=None, ast_node_ids=['968', '972'], id='1044', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['969', '972'], id='1045', type=<Type.outcome: 'Outcome'>, text='NatsJetStreamChannel \"the-host-host-broker-kne-trigger\" is ready in \"user-flukeman\" namespace'), PickleStep(argument=None, ast_node_ids=['970', '972'], id='1046', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \">\"')], tags=[PickleTag(name='@mindwm_clipboard', ast_node_id='1034'), PickleTag(name='@mindwm_test', ast_node_id='1035')], ast_node_ids=['974', '972'])"]}