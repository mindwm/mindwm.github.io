{"uid":"f4a1f080bff0683c","name":"test_context_broker","fullName":"test_mindwm_context.Test_MindwmContext#test_context_broker","historyId":"1bc4aa53a4fe7d065b02085941c9f159","time":{"start":1726159527648,"stop":1726159527666,"duration":18},"status":"broken","statusMessage":"NameError: name 'crd_api' is not defined","statusTrace":"self = <test_mindwm_context.Test_MindwmContext object at 0x7cec69496270>\nkube = <kubetest.client.TestClient object at 0x7cec68dcef60>\n\n    @pytest.mark.dependency(name = \"context_broker\", on=[\"context_namespace\"], scope = 'session')\n    def test_context_broker(self, kube):\n>       wait_for_condition(Condition(\"wait for context broker\", kubernetes_utils.wait_for_broker, kube, \"context-broker\", \"context-pink\"), DEFAULT_TIMEOUT)\n\ntest_mindwm_context.py:26: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/kubetest/utils.py:136: in wait_for_condition\n    if condition.check():\n.venv/lib/python3.12/site-packages/kubetest/condition.py:73: in check\n    self.last_check = bool(self.fn(*self.args, **self.kwargs))\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nkube = <kubetest.client.TestClient object at 0x7cec68dcef60>\nbroker_name = 'context-broker', namespace = 'context-pink'\n\n    def wait_for_broker(kube, broker_name, namespace):\n        api_version = \"eventing.knative.dev/v1\"\n        kind = \"Broker\"\n        resource_name = broker_name\n        namespace = namespace\n        kubernetes.config.load_kube_config()\n        dynamic_client = kubernetes.dynamic.DynamicClient(\n            kubernetes.client.api_client.ApiClient()\n        )\n        dynamic_client.resources.get(api_version=api_version, kind=kind)\n        try:\n>           crd_api.get(namespace=namespace, name=resource_name)\nE           NameError: name 'crd_api' is not defined\n\nkubernetes_utils.py:81: NameError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"kubecontext","time":{"start":1726159527569,"stop":1726159527569,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"kube","time":{"start":1726159527569,"stop":1726159527648,"duration":79},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"kubeconfig","time":{"start":1726159527569,"stop":1726159527569,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"afterStages":[],"labels":[{"name":"tag","value":"dependency(name='context_broker', on=['context_namespace'], scope='session')"},{"name":"suite","value":"test_mindwm_context"},{"name":"subSuite","value":"Test_MindwmContext"},{"name":"host","value":"localhost"},{"name":"thread","value":"3913-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"test_mindwm_context"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":["dependency(name='context_broker', on=['context_namespace'], scope='session')"]},"source":"f4a1f080bff0683c.json","parameterValues":[]}