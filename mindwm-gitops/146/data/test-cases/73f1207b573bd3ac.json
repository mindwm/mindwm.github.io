{"uid":"73f1207b573bd3ac","name":"test_scenarios[file:features/2_mindwm_crd_resources.feature-MindWM Custom kubernetes resources-Create Host and check k8s resources]","fullName":"features.2_mindwm_crd_resources#test_scenarios","historyId":"abaf08805df63679e507e9eabfe80e77","time":{"start":1726855758775,"stop":1726855769932,"duration":11157},"status":"failed","statusMessage":"AssertionError: assert 'Unknown' == 'True'\n  \n  - True\n  + Unknown","statusTrace":"self = <pytest_bdd.runner.ScenarioRunner object at 0x745f06c3a7b0>\nitem = <Function test_scenarios[file:features/2_mindwm_crd_resources.feature-MindWM Custom kubernetes resources-Create Host and check k8s resources]>\n\n    def pytest_runtest_call(self, item: Item):\n        if \"pytest_bdd_scenario\" in list(map(attrgetter(\"name\"), item.iter_markers())):\n            self.request = item._request\n            self.feature = self.request.getfixturevalue(\"feature\")\n            self.scenario = self.request.getfixturevalue(\"scenario\")\n            self.plugin_manager = self.request.config.hook\n            self.plugin_manager.pytest_bdd_before_scenario(\n                request=self.request, feature=self.feature, scenario=self.scenario\n            )\n            try:\n>               self.plugin_manager.pytest_bdd_run_scenario(\n                    request=self.request,\n                    feature=self.feature,\n                    scenario=self.scenario,\n                )\n\n.venv/lib/python3.12/site-packages/pytest_bdd/runner.py:37: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/pytest_bdd/runner.py:59: in pytest_bdd_run_scenario\n    return step_dispatcher(steps)\n.venv/lib/python3.12/site-packages/pytest_bdd/runner.py:69: in dispatcher\n    self.plugin_manager.pytest_bdd_run_step(\n.venv/lib/python3.12/site-packages/pytest_bdd/runner.py:128: in pytest_bdd_run_step\n    step_result = step_caller()\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nkube = <kubetest.client.TestClient object at 0x745f060d48f0>\nnats_stream_name = 'workstation-host-broker-kne-trigger', namespace = 'user-bob'\n\n    @then(\"NatsJetStreamChannel \\\"{nats_stream_name}\\\" is ready in \\\"{namespace}\\\" namespace\")\n    def nats_stream_exists(kube, nats_stream_name, namespace):\n        nats_stream = utils.nats_stream_wait_for(kube, nats_stream_name, namespace)\n        is_ready = utils.resource_get_condition(nats_stream['status'], 'Ready')\n        with allure.step(f\"Nats stream '{nats_stream}' ready state is {is_ready}\"):\n            pass\n>       assert(is_ready == 'True')\nE       AssertionError: assert 'Unknown' == 'True'\nE         \nE         - True\nE         + Unknown\n\nconftest.py:317: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"pytestconfig","time":{"start":1726854707026,"stop":1726854707026,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"parameter_type_registry","time":{"start":1726855758775,"stop":1726855758775,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"step_registry","time":{"start":1726855758775,"stop":1726855758775,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"steps_left","time":{"start":1726855758775,"stop":1726855758775,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"step_registry","time":{"start":1726855758775,"stop":1726855758775,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"step_matcher","time":{"start":1726855758775,"stop":1726855758775,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"kube","time":{"start":1726855758776,"stop":1726855758779,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"kubeconfig","time":{"start":1726855758776,"stop":1726855758776,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"kubecontext","time":{"start":1726855758776,"stop":1726855758776,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"ctx","time":{"start":1726855758850,"stop":1726855758850,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: assert 'Unknown' == 'True'\n  \n  - True\n  + Unknown","statusTrace":"self = <pytest_bdd.runner.ScenarioRunner object at 0x745f06c3a7b0>\nitem = <Function test_scenarios[file:features/2_mindwm_crd_resources.feature-MindWM Custom kubernetes resources-Create Host and check k8s resources]>\n\n    def pytest_runtest_call(self, item: Item):\n        if \"pytest_bdd_scenario\" in list(map(attrgetter(\"name\"), item.iter_markers())):\n            self.request = item._request\n            self.feature = self.request.getfixturevalue(\"feature\")\n            self.scenario = self.request.getfixturevalue(\"scenario\")\n            self.plugin_manager = self.request.config.hook\n            self.plugin_manager.pytest_bdd_before_scenario(\n                request=self.request, feature=self.feature, scenario=self.scenario\n            )\n            try:\n>               self.plugin_manager.pytest_bdd_run_scenario(\n                    request=self.request,\n                    feature=self.feature,\n                    scenario=self.scenario,\n                )\n\n.venv/lib/python3.12/site-packages/pytest_bdd/runner.py:37: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/pytest_bdd/runner.py:59: in pytest_bdd_run_scenario\n    return step_dispatcher(steps)\n.venv/lib/python3.12/site-packages/pytest_bdd/runner.py:69: in dispatcher\n    self.plugin_manager.pytest_bdd_run_step(\n.venv/lib/python3.12/site-packages/pytest_bdd/runner.py:128: in pytest_bdd_run_step\n    step_result = step_caller()\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nkube = <kubetest.client.TestClient object at 0x745f060d48f0>\nnats_stream_name = 'workstation-host-broker-kne-trigger', namespace = 'user-bob'\n\n    @then(\"NatsJetStreamChannel \\\"{nats_stream_name}\\\" is ready in \\\"{namespace}\\\" namespace\")\n    def nats_stream_exists(kube, nats_stream_name, namespace):\n        nats_stream = utils.nats_stream_wait_for(kube, nats_stream_name, namespace)\n        is_ready = utils.resource_get_condition(nats_stream['status'], 'Ready')\n        with allure.step(f\"Nats stream '{nats_stream}' ready state is {is_ready}\"):\n            pass\n>       assert(is_ready == 'True')\nE       AssertionError: assert 'Unknown' == 'True'\nE         \nE         - True\nE         + Unknown\n\nconftest.py:317: AssertionError","steps":[{"name":"Mindwm crd 'xcontexts' is exists","time":{"start":1726855758795,"stop":1726855758795,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Mindwm crd 'xhosts' is exists","time":{"start":1726855758800,"stop":1726855758800,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Mindwm crd 'xusers' is exists","time":{"start":1726855758815,"stop":1726855758815,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Kubernetes node 'localhost' is True","time":{"start":1726855758844,"stop":1726855758844,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Host 'workstation' has created","time":{"start":1726855758856,"stop":1726855758856,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Nats stream '{'apiVersion': 'messaging.knative.dev/v1alpha1', 'kind': 'NatsJetStreamChannel', 'metadata': {'annotations': {'eventing.knative.dev/scope': 'cluster', 'messaging.knative.dev/creator': 'system:serviceaccount:knative-eventing:eventing-controller', 'messaging.knative.dev/lastModifier': 'system:serviceaccount:knative-eventing:eventing-controller', 'messaging.knative.dev/subscribable': 'v1'}, 'creationTimestamp': '2024-09-20T18:09:19Z', 'finalizers': ['natsjetstreamchannels.messaging.knative.dev'], 'generation': 2, 'labels': {'eventing.knative.dev/broker': 'workstation-host-broker', 'eventing.knative.dev/brokerEverything': 'true'}, 'managedFields': [{'apiVersion': 'messaging.knative.dev/v1alpha1', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:annotations': {'.': {}, 'f:eventing.knative.dev/scope': {}}, 'f:labels': {'.': {}, 'f:eventing.knative.dev/broker': {}, 'f:eventing.knative.dev/brokerEverything': {}}, 'f:ownerReferences': {'.': {}, 'k:{\"uid\":\"6ff86aab-ed96-468b-ad5c-eecee3920071\"}': {}}}, 'f:spec': {'.': {}, 'f:delivery': {'.': {}, 'f:backoffDelay': {}, 'f:backoffPolicy': {}, 'f:retry': {}}, 'f:stream': {'.': {}, 'f:config': {'.': {}, 'f:additionalSubjects': {}}}}}, 'manager': 'mtchannel_broker', 'operation': 'Update', 'time': '2024-09-20T18:09:19Z'}, {'apiVersion': 'messaging.knative.dev/v1alpha1', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:metadata': {'f:finalizers': {'.': {}, 'v:\"natsjetstreamchannels.messaging.knative.dev\"': {}}}, 'f:spec': {'f:subscribers': {}}}, 'manager': 'controller', 'operation': 'Update', 'time': '2024-09-20T18:09:22Z'}, {'apiVersion': 'messaging.knative.dev/v1alpha1', 'fieldsType': 'FieldsV1', 'fieldsV1': {'f:status': {'.': {}, 'f:address': {'.': {}, 'f:url': {}}, 'f:conditions': {}, 'f:observedGeneration': {}}}, 'manager': 'controller', 'operation': 'Update', 'subresource': 'status', 'time': '2024-09-20T18:09:22Z'}], 'name': 'workstation-host-broker-kne-trigger', 'namespace': 'user-bob', 'ownerReferences': [{'apiVersion': 'eventing.knative.dev/v1', 'blockOwnerDeletion': True, 'controller': True, 'kind': 'Broker', 'name': 'workstation-host-broker', 'uid': '6ff86aab-ed96-468b-ad5c-eecee3920071'}], 'resourceVersion': '22364', 'uid': '3f6ccaef-b168-4d6d-b74f-706784361334'}, 'spec': {'delivery': {'backoffDelay': 'PT0.2S', 'backoffPolicy': 'exponential', 'retry': 10}, 'stream': {'config': {'additionalSubjects': ['org.mindwm.bob.workstation.>'], 'duplicateWindow': '0s', 'maxAge': '0s'}}, 'subscribers': [{'delivery': {'deadLetterSink': {'uri': 'http://dead-letter.user-bob.svc.cluster.local'}}, 'generation': 1, 'name': 'workstation-host-broker-worksta58d00d466d6bce73ff649ea257b7b553', 'replyUri': 'http://broker-ingress.knative-eventing.svc.cluster.local/user-bob/workstation-host-broker', 'subscriberUri': 'http://broker-filter.knative-eventing.svc.cluster.local/triggers/user-bob/workstation-trigger-to-user-broker-trigger/3f852edd-2d39-41d9-9589-0c7a64ab3538', 'uid': 'c4af6c04-2ae8-4f03-ab9b-94f95e6715dc'}]}, 'status': {'address': {'url': 'http://workstation-host-broker-kne-trigger-kn-jsm-channel.user-bob.svc.cluster.local'}, 'conditions': [{'lastTransitionTime': '2024-09-20T18:09:21Z', 'status': 'True', 'type': 'Addressable'}, {'lastTransitionTime': '2024-09-20T18:09:21Z', 'status': 'True', 'type': 'ChannelServiceReady'}, {'lastTransitionTime': '2024-09-20T18:09:21Z', 'status': 'True', 'type': 'DispatcherReady'}, {'lastTransitionTime': '2024-09-20T18:09:21Z', 'status': 'True', 'type': 'EndpointsReady'}, {'lastTransitionTime': '2024-09-20T18:09:21Z', 'status': 'Unknown', 'type': 'Ready'}, {'lastTransitionTime': '2024-09-20T18:09:19Z', 'status': 'True', 'type': 'ServiceReady'}, {'lastTransitionTime': '2024-09-20T18:09:19Z', 'status': 'Unknown', 'type': 'StreamReady'}], 'observedGeneration': 2}}' ready state is Unknown","time":{"start":1726855769932,"stop":1726855769932,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":6,"attachmentsCount":0,"hasContent":true},"afterStages":[],"labels":[{"name":"tag","value":"scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/2_mindwm_crd_resources.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=None, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())"},{"name":"tag","value":"@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')"},{"name":"tag","value":"pytest_bdd_scenario"},{"name":"tag","value":"crd_resources"},{"name":"tag","value":"namespace(create=False, name='default')"},{"name":"parentSuite","value":"features"},{"name":"suite","value":"2_mindwm_crd_resources"},{"name":"host","value":"localhost"},{"name":"thread","value":"4120-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"features.2_mindwm_crd_resources"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"feature","value":"Feature(gherkin_document=GherkinDocument(uri='file:features/2_mindwm_crd_resources.feature', feature=Feature(location=Location(line=2, column=1), tags=[Tag(location=Location(line=1, column=1), name='@crd_resources', id='257')], language='en', keyword='Feature', name='MindWM Custom kubernetes resources', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='199'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='200')], id='201'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Create Context and check k8s resources', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"cyan\"', doc_string=None, data_table=None, id='202'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='203'), Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-cyan\" should exists', doc_string=None, data_table=None, id='204'), Step(location=Location(line=12, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='helm release \"cyan-neo4j\" is deployed in \"context-cyan\" namespace', doc_string=None, data_table=None, id='205'), Step(location=Location(line=13, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"cyan-neo4j\" in namespace \"context-cyan\" is in ready state', doc_string=None, data_table=None, id='206'), Step(location=Location(line=14, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative service is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=15, column=7), rows=[TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='Knative service name')], id='207'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='dead-letter')], id='208'), TableRow(location=Location(line=17, column=7), cells=[TableCell(location=Location(line=17, column=9), value='iocontext')], id='209'), TableRow(location=Location(line=18, column=7), cells=[TableCell(location=Location(line=18, column=9), value='kafka-cdc')], id='210'), TableRow(location=Location(line=19, column=7), cells=[TableCell(location=Location(line=19, column=9), value='pong')], id='211')]), id='212'), Step(location=Location(line=20, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative triggers is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=21, column=7), rows=[TableRow(location=Location(line=21, column=7), cells=[TableCell(location=Location(line=21, column=9), value='Knative trigger name')], id='213'), TableRow(location=Location(line=22, column=7), cells=[TableCell(location=Location(line=22, column=9), value='iocontext-trigger')], id='214'), TableRow(location=Location(line=23, column=7), cells=[TableCell(location=Location(line=23, column=9), value='kafka-cdc-trigger')], id='215'), TableRow(location=Location(line=24, column=7), cells=[TableCell(location=Location(line=24, column=9), value='pong-trigger')], id='216')]), id='217'), Step(location=Location(line=25, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative brokers is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=26, column=7), rows=[TableRow(location=Location(line=26, column=7), cells=[TableCell(location=Location(line=26, column=9), value='Knative broker name')], id='218'), TableRow(location=Location(line=27, column=7), cells=[TableCell(location=Location(line=27, column=9), value='context-broker')], id='219')]), id='220'), Step(location=Location(line=28, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka topic \"context-cyan-cdc\" is in ready state in \"redpanda\" namespace', doc_string=None, data_table=None, id='221'), Step(location=Location(line=29, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka source \"context-cyan-cdc-kafkasource\" is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=None, id='222')], examples=[], id='223')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=31, column=3), tags=[], keyword='Scenario', name='Create User and check k8s resources', description='', steps=[Step(location=Location(line=32, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"bob\" and connects it to the context \"cyan\"', doc_string=None, data_table=None, id='224'), Step(location=Location(line=33, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='225'), Step(location=Location(line=34, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"user-bob\" should exists', doc_string=None, data_table=None, id='226'), Step(location=Location(line=35, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative brokers is in ready state in \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=36, column=7), rows=[TableRow(location=Location(line=36, column=7), cells=[TableCell(location=Location(line=36, column=9), value='Knative broker name')], id='227'), TableRow(location=Location(line=37, column=7), cells=[TableCell(location=Location(line=37, column=9), value='user-broker')], id='228')]), id='229'), Step(location=Location(line=38, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative triggers is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=39, column=7), rows=[TableRow(location=Location(line=39, column=7), cells=[TableCell(location=Location(line=39, column=9), value='Knative trigger name')], id='230'), TableRow(location=Location(line=40, column=7), cells=[TableCell(location=Location(line=40, column=9), value='context-cyan-to-user-bob')], id='231')]), id='232'), Step(location=Location(line=41, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative triggers is in ready state in \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=42, column=7), rows=[TableRow(location=Location(line=42, column=7), cells=[TableCell(location=Location(line=42, column=9), value='Knative trigger name')], id='233'), TableRow(location=Location(line=43, column=7), cells=[TableCell(location=Location(line=43, column=9), value='user-bob-to-context-cyan')], id='234')]), id='235')], examples=[], id='236')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=45, column=3), tags=[], keyword='Scenario', name='Create Host and check k8s resources', description='', steps=[Step(location=Location(line=46, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"workstation\" and connects it to the user \"bob\"', doc_string=None, data_table=None, id='237'), Step(location=Location(line=47, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='238'), Step(location=Location(line=48, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"workstation-host-broker-kne-trigger\" is ready in \"user-bob\" namespace', doc_string=None, data_table=None, id='239'), Step(location=Location(line=49, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative triggers is in ready state in \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=50, column=7), rows=[TableRow(location=Location(line=50, column=7), cells=[TableCell(location=Location(line=50, column=9), value='Knative trigger name')], id='240'), TableRow(location=Location(line=51, column=7), cells=[TableCell(location=Location(line=51, column=9), value='user-bob-to-context-cyan')], id='241'), TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='user-broker-to-workstation-broker-trigger')], id='242')]), id='243'), Step(location=Location(line=53, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative brokers is in ready state in \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=54, column=7), rows=[TableRow(location=Location(line=54, column=7), cells=[TableCell(location=Location(line=54, column=9), value='Knative broker name')], id='244'), TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='workstation-host-broker')], id='245')]), id='246')], examples=[], id='247')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=59, column=3), tags=[], keyword='Scenario', name='Delete Resources and Verify Cleanup', description='', steps=[Step(location=Location(line=61, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"workstation\"', doc_string=None, data_table=None, id='248'), Step(location=Location(line=62, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"workstation\" should be deleted', doc_string=None, data_table=None, id='249'), Step(location=Location(line=64, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"bob\"', doc_string=None, data_table=None, id='250'), Step(location=Location(line=65, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"bob\" should be deleted', doc_string=None, data_table=None, id='251'), Step(location=Location(line=66, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"user-bob\" should not exists', doc_string=None, data_table=None, id='252'), Step(location=Location(line=68, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"cyan\"', doc_string=None, data_table=None, id='253'), Step(location=Location(line=69, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"cyan\" should be deleted', doc_string=None, data_table=None, id='254'), Step(location=Location(line=70, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-cyan\" should not exists', doc_string=None, data_table=None, id='255')], examples=[], id='256'))]), comments=[]), uri='file:features/2_mindwm_crd_resources.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/2_mindwm_crd_resources.feature', registry={'257': Tag(location=Location(line=1, column=1), name='@crd_resources', id='257'), '201': Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='199'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='200')], id='201'), '199': Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='199'), '200': Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='200'), '223': Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Create Context and check k8s resources', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"cyan\"', doc_string=None, data_table=None, id='202'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='203'), Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-cyan\" should exists', doc_string=None, data_table=None, id='204'), Step(location=Location(line=12, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='helm release \"cyan-neo4j\" is deployed in \"context-cyan\" namespace', doc_string=None, data_table=None, id='205'), Step(location=Location(line=13, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"cyan-neo4j\" in namespace \"context-cyan\" is in ready state', doc_string=None, data_table=None, id='206'), Step(location=Location(line=14, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative service is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=15, column=7), rows=[TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='Knative service name')], id='207'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='dead-letter')], id='208'), TableRow(location=Location(line=17, column=7), cells=[TableCell(location=Location(line=17, column=9), value='iocontext')], id='209'), TableRow(location=Location(line=18, column=7), cells=[TableCell(location=Location(line=18, column=9), value='kafka-cdc')], id='210'), TableRow(location=Location(line=19, column=7), cells=[TableCell(location=Location(line=19, column=9), value='pong')], id='211')]), id='212'), Step(location=Location(line=20, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative triggers is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=21, column=7), rows=[TableRow(location=Location(line=21, column=7), cells=[TableCell(location=Location(line=21, column=9), value='Knative trigger name')], id='213'), TableRow(location=Location(line=22, column=7), cells=[TableCell(location=Location(line=22, column=9), value='iocontext-trigger')], id='214'), TableRow(location=Location(line=23, column=7), cells=[TableCell(location=Location(line=23, column=9), value='kafka-cdc-trigger')], id='215'), TableRow(location=Location(line=24, column=7), cells=[TableCell(location=Location(line=24, column=9), value='pong-trigger')], id='216')]), id='217'), Step(location=Location(line=25, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative brokers is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=26, column=7), rows=[TableRow(location=Location(line=26, column=7), cells=[TableCell(location=Location(line=26, column=9), value='Knative broker name')], id='218'), TableRow(location=Location(line=27, column=7), cells=[TableCell(location=Location(line=27, column=9), value='context-broker')], id='219')]), id='220'), Step(location=Location(line=28, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka topic \"context-cyan-cdc\" is in ready state in \"redpanda\" namespace', doc_string=None, data_table=None, id='221'), Step(location=Location(line=29, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka source \"context-cyan-cdc-kafkasource\" is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=None, id='222')], examples=[], id='223'), '202': Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"cyan\"', doc_string=None, data_table=None, id='202'), '203': Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='203'), '204': Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-cyan\" should exists', doc_string=None, data_table=None, id='204'), '205': Step(location=Location(line=12, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='helm release \"cyan-neo4j\" is deployed in \"context-cyan\" namespace', doc_string=None, data_table=None, id='205'), '206': Step(location=Location(line=13, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"cyan-neo4j\" in namespace \"context-cyan\" is in ready state', doc_string=None, data_table=None, id='206'), '212': Step(location=Location(line=14, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative service is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=15, column=7), rows=[TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='Knative service name')], id='207'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='dead-letter')], id='208'), TableRow(location=Location(line=17, column=7), cells=[TableCell(location=Location(line=17, column=9), value='iocontext')], id='209'), TableRow(location=Location(line=18, column=7), cells=[TableCell(location=Location(line=18, column=9), value='kafka-cdc')], id='210'), TableRow(location=Location(line=19, column=7), cells=[TableCell(location=Location(line=19, column=9), value='pong')], id='211')]), id='212'), '217': Step(location=Location(line=20, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative triggers is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=21, column=7), rows=[TableRow(location=Location(line=21, column=7), cells=[TableCell(location=Location(line=21, column=9), value='Knative trigger name')], id='213'), TableRow(location=Location(line=22, column=7), cells=[TableCell(location=Location(line=22, column=9), value='iocontext-trigger')], id='214'), TableRow(location=Location(line=23, column=7), cells=[TableCell(location=Location(line=23, column=9), value='kafka-cdc-trigger')], id='215'), TableRow(location=Location(line=24, column=7), cells=[TableCell(location=Location(line=24, column=9), value='pong-trigger')], id='216')]), id='217'), '220': Step(location=Location(line=25, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative brokers is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=26, column=7), rows=[TableRow(location=Location(line=26, column=7), cells=[TableCell(location=Location(line=26, column=9), value='Knative broker name')], id='218'), TableRow(location=Location(line=27, column=7), cells=[TableCell(location=Location(line=27, column=9), value='context-broker')], id='219')]), id='220'), '221': Step(location=Location(line=28, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka topic \"context-cyan-cdc\" is in ready state in \"redpanda\" namespace', doc_string=None, data_table=None, id='221'), '222': Step(location=Location(line=29, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka source \"context-cyan-cdc-kafkasource\" is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=None, id='222'), '236': Scenario(location=Location(line=31, column=3), tags=[], keyword='Scenario', name='Create User and check k8s resources', description='', steps=[Step(location=Location(line=32, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"bob\" and connects it to the context \"cyan\"', doc_string=None, data_table=None, id='224'), Step(location=Location(line=33, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='225'), Step(location=Location(line=34, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"user-bob\" should exists', doc_string=None, data_table=None, id='226'), Step(location=Location(line=35, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative brokers is in ready state in \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=36, column=7), rows=[TableRow(location=Location(line=36, column=7), cells=[TableCell(location=Location(line=36, column=9), value='Knative broker name')], id='227'), TableRow(location=Location(line=37, column=7), cells=[TableCell(location=Location(line=37, column=9), value='user-broker')], id='228')]), id='229'), Step(location=Location(line=38, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative triggers is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=39, column=7), rows=[TableRow(location=Location(line=39, column=7), cells=[TableCell(location=Location(line=39, column=9), value='Knative trigger name')], id='230'), TableRow(location=Location(line=40, column=7), cells=[TableCell(location=Location(line=40, column=9), value='context-cyan-to-user-bob')], id='231')]), id='232'), Step(location=Location(line=41, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative triggers is in ready state in \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=42, column=7), rows=[TableRow(location=Location(line=42, column=7), cells=[TableCell(location=Location(line=42, column=9), value='Knative trigger name')], id='233'), TableRow(location=Location(line=43, column=7), cells=[TableCell(location=Location(line=43, column=9), value='user-bob-to-context-cyan')], id='234')]), id='235')], examples=[], id='236'), '224': Step(location=Location(line=32, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"bob\" and connects it to the context \"cyan\"', doc_string=None, data_table=None, id='224'), '225': Step(location=Location(line=33, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='225'), '226': Step(location=Location(line=34, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"user-bob\" should exists', doc_string=None, data_table=None, id='226'), '229': Step(location=Location(line=35, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative brokers is in ready state in \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=36, column=7), rows=[TableRow(location=Location(line=36, column=7), cells=[TableCell(location=Location(line=36, column=9), value='Knative broker name')], id='227'), TableRow(location=Location(line=37, column=7), cells=[TableCell(location=Location(line=37, column=9), value='user-broker')], id='228')]), id='229'), '232': Step(location=Location(line=38, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative triggers is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=39, column=7), rows=[TableRow(location=Location(line=39, column=7), cells=[TableCell(location=Location(line=39, column=9), value='Knative trigger name')], id='230'), TableRow(location=Location(line=40, column=7), cells=[TableCell(location=Location(line=40, column=9), value='context-cyan-to-user-bob')], id='231')]), id='232'), '235': Step(location=Location(line=41, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative triggers is in ready state in \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=42, column=7), rows=[TableRow(location=Location(line=42, column=7), cells=[TableCell(location=Location(line=42, column=9), value='Knative trigger name')], id='233'), TableRow(location=Location(line=43, column=7), cells=[TableCell(location=Location(line=43, column=9), value='user-bob-to-context-cyan')], id='234')]), id='235'), '247': Scenario(location=Location(line=45, column=3), tags=[], keyword='Scenario', name='Create Host and check k8s resources', description='', steps=[Step(location=Location(line=46, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"workstation\" and connects it to the user \"bob\"', doc_string=None, data_table=None, id='237'), Step(location=Location(line=47, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='238'), Step(location=Location(line=48, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"workstation-host-broker-kne-trigger\" is ready in \"user-bob\" namespace', doc_string=None, data_table=None, id='239'), Step(location=Location(line=49, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative triggers is in ready state in \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=50, column=7), rows=[TableRow(location=Location(line=50, column=7), cells=[TableCell(location=Location(line=50, column=9), value='Knative trigger name')], id='240'), TableRow(location=Location(line=51, column=7), cells=[TableCell(location=Location(line=51, column=9), value='user-bob-to-context-cyan')], id='241'), TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='user-broker-to-workstation-broker-trigger')], id='242')]), id='243'), Step(location=Location(line=53, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative brokers is in ready state in \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=54, column=7), rows=[TableRow(location=Location(line=54, column=7), cells=[TableCell(location=Location(line=54, column=9), value='Knative broker name')], id='244'), TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='workstation-host-broker')], id='245')]), id='246')], examples=[], id='247'), '237': Step(location=Location(line=46, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"workstation\" and connects it to the user \"bob\"', doc_string=None, data_table=None, id='237'), '238': Step(location=Location(line=47, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='238'), '239': Step(location=Location(line=48, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"workstation-host-broker-kne-trigger\" is ready in \"user-bob\" namespace', doc_string=None, data_table=None, id='239'), '243': Step(location=Location(line=49, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative triggers is in ready state in \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=50, column=7), rows=[TableRow(location=Location(line=50, column=7), cells=[TableCell(location=Location(line=50, column=9), value='Knative trigger name')], id='240'), TableRow(location=Location(line=51, column=7), cells=[TableCell(location=Location(line=51, column=9), value='user-bob-to-context-cyan')], id='241'), TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='user-broker-to-workstation-broker-trigger')], id='242')]), id='243'), '246': Step(location=Location(line=53, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative brokers is in ready state in \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=54, column=7), rows=[TableRow(location=Location(line=54, column=7), cells=[TableCell(location=Location(line=54, column=9), value='Knative broker name')], id='244'), TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='workstation-host-broker')], id='245')]), id='246'), '256': Scenario(location=Location(line=59, column=3), tags=[], keyword='Scenario', name='Delete Resources and Verify Cleanup', description='', steps=[Step(location=Location(line=61, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"workstation\"', doc_string=None, data_table=None, id='248'), Step(location=Location(line=62, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"workstation\" should be deleted', doc_string=None, data_table=None, id='249'), Step(location=Location(line=64, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"bob\"', doc_string=None, data_table=None, id='250'), Step(location=Location(line=65, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"bob\" should be deleted', doc_string=None, data_table=None, id='251'), Step(location=Location(line=66, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"user-bob\" should not exists', doc_string=None, data_table=None, id='252'), Step(location=Location(line=68, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"cyan\"', doc_string=None, data_table=None, id='253'), Step(location=Location(line=69, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"cyan\" should be deleted', doc_string=None, data_table=None, id='254'), Step(location=Location(line=70, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-cyan\" should not exists', doc_string=None, data_table=None, id='255')], examples=[], id='256'), '248': Step(location=Location(line=61, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"workstation\"', doc_string=None, data_table=None, id='248'), '249': Step(location=Location(line=62, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"workstation\" should be deleted', doc_string=None, data_table=None, id='249'), '250': Step(location=Location(line=64, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"bob\"', doc_string=None, data_table=None, id='250'), '251': Step(location=Location(line=65, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"bob\" should be deleted', doc_string=None, data_table=None, id='251'), '252': Step(location=Location(line=66, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"user-bob\" should not exists', doc_string=None, data_table=None, id='252'), '253': Step(location=Location(line=68, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"cyan\"', doc_string=None, data_table=None, id='253'), '254': Step(location=Location(line=69, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"cyan\" should be deleted', doc_string=None, data_table=None, id='254'), '255': Step(location=Location(line=70, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-cyan\" should not exists', doc_string=None, data_table=None, id='255')}, pickles=[Pickle(id='270', uri='file:features/2_mindwm_crd_resources.feature', name='Create Context and check k8s resources', language='en', steps=[PickleStep(argument=None, ast_node_ids=['199'], id='258', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['200'], id='259', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['202'], id='260', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"cyan\"'), PickleStep(argument=None, ast_node_ids=['203'], id='261', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=None, ast_node_ids=['204'], id='262', type=<Type.outcome: 'Outcome'>, text='namespace \"context-cyan\" should exists'), PickleStep(argument=None, ast_node_ids=['205'], id='263', type=<Type.outcome: 'Outcome'>, text='helm release \"cyan-neo4j\" is deployed in \"context-cyan\" namespace'), PickleStep(argument=None, ast_node_ids=['206'], id='264', type=<Type.outcome: 'Outcome'>, text='statefulset \"cyan-neo4j\" in namespace \"context-cyan\" is in ready state'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='dead-letter')]), PickleTableRow(cells=[PickleTableCell(value='iocontext')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')]), PickleTableRow(cells=[PickleTableCell(value='pong')])])), ast_node_ids=['212'], id='265', type=<Type.outcome: 'Outcome'>, text='following knative service is in ready state in \"context-cyan\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative trigger name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-trigger')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-trigger')]), PickleTableRow(cells=[PickleTableCell(value='pong-trigger')])])), ast_node_ids=['217'], id='266', type=<Type.outcome: 'Outcome'>, text='following knative triggers is in ready state in \"context-cyan\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative broker name')]), PickleTableRow(cells=[PickleTableCell(value='context-broker')])])), ast_node_ids=['220'], id='267', type=<Type.outcome: 'Outcome'>, text='following knative brokers is in ready state in \"context-cyan\" namespace'), PickleStep(argument=None, ast_node_ids=['221'], id='268', type=<Type.outcome: 'Outcome'>, text='kafka topic \"context-cyan-cdc\" is in ready state in \"redpanda\" namespace'), PickleStep(argument=None, ast_node_ids=['222'], id='269', type=<Type.outcome: 'Outcome'>, text='kafka source \"context-cyan-cdc-kafkasource\" is in ready state in \"context-cyan\" namespace')], tags=[PickleTag(name='@crd_resources', ast_node_id='257')], ast_node_ids=['223']), Pickle(id='279', uri='file:features/2_mindwm_crd_resources.feature', name='Create User and check k8s resources', language='en', steps=[PickleStep(argument=None, ast_node_ids=['199'], id='271', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['200'], id='272', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['224'], id='273', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"bob\" and connects it to the context \"cyan\"'), PickleStep(argument=None, ast_node_ids=['225'], id='274', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['226'], id='275', type=<Type.outcome: 'Outcome'>, text='namespace \"user-bob\" should exists'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative broker name')]), PickleTableRow(cells=[PickleTableCell(value='user-broker')])])), ast_node_ids=['229'], id='276', type=<Type.outcome: 'Outcome'>, text='following knative brokers is in ready state in \"user-bob\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative trigger name')]), PickleTableRow(cells=[PickleTableCell(value='context-cyan-to-user-bob')])])), ast_node_ids=['232'], id='277', type=<Type.outcome: 'Outcome'>, text='following knative triggers is in ready state in \"context-cyan\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative trigger name')]), PickleTableRow(cells=[PickleTableCell(value='user-bob-to-context-cyan')])])), ast_node_ids=['235'], id='278', type=<Type.outcome: 'Outcome'>, text='following knative triggers is in ready state in \"user-bob\" namespace')], tags=[PickleTag(name='@crd_resources', ast_node_id='257')], ast_node_ids=['236']), Pickle(id='287', uri='file:features/2_mindwm_crd_resources.feature', name='Create Host and check k8s resources', language='en', steps=[PickleStep(argument=None, ast_node_ids=['199'], id='280', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['200'], id='281', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['237'], id='282', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"workstation\" and connects it to the user \"bob\"'), PickleStep(argument=None, ast_node_ids=['238'], id='283', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['239'], id='284', type=<Type.outcome: 'Outcome'>, text='NatsJetStreamChannel \"workstation-host-broker-kne-trigger\" is ready in \"user-bob\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative trigger name')]), PickleTableRow(cells=[PickleTableCell(value='user-bob-to-context-cyan')]), PickleTableRow(cells=[PickleTableCell(value='user-broker-to-workstation-broker-trigger')])])), ast_node_ids=['243'], id='285', type=<Type.outcome: 'Outcome'>, text='following knative triggers is in ready state in \"user-bob\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative broker name')]), PickleTableRow(cells=[PickleTableCell(value='workstation-host-broker')])])), ast_node_ids=['246'], id='286', type=<Type.outcome: 'Outcome'>, text='following knative brokers is in ready state in \"user-bob\" namespace')], tags=[PickleTag(name='@crd_resources', ast_node_id='257')], ast_node_ids=['247']), Pickle(id='298', uri='file:features/2_mindwm_crd_resources.feature', name='Delete Resources and Verify Cleanup', language='en', steps=[PickleStep(argument=None, ast_node_ids=['199'], id='288', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['200'], id='289', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['248'], id='290', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"workstation\"'), PickleStep(argument=None, ast_node_ids=['249'], id='291', type=<Type.outcome: 'Outcome'>, text='the host \"workstation\" should be deleted'), PickleStep(argument=None, ast_node_ids=['250'], id='292', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"bob\"'), PickleStep(argument=None, ast_node_ids=['251'], id='293', type=<Type.outcome: 'Outcome'>, text='the user \"bob\" should be deleted'), PickleStep(argument=None, ast_node_ids=['252'], id='294', type=<Type.outcome: 'Outcome'>, text='namespace \"user-bob\" should not exists'), PickleStep(argument=None, ast_node_ids=['253'], id='295', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"cyan\"'), PickleStep(argument=None, ast_node_ids=['254'], id='296', type=<Type.outcome: 'Outcome'>, text='the context \"cyan\" should be deleted'), PickleStep(argument=None, ast_node_ids=['255'], id='297', type=<Type.outcome: 'Outcome'>, text='namespace \"context-cyan\" should not exists')], tags=[PickleTag(name='@crd_resources', ast_node_id='257')], ast_node_ids=['256'])])"},{"name":"feature_source","value":"Source(uri='file:features/2_mindwm_crd_resources.feature', data='@crd_resources\\nFeature: MindWM Custom kubernetes resources\\n\\n  Background:\\n    Given a MindWM environment\\n    Then all nodes in Kubernetes are ready\\n    \\n  Scenario: Create Context and check k8s resources\\n    When God creates a MindWM context with the name \"cyan\"\\n    Then the context should be ready and operable\\n    And namespace \"context-cyan\" should exists \\n    And helm release \"cyan-neo4j\" is deployed in \"context-cyan\" namespace\\n    And statefulset \"cyan-neo4j\" in namespace \"context-cyan\" is in ready state\\n    And following knative service is in ready state in \"context-cyan\" namespace\\n      | Knative service name |\\n      | dead-letter          |\\n      | iocontext            |\\n      | kafka-cdc            |\\n      | pong                 |\\n    And following knative triggers is in ready state in \"context-cyan\" namespace\\n      | Knative trigger name |\\n      | iocontext-trigger    |\\n      | kafka-cdc-trigger    |\\n      | pong-trigger         |\\n    And following knative brokers is in ready state in \"context-cyan\" namespace\\n      | Knative broker name |\\n      | context-broker      |\\n    And kafka topic \"context-cyan-cdc\" is in ready state in \"redpanda\" namespace\\n    And kafka source \"context-cyan-cdc-kafkasource\" is in ready state in \"context-cyan\" namespace\\n  \\n  Scenario: Create User and check k8s resources\\n    When God creates a MindWM user resource with the name \"bob\" and connects it to the context \"cyan\"\\n    Then the user resource should be ready and operable\\n    And namespace \"user-bob\" should exists \\n    And following knative brokers is in ready state in \"user-bob\" namespace\\n      | Knative broker name |\\n      | user-broker         |\\n    And following knative triggers is in ready state in \"context-cyan\" namespace\\n      | Knative trigger name          |\\n      | context-cyan-to-user-bob    |\\n    And following knative triggers is in ready state in \"user-bob\" namespace\\n      | Knative trigger name          |\\n      | user-bob-to-context-cyan    |\\n\\n  Scenario: Create Host and check k8s resources\\n    When God creates a MindWM host resource with the name \"workstation\" and connects it to the user \"bob\"\\n    Then the host resource should be ready and operable\\n    And NatsJetStreamChannel \"workstation-host-broker-kne-trigger\" is ready in \"user-bob\" namespace\\n    And following knative triggers is in ready state in \"user-bob\" namespace\\n      | Knative trigger name                    |\\n      | user-bob-to-context-cyan              |\\n      | user-broker-to-workstation-broker-trigger    |\\n    And following knative brokers is in ready state in \"user-bob\" namespace\\n      | Knative broker name  |\\n      | workstation-host-broker   |\\n\\n\\n\\n  Scenario: Delete Resources and Verify Cleanup\\n\\n    When God deletes the MindWM host resource \"workstation\"\\n    Then the host \"workstation\" should be deleted\\n\\n    When God deletes the MindWM user resource \"bob\"\\n    Then the user \"bob\" should be deleted\\n    And namespace \"user-bob\" should not exists\\n\\n    When God deletes the MindWM context resource \"cyan\"\\n    Then the context \"cyan\" should be deleted\\n    And namespace \"context-cyan\" should not exists\\n\\n\\n\\n', media_type='text/x.cucumber.gherkin+plain')"},{"name":"scenario","value":"Pickle(id='287', uri='file:features/2_mindwm_crd_resources.feature', name='Create Host and check k8s resources', language='en', steps=[PickleStep(argument=None, ast_node_ids=['199'], id='280', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['200'], id='281', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['237'], id='282', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"workstation\" and connects it to the user \"bob\"'), PickleStep(argument=None, ast_node_ids=['238'], id='283', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['239'], id='284', type=<Type.outcome: 'Outcome'>, text='NatsJetStreamChannel \"workstation-host-broker-kne-trigger\" is ready in \"user-bob\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative trigger name')]), PickleTableRow(cells=[PickleTableCell(value='user-bob-to-context-cyan')]), PickleTableRow(cells=[PickleTableCell(value='user-broker-to-workstation-broker-trigger')])])), ast_node_ids=['243'], id='285', type=<Type.outcome: 'Outcome'>, text='following knative triggers is in ready state in \"user-bob\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative broker name')]), PickleTableRow(cells=[PickleTableCell(value='workstation-host-broker')])])), ast_node_ids=['246'], id='286', type=<Type.outcome: 'Outcome'>, text='following knative brokers is in ready state in \"user-bob\" namespace')], tags=[PickleTag(name='@crd_resources', ast_node_id='257')], ast_node_ids=['247'])"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":["crd_resources","scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/2_mindwm_crd_resources.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=None, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())","pytest_bdd_scenario","@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')","namespace(create=False, name='default')"]},"source":"73f1207b573bd3ac.json","parameterValues":["Feature(gherkin_document=GherkinDocument(uri='file:features/2_mindwm_crd_resources.feature', feature=Feature(location=Location(line=2, column=1), tags=[Tag(location=Location(line=1, column=1), name='@crd_resources', id='257')], language='en', keyword='Feature', name='MindWM Custom kubernetes resources', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='199'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='200')], id='201'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Create Context and check k8s resources', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"cyan\"', doc_string=None, data_table=None, id='202'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='203'), Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-cyan\" should exists', doc_string=None, data_table=None, id='204'), Step(location=Location(line=12, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='helm release \"cyan-neo4j\" is deployed in \"context-cyan\" namespace', doc_string=None, data_table=None, id='205'), Step(location=Location(line=13, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"cyan-neo4j\" in namespace \"context-cyan\" is in ready state', doc_string=None, data_table=None, id='206'), Step(location=Location(line=14, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative service is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=15, column=7), rows=[TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='Knative service name')], id='207'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='dead-letter')], id='208'), TableRow(location=Location(line=17, column=7), cells=[TableCell(location=Location(line=17, column=9), value='iocontext')], id='209'), TableRow(location=Location(line=18, column=7), cells=[TableCell(location=Location(line=18, column=9), value='kafka-cdc')], id='210'), TableRow(location=Location(line=19, column=7), cells=[TableCell(location=Location(line=19, column=9), value='pong')], id='211')]), id='212'), Step(location=Location(line=20, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative triggers is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=21, column=7), rows=[TableRow(location=Location(line=21, column=7), cells=[TableCell(location=Location(line=21, column=9), value='Knative trigger name')], id='213'), TableRow(location=Location(line=22, column=7), cells=[TableCell(location=Location(line=22, column=9), value='iocontext-trigger')], id='214'), TableRow(location=Location(line=23, column=7), cells=[TableCell(location=Location(line=23, column=9), value='kafka-cdc-trigger')], id='215'), TableRow(location=Location(line=24, column=7), cells=[TableCell(location=Location(line=24, column=9), value='pong-trigger')], id='216')]), id='217'), Step(location=Location(line=25, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative brokers is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=26, column=7), rows=[TableRow(location=Location(line=26, column=7), cells=[TableCell(location=Location(line=26, column=9), value='Knative broker name')], id='218'), TableRow(location=Location(line=27, column=7), cells=[TableCell(location=Location(line=27, column=9), value='context-broker')], id='219')]), id='220'), Step(location=Location(line=28, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka topic \"context-cyan-cdc\" is in ready state in \"redpanda\" namespace', doc_string=None, data_table=None, id='221'), Step(location=Location(line=29, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka source \"context-cyan-cdc-kafkasource\" is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=None, id='222')], examples=[], id='223')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=31, column=3), tags=[], keyword='Scenario', name='Create User and check k8s resources', description='', steps=[Step(location=Location(line=32, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"bob\" and connects it to the context \"cyan\"', doc_string=None, data_table=None, id='224'), Step(location=Location(line=33, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='225'), Step(location=Location(line=34, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"user-bob\" should exists', doc_string=None, data_table=None, id='226'), Step(location=Location(line=35, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative brokers is in ready state in \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=36, column=7), rows=[TableRow(location=Location(line=36, column=7), cells=[TableCell(location=Location(line=36, column=9), value='Knative broker name')], id='227'), TableRow(location=Location(line=37, column=7), cells=[TableCell(location=Location(line=37, column=9), value='user-broker')], id='228')]), id='229'), Step(location=Location(line=38, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative triggers is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=39, column=7), rows=[TableRow(location=Location(line=39, column=7), cells=[TableCell(location=Location(line=39, column=9), value='Knative trigger name')], id='230'), TableRow(location=Location(line=40, column=7), cells=[TableCell(location=Location(line=40, column=9), value='context-cyan-to-user-bob')], id='231')]), id='232'), Step(location=Location(line=41, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative triggers is in ready state in \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=42, column=7), rows=[TableRow(location=Location(line=42, column=7), cells=[TableCell(location=Location(line=42, column=9), value='Knative trigger name')], id='233'), TableRow(location=Location(line=43, column=7), cells=[TableCell(location=Location(line=43, column=9), value='user-bob-to-context-cyan')], id='234')]), id='235')], examples=[], id='236')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=45, column=3), tags=[], keyword='Scenario', name='Create Host and check k8s resources', description='', steps=[Step(location=Location(line=46, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"workstation\" and connects it to the user \"bob\"', doc_string=None, data_table=None, id='237'), Step(location=Location(line=47, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='238'), Step(location=Location(line=48, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"workstation-host-broker-kne-trigger\" is ready in \"user-bob\" namespace', doc_string=None, data_table=None, id='239'), Step(location=Location(line=49, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative triggers is in ready state in \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=50, column=7), rows=[TableRow(location=Location(line=50, column=7), cells=[TableCell(location=Location(line=50, column=9), value='Knative trigger name')], id='240'), TableRow(location=Location(line=51, column=7), cells=[TableCell(location=Location(line=51, column=9), value='user-bob-to-context-cyan')], id='241'), TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='user-broker-to-workstation-broker-trigger')], id='242')]), id='243'), Step(location=Location(line=53, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative brokers is in ready state in \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=54, column=7), rows=[TableRow(location=Location(line=54, column=7), cells=[TableCell(location=Location(line=54, column=9), value='Knative broker name')], id='244'), TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='workstation-host-broker')], id='245')]), id='246')], examples=[], id='247')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=59, column=3), tags=[], keyword='Scenario', name='Delete Resources and Verify Cleanup', description='', steps=[Step(location=Location(line=61, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"workstation\"', doc_string=None, data_table=None, id='248'), Step(location=Location(line=62, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"workstation\" should be deleted', doc_string=None, data_table=None, id='249'), Step(location=Location(line=64, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"bob\"', doc_string=None, data_table=None, id='250'), Step(location=Location(line=65, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"bob\" should be deleted', doc_string=None, data_table=None, id='251'), Step(location=Location(line=66, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"user-bob\" should not exists', doc_string=None, data_table=None, id='252'), Step(location=Location(line=68, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"cyan\"', doc_string=None, data_table=None, id='253'), Step(location=Location(line=69, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"cyan\" should be deleted', doc_string=None, data_table=None, id='254'), Step(location=Location(line=70, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-cyan\" should not exists', doc_string=None, data_table=None, id='255')], examples=[], id='256'))]), comments=[]), uri='file:features/2_mindwm_crd_resources.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/2_mindwm_crd_resources.feature', registry={'257': Tag(location=Location(line=1, column=1), name='@crd_resources', id='257'), '201': Background(location=Location(line=4, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='199'), Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='200')], id='201'), '199': Step(location=Location(line=5, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='a MindWM environment', doc_string=None, data_table=None, id='199'), '200': Step(location=Location(line=6, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='200'), '223': Scenario(location=Location(line=8, column=3), tags=[], keyword='Scenario', name='Create Context and check k8s resources', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"cyan\"', doc_string=None, data_table=None, id='202'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='203'), Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-cyan\" should exists', doc_string=None, data_table=None, id='204'), Step(location=Location(line=12, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='helm release \"cyan-neo4j\" is deployed in \"context-cyan\" namespace', doc_string=None, data_table=None, id='205'), Step(location=Location(line=13, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"cyan-neo4j\" in namespace \"context-cyan\" is in ready state', doc_string=None, data_table=None, id='206'), Step(location=Location(line=14, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative service is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=15, column=7), rows=[TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='Knative service name')], id='207'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='dead-letter')], id='208'), TableRow(location=Location(line=17, column=7), cells=[TableCell(location=Location(line=17, column=9), value='iocontext')], id='209'), TableRow(location=Location(line=18, column=7), cells=[TableCell(location=Location(line=18, column=9), value='kafka-cdc')], id='210'), TableRow(location=Location(line=19, column=7), cells=[TableCell(location=Location(line=19, column=9), value='pong')], id='211')]), id='212'), Step(location=Location(line=20, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative triggers is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=21, column=7), rows=[TableRow(location=Location(line=21, column=7), cells=[TableCell(location=Location(line=21, column=9), value='Knative trigger name')], id='213'), TableRow(location=Location(line=22, column=7), cells=[TableCell(location=Location(line=22, column=9), value='iocontext-trigger')], id='214'), TableRow(location=Location(line=23, column=7), cells=[TableCell(location=Location(line=23, column=9), value='kafka-cdc-trigger')], id='215'), TableRow(location=Location(line=24, column=7), cells=[TableCell(location=Location(line=24, column=9), value='pong-trigger')], id='216')]), id='217'), Step(location=Location(line=25, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative brokers is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=26, column=7), rows=[TableRow(location=Location(line=26, column=7), cells=[TableCell(location=Location(line=26, column=9), value='Knative broker name')], id='218'), TableRow(location=Location(line=27, column=7), cells=[TableCell(location=Location(line=27, column=9), value='context-broker')], id='219')]), id='220'), Step(location=Location(line=28, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka topic \"context-cyan-cdc\" is in ready state in \"redpanda\" namespace', doc_string=None, data_table=None, id='221'), Step(location=Location(line=29, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka source \"context-cyan-cdc-kafkasource\" is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=None, id='222')], examples=[], id='223'), '202': Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"cyan\"', doc_string=None, data_table=None, id='202'), '203': Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='203'), '204': Step(location=Location(line=11, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-cyan\" should exists', doc_string=None, data_table=None, id='204'), '205': Step(location=Location(line=12, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='helm release \"cyan-neo4j\" is deployed in \"context-cyan\" namespace', doc_string=None, data_table=None, id='205'), '206': Step(location=Location(line=13, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='statefulset \"cyan-neo4j\" in namespace \"context-cyan\" is in ready state', doc_string=None, data_table=None, id='206'), '212': Step(location=Location(line=14, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative service is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=15, column=7), rows=[TableRow(location=Location(line=15, column=7), cells=[TableCell(location=Location(line=15, column=9), value='Knative service name')], id='207'), TableRow(location=Location(line=16, column=7), cells=[TableCell(location=Location(line=16, column=9), value='dead-letter')], id='208'), TableRow(location=Location(line=17, column=7), cells=[TableCell(location=Location(line=17, column=9), value='iocontext')], id='209'), TableRow(location=Location(line=18, column=7), cells=[TableCell(location=Location(line=18, column=9), value='kafka-cdc')], id='210'), TableRow(location=Location(line=19, column=7), cells=[TableCell(location=Location(line=19, column=9), value='pong')], id='211')]), id='212'), '217': Step(location=Location(line=20, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative triggers is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=21, column=7), rows=[TableRow(location=Location(line=21, column=7), cells=[TableCell(location=Location(line=21, column=9), value='Knative trigger name')], id='213'), TableRow(location=Location(line=22, column=7), cells=[TableCell(location=Location(line=22, column=9), value='iocontext-trigger')], id='214'), TableRow(location=Location(line=23, column=7), cells=[TableCell(location=Location(line=23, column=9), value='kafka-cdc-trigger')], id='215'), TableRow(location=Location(line=24, column=7), cells=[TableCell(location=Location(line=24, column=9), value='pong-trigger')], id='216')]), id='217'), '220': Step(location=Location(line=25, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative brokers is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=26, column=7), rows=[TableRow(location=Location(line=26, column=7), cells=[TableCell(location=Location(line=26, column=9), value='Knative broker name')], id='218'), TableRow(location=Location(line=27, column=7), cells=[TableCell(location=Location(line=27, column=9), value='context-broker')], id='219')]), id='220'), '221': Step(location=Location(line=28, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka topic \"context-cyan-cdc\" is in ready state in \"redpanda\" namespace', doc_string=None, data_table=None, id='221'), '222': Step(location=Location(line=29, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='kafka source \"context-cyan-cdc-kafkasource\" is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=None, id='222'), '236': Scenario(location=Location(line=31, column=3), tags=[], keyword='Scenario', name='Create User and check k8s resources', description='', steps=[Step(location=Location(line=32, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"bob\" and connects it to the context \"cyan\"', doc_string=None, data_table=None, id='224'), Step(location=Location(line=33, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='225'), Step(location=Location(line=34, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"user-bob\" should exists', doc_string=None, data_table=None, id='226'), Step(location=Location(line=35, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative brokers is in ready state in \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=36, column=7), rows=[TableRow(location=Location(line=36, column=7), cells=[TableCell(location=Location(line=36, column=9), value='Knative broker name')], id='227'), TableRow(location=Location(line=37, column=7), cells=[TableCell(location=Location(line=37, column=9), value='user-broker')], id='228')]), id='229'), Step(location=Location(line=38, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative triggers is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=39, column=7), rows=[TableRow(location=Location(line=39, column=7), cells=[TableCell(location=Location(line=39, column=9), value='Knative trigger name')], id='230'), TableRow(location=Location(line=40, column=7), cells=[TableCell(location=Location(line=40, column=9), value='context-cyan-to-user-bob')], id='231')]), id='232'), Step(location=Location(line=41, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative triggers is in ready state in \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=42, column=7), rows=[TableRow(location=Location(line=42, column=7), cells=[TableCell(location=Location(line=42, column=9), value='Knative trigger name')], id='233'), TableRow(location=Location(line=43, column=7), cells=[TableCell(location=Location(line=43, column=9), value='user-bob-to-context-cyan')], id='234')]), id='235')], examples=[], id='236'), '224': Step(location=Location(line=32, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"bob\" and connects it to the context \"cyan\"', doc_string=None, data_table=None, id='224'), '225': Step(location=Location(line=33, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='225'), '226': Step(location=Location(line=34, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"user-bob\" should exists', doc_string=None, data_table=None, id='226'), '229': Step(location=Location(line=35, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative brokers is in ready state in \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=36, column=7), rows=[TableRow(location=Location(line=36, column=7), cells=[TableCell(location=Location(line=36, column=9), value='Knative broker name')], id='227'), TableRow(location=Location(line=37, column=7), cells=[TableCell(location=Location(line=37, column=9), value='user-broker')], id='228')]), id='229'), '232': Step(location=Location(line=38, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative triggers is in ready state in \"context-cyan\" namespace', doc_string=None, data_table=DataTable(location=Location(line=39, column=7), rows=[TableRow(location=Location(line=39, column=7), cells=[TableCell(location=Location(line=39, column=9), value='Knative trigger name')], id='230'), TableRow(location=Location(line=40, column=7), cells=[TableCell(location=Location(line=40, column=9), value='context-cyan-to-user-bob')], id='231')]), id='232'), '235': Step(location=Location(line=41, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative triggers is in ready state in \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=42, column=7), rows=[TableRow(location=Location(line=42, column=7), cells=[TableCell(location=Location(line=42, column=9), value='Knative trigger name')], id='233'), TableRow(location=Location(line=43, column=7), cells=[TableCell(location=Location(line=43, column=9), value='user-bob-to-context-cyan')], id='234')]), id='235'), '247': Scenario(location=Location(line=45, column=3), tags=[], keyword='Scenario', name='Create Host and check k8s resources', description='', steps=[Step(location=Location(line=46, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"workstation\" and connects it to the user \"bob\"', doc_string=None, data_table=None, id='237'), Step(location=Location(line=47, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='238'), Step(location=Location(line=48, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"workstation-host-broker-kne-trigger\" is ready in \"user-bob\" namespace', doc_string=None, data_table=None, id='239'), Step(location=Location(line=49, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative triggers is in ready state in \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=50, column=7), rows=[TableRow(location=Location(line=50, column=7), cells=[TableCell(location=Location(line=50, column=9), value='Knative trigger name')], id='240'), TableRow(location=Location(line=51, column=7), cells=[TableCell(location=Location(line=51, column=9), value='user-bob-to-context-cyan')], id='241'), TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='user-broker-to-workstation-broker-trigger')], id='242')]), id='243'), Step(location=Location(line=53, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative brokers is in ready state in \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=54, column=7), rows=[TableRow(location=Location(line=54, column=7), cells=[TableCell(location=Location(line=54, column=9), value='Knative broker name')], id='244'), TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='workstation-host-broker')], id='245')]), id='246')], examples=[], id='247'), '237': Step(location=Location(line=46, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"workstation\" and connects it to the user \"bob\"', doc_string=None, data_table=None, id='237'), '238': Step(location=Location(line=47, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='238'), '239': Step(location=Location(line=48, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='NatsJetStreamChannel \"workstation-host-broker-kne-trigger\" is ready in \"user-bob\" namespace', doc_string=None, data_table=None, id='239'), '243': Step(location=Location(line=49, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative triggers is in ready state in \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=50, column=7), rows=[TableRow(location=Location(line=50, column=7), cells=[TableCell(location=Location(line=50, column=9), value='Knative trigger name')], id='240'), TableRow(location=Location(line=51, column=7), cells=[TableCell(location=Location(line=51, column=9), value='user-bob-to-context-cyan')], id='241'), TableRow(location=Location(line=52, column=7), cells=[TableCell(location=Location(line=52, column=9), value='user-broker-to-workstation-broker-trigger')], id='242')]), id='243'), '246': Step(location=Location(line=53, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='following knative brokers is in ready state in \"user-bob\" namespace', doc_string=None, data_table=DataTable(location=Location(line=54, column=7), rows=[TableRow(location=Location(line=54, column=7), cells=[TableCell(location=Location(line=54, column=9), value='Knative broker name')], id='244'), TableRow(location=Location(line=55, column=7), cells=[TableCell(location=Location(line=55, column=9), value='workstation-host-broker')], id='245')]), id='246'), '256': Scenario(location=Location(line=59, column=3), tags=[], keyword='Scenario', name='Delete Resources and Verify Cleanup', description='', steps=[Step(location=Location(line=61, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"workstation\"', doc_string=None, data_table=None, id='248'), Step(location=Location(line=62, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"workstation\" should be deleted', doc_string=None, data_table=None, id='249'), Step(location=Location(line=64, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"bob\"', doc_string=None, data_table=None, id='250'), Step(location=Location(line=65, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"bob\" should be deleted', doc_string=None, data_table=None, id='251'), Step(location=Location(line=66, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"user-bob\" should not exists', doc_string=None, data_table=None, id='252'), Step(location=Location(line=68, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"cyan\"', doc_string=None, data_table=None, id='253'), Step(location=Location(line=69, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"cyan\" should be deleted', doc_string=None, data_table=None, id='254'), Step(location=Location(line=70, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-cyan\" should not exists', doc_string=None, data_table=None, id='255')], examples=[], id='256'), '248': Step(location=Location(line=61, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"workstation\"', doc_string=None, data_table=None, id='248'), '249': Step(location=Location(line=62, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"workstation\" should be deleted', doc_string=None, data_table=None, id='249'), '250': Step(location=Location(line=64, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"bob\"', doc_string=None, data_table=None, id='250'), '251': Step(location=Location(line=65, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user \"bob\" should be deleted', doc_string=None, data_table=None, id='251'), '252': Step(location=Location(line=66, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"user-bob\" should not exists', doc_string=None, data_table=None, id='252'), '253': Step(location=Location(line=68, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"cyan\"', doc_string=None, data_table=None, id='253'), '254': Step(location=Location(line=69, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context \"cyan\" should be deleted', doc_string=None, data_table=None, id='254'), '255': Step(location=Location(line=70, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='namespace \"context-cyan\" should not exists', doc_string=None, data_table=None, id='255')}, pickles=[Pickle(id='270', uri='file:features/2_mindwm_crd_resources.feature', name='Create Context and check k8s resources', language='en', steps=[PickleStep(argument=None, ast_node_ids=['199'], id='258', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['200'], id='259', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['202'], id='260', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"cyan\"'), PickleStep(argument=None, ast_node_ids=['203'], id='261', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=None, ast_node_ids=['204'], id='262', type=<Type.outcome: 'Outcome'>, text='namespace \"context-cyan\" should exists'), PickleStep(argument=None, ast_node_ids=['205'], id='263', type=<Type.outcome: 'Outcome'>, text='helm release \"cyan-neo4j\" is deployed in \"context-cyan\" namespace'), PickleStep(argument=None, ast_node_ids=['206'], id='264', type=<Type.outcome: 'Outcome'>, text='statefulset \"cyan-neo4j\" in namespace \"context-cyan\" is in ready state'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='dead-letter')]), PickleTableRow(cells=[PickleTableCell(value='iocontext')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc')]), PickleTableRow(cells=[PickleTableCell(value='pong')])])), ast_node_ids=['212'], id='265', type=<Type.outcome: 'Outcome'>, text='following knative service is in ready state in \"context-cyan\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative trigger name')]), PickleTableRow(cells=[PickleTableCell(value='iocontext-trigger')]), PickleTableRow(cells=[PickleTableCell(value='kafka-cdc-trigger')]), PickleTableRow(cells=[PickleTableCell(value='pong-trigger')])])), ast_node_ids=['217'], id='266', type=<Type.outcome: 'Outcome'>, text='following knative triggers is in ready state in \"context-cyan\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative broker name')]), PickleTableRow(cells=[PickleTableCell(value='context-broker')])])), ast_node_ids=['220'], id='267', type=<Type.outcome: 'Outcome'>, text='following knative brokers is in ready state in \"context-cyan\" namespace'), PickleStep(argument=None, ast_node_ids=['221'], id='268', type=<Type.outcome: 'Outcome'>, text='kafka topic \"context-cyan-cdc\" is in ready state in \"redpanda\" namespace'), PickleStep(argument=None, ast_node_ids=['222'], id='269', type=<Type.outcome: 'Outcome'>, text='kafka source \"context-cyan-cdc-kafkasource\" is in ready state in \"context-cyan\" namespace')], tags=[PickleTag(name='@crd_resources', ast_node_id='257')], ast_node_ids=['223']), Pickle(id='279', uri='file:features/2_mindwm_crd_resources.feature', name='Create User and check k8s resources', language='en', steps=[PickleStep(argument=None, ast_node_ids=['199'], id='271', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['200'], id='272', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['224'], id='273', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"bob\" and connects it to the context \"cyan\"'), PickleStep(argument=None, ast_node_ids=['225'], id='274', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['226'], id='275', type=<Type.outcome: 'Outcome'>, text='namespace \"user-bob\" should exists'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative broker name')]), PickleTableRow(cells=[PickleTableCell(value='user-broker')])])), ast_node_ids=['229'], id='276', type=<Type.outcome: 'Outcome'>, text='following knative brokers is in ready state in \"user-bob\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative trigger name')]), PickleTableRow(cells=[PickleTableCell(value='context-cyan-to-user-bob')])])), ast_node_ids=['232'], id='277', type=<Type.outcome: 'Outcome'>, text='following knative triggers is in ready state in \"context-cyan\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative trigger name')]), PickleTableRow(cells=[PickleTableCell(value='user-bob-to-context-cyan')])])), ast_node_ids=['235'], id='278', type=<Type.outcome: 'Outcome'>, text='following knative triggers is in ready state in \"user-bob\" namespace')], tags=[PickleTag(name='@crd_resources', ast_node_id='257')], ast_node_ids=['236']), Pickle(id='287', uri='file:features/2_mindwm_crd_resources.feature', name='Create Host and check k8s resources', language='en', steps=[PickleStep(argument=None, ast_node_ids=['199'], id='280', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['200'], id='281', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['237'], id='282', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"workstation\" and connects it to the user \"bob\"'), PickleStep(argument=None, ast_node_ids=['238'], id='283', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['239'], id='284', type=<Type.outcome: 'Outcome'>, text='NatsJetStreamChannel \"workstation-host-broker-kne-trigger\" is ready in \"user-bob\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative trigger name')]), PickleTableRow(cells=[PickleTableCell(value='user-bob-to-context-cyan')]), PickleTableRow(cells=[PickleTableCell(value='user-broker-to-workstation-broker-trigger')])])), ast_node_ids=['243'], id='285', type=<Type.outcome: 'Outcome'>, text='following knative triggers is in ready state in \"user-bob\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative broker name')]), PickleTableRow(cells=[PickleTableCell(value='workstation-host-broker')])])), ast_node_ids=['246'], id='286', type=<Type.outcome: 'Outcome'>, text='following knative brokers is in ready state in \"user-bob\" namespace')], tags=[PickleTag(name='@crd_resources', ast_node_id='257')], ast_node_ids=['247']), Pickle(id='298', uri='file:features/2_mindwm_crd_resources.feature', name='Delete Resources and Verify Cleanup', language='en', steps=[PickleStep(argument=None, ast_node_ids=['199'], id='288', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['200'], id='289', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['248'], id='290', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"workstation\"'), PickleStep(argument=None, ast_node_ids=['249'], id='291', type=<Type.outcome: 'Outcome'>, text='the host \"workstation\" should be deleted'), PickleStep(argument=None, ast_node_ids=['250'], id='292', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"bob\"'), PickleStep(argument=None, ast_node_ids=['251'], id='293', type=<Type.outcome: 'Outcome'>, text='the user \"bob\" should be deleted'), PickleStep(argument=None, ast_node_ids=['252'], id='294', type=<Type.outcome: 'Outcome'>, text='namespace \"user-bob\" should not exists'), PickleStep(argument=None, ast_node_ids=['253'], id='295', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"cyan\"'), PickleStep(argument=None, ast_node_ids=['254'], id='296', type=<Type.outcome: 'Outcome'>, text='the context \"cyan\" should be deleted'), PickleStep(argument=None, ast_node_ids=['255'], id='297', type=<Type.outcome: 'Outcome'>, text='namespace \"context-cyan\" should not exists')], tags=[PickleTag(name='@crd_resources', ast_node_id='257')], ast_node_ids=['256'])])","Source(uri='file:features/2_mindwm_crd_resources.feature', data='@crd_resources\\nFeature: MindWM Custom kubernetes resources\\n\\n  Background:\\n    Given a MindWM environment\\n    Then all nodes in Kubernetes are ready\\n    \\n  Scenario: Create Context and check k8s resources\\n    When God creates a MindWM context with the name \"cyan\"\\n    Then the context should be ready and operable\\n    And namespace \"context-cyan\" should exists \\n    And helm release \"cyan-neo4j\" is deployed in \"context-cyan\" namespace\\n    And statefulset \"cyan-neo4j\" in namespace \"context-cyan\" is in ready state\\n    And following knative service is in ready state in \"context-cyan\" namespace\\n      | Knative service name |\\n      | dead-letter          |\\n      | iocontext            |\\n      | kafka-cdc            |\\n      | pong                 |\\n    And following knative triggers is in ready state in \"context-cyan\" namespace\\n      | Knative trigger name |\\n      | iocontext-trigger    |\\n      | kafka-cdc-trigger    |\\n      | pong-trigger         |\\n    And following knative brokers is in ready state in \"context-cyan\" namespace\\n      | Knative broker name |\\n      | context-broker      |\\n    And kafka topic \"context-cyan-cdc\" is in ready state in \"redpanda\" namespace\\n    And kafka source \"context-cyan-cdc-kafkasource\" is in ready state in \"context-cyan\" namespace\\n  \\n  Scenario: Create User and check k8s resources\\n    When God creates a MindWM user resource with the name \"bob\" and connects it to the context \"cyan\"\\n    Then the user resource should be ready and operable\\n    And namespace \"user-bob\" should exists \\n    And following knative brokers is in ready state in \"user-bob\" namespace\\n      | Knative broker name |\\n      | user-broker         |\\n    And following knative triggers is in ready state in \"context-cyan\" namespace\\n      | Knative trigger name          |\\n      | context-cyan-to-user-bob    |\\n    And following knative triggers is in ready state in \"user-bob\" namespace\\n      | Knative trigger name          |\\n      | user-bob-to-context-cyan    |\\n\\n  Scenario: Create Host and check k8s resources\\n    When God creates a MindWM host resource with the name \"workstation\" and connects it to the user \"bob\"\\n    Then the host resource should be ready and operable\\n    And NatsJetStreamChannel \"workstation-host-broker-kne-trigger\" is ready in \"user-bob\" namespace\\n    And following knative triggers is in ready state in \"user-bob\" namespace\\n      | Knative trigger name                    |\\n      | user-bob-to-context-cyan              |\\n      | user-broker-to-workstation-broker-trigger    |\\n    And following knative brokers is in ready state in \"user-bob\" namespace\\n      | Knative broker name  |\\n      | workstation-host-broker   |\\n\\n\\n\\n  Scenario: Delete Resources and Verify Cleanup\\n\\n    When God deletes the MindWM host resource \"workstation\"\\n    Then the host \"workstation\" should be deleted\\n\\n    When God deletes the MindWM user resource \"bob\"\\n    Then the user \"bob\" should be deleted\\n    And namespace \"user-bob\" should not exists\\n\\n    When God deletes the MindWM context resource \"cyan\"\\n    Then the context \"cyan\" should be deleted\\n    And namespace \"context-cyan\" should not exists\\n\\n\\n\\n', media_type='text/x.cucumber.gherkin+plain')","Pickle(id='287', uri='file:features/2_mindwm_crd_resources.feature', name='Create Host and check k8s resources', language='en', steps=[PickleStep(argument=None, ast_node_ids=['199'], id='280', type=<Type.context: 'Context'>, text='a MindWM environment'), PickleStep(argument=None, ast_node_ids=['200'], id='281', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['237'], id='282', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"workstation\" and connects it to the user \"bob\"'), PickleStep(argument=None, ast_node_ids=['238'], id='283', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['239'], id='284', type=<Type.outcome: 'Outcome'>, text='NatsJetStreamChannel \"workstation-host-broker-kne-trigger\" is ready in \"user-bob\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative trigger name')]), PickleTableRow(cells=[PickleTableCell(value='user-bob-to-context-cyan')]), PickleTableRow(cells=[PickleTableCell(value='user-broker-to-workstation-broker-trigger')])])), ast_node_ids=['243'], id='285', type=<Type.outcome: 'Outcome'>, text='following knative triggers is in ready state in \"user-bob\" namespace'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative broker name')]), PickleTableRow(cells=[PickleTableCell(value='workstation-host-broker')])])), ast_node_ids=['246'], id='286', type=<Type.outcome: 'Outcome'>, text='following knative brokers is in ready state in \"user-bob\" namespace')], tags=[PickleTag(name='@crd_resources', ast_node_id='257')], ast_node_ids=['247'])"]}