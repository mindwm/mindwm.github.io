{"uid":"b3a680aaedd900be","name":"test_scenarios[file:features/3_mindwm_ping_pong.feature-MindWM Ping-pong EDA test-Ping green4[table_rows:[line: 47]]]","fullName":"features.3_mindwm_ping_pong#test_scenarios","historyId":"34dd1d655d6ab24ffef36002474513f9","time":{"start":1726930460865,"stop":1726930490488,"duration":29623},"status":"failed","statusMessage":"AssertionError: Scope span jetstream-ch-dispatcher not found in trace data\nassert None is not None","statusTrace":"self = <pytest_bdd.runner.ScenarioRunner object at 0x788ed429e660>\nitem = <Function test_scenarios[file:features/3_mindwm_ping_pong.feature-MindWM Ping-pong EDA test-Ping green4[table_rows:[line: 47]]]>\n\n    def pytest_runtest_call(self, item: Item):\n        if \"pytest_bdd_scenario\" in list(map(attrgetter(\"name\"), item.iter_markers())):\n            self.request = item._request\n            self.feature = self.request.getfixturevalue(\"feature\")\n            self.scenario = self.request.getfixturevalue(\"scenario\")\n            self.plugin_manager = self.request.config.hook\n            self.plugin_manager.pytest_bdd_before_scenario(\n                request=self.request, feature=self.feature, scenario=self.scenario\n            )\n            try:\n>               self.plugin_manager.pytest_bdd_run_scenario(\n                    request=self.request,\n                    feature=self.feature,\n                    scenario=self.scenario,\n                )\n\n.venv/lib/python3.12/site-packages/pytest_bdd/runner.py:37: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/pytest_bdd/runner.py:59: in pytest_bdd_run_scenario\n    return step_dispatcher(steps)\n.venv/lib/python3.12/site-packages/pytest_bdd/runner.py:69: in dispatcher\n    self.plugin_manager.pytest_bdd_run_step(\n.venv/lib/python3.12/site-packages/pytest_bdd/runner.py:128: in pytest_bdd_run_step\n    step_result = step_caller()\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nstep = PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTable...atcher')])])), ast_node_ids=['329', '332'], id='362', type=<Type.outcome: 'Outcome'>, text='the trace should contains')\ntrace_data = {'data': resource_spans {\n  resource {\n    attributes {\n      key: \"service.name\"\n      value {\n        string_value: ..._time_unix_nano: 1726930485352338993\n      end_time_unix_nano: 1726930485361532745\n      status {\n      }\n    }\n  }\n}\n}\n\n    @then(\"the trace should contains\")\n    def trace_should_contains(step, trace_data):\n        #pprint.pprint(f\"TRACE DATA = {trace_data['data']}\")\n        title_row, *rows = step.data_table.rows\n        for row in rows:\n            service_name = row.cells[0].value\n            #http_code = row.cells[1].value\n            #http_path = row.cells[2].value\n            #pprint.pprint(f\"{service_name} {http_code} {http_path}\")\n            scope_span = utils.span_by_service_name(trace_data['data'], service_name)\n>           assert(scope_span is not None), f\"Scope span {service_name} not found in trace data\"\nE           AssertionError: Scope span jetstream-ch-dispatcher not found in trace data\nE           assert None is not None\n\nconftest.py:434: AssertionError","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"pytestconfig","time":{"start":1726929208680,"stop":1726929208680,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"steps_left","time":{"start":1726930460865,"stop":1726930460865,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"step_registry","time":{"start":1726930460865,"stop":1726930460865,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"parameter_type_registry","time":{"start":1726930460865,"stop":1726930460865,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"step_matcher","time":{"start":1726930460865,"stop":1726930460865,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"step_registry","time":{"start":1726930460865,"stop":1726930460865,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"kubecontext","time":{"start":1726930460867,"stop":1726930460867,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"kubeconfig","time":{"start":1726930460867,"stop":1726930460867,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"kube","time":{"start":1726930460867,"stop":1726930460870,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"ctx","time":{"start":1726930460914,"stop":1726930460914,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"cloudevent","time":{"start":1726930485213,"stop":1726930485213,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"trace_data","time":{"start":1726930485415,"stop":1726930485415,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: Scope span jetstream-ch-dispatcher not found in trace data\nassert None is not None","statusTrace":"self = <pytest_bdd.runner.ScenarioRunner object at 0x788ed429e660>\nitem = <Function test_scenarios[file:features/3_mindwm_ping_pong.feature-MindWM Ping-pong EDA test-Ping green4[table_rows:[line: 47]]]>\n\n    def pytest_runtest_call(self, item: Item):\n        if \"pytest_bdd_scenario\" in list(map(attrgetter(\"name\"), item.iter_markers())):\n            self.request = item._request\n            self.feature = self.request.getfixturevalue(\"feature\")\n            self.scenario = self.request.getfixturevalue(\"scenario\")\n            self.plugin_manager = self.request.config.hook\n            self.plugin_manager.pytest_bdd_before_scenario(\n                request=self.request, feature=self.feature, scenario=self.scenario\n            )\n            try:\n>               self.plugin_manager.pytest_bdd_run_scenario(\n                    request=self.request,\n                    feature=self.feature,\n                    scenario=self.scenario,\n                )\n\n.venv/lib/python3.12/site-packages/pytest_bdd/runner.py:37: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv/lib/python3.12/site-packages/pytest_bdd/runner.py:59: in pytest_bdd_run_scenario\n    return step_dispatcher(steps)\n.venv/lib/python3.12/site-packages/pytest_bdd/runner.py:69: in dispatcher\n    self.plugin_manager.pytest_bdd_run_step(\n.venv/lib/python3.12/site-packages/pytest_bdd/runner.py:128: in pytest_bdd_run_step\n    step_result = step_caller()\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nstep = PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTable...atcher')])])), ast_node_ids=['329', '332'], id='362', type=<Type.outcome: 'Outcome'>, text='the trace should contains')\ntrace_data = {'data': resource_spans {\n  resource {\n    attributes {\n      key: \"service.name\"\n      value {\n        string_value: ..._time_unix_nano: 1726930485352338993\n      end_time_unix_nano: 1726930485361532745\n      status {\n      }\n    }\n  }\n}\n}\n\n    @then(\"the trace should contains\")\n    def trace_should_contains(step, trace_data):\n        #pprint.pprint(f\"TRACE DATA = {trace_data['data']}\")\n        title_row, *rows = step.data_table.rows\n        for row in rows:\n            service_name = row.cells[0].value\n            #http_code = row.cells[1].value\n            #http_path = row.cells[2].value\n            #pprint.pprint(f\"{service_name} {http_code} {http_path}\")\n            scope_span = utils.span_by_service_name(trace_data['data'], service_name)\n>           assert(scope_span is not None), f\"Scope span {service_name} not found in trace data\"\nE           AssertionError: Scope span jetstream-ch-dispatcher not found in trace data\nE           assert None is not None\n\nconftest.py:434: AssertionError","steps":[{"name":"Mindwm crd 'xcontexts' is exists","time":{"start":1726930460879,"stop":1726930460879,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Mindwm crd 'xhosts' is exists","time":{"start":1726930460884,"stop":1726930460884,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Mindwm crd 'xusers' is exists","time":{"start":1726930460888,"stop":1726930460889,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Kubernetes node 'localhost' is True","time":{"start":1726930460909,"stop":1726930460909,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Create context 'green4'","time":{"start":1726930460921,"stop":1726930460921,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Knative service 'context-green4'/'pong' ready state is Unknown","time":{"start":1726930462085,"stop":1726930462086,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Create user 'amanda4' with context green4","time":{"start":1726930462154,"stop":1726930462154,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Host 'pi6-host' has created","time":{"start":1726930474102,"stop":1726930474102,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":8,"attachmentsCount":0,"hasContent":true},"afterStages":[],"labels":[{"name":"tag","value":"scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/3_mindwm_ping_pong.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=None, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())"},{"name":"tag","value":"@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')"},{"name":"tag","value":"pytest_bdd_scenario"},{"name":"tag","value":"ping_pong"},{"name":"tag","value":"namespace(create=False, name='default')"},{"name":"parentSuite","value":"features"},{"name":"suite","value":"3_mindwm_ping_pong"},{"name":"host","value":"localhost"},{"name":"thread","value":"4146-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"features.3_mindwm_ping_pong"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"feature","value":"Feature(gherkin_document=GherkinDocument(uri='file:features/3_mindwm_ping_pong.feature', feature=Feature(location=Location(line=2, column=1), tags=[Tag(location=Location(line=1, column=1), name='@ping_pong', id='343')], language='en', keyword='Feature', name='MindWM Ping-pong EDA test', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=3, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=4, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='304'), Step(location=Location(line=5, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='305')], id='306'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=7, column=3), tags=[], keyword='Scenario', name='Ping <context>', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='307'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='308'), Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='following knative service is in ready state in \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='309'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='pong')], id='310')]), id='311'), Step(location=Location(line=15, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='312'), Step(location=Location(line=16, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='313'), Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='314'), Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='315'), Step(location=Location(line=21, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='316'), Step(location=Location(line=22, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='317'), Step(location=Location(line=23, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent \"ce-id\" to \"<cloudevent_id>\"', doc_string=None, data_table=None, id='318'), Step(location=Location(line=24, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='319'), Step(location=Location(line=25, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='320'), Step(location=Location(line=26, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"', doc_string=None, data_table=None, id='321'), Step(location=Location(line=27, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='322'), Step(location=Location(line=28, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to \"context-broker\" in \"context-<context>\" namespace', doc_string=DocString(location=Location(line=29, column=9), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n}', delimiter='\"\"\"'), data_table=None, id='323'), Step(location=Location(line=37, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the trace with \"<traceparent>\" should appear in TraceQL', doc_string=None, data_table=None, id='324'), Step(location=Location(line=38, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the trace should contains', doc_string=None, data_table=DataTable(location=Location(line=39, column=7), rows=[TableRow(location=Location(line=39, column=7), cells=[TableCell(location=Location(line=39, column=9), value='service name')], id='325'), TableRow(location=Location(line=40, column=7), cells=[TableCell(location=Location(line=40, column=9), value='broker-ingress.knative-eventing')], id='326'), TableRow(location=Location(line=41, column=7), cells=[TableCell(location=Location(line=41, column=9), value='unknown_service')], id='327'), TableRow(location=Location(line=42, column=7), cells=[TableCell(location=Location(line=42, column=9), value='jetstream-ch-dispatcher')], id='328')]), id='329'), Step(location=Location(line=43, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic', doc_string=None, data_table=None, id='330')], examples=[Examples(location=Location(line=45, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=46, column=6), cells=[TableCell(location=Location(line=46, column=8), value='context'), TableCell(location=Location(line=46, column=18), value='username'), TableCell(location=Location(line=46, column=31), value='host'), TableCell(location=Location(line=46, column=43), value='cloudevent_id'), TableCell(location=Location(line=46, column=82), value='traceparent')], id='331'), table_body=[TableRow(location=Location(line=47, column=6), cells=[TableCell(location=Location(line=47, column=8), value='green4'), TableCell(location=Location(line=47, column=19), value='amanda4'), TableCell(location=Location(line=47, column=31), value='pi6-host'), TableCell(location=Location(line=47, column=43), value='442af213-c860-4535-b639-355f13b2d443'), TableCell(location=Location(line=47, column=82), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='332')], id='333')], id='334')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=50, column=4), tags=[], keyword='Scenario', name='Cleanup <username>@<host> in <context>', description='', steps=[Step(location=Location(line=51, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='335'), Step(location=Location(line=52, column=6), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='336'), Step(location=Location(line=54, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='337'), Step(location=Location(line=56, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='338')], examples=[Examples(location=Location(line=58, column=6), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=59, column=6), cells=[TableCell(location=Location(line=59, column=8), value='context'), TableCell(location=Location(line=59, column=18), value='username'), TableCell(location=Location(line=59, column=29), value='host')], id='339'), table_body=[TableRow(location=Location(line=60, column=6), cells=[TableCell(location=Location(line=60, column=8), value='green4'), TableCell(location=Location(line=60, column=19), value='amanda4'), TableCell(location=Location(line=60, column=31), value='pi6-host')], id='340')], id='341')], id='342'))]), comments=[]), uri='file:features/3_mindwm_ping_pong.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/3_mindwm_ping_pong.feature', registry={'343': Tag(location=Location(line=1, column=1), name='@ping_pong', id='343'), '306': Background(location=Location(line=3, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=4, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='304'), Step(location=Location(line=5, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='305')], id='306'), '304': Step(location=Location(line=4, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='304'), '305': Step(location=Location(line=5, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='305'), '334': Scenario(location=Location(line=7, column=3), tags=[], keyword='Scenario', name='Ping <context>', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='307'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='308'), Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='following knative service is in ready state in \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='309'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='pong')], id='310')]), id='311'), Step(location=Location(line=15, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='312'), Step(location=Location(line=16, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='313'), Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='314'), Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='315'), Step(location=Location(line=21, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='316'), Step(location=Location(line=22, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='317'), Step(location=Location(line=23, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent \"ce-id\" to \"<cloudevent_id>\"', doc_string=None, data_table=None, id='318'), Step(location=Location(line=24, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='319'), Step(location=Location(line=25, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='320'), Step(location=Location(line=26, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"', doc_string=None, data_table=None, id='321'), Step(location=Location(line=27, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='322'), Step(location=Location(line=28, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to \"context-broker\" in \"context-<context>\" namespace', doc_string=DocString(location=Location(line=29, column=9), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n}', delimiter='\"\"\"'), data_table=None, id='323'), Step(location=Location(line=37, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the trace with \"<traceparent>\" should appear in TraceQL', doc_string=None, data_table=None, id='324'), Step(location=Location(line=38, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the trace should contains', doc_string=None, data_table=DataTable(location=Location(line=39, column=7), rows=[TableRow(location=Location(line=39, column=7), cells=[TableCell(location=Location(line=39, column=9), value='service name')], id='325'), TableRow(location=Location(line=40, column=7), cells=[TableCell(location=Location(line=40, column=9), value='broker-ingress.knative-eventing')], id='326'), TableRow(location=Location(line=41, column=7), cells=[TableCell(location=Location(line=41, column=9), value='unknown_service')], id='327'), TableRow(location=Location(line=42, column=7), cells=[TableCell(location=Location(line=42, column=9), value='jetstream-ch-dispatcher')], id='328')]), id='329'), Step(location=Location(line=43, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic', doc_string=None, data_table=None, id='330')], examples=[Examples(location=Location(line=45, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=46, column=6), cells=[TableCell(location=Location(line=46, column=8), value='context'), TableCell(location=Location(line=46, column=18), value='username'), TableCell(location=Location(line=46, column=31), value='host'), TableCell(location=Location(line=46, column=43), value='cloudevent_id'), TableCell(location=Location(line=46, column=82), value='traceparent')], id='331'), table_body=[TableRow(location=Location(line=47, column=6), cells=[TableCell(location=Location(line=47, column=8), value='green4'), TableCell(location=Location(line=47, column=19), value='amanda4'), TableCell(location=Location(line=47, column=31), value='pi6-host'), TableCell(location=Location(line=47, column=43), value='442af213-c860-4535-b639-355f13b2d443'), TableCell(location=Location(line=47, column=82), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='332')], id='333')], id='334'), '307': Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='307'), '308': Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='308'), '311': Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='following knative service is in ready state in \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='309'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='pong')], id='310')]), id='311'), '312': Step(location=Location(line=15, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='312'), '313': Step(location=Location(line=16, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='313'), '314': Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='314'), '315': Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='315'), '316': Step(location=Location(line=21, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='316'), '317': Step(location=Location(line=22, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='317'), '318': Step(location=Location(line=23, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent \"ce-id\" to \"<cloudevent_id>\"', doc_string=None, data_table=None, id='318'), '319': Step(location=Location(line=24, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='319'), '320': Step(location=Location(line=25, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='320'), '321': Step(location=Location(line=26, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"', doc_string=None, data_table=None, id='321'), '322': Step(location=Location(line=27, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='322'), '323': Step(location=Location(line=28, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to \"context-broker\" in \"context-<context>\" namespace', doc_string=DocString(location=Location(line=29, column=9), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n}', delimiter='\"\"\"'), data_table=None, id='323'), '324': Step(location=Location(line=37, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the trace with \"<traceparent>\" should appear in TraceQL', doc_string=None, data_table=None, id='324'), '329': Step(location=Location(line=38, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the trace should contains', doc_string=None, data_table=DataTable(location=Location(line=39, column=7), rows=[TableRow(location=Location(line=39, column=7), cells=[TableCell(location=Location(line=39, column=9), value='service name')], id='325'), TableRow(location=Location(line=40, column=7), cells=[TableCell(location=Location(line=40, column=9), value='broker-ingress.knative-eventing')], id='326'), TableRow(location=Location(line=41, column=7), cells=[TableCell(location=Location(line=41, column=9), value='unknown_service')], id='327'), TableRow(location=Location(line=42, column=7), cells=[TableCell(location=Location(line=42, column=9), value='jetstream-ch-dispatcher')], id='328')]), id='329'), '330': Step(location=Location(line=43, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic', doc_string=None, data_table=None, id='330'), '333': Examples(location=Location(line=45, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=46, column=6), cells=[TableCell(location=Location(line=46, column=8), value='context'), TableCell(location=Location(line=46, column=18), value='username'), TableCell(location=Location(line=46, column=31), value='host'), TableCell(location=Location(line=46, column=43), value='cloudevent_id'), TableCell(location=Location(line=46, column=82), value='traceparent')], id='331'), table_body=[TableRow(location=Location(line=47, column=6), cells=[TableCell(location=Location(line=47, column=8), value='green4'), TableCell(location=Location(line=47, column=19), value='amanda4'), TableCell(location=Location(line=47, column=31), value='pi6-host'), TableCell(location=Location(line=47, column=43), value='442af213-c860-4535-b639-355f13b2d443'), TableCell(location=Location(line=47, column=82), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='332')], id='333'), '331': TableRow(location=Location(line=46, column=6), cells=[TableCell(location=Location(line=46, column=8), value='context'), TableCell(location=Location(line=46, column=18), value='username'), TableCell(location=Location(line=46, column=31), value='host'), TableCell(location=Location(line=46, column=43), value='cloudevent_id'), TableCell(location=Location(line=46, column=82), value='traceparent')], id='331'), '332': TableRow(location=Location(line=47, column=6), cells=[TableCell(location=Location(line=47, column=8), value='green4'), TableCell(location=Location(line=47, column=19), value='amanda4'), TableCell(location=Location(line=47, column=31), value='pi6-host'), TableCell(location=Location(line=47, column=43), value='442af213-c860-4535-b639-355f13b2d443'), TableCell(location=Location(line=47, column=82), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='332'), '342': Scenario(location=Location(line=50, column=4), tags=[], keyword='Scenario', name='Cleanup <username>@<host> in <context>', description='', steps=[Step(location=Location(line=51, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='335'), Step(location=Location(line=52, column=6), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='336'), Step(location=Location(line=54, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='337'), Step(location=Location(line=56, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='338')], examples=[Examples(location=Location(line=58, column=6), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=59, column=6), cells=[TableCell(location=Location(line=59, column=8), value='context'), TableCell(location=Location(line=59, column=18), value='username'), TableCell(location=Location(line=59, column=29), value='host')], id='339'), table_body=[TableRow(location=Location(line=60, column=6), cells=[TableCell(location=Location(line=60, column=8), value='green4'), TableCell(location=Location(line=60, column=19), value='amanda4'), TableCell(location=Location(line=60, column=31), value='pi6-host')], id='340')], id='341')], id='342'), '335': Step(location=Location(line=51, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='335'), '336': Step(location=Location(line=52, column=6), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='336'), '337': Step(location=Location(line=54, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='337'), '338': Step(location=Location(line=56, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='338'), '341': Examples(location=Location(line=58, column=6), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=59, column=6), cells=[TableCell(location=Location(line=59, column=8), value='context'), TableCell(location=Location(line=59, column=18), value='username'), TableCell(location=Location(line=59, column=29), value='host')], id='339'), table_body=[TableRow(location=Location(line=60, column=6), cells=[TableCell(location=Location(line=60, column=8), value='green4'), TableCell(location=Location(line=60, column=19), value='amanda4'), TableCell(location=Location(line=60, column=31), value='pi6-host')], id='340')], id='341'), '339': TableRow(location=Location(line=59, column=6), cells=[TableCell(location=Location(line=59, column=8), value='context'), TableCell(location=Location(line=59, column=18), value='username'), TableCell(location=Location(line=59, column=29), value='host')], id='339'), '340': TableRow(location=Location(line=60, column=6), cells=[TableCell(location=Location(line=60, column=8), value='green4'), TableCell(location=Location(line=60, column=19), value='amanda4'), TableCell(location=Location(line=60, column=31), value='pi6-host')], id='340')}, pickles=[Pickle(id='364', uri='file:features/3_mindwm_ping_pong.feature', name='Ping green4', language='en', steps=[PickleStep(argument=None, ast_node_ids=['304'], id='344', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['305'], id='345', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['307', '332'], id='346', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"green4\"'), PickleStep(argument=None, ast_node_ids=['308', '332'], id='347', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='pong')])])), ast_node_ids=['311', '332'], id='348', type=<Type.outcome: 'Outcome'>, text='following knative service is in ready state in \"context-green4\" namespace'), PickleStep(argument=None, ast_node_ids=['312', '332'], id='349', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"amanda4\" and connects it to the context \"green4\"'), PickleStep(argument=None, ast_node_ids=['313', '332'], id='350', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['314', '332'], id='351', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"pi6-host\" and connects it to the user \"amanda4\"'), PickleStep(argument=None, ast_node_ids=['315', '332'], id='352', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['316', '332'], id='353', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \"user-amanda4.pi6-host-host-broker-kne-trigger._knative\"'), PickleStep(argument=None, ast_node_ids=['317', '332'], id='354', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['318', '332'], id='355', type=<Type.action: 'Action'>, text='sets cloudevent \"ce-id\" to \"442af213-c860-4535-b639-355f13b2d443\"'), PickleStep(argument=None, ast_node_ids=['319', '332'], id='356', type=<Type.action: 'Action'>, text='sets cloudevent \"traceparent\" to \"00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00\"'), PickleStep(argument=None, ast_node_ids=['320', '332'], id='357', type=<Type.action: 'Action'>, text='sets cloudevent \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['321', '332'], id='358', type=<Type.action: 'Action'>, text='sets cloudevent \"ce-source\" to \"org.mindwm.amanda4.pi6-host.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"'), PickleStep(argument=None, ast_node_ids=['322', '332'], id='359', type=<Type.action: 'Action'>, text='sets cloudevent \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n}'), data_table=None), ast_node_ids=['323', '332'], id='360', type=<Type.action: 'Action'>, text='sends cloudevent to \"context-broker\" in \"context-green4\" namespace'), PickleStep(argument=None, ast_node_ids=['324', '332'], id='361', type=<Type.outcome: 'Outcome'>, text='the trace with \"00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00\" should appear in TraceQL'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='service name')]), PickleTableRow(cells=[PickleTableCell(value='broker-ingress.knative-eventing')]), PickleTableRow(cells=[PickleTableCell(value='unknown_service')]), PickleTableRow(cells=[PickleTableCell(value='jetstream-ch-dispatcher')])])), ast_node_ids=['329', '332'], id='362', type=<Type.outcome: 'Outcome'>, text='the trace should contains'), PickleStep(argument=None, ast_node_ids=['330', '332'], id='363', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic')], tags=[PickleTag(name='@ping_pong', ast_node_id='343')], ast_node_ids=['334', '332']), Pickle(id='371', uri='file:features/3_mindwm_ping_pong.feature', name='Cleanup amanda4@pi6-host in green4', language='en', steps=[PickleStep(argument=None, ast_node_ids=['304'], id='365', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['305'], id='366', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['335', '340'], id='367', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"pi6-host\"'), PickleStep(argument=None, ast_node_ids=['336', '340'], id='368', type=<Type.outcome: 'Outcome'>, text='the host \"pi6-host\" should be deleted'), PickleStep(argument=None, ast_node_ids=['337', '340'], id='369', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"amanda4\"'), PickleStep(argument=None, ast_node_ids=['338', '340'], id='370', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"green4\"')], tags=[PickleTag(name='@ping_pong', ast_node_id='343')], ast_node_ids=['342', '340'])])"},{"name":"feature_source","value":"Source(uri='file:features/3_mindwm_ping_pong.feature', data='@ping_pong\\nFeature: MindWM Ping-pong EDA test\\n  Background:\\n    Given A MindWM environment\\n    Then all nodes in Kubernetes are ready\\n\\n  Scenario: Ping <context>\\n\\n    When God creates a MindWM context with the name \"<context>\"\\n    Then the context should be ready and operable\\n    Then following knative service is in ready state in \"context-<context>\" namespace\\n      | Knative service name |\\n      | pong                 |\\n\\n    When God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"\\n    Then the user resource should be ready and operable\\n\\n    When God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"\\n    Then the host resource should be ready and operable\\n\\n    When God starts reading message from NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"\\n    When God creates a new cloudevent \\n      And sets cloudevent \"ce-id\" to \"<cloudevent_id>\"\\n      And sets cloudevent \"traceparent\" to \"<traceparent>\"\\n      And sets cloudevent \"ce-subject\" to \"#ping\"\\n      And sets cloudevent \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"\\n      And sets cloudevent \"ce-type\" to \"org.mindwm.v1.iodocument\"\\n      And sends cloudevent to \"context-broker\" in \"context-<context>\" namespace\\n        \"\"\"\\n        {\\n          \"input\": \"#ping\",\\n          \"output\": \"\",\\n          \"ps1\": \"❯\",\\n          \"type\": \"org.mindwm.v1.iodocument\"\\n        }\\n\\t\"\"\"\\n    Then the trace with \"<traceparent>\" should appear in TraceQL\\n    And the trace should contains \\n      | service name                    | \\n      | broker-ingress.knative-eventing | \\n      | unknown_service                 | \\n      | jetstream-ch-dispatcher         |\\n    And a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic\\n\\n    Examples:\\n     | context | username   | host      | cloudevent_id                        | traceparent \\t\\t\\t\\t\\t         |\\n     | green4   | amanda4   | pi6-host  | 442af213-c860-4535-b639-355f13b2d443 | 00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00 |\\n\\n\\n   Scenario: Cleanup <username>@<host> in <context>\\n     When God deletes the MindWM host resource \"<host>\"\\n     Then the host \"<host>\" should be deleted\\n\\n     When God deletes the MindWM user resource \"<username>\"\\n\\n     When God deletes the MindWM context resource \"<context>\"\\n\\n     Examples:\\n     | context | username | host        | \\n     | green4   | amanda4   | pi6-host         |\\n\\n', media_type='text/x.cucumber.gherkin+plain')"},{"name":"scenario","value":"Pickle(id='364', uri='file:features/3_mindwm_ping_pong.feature', name='Ping green4', language='en', steps=[PickleStep(argument=None, ast_node_ids=['304'], id='344', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['305'], id='345', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['307', '332'], id='346', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"green4\"'), PickleStep(argument=None, ast_node_ids=['308', '332'], id='347', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='pong')])])), ast_node_ids=['311', '332'], id='348', type=<Type.outcome: 'Outcome'>, text='following knative service is in ready state in \"context-green4\" namespace'), PickleStep(argument=None, ast_node_ids=['312', '332'], id='349', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"amanda4\" and connects it to the context \"green4\"'), PickleStep(argument=None, ast_node_ids=['313', '332'], id='350', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['314', '332'], id='351', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"pi6-host\" and connects it to the user \"amanda4\"'), PickleStep(argument=None, ast_node_ids=['315', '332'], id='352', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['316', '332'], id='353', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \"user-amanda4.pi6-host-host-broker-kne-trigger._knative\"'), PickleStep(argument=None, ast_node_ids=['317', '332'], id='354', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['318', '332'], id='355', type=<Type.action: 'Action'>, text='sets cloudevent \"ce-id\" to \"442af213-c860-4535-b639-355f13b2d443\"'), PickleStep(argument=None, ast_node_ids=['319', '332'], id='356', type=<Type.action: 'Action'>, text='sets cloudevent \"traceparent\" to \"00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00\"'), PickleStep(argument=None, ast_node_ids=['320', '332'], id='357', type=<Type.action: 'Action'>, text='sets cloudevent \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['321', '332'], id='358', type=<Type.action: 'Action'>, text='sets cloudevent \"ce-source\" to \"org.mindwm.amanda4.pi6-host.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"'), PickleStep(argument=None, ast_node_ids=['322', '332'], id='359', type=<Type.action: 'Action'>, text='sets cloudevent \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n}'), data_table=None), ast_node_ids=['323', '332'], id='360', type=<Type.action: 'Action'>, text='sends cloudevent to \"context-broker\" in \"context-green4\" namespace'), PickleStep(argument=None, ast_node_ids=['324', '332'], id='361', type=<Type.outcome: 'Outcome'>, text='the trace with \"00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00\" should appear in TraceQL'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='service name')]), PickleTableRow(cells=[PickleTableCell(value='broker-ingress.knative-eventing')]), PickleTableRow(cells=[PickleTableCell(value='unknown_service')]), PickleTableRow(cells=[PickleTableCell(value='jetstream-ch-dispatcher')])])), ast_node_ids=['329', '332'], id='362', type=<Type.outcome: 'Outcome'>, text='the trace should contains'), PickleStep(argument=None, ast_node_ids=['330', '332'], id='363', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic')], tags=[PickleTag(name='@ping_pong', ast_node_id='343')], ast_node_ids=['334', '332'])"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":1,"broken":0,"skipped":0,"passed":1,"unknown":0,"total":2},"items":[{"uid":"ea0a657e3288b51d","reportUrl":"https://mindwm.github.io/mindwm-gitops/153//#testresult/ea0a657e3288b51d","status":"passed","time":{"start":1726919597912,"stop":1726919632436,"duration":34524}}]},"tags":["pytest_bdd_scenario","scenarios(PosixPath('/home/ci/mindwm-gitops/tests/mindwm_bdd/features/3_mindwm_ping_pong.feature'), filter_=None, encoding='utf-8', features_base_dir=None, features_base_url=None, features_path_type=None, features_mimetype=None, parser_type=None, parse_args=Args(args=(), kwargs={}), locators=())","@pytest.mark.usefixtures('feature', 'scenario', 'feature_source')","ping_pong","namespace(create=False, name='default')"]},"source":"b3a680aaedd900be.json","parameterValues":["Feature(gherkin_document=GherkinDocument(uri='file:features/3_mindwm_ping_pong.feature', feature=Feature(location=Location(line=2, column=1), tags=[Tag(location=Location(line=1, column=1), name='@ping_pong', id='343')], language='en', keyword='Feature', name='MindWM Ping-pong EDA test', description='', children=[FeatureChild(rule=None, background=Background(location=Location(line=3, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=4, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='304'), Step(location=Location(line=5, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='305')], id='306'), scenario=None), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=7, column=3), tags=[], keyword='Scenario', name='Ping <context>', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='307'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='308'), Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='following knative service is in ready state in \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='309'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='pong')], id='310')]), id='311'), Step(location=Location(line=15, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='312'), Step(location=Location(line=16, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='313'), Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='314'), Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='315'), Step(location=Location(line=21, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='316'), Step(location=Location(line=22, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='317'), Step(location=Location(line=23, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent \"ce-id\" to \"<cloudevent_id>\"', doc_string=None, data_table=None, id='318'), Step(location=Location(line=24, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='319'), Step(location=Location(line=25, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='320'), Step(location=Location(line=26, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"', doc_string=None, data_table=None, id='321'), Step(location=Location(line=27, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='322'), Step(location=Location(line=28, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to \"context-broker\" in \"context-<context>\" namespace', doc_string=DocString(location=Location(line=29, column=9), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n}', delimiter='\"\"\"'), data_table=None, id='323'), Step(location=Location(line=37, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the trace with \"<traceparent>\" should appear in TraceQL', doc_string=None, data_table=None, id='324'), Step(location=Location(line=38, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the trace should contains', doc_string=None, data_table=DataTable(location=Location(line=39, column=7), rows=[TableRow(location=Location(line=39, column=7), cells=[TableCell(location=Location(line=39, column=9), value='service name')], id='325'), TableRow(location=Location(line=40, column=7), cells=[TableCell(location=Location(line=40, column=9), value='broker-ingress.knative-eventing')], id='326'), TableRow(location=Location(line=41, column=7), cells=[TableCell(location=Location(line=41, column=9), value='unknown_service')], id='327'), TableRow(location=Location(line=42, column=7), cells=[TableCell(location=Location(line=42, column=9), value='jetstream-ch-dispatcher')], id='328')]), id='329'), Step(location=Location(line=43, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic', doc_string=None, data_table=None, id='330')], examples=[Examples(location=Location(line=45, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=46, column=6), cells=[TableCell(location=Location(line=46, column=8), value='context'), TableCell(location=Location(line=46, column=18), value='username'), TableCell(location=Location(line=46, column=31), value='host'), TableCell(location=Location(line=46, column=43), value='cloudevent_id'), TableCell(location=Location(line=46, column=82), value='traceparent')], id='331'), table_body=[TableRow(location=Location(line=47, column=6), cells=[TableCell(location=Location(line=47, column=8), value='green4'), TableCell(location=Location(line=47, column=19), value='amanda4'), TableCell(location=Location(line=47, column=31), value='pi6-host'), TableCell(location=Location(line=47, column=43), value='442af213-c860-4535-b639-355f13b2d443'), TableCell(location=Location(line=47, column=82), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='332')], id='333')], id='334')), FeatureChild(rule=None, background=None, scenario=Scenario(location=Location(line=50, column=4), tags=[], keyword='Scenario', name='Cleanup <username>@<host> in <context>', description='', steps=[Step(location=Location(line=51, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='335'), Step(location=Location(line=52, column=6), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='336'), Step(location=Location(line=54, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='337'), Step(location=Location(line=56, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='338')], examples=[Examples(location=Location(line=58, column=6), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=59, column=6), cells=[TableCell(location=Location(line=59, column=8), value='context'), TableCell(location=Location(line=59, column=18), value='username'), TableCell(location=Location(line=59, column=29), value='host')], id='339'), table_body=[TableRow(location=Location(line=60, column=6), cells=[TableCell(location=Location(line=60, column=8), value='green4'), TableCell(location=Location(line=60, column=19), value='amanda4'), TableCell(location=Location(line=60, column=31), value='pi6-host')], id='340')], id='341')], id='342'))]), comments=[]), uri='file:features/3_mindwm_ping_pong.feature', filename='/home/ci/mindwm-gitops/tests/mindwm_bdd/features/3_mindwm_ping_pong.feature', registry={'343': Tag(location=Location(line=1, column=1), name='@ping_pong', id='343'), '306': Background(location=Location(line=3, column=3), keyword='Background', name='', description='', steps=[Step(location=Location(line=4, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='304'), Step(location=Location(line=5, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='305')], id='306'), '304': Step(location=Location(line=4, column=5), keyword='Given ', keyword_type=<KeywordType.context: 'Context'>, text='A MindWM environment', doc_string=None, data_table=None, id='304'), '305': Step(location=Location(line=5, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready', doc_string=None, data_table=None, id='305'), '334': Scenario(location=Location(line=7, column=3), tags=[], keyword='Scenario', name='Ping <context>', description='', steps=[Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='307'), Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='308'), Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='following knative service is in ready state in \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='309'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='pong')], id='310')]), id='311'), Step(location=Location(line=15, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='312'), Step(location=Location(line=16, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='313'), Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='314'), Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='315'), Step(location=Location(line=21, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='316'), Step(location=Location(line=22, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='317'), Step(location=Location(line=23, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent \"ce-id\" to \"<cloudevent_id>\"', doc_string=None, data_table=None, id='318'), Step(location=Location(line=24, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='319'), Step(location=Location(line=25, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='320'), Step(location=Location(line=26, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"', doc_string=None, data_table=None, id='321'), Step(location=Location(line=27, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='322'), Step(location=Location(line=28, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to \"context-broker\" in \"context-<context>\" namespace', doc_string=DocString(location=Location(line=29, column=9), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n}', delimiter='\"\"\"'), data_table=None, id='323'), Step(location=Location(line=37, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the trace with \"<traceparent>\" should appear in TraceQL', doc_string=None, data_table=None, id='324'), Step(location=Location(line=38, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the trace should contains', doc_string=None, data_table=DataTable(location=Location(line=39, column=7), rows=[TableRow(location=Location(line=39, column=7), cells=[TableCell(location=Location(line=39, column=9), value='service name')], id='325'), TableRow(location=Location(line=40, column=7), cells=[TableCell(location=Location(line=40, column=9), value='broker-ingress.knative-eventing')], id='326'), TableRow(location=Location(line=41, column=7), cells=[TableCell(location=Location(line=41, column=9), value='unknown_service')], id='327'), TableRow(location=Location(line=42, column=7), cells=[TableCell(location=Location(line=42, column=9), value='jetstream-ch-dispatcher')], id='328')]), id='329'), Step(location=Location(line=43, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic', doc_string=None, data_table=None, id='330')], examples=[Examples(location=Location(line=45, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=46, column=6), cells=[TableCell(location=Location(line=46, column=8), value='context'), TableCell(location=Location(line=46, column=18), value='username'), TableCell(location=Location(line=46, column=31), value='host'), TableCell(location=Location(line=46, column=43), value='cloudevent_id'), TableCell(location=Location(line=46, column=82), value='traceparent')], id='331'), table_body=[TableRow(location=Location(line=47, column=6), cells=[TableCell(location=Location(line=47, column=8), value='green4'), TableCell(location=Location(line=47, column=19), value='amanda4'), TableCell(location=Location(line=47, column=31), value='pi6-host'), TableCell(location=Location(line=47, column=43), value='442af213-c860-4535-b639-355f13b2d443'), TableCell(location=Location(line=47, column=82), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='332')], id='333')], id='334'), '307': Step(location=Location(line=9, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM context with the name \"<context>\"', doc_string=None, data_table=None, id='307'), '308': Step(location=Location(line=10, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the context should be ready and operable', doc_string=None, data_table=None, id='308'), '311': Step(location=Location(line=11, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='following knative service is in ready state in \"context-<context>\" namespace', doc_string=None, data_table=DataTable(location=Location(line=12, column=7), rows=[TableRow(location=Location(line=12, column=7), cells=[TableCell(location=Location(line=12, column=9), value='Knative service name')], id='309'), TableRow(location=Location(line=13, column=7), cells=[TableCell(location=Location(line=13, column=9), value='pong')], id='310')]), id='311'), '312': Step(location=Location(line=15, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"', doc_string=None, data_table=None, id='312'), '313': Step(location=Location(line=16, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the user resource should be ready and operable', doc_string=None, data_table=None, id='313'), '314': Step(location=Location(line=18, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"', doc_string=None, data_table=None, id='314'), '315': Step(location=Location(line=19, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host resource should be ready and operable', doc_string=None, data_table=None, id='315'), '316': Step(location=Location(line=21, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God starts reading message from NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"', doc_string=None, data_table=None, id='316'), '317': Step(location=Location(line=22, column=5), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God creates a new cloudevent', doc_string=None, data_table=None, id='317'), '318': Step(location=Location(line=23, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent \"ce-id\" to \"<cloudevent_id>\"', doc_string=None, data_table=None, id='318'), '319': Step(location=Location(line=24, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent \"traceparent\" to \"<traceparent>\"', doc_string=None, data_table=None, id='319'), '320': Step(location=Location(line=25, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent \"ce-subject\" to \"#ping\"', doc_string=None, data_table=None, id='320'), '321': Step(location=Location(line=26, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"', doc_string=None, data_table=None, id='321'), '322': Step(location=Location(line=27, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sets cloudevent \"ce-type\" to \"org.mindwm.v1.iodocument\"', doc_string=None, data_table=None, id='322'), '323': Step(location=Location(line=28, column=7), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='sends cloudevent to \"context-broker\" in \"context-<context>\" namespace', doc_string=DocString(location=Location(line=29, column=9), media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n}', delimiter='\"\"\"'), data_table=None, id='323'), '324': Step(location=Location(line=37, column=5), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the trace with \"<traceparent>\" should appear in TraceQL', doc_string=None, data_table=None, id='324'), '329': Step(location=Location(line=38, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='the trace should contains', doc_string=None, data_table=DataTable(location=Location(line=39, column=7), rows=[TableRow(location=Location(line=39, column=7), cells=[TableCell(location=Location(line=39, column=9), value='service name')], id='325'), TableRow(location=Location(line=40, column=7), cells=[TableCell(location=Location(line=40, column=9), value='broker-ingress.knative-eventing')], id='326'), TableRow(location=Location(line=41, column=7), cells=[TableCell(location=Location(line=41, column=9), value='unknown_service')], id='327'), TableRow(location=Location(line=42, column=7), cells=[TableCell(location=Location(line=42, column=9), value='jetstream-ch-dispatcher')], id='328')]), id='329'), '330': Step(location=Location(line=43, column=5), keyword='And ', keyword_type=<KeywordType.conjunction: 'Conjunction'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic', doc_string=None, data_table=None, id='330'), '333': Examples(location=Location(line=45, column=5), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=46, column=6), cells=[TableCell(location=Location(line=46, column=8), value='context'), TableCell(location=Location(line=46, column=18), value='username'), TableCell(location=Location(line=46, column=31), value='host'), TableCell(location=Location(line=46, column=43), value='cloudevent_id'), TableCell(location=Location(line=46, column=82), value='traceparent')], id='331'), table_body=[TableRow(location=Location(line=47, column=6), cells=[TableCell(location=Location(line=47, column=8), value='green4'), TableCell(location=Location(line=47, column=19), value='amanda4'), TableCell(location=Location(line=47, column=31), value='pi6-host'), TableCell(location=Location(line=47, column=43), value='442af213-c860-4535-b639-355f13b2d443'), TableCell(location=Location(line=47, column=82), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='332')], id='333'), '331': TableRow(location=Location(line=46, column=6), cells=[TableCell(location=Location(line=46, column=8), value='context'), TableCell(location=Location(line=46, column=18), value='username'), TableCell(location=Location(line=46, column=31), value='host'), TableCell(location=Location(line=46, column=43), value='cloudevent_id'), TableCell(location=Location(line=46, column=82), value='traceparent')], id='331'), '332': TableRow(location=Location(line=47, column=6), cells=[TableCell(location=Location(line=47, column=8), value='green4'), TableCell(location=Location(line=47, column=19), value='amanda4'), TableCell(location=Location(line=47, column=31), value='pi6-host'), TableCell(location=Location(line=47, column=43), value='442af213-c860-4535-b639-355f13b2d443'), TableCell(location=Location(line=47, column=82), value='00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00')], id='332'), '342': Scenario(location=Location(line=50, column=4), tags=[], keyword='Scenario', name='Cleanup <username>@<host> in <context>', description='', steps=[Step(location=Location(line=51, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='335'), Step(location=Location(line=52, column=6), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='336'), Step(location=Location(line=54, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='337'), Step(location=Location(line=56, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='338')], examples=[Examples(location=Location(line=58, column=6), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=59, column=6), cells=[TableCell(location=Location(line=59, column=8), value='context'), TableCell(location=Location(line=59, column=18), value='username'), TableCell(location=Location(line=59, column=29), value='host')], id='339'), table_body=[TableRow(location=Location(line=60, column=6), cells=[TableCell(location=Location(line=60, column=8), value='green4'), TableCell(location=Location(line=60, column=19), value='amanda4'), TableCell(location=Location(line=60, column=31), value='pi6-host')], id='340')], id='341')], id='342'), '335': Step(location=Location(line=51, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM host resource \"<host>\"', doc_string=None, data_table=None, id='335'), '336': Step(location=Location(line=52, column=6), keyword='Then ', keyword_type=<KeywordType.outcome: 'Outcome'>, text='the host \"<host>\" should be deleted', doc_string=None, data_table=None, id='336'), '337': Step(location=Location(line=54, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM user resource \"<username>\"', doc_string=None, data_table=None, id='337'), '338': Step(location=Location(line=56, column=6), keyword='When ', keyword_type=<KeywordType.action: 'Action'>, text='God deletes the MindWM context resource \"<context>\"', doc_string=None, data_table=None, id='338'), '341': Examples(location=Location(line=58, column=6), tags=[], keyword='Examples', name='', description='', table_header=TableRow(location=Location(line=59, column=6), cells=[TableCell(location=Location(line=59, column=8), value='context'), TableCell(location=Location(line=59, column=18), value='username'), TableCell(location=Location(line=59, column=29), value='host')], id='339'), table_body=[TableRow(location=Location(line=60, column=6), cells=[TableCell(location=Location(line=60, column=8), value='green4'), TableCell(location=Location(line=60, column=19), value='amanda4'), TableCell(location=Location(line=60, column=31), value='pi6-host')], id='340')], id='341'), '339': TableRow(location=Location(line=59, column=6), cells=[TableCell(location=Location(line=59, column=8), value='context'), TableCell(location=Location(line=59, column=18), value='username'), TableCell(location=Location(line=59, column=29), value='host')], id='339'), '340': TableRow(location=Location(line=60, column=6), cells=[TableCell(location=Location(line=60, column=8), value='green4'), TableCell(location=Location(line=60, column=19), value='amanda4'), TableCell(location=Location(line=60, column=31), value='pi6-host')], id='340')}, pickles=[Pickle(id='364', uri='file:features/3_mindwm_ping_pong.feature', name='Ping green4', language='en', steps=[PickleStep(argument=None, ast_node_ids=['304'], id='344', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['305'], id='345', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['307', '332'], id='346', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"green4\"'), PickleStep(argument=None, ast_node_ids=['308', '332'], id='347', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='pong')])])), ast_node_ids=['311', '332'], id='348', type=<Type.outcome: 'Outcome'>, text='following knative service is in ready state in \"context-green4\" namespace'), PickleStep(argument=None, ast_node_ids=['312', '332'], id='349', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"amanda4\" and connects it to the context \"green4\"'), PickleStep(argument=None, ast_node_ids=['313', '332'], id='350', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['314', '332'], id='351', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"pi6-host\" and connects it to the user \"amanda4\"'), PickleStep(argument=None, ast_node_ids=['315', '332'], id='352', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['316', '332'], id='353', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \"user-amanda4.pi6-host-host-broker-kne-trigger._knative\"'), PickleStep(argument=None, ast_node_ids=['317', '332'], id='354', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['318', '332'], id='355', type=<Type.action: 'Action'>, text='sets cloudevent \"ce-id\" to \"442af213-c860-4535-b639-355f13b2d443\"'), PickleStep(argument=None, ast_node_ids=['319', '332'], id='356', type=<Type.action: 'Action'>, text='sets cloudevent \"traceparent\" to \"00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00\"'), PickleStep(argument=None, ast_node_ids=['320', '332'], id='357', type=<Type.action: 'Action'>, text='sets cloudevent \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['321', '332'], id='358', type=<Type.action: 'Action'>, text='sets cloudevent \"ce-source\" to \"org.mindwm.amanda4.pi6-host.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"'), PickleStep(argument=None, ast_node_ids=['322', '332'], id='359', type=<Type.action: 'Action'>, text='sets cloudevent \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n}'), data_table=None), ast_node_ids=['323', '332'], id='360', type=<Type.action: 'Action'>, text='sends cloudevent to \"context-broker\" in \"context-green4\" namespace'), PickleStep(argument=None, ast_node_ids=['324', '332'], id='361', type=<Type.outcome: 'Outcome'>, text='the trace with \"00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00\" should appear in TraceQL'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='service name')]), PickleTableRow(cells=[PickleTableCell(value='broker-ingress.knative-eventing')]), PickleTableRow(cells=[PickleTableCell(value='unknown_service')]), PickleTableRow(cells=[PickleTableCell(value='jetstream-ch-dispatcher')])])), ast_node_ids=['329', '332'], id='362', type=<Type.outcome: 'Outcome'>, text='the trace should contains'), PickleStep(argument=None, ast_node_ids=['330', '332'], id='363', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic')], tags=[PickleTag(name='@ping_pong', ast_node_id='343')], ast_node_ids=['334', '332']), Pickle(id='371', uri='file:features/3_mindwm_ping_pong.feature', name='Cleanup amanda4@pi6-host in green4', language='en', steps=[PickleStep(argument=None, ast_node_ids=['304'], id='365', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['305'], id='366', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['335', '340'], id='367', type=<Type.action: 'Action'>, text='God deletes the MindWM host resource \"pi6-host\"'), PickleStep(argument=None, ast_node_ids=['336', '340'], id='368', type=<Type.outcome: 'Outcome'>, text='the host \"pi6-host\" should be deleted'), PickleStep(argument=None, ast_node_ids=['337', '340'], id='369', type=<Type.action: 'Action'>, text='God deletes the MindWM user resource \"amanda4\"'), PickleStep(argument=None, ast_node_ids=['338', '340'], id='370', type=<Type.action: 'Action'>, text='God deletes the MindWM context resource \"green4\"')], tags=[PickleTag(name='@ping_pong', ast_node_id='343')], ast_node_ids=['342', '340'])])","Source(uri='file:features/3_mindwm_ping_pong.feature', data='@ping_pong\\nFeature: MindWM Ping-pong EDA test\\n  Background:\\n    Given A MindWM environment\\n    Then all nodes in Kubernetes are ready\\n\\n  Scenario: Ping <context>\\n\\n    When God creates a MindWM context with the name \"<context>\"\\n    Then the context should be ready and operable\\n    Then following knative service is in ready state in \"context-<context>\" namespace\\n      | Knative service name |\\n      | pong                 |\\n\\n    When God creates a MindWM user resource with the name \"<username>\" and connects it to the context \"<context>\"\\n    Then the user resource should be ready and operable\\n\\n    When God creates a MindWM host resource with the name \"<host>\" and connects it to the user \"<username>\"\\n    Then the host resource should be ready and operable\\n\\n    When God starts reading message from NATS topic \"user-<username>.<host>-host-broker-kne-trigger._knative\"\\n    When God creates a new cloudevent \\n      And sets cloudevent \"ce-id\" to \"<cloudevent_id>\"\\n      And sets cloudevent \"traceparent\" to \"<traceparent>\"\\n      And sets cloudevent \"ce-subject\" to \"#ping\"\\n      And sets cloudevent \"ce-source\" to \"org.mindwm.<username>.<host>.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"\\n      And sets cloudevent \"ce-type\" to \"org.mindwm.v1.iodocument\"\\n      And sends cloudevent to \"context-broker\" in \"context-<context>\" namespace\\n        \"\"\"\\n        {\\n          \"input\": \"#ping\",\\n          \"output\": \"\",\\n          \"ps1\": \"❯\",\\n          \"type\": \"org.mindwm.v1.iodocument\"\\n        }\\n\\t\"\"\"\\n    Then the trace with \"<traceparent>\" should appear in TraceQL\\n    And the trace should contains \\n      | service name                    | \\n      | broker-ingress.knative-eventing | \\n      | unknown_service                 | \\n      | jetstream-ch-dispatcher         |\\n    And a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic\\n\\n    Examples:\\n     | context | username   | host      | cloudevent_id                        | traceparent \\t\\t\\t\\t\\t         |\\n     | green4   | amanda4   | pi6-host  | 442af213-c860-4535-b639-355f13b2d443 | 00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00 |\\n\\n\\n   Scenario: Cleanup <username>@<host> in <context>\\n     When God deletes the MindWM host resource \"<host>\"\\n     Then the host \"<host>\" should be deleted\\n\\n     When God deletes the MindWM user resource \"<username>\"\\n\\n     When God deletes the MindWM context resource \"<context>\"\\n\\n     Examples:\\n     | context | username | host        | \\n     | green4   | amanda4   | pi6-host         |\\n\\n', media_type='text/x.cucumber.gherkin+plain')","Pickle(id='364', uri='file:features/3_mindwm_ping_pong.feature', name='Ping green4', language='en', steps=[PickleStep(argument=None, ast_node_ids=['304'], id='344', type=<Type.context: 'Context'>, text='A MindWM environment'), PickleStep(argument=None, ast_node_ids=['305'], id='345', type=<Type.outcome: 'Outcome'>, text='all nodes in Kubernetes are ready'), PickleStep(argument=None, ast_node_ids=['307', '332'], id='346', type=<Type.action: 'Action'>, text='God creates a MindWM context with the name \"green4\"'), PickleStep(argument=None, ast_node_ids=['308', '332'], id='347', type=<Type.outcome: 'Outcome'>, text='the context should be ready and operable'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='Knative service name')]), PickleTableRow(cells=[PickleTableCell(value='pong')])])), ast_node_ids=['311', '332'], id='348', type=<Type.outcome: 'Outcome'>, text='following knative service is in ready state in \"context-green4\" namespace'), PickleStep(argument=None, ast_node_ids=['312', '332'], id='349', type=<Type.action: 'Action'>, text='God creates a MindWM user resource with the name \"amanda4\" and connects it to the context \"green4\"'), PickleStep(argument=None, ast_node_ids=['313', '332'], id='350', type=<Type.outcome: 'Outcome'>, text='the user resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['314', '332'], id='351', type=<Type.action: 'Action'>, text='God creates a MindWM host resource with the name \"pi6-host\" and connects it to the user \"amanda4\"'), PickleStep(argument=None, ast_node_ids=['315', '332'], id='352', type=<Type.outcome: 'Outcome'>, text='the host resource should be ready and operable'), PickleStep(argument=None, ast_node_ids=['316', '332'], id='353', type=<Type.action: 'Action'>, text='God starts reading message from NATS topic \"user-amanda4.pi6-host-host-broker-kne-trigger._knative\"'), PickleStep(argument=None, ast_node_ids=['317', '332'], id='354', type=<Type.action: 'Action'>, text='God creates a new cloudevent'), PickleStep(argument=None, ast_node_ids=['318', '332'], id='355', type=<Type.action: 'Action'>, text='sets cloudevent \"ce-id\" to \"442af213-c860-4535-b639-355f13b2d443\"'), PickleStep(argument=None, ast_node_ids=['319', '332'], id='356', type=<Type.action: 'Action'>, text='sets cloudevent \"traceparent\" to \"00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00\"'), PickleStep(argument=None, ast_node_ids=['320', '332'], id='357', type=<Type.action: 'Action'>, text='sets cloudevent \"ce-subject\" to \"#ping\"'), PickleStep(argument=None, ast_node_ids=['321', '332'], id='358', type=<Type.action: 'Action'>, text='sets cloudevent \"ce-source\" to \"org.mindwm.amanda4.pi6-host.L3RtcC90bXV4LTEwMDAvZGVmYXVsdA==.09fb195c-c419-6d62-15e0-51b6ee990922.23.36.iodocument\"'), PickleStep(argument=None, ast_node_ids=['322', '332'], id='359', type=<Type.action: 'Action'>, text='sets cloudevent \"ce-type\" to \"org.mindwm.v1.iodocument\"'), PickleStep(argument=PickleStepArgument(doc_string=PickleDocString(media_type=None, content='{\\n  \"input\": \"#ping\",\\n  \"output\": \"\",\\n  \"ps1\": \"❯\",\\n  \"type\": \"org.mindwm.v1.iodocument\"\\n}'), data_table=None), ast_node_ids=['323', '332'], id='360', type=<Type.action: 'Action'>, text='sends cloudevent to \"context-broker\" in \"context-green4\" namespace'), PickleStep(argument=None, ast_node_ids=['324', '332'], id='361', type=<Type.outcome: 'Outcome'>, text='the trace with \"00-5df92f3577b34da6a3ce929d0e0e4734-00f067aa0ba902b7-00\" should appear in TraceQL'), PickleStep(argument=PickleStepArgument(doc_string=None, data_table=PickleTable(rows=[PickleTableRow(cells=[PickleTableCell(value='service name')]), PickleTableRow(cells=[PickleTableCell(value='broker-ingress.knative-eventing')]), PickleTableRow(cells=[PickleTableCell(value='unknown_service')]), PickleTableRow(cells=[PickleTableCell(value='jetstream-ch-dispatcher')])])), ast_node_ids=['329', '332'], id='362', type=<Type.outcome: 'Outcome'>, text='the trace should contains'), PickleStep(argument=None, ast_node_ids=['330', '332'], id='363', type=<Type.outcome: 'Outcome'>, text='a cloudevent with type == \"org.mindwm.v1.pong\" should have been received from the NATS topic')], tags=[PickleTag(name='@ping_pong', ast_node_id='343')], ast_node_ids=['334', '332'])"]}